(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Mu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function bb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var r=n.default;if(typeof r=="function"){var l=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};l.prototype=r.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var c=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(l,o,c.get?c:{enumerable:!0,get:function(){return n[o]}})}),l}var Wd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function vb(){if(zm)return Al;zm=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(o,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:d}}return Al.Fragment=r,Al.jsx=l,Al.jsxs=l,Al}var $m;function wb(){return $m||($m=1,Wd.exports=vb()),Wd.exports}var s=wb(),Kd={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function jb(){if(Hm)return Xe;Hm=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function _(E,q,se){this.props=E,this.context=q,this.refs=A,this.updater=se||C}_.prototype.isReactComponent={},_.prototype.setState=function(E,q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,q,"setState")},_.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=_.prototype;function D(E,q,se){this.props=E,this.context=q,this.refs=A,this.updater=se||C}var L=D.prototype=new T;L.constructor=D,N(L,_.prototype),L.isPureReactComponent=!0;var W=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function I(E,q,se,k,ee,he){return se=he.ref,{$$typeof:n,type:E,key:q,ref:se!==void 0?se:null,props:he}}function de(E,q){return I(E.type,q,void 0,void 0,void 0,E.props)}function ne(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function ve(E){var q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(se){return q[se]})}var Ee=/\/+/g;function ye(E,q){return typeof E=="object"&&E!==null&&E.key!=null?ve(""+E.key):q.toString(36)}function G(){}function P(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(G,G):(E.status="pending",E.then(function(q){E.status==="pending"&&(E.status="fulfilled",E.value=q)},function(q){E.status==="pending"&&(E.status="rejected",E.reason=q)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function oe(E,q,se,k,ee){var he=typeof E;(he==="undefined"||he==="boolean")&&(E=null);var ie=!1;if(E===null)ie=!0;else switch(he){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(E.$$typeof){case n:case r:ie=!0;break;case x:return ie=E._init,oe(ie(E._payload),q,se,k,ee)}}if(ie)return ee=ee(E),ie=k===""?"."+ye(E,0):k,W(ee)?(se="",ie!=null&&(se=ie.replace(Ee,"$&/")+"/"),oe(ee,q,se,"",function(He){return He})):ee!=null&&(ne(ee)&&(ee=de(ee,se+(ee.key==null||E&&E.key===ee.key?"":(""+ee.key).replace(Ee,"$&/")+"/")+ie)),q.push(ee)),1;ie=0;var De=k===""?".":k+":";if(W(E))for(var Ne=0;Ne<E.length;Ne++)k=E[Ne],he=De+ye(k,Ne),ie+=oe(k,q,se,he,ee);else if(Ne=w(E),typeof Ne=="function")for(E=Ne.call(E),Ne=0;!(k=E.next()).done;)k=k.value,he=De+ye(k,Ne++),ie+=oe(k,q,se,he,ee);else if(he==="object"){if(typeof E.then=="function")return oe(P(E),q,se,k,ee);throw q=String(E),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ie}function j(E,q,se){if(E==null)return E;var k=[],ee=0;return oe(E,k,"","",function(he){return q.call(se,he,ee++)}),k}function M(E){if(E._status===-1){var q=E._result;q=q(),q.then(function(se){(E._status===0||E._status===-1)&&(E._status=1,E._result=se)},function(se){(E._status===0||E._status===-1)&&(E._status=2,E._result=se)}),E._status===-1&&(E._status=0,E._result=q)}if(E._status===1)return E._result.default;throw E._result}var J=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function z(){}return Xe.Children={map:j,forEach:function(E,q,se){j(E,function(){q.apply(this,arguments)},se)},count:function(E){var q=0;return j(E,function(){q++}),q},toArray:function(E){return j(E,function(q){return q})||[]},only:function(E){if(!ne(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Xe.Component=_,Xe.Fragment=l,Xe.Profiler=c,Xe.PureComponent=D,Xe.StrictMode=o,Xe.Suspense=p,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return $.H.useMemoCache(E)}},Xe.cache=function(E){return function(){return E.apply(null,arguments)}},Xe.cloneElement=function(E,q,se){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var k=N({},E.props),ee=E.key,he=void 0;if(q!=null)for(ie in q.ref!==void 0&&(he=void 0),q.key!==void 0&&(ee=""+q.key),q)!F.call(q,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&q.ref===void 0||(k[ie]=q[ie]);var ie=arguments.length-2;if(ie===1)k.children=se;else if(1<ie){for(var De=Array(ie),Ne=0;Ne<ie;Ne++)De[Ne]=arguments[Ne+2];k.children=De}return I(E.type,ee,void 0,void 0,he,k)},Xe.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},Xe.createElement=function(E,q,se){var k,ee={},he=null;if(q!=null)for(k in q.key!==void 0&&(he=""+q.key),q)F.call(q,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(ee[k]=q[k]);var ie=arguments.length-2;if(ie===1)ee.children=se;else if(1<ie){for(var De=Array(ie),Ne=0;Ne<ie;Ne++)De[Ne]=arguments[Ne+2];ee.children=De}if(E&&E.defaultProps)for(k in ie=E.defaultProps,ie)ee[k]===void 0&&(ee[k]=ie[k]);return I(E,he,void 0,void 0,null,ee)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(E){return{$$typeof:m,render:E}},Xe.isValidElement=ne,Xe.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:M}},Xe.memo=function(E,q){return{$$typeof:g,type:E,compare:q===void 0?null:q}},Xe.startTransition=function(E){var q=$.T,se={};$.T=se;try{var k=E(),ee=$.S;ee!==null&&ee(se,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(z,J)}catch(he){J(he)}finally{$.T=q}},Xe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Xe.use=function(E){return $.H.use(E)},Xe.useActionState=function(E,q,se){return $.H.useActionState(E,q,se)},Xe.useCallback=function(E,q){return $.H.useCallback(E,q)},Xe.useContext=function(E){return $.H.useContext(E)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(E,q){return $.H.useDeferredValue(E,q)},Xe.useEffect=function(E,q,se){var k=$.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(E,q)},Xe.useId=function(){return $.H.useId()},Xe.useImperativeHandle=function(E,q,se){return $.H.useImperativeHandle(E,q,se)},Xe.useInsertionEffect=function(E,q){return $.H.useInsertionEffect(E,q)},Xe.useLayoutEffect=function(E,q){return $.H.useLayoutEffect(E,q)},Xe.useMemo=function(E,q){return $.H.useMemo(E,q)},Xe.useOptimistic=function(E,q){return $.H.useOptimistic(E,q)},Xe.useReducer=function(E,q,se){return $.H.useReducer(E,q,se)},Xe.useRef=function(E){return $.H.useRef(E)},Xe.useState=function(E){return $.H.useState(E)},Xe.useSyncExternalStore=function(E,q,se){return $.H.useSyncExternalStore(E,q,se)},Xe.useTransition=function(){return $.H.useTransition()},Xe.version="19.1.1",Xe}var Fm;function Uu(){return Fm||(Fm=1,Kd.exports=jb()),Kd.exports}var b=Uu();const Se=Mu(b);var Qd={exports:{}},Dl={},Xd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function Nb(){return Pm||(Pm=1,(function(n){function r(j,M){var J=j.length;j.push(M);e:for(;0<J;){var z=J-1>>>1,E=j[z];if(0<c(E,M))j[z]=M,j[J]=E,J=z;else break e}}function l(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var M=j[0],J=j.pop();if(J!==M){j[0]=J;e:for(var z=0,E=j.length,q=E>>>1;z<q;){var se=2*(z+1)-1,k=j[se],ee=se+1,he=j[ee];if(0>c(k,J))ee<E&&0>c(he,k)?(j[z]=he,j[ee]=J,z=ee):(j[z]=k,j[se]=J,z=se);else if(ee<E&&0>c(he,J))j[z]=he,j[ee]=J,z=ee;else break e}}return M}function c(j,M){var J=j.sortIndex-M.sortIndex;return J!==0?J:j.id-M.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var p=[],g=[],x=1,y=null,w=3,C=!1,N=!1,A=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function W(j){for(var M=l(g);M!==null;){if(M.callback===null)o(g);else if(M.startTime<=j)o(g),M.sortIndex=M.expirationTime,r(p,M);else break;M=l(g)}}function $(j){if(A=!1,W(j),!N)if(l(p)!==null)N=!0,F||(F=!0,ye());else{var M=l(g);M!==null&&oe($,M.startTime-j)}}var F=!1,I=-1,de=5,ne=-1;function ve(){return _?!0:!(n.unstable_now()-ne<de)}function Ee(){if(_=!1,F){var j=n.unstable_now();ne=j;var M=!0;try{e:{N=!1,A&&(A=!1,D(I),I=-1),C=!0;var J=w;try{t:{for(W(j),y=l(p);y!==null&&!(y.expirationTime>j&&ve());){var z=y.callback;if(typeof z=="function"){y.callback=null,w=y.priorityLevel;var E=z(y.expirationTime<=j);if(j=n.unstable_now(),typeof E=="function"){y.callback=E,W(j),M=!0;break t}y===l(p)&&o(p),W(j)}else o(p);y=l(p)}if(y!==null)M=!0;else{var q=l(g);q!==null&&oe($,q.startTime-j),M=!1}}break e}finally{y=null,w=J,C=!1}M=void 0}}finally{M?ye():F=!1}}}var ye;if(typeof L=="function")ye=function(){L(Ee)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,P=G.port2;G.port1.onmessage=Ee,ye=function(){P.postMessage(null)}}else ye=function(){T(Ee,0)};function oe(j,M){I=T(function(){j(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(j){switch(w){case 1:case 2:case 3:var M=3;break;default:M=w}var J=w;w=M;try{return j()}finally{w=J}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=w;w=j;try{return M()}finally{w=J}},n.unstable_scheduleCallback=function(j,M,J){var z=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?z+J:z):J=z,j){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=J+E,j={id:x++,callback:M,priorityLevel:j,startTime:J,expirationTime:E,sortIndex:-1},J>z?(j.sortIndex=J,r(g,j),l(p)===null&&j===l(g)&&(A?(D(I),I=-1):A=!0,oe($,J-z))):(j.sortIndex=E,r(p,j),N||C||(N=!0,F||(F=!0,ye()))),j},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(j){var M=w;return function(){var J=w;w=M;try{return j.apply(this,arguments)}finally{w=J}}}})(Zd)),Zd}var Im;function Sb(){return Im||(Im=1,Xd.exports=Nb()),Xd.exports}var Jd={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Cb(){if(qm)return ds;qm=1;var n=Uu();function r(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:p,containerInfo:g,implementation:x}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ds.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return d(p,g,null,x)},ds.flushSync=function(p){var g=h.T,x=o.p;try{if(h.T=null,o.p=2,p)return p()}finally{h.T=g,o.p=x,o.d.f()}},ds.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(p,g))},ds.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},ds.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?o.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:C}):x==="script"&&o.d.X(p,{crossOrigin:y,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ds.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);o.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(p)},ds.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin);o.d.L(p,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ds.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);o.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(p)},ds.requestFormReset=function(p){o.d.r(p)},ds.unstable_batchedUpdates=function(p,g){return p(g)},ds.useFormState=function(p,g,x){return h.H.useFormState(p,g,x)},ds.useFormStatus=function(){return h.H.useHostTransitionStatus()},ds.version="19.1.1",ds}var Ym;function Gg(){if(Ym)return Jd.exports;Ym=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Jd.exports=Cb(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function Eb(){if(Gm)return Dl;Gm=1;var n=Sb(),r=Uu(),l=Gg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),e;if(f===i)return m(u),t;f=f.sibling}throw Error(o(188))}if(a.return!==i.return)a=u,i=f;else{for(var v=!1,S=u.child;S;){if(S===a){v=!0,a=u,i=f;break}if(S===i){v=!0,i=u,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,i=u;break}if(S===i){v=!0,i=f,a=u;break}S=S.sibling}if(!v)throw Error(o(189))}}if(a.alternate!==i)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function P(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case L:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:P(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var oe=Array.isArray,j=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},z=[],E=-1;function q(e){return{current:e}}function se(e){0>E||(e.current=z[E],z[E]=null,E--)}function k(e,t){E++,z[E]=e.current,e.current=t}var ee=q(null),he=q(null),ie=q(null),De=q(null);function Ne(e,t){switch(k(ie,t),k(he,e),k(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hm(t),e=fm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(ee),k(ee,e)}function He(){se(ee),se(he),se(ie)}function Pe(e){e.memoizedState!==null&&k(De,e);var t=ee.current,a=fm(t,e.type);t!==a&&(k(he,e),k(ee,a))}function Me(e){he.current===e&&(se(ee),se(he)),De.current===e&&(se(De),Sl._currentValue=J)}var Ze=Object.prototype.hasOwnProperty,lt=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,me=n.unstable_shouldYield,je=n.unstable_requestPaint,Le=n.unstable_now,K=n.unstable_getCurrentPriorityLevel,O=n.unstable_ImmediatePriority,xe=n.unstable_UserBlockingPriority,X=n.unstable_NormalPriority,le=n.unstable_LowPriority,Be=n.unstable_IdlePriority,pe=n.log,ze=n.unstable_setDisableYieldValue,Y=null,we=null;function Ce(e){if(typeof pe=="function"&&ze(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Y,e)}catch{}}var re=Math.clz32?Math.clz32:mt,$e=Math.log,dt=Math.LN2;function mt(e){return e>>>=0,e===0?32:31-($e(e)/dt|0)|0}var ls=256,Kt=4194304;function Qt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function os(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=Qt(i):(v&=S,v!==0?u=Qt(v):a||(a=S&~e,a!==0&&(u=Qt(a))))):(S=i&~f,S!==0?u=Qt(S):v!==0?u=Qt(v):a||(a=i&~e,a!==0&&(u=Qt(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function Mt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ut(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var e=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),e}function Ar(){var e=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),e}function or(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ds(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dr(e,t,a,i,u,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,R=e.expirationTimes,Q=e.hiddenUpdates;for(a=v&~a;0<a;){var ce=31-re(a),ge=1<<ce;S[ce]=0,R[ce]=-1;var Z=Q[ce];if(Z!==null)for(Q[ce]=null,ce=0;ce<Z.length;ce++){var te=Z[ce];te!==null&&(te.lane&=-536870913)}a&=~ge}i!==0&&Ge(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function Ge(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-re(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function jt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-re(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function Ct(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ut(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fs(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:Rm(e.type))}function _t(e,t){var a=M.p;try{return M.p=e,t()}finally{M.p=a}}var Nt=Math.random().toString(36).slice(2),St="__reactFiber$"+Nt,at="__reactProps$"+Nt,Rt="__reactContainer$"+Nt,Zs="__reactEvents$"+Nt,hs="__reactListeners$"+Nt,la="__reactHandles$"+Nt,Ra="__reactResources$"+Nt,Te="__reactMarker$"+Nt;function _e(e){delete e[St],delete e[at],delete e[Zs],delete e[hs],delete e[la]}function Re(e){var t=e[St];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Rt]||a[St]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=xm(e);e!==null;){if(a=e[St])return a;e=xm(e)}return t}e=a,a=e.parentNode}return null}function Ie(e){if(e=e[St]||e[Rt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function it(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Oe(e){var t=e[Ra];return t||(t=e[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function be(e){e[Te]=!0}var ke=new Set,Ft={};function We(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Ft[e]=t,e=0;e<t.length;e++)ke.add(t[e])}var sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},rh={};function hx(e){return Ze.call(rh,e)?!0:Ze.call(to,e)?!1:sh.test(e)?rh[e]=!0:(to[e]=!0,!1)}function so(e,t,a){if(hx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ro(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ir(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var Pi,ah;function Oa(e){if(Pi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pi=t&&t[1]||"",ah=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+e+ah}var Ii=!1;function qi(e,t){if(!e||Ii)return"";Ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(te){var Z=te}Reflect.construct(e,[],ge)}else{try{ge.call()}catch(te){Z=te}e.call(ge.prototype)}}else{try{throw Error()}catch(te){Z=te}(ge=e())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var R=v.split(`
`),Q=S.split(`
`);for(u=i=0;i<R.length&&!R[i].includes("DetermineComponentFrameRoot");)i++;for(;u<Q.length&&!Q[u].includes("DetermineComponentFrameRoot");)u++;if(i===R.length||u===Q.length)for(i=R.length-1,u=Q.length-1;1<=i&&0<=u&&R[i]!==Q[u];)u--;for(;1<=i&&0<=u;i--,u--)if(R[i]!==Q[u]){if(i!==1||u!==1)do if(i--,u--,0>u||R[i]!==Q[u]){var ce=`
`+R[i].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=i&&0<=u);break}}}finally{Ii=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Oa(a):""}function fx(e){switch(e.tag){case 26:case 27:case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 15:return qi(e.type,!1);case 11:return qi(e.type.render,!1);case 1:return qi(e.type,!0);case 31:return Oa("Activity");default:return""}}function nh(e){try{var t="";do t+=fx(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ts(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mx(e){var t=lh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){e._valueTracker||(e._valueTracker=mx(e))}function oh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=lh(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function no(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gx=/[\n"\\]/g;function Rs(e){return e.replace(gx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yi(e,t,a,i,u,f,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ts(t)):e.value!==""+Ts(t)&&(e.value=""+Ts(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Gi(e,v,Ts(t)):a!=null?Gi(e,v,Ts(a)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ts(S):e.removeAttribute("name")}function ih(e,t,a,i,u,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+Ts(a):"",t=t!=null?""+Ts(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=S?e.checked:!!i,e.defaultChecked=!!i,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Gi(e,t,a){t==="number"&&no(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function La(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ts(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ch(e,t,a){if(t!=null&&(t=""+Ts(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ts(a):""}function dh(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(o(92));if(oe(i)){if(1<i.length)throw Error(o(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ts(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function Ma(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var px=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uh(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||px.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hh(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&uh(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&uh(e,f,t[f])}function Vi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(e){return yx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wi=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Ba=null;function fh(e){var t=Ie(e);if(t&&(e=t.stateNode)){var a=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rs(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[at]||null;if(!u)throw Error(o(90));Yi(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&oh(i)}break e;case"textarea":ch(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&La(e,!!a.multiple,t,!1)}}}var Qi=!1;function mh(e,t,a){if(Qi)return e(t,a);Qi=!0;try{var i=e(t);return i}finally{if(Qi=!1,(Ua!==null||Ba!==null)&&(Go(),Ua&&(t=Ua,e=Ba,Ba=Ua=null,fh(t),e)))for(t=0;t<e.length;t++)fh(e[t])}}function Bn(e,t){var a=e.stateNode;if(a===null)return null;var i=a[at]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xi=!1;if(cr)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Xi=!1}var Tr=null,Zi=null,oo=null;function gh(){if(oo)return oo;var e,t=Zi,a=t.length,i,u="value"in Tr?Tr.value:Tr.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var v=a-e;for(i=1;i<=v&&t[a-i]===u[f-i];i++);return oo=u.slice(e,1<i?1-i:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function co(){return!0}function ph(){return!1}function gs(e){function t(a,i,u,f,v){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?co:ph,this.isPropagationStopped=ph,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=gs(oa),$n=x({},oa,{view:0,detail:0}),bx=gs($n),Ji,ec,Hn,ho=x({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(Ji=e.screenX-Hn.screenX,ec=e.screenY-Hn.screenY):ec=Ji=0,Hn=e),Ji)},movementY:function(e){return"movementY"in e?e.movementY:ec}}),xh=gs(ho),vx=x({},ho,{dataTransfer:0}),wx=gs(vx),jx=x({},$n,{relatedTarget:0}),tc=gs(jx),Nx=x({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=gs(Nx),Cx=x({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ex=gs(Cx),kx=x({},oa,{data:0}),yh=gs(kx),_x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dx[e])?!!t[e]:!1}function sc(){return Tx}var Rx=x({},$n,{key:function(e){if(e.key){var t=_x[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ox=gs(Rx),Lx=x({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=gs(Lx),Mx=x({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),Ux=gs(Mx),Bx=x({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zx=gs(Bx),$x=x({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hx=gs($x),Fx=x({},oa,{newState:0,oldState:0}),Px=gs(Fx),Ix=[9,13,27,32],rc=cr&&"CompositionEvent"in window,Fn=null;cr&&"documentMode"in document&&(Fn=document.documentMode);var qx=cr&&"TextEvent"in window&&!Fn,vh=cr&&(!rc||Fn&&8<Fn&&11>=Fn),wh=" ",jh=!1;function Nh(e,t){switch(e){case"keyup":return Ix.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Yx(e,t){switch(e){case"compositionend":return Sh(t);case"keypress":return t.which!==32?null:(jh=!0,wh);case"textInput":return e=t.data,e===wh&&jh?null:e;default:return null}}function Gx(e,t){if(za)return e==="compositionend"||!rc&&Nh(e,t)?(e=gh(),oo=Zi=Tr=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vh&&t.locale!=="ko"?null:t.data;default:return null}}var Vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vx[e.type]:t==="textarea"}function Eh(e,t,a,i){Ua?Ba?Ba.push(i):Ba=[i]:Ua=i,t=Zo(t,"onChange"),0<t.length&&(a=new uo("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Pn=null,In=null;function Wx(e){om(e,0)}function fo(e){var t=it(e);if(oh(t))return e}function kh(e,t){if(e==="change")return t}var _h=!1;if(cr){var ac;if(cr){var nc="oninput"in document;if(!nc){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),nc=typeof Ah.oninput=="function"}ac=nc}else ac=!1;_h=ac&&(!document.documentMode||9<document.documentMode)}function Dh(){Pn&&(Pn.detachEvent("onpropertychange",Th),In=Pn=null)}function Th(e){if(e.propertyName==="value"&&fo(In)){var t=[];Eh(t,In,e,Ki(e)),mh(Wx,t)}}function Kx(e,t,a){e==="focusin"?(Dh(),Pn=t,In=a,Pn.attachEvent("onpropertychange",Th)):e==="focusout"&&Dh()}function Qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fo(In)}function Xx(e,t){if(e==="click")return fo(t)}function Zx(e,t){if(e==="input"||e==="change")return fo(t)}function Jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ns=typeof Object.is=="function"?Object.is:Jx;function qn(e,t){if(Ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!Ze.call(t,u)||!Ns(e[u],t[u]))return!1}return!0}function Rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oh(e,t){var a=Rh(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rh(a)}}function Lh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=no(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=no(e.document)}return t}function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ey=cr&&"documentMode"in document&&11>=document.documentMode,$a=null,oc=null,Yn=null,ic=!1;function Uh(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ic||$a==null||$a!==no(i)||(i=$a,"selectionStart"in i&&lc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Yn&&qn(Yn,i)||(Yn=i,i=Zo(oc,"onSelect"),0<i.length&&(t=new uo("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=$a)))}function ia(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ha={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},cc={},Bh={};cr&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function ca(e){if(cc[e])return cc[e];if(!Ha[e])return e;var t=Ha[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Bh)return cc[e]=t[a];return e}var zh=ca("animationend"),$h=ca("animationiteration"),Hh=ca("animationstart"),ty=ca("transitionrun"),sy=ca("transitionstart"),ry=ca("transitioncancel"),Fh=ca("transitionend"),Ph=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function Ps(e,t){Ph.set(e,t),We(t,[e])}var Ih=new WeakMap;function Os(e,t){if(typeof e=="object"&&e!==null){var a=Ih.get(e);return a!==void 0?a:(t={value:e,source:t,stack:nh(t)},Ih.set(e,t),t)}return{value:e,source:t,stack:nh(t)}}var Ls=[],Fa=0,uc=0;function mo(){for(var e=Fa,t=uc=Fa=0;t<e;){var a=Ls[t];Ls[t++]=null;var i=Ls[t];Ls[t++]=null;var u=Ls[t];Ls[t++]=null;var f=Ls[t];if(Ls[t++]=null,i!==null&&u!==null){var v=i.pending;v===null?u.next=u:(u.next=v.next,v.next=u),i.pending=u}f!==0&&qh(a,u,f)}}function go(e,t,a,i){Ls[Fa++]=e,Ls[Fa++]=t,Ls[Fa++]=a,Ls[Fa++]=i,uc|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function hc(e,t,a,i){return go(e,t,a,i),po(e)}function Pa(e,t){return go(e,null,null,t),po(e)}function qh(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,i=f.alternate,i!==null&&(i.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-re(a),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),f):null}function po(e){if(50<pl)throw pl=0,yd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function ay(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(e,t,a,i){return new ay(e,t,a,i)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dr(e,t){var a=e.alternate;return a===null?(a=Ss(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xo(e,t,a,i,u,f){var v=0;if(i=e,typeof e=="function")fc(e)&&(v=1);else if(typeof e=="string")v=lb(e,a,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Ss(31,a,t,u),e.elementType=ne,e.lanes=f,e;case N:return da(a.children,u,f,t);case A:v=8,u|=24;break;case _:return e=Ss(12,a,t,u|2),e.elementType=_,e.lanes=f,e;case $:return e=Ss(13,a,t,u),e.elementType=$,e.lanes=f,e;case F:return e=Ss(19,a,t,u),e.elementType=F,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case L:v=10;break e;case D:v=9;break e;case W:v=11;break e;case I:v=14;break e;case de:v=16,i=null;break e}v=29,a=Error(o(130,e===null?"null":typeof e,"")),i=null}return t=Ss(v,a,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function da(e,t,a,i){return e=Ss(7,e,i,t),e.lanes=a,e}function mc(e,t,a){return e=Ss(6,e,null,t),e.lanes=a,e}function gc(e,t,a){return t=Ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qa=[],Ya=0,yo=null,bo=0,Ms=[],Us=0,ua=null,ur=1,hr="";function ha(e,t){qa[Ya++]=bo,qa[Ya++]=yo,yo=e,bo=t}function Gh(e,t,a){Ms[Us++]=ur,Ms[Us++]=hr,Ms[Us++]=ua,ua=e;var i=ur;e=hr;var u=32-re(i)-1;i&=~(1<<u),a+=1;var f=32-re(t)+u;if(30<f){var v=u-u%5;f=(i&(1<<v)-1).toString(32),i>>=v,u-=v,ur=1<<32-re(t)+u|a<<u|i,hr=f+e}else ur=1<<f|a<<u|i,hr=e}function pc(e){e.return!==null&&(ha(e,1),Gh(e,1,0))}function xc(e){for(;e===yo;)yo=qa[--Ya],qa[Ya]=null,bo=qa[--Ya],qa[Ya]=null;for(;e===ua;)ua=Ms[--Us],Ms[Us]=null,hr=Ms[--Us],Ms[Us]=null,ur=Ms[--Us],Ms[Us]=null}var fs=null,Ot=null,ct=!1,fa=null,Js=!1,yc=Error(o(519));function ma(e){var t=Error(o(418,""));throw Wn(Os(t,e)),yc}function Vh(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[St]=e,t[at]=i,a){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(a=0;a<yl.length;a++)st(yl[a],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),ih(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ao(t);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),dh(t,i.value,i.defaultValue,i.children),ao(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||um(t.textContent,a)?(i.popover!=null&&(st("beforetoggle",t),st("toggle",t)),i.onScroll!=null&&st("scroll",t),i.onScrollEnd!=null&&st("scrollend",t),i.onClick!=null&&(t.onclick=Jo),t=!0):t=!1,t||ma(e)}function Wh(e){for(fs=e.return;fs;)switch(fs.tag){case 5:case 13:Js=!1;return;case 27:case 3:Js=!0;return;default:fs=fs.return}}function Gn(e){if(e!==fs)return!1;if(!ct)return Wh(e),ct=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ld(e.type,e.memoizedProps)),a=!a),a&&Ot&&ma(e),Wh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ot=qs(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ot=null}}else t===27?(t=Ot,Vr(e.type)?(e=zd,zd=null,Ot=e):Ot=t):Ot=fs?qs(e.stateNode.nextSibling):null;return!0}function Vn(){Ot=fs=null,ct=!1}function Kh(){var e=fa;return e!==null&&(ys===null?ys=e:ys.push.apply(ys,e),fa=null),e}function Wn(e){fa===null?fa=[e]:fa.push(e)}var bc=q(null),ga=null,fr=null;function Rr(e,t,a){k(bc,t._currentValue),t._currentValue=a}function mr(e){e._currentValue=bc.current,se(bc)}function vc(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function wc(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var R=0;R<t.length;R++)if(S.context===t[R]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),vc(f.return,a,e),i||(v=null);break e}f=S.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(o(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),vc(v,a,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function Kn(e,t,a,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var S=u.type;Ns(u.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(u===De.current){if(v=u.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}u=u.return}e!==null&&wc(t,e,a,i),t.flags|=262144}function vo(e){for(e=e.firstContext;e!==null;){if(!Ns(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pa(e){ga=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cs(e){return Qh(ga,e)}function wo(e,t){return ga===null&&pa(e),Qh(e,t)}function Qh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(o(308));fr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fr=fr.next=t;return a}var ny=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ly=n.unstable_scheduleCallback,oy=n.unstable_NormalPriority,Yt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new ny,data:new Map,refCount:0}}function Qn(e){e.refCount--,e.refCount===0&&ly(oy,function(){e.controller.abort()})}var Xn=null,Nc=0,Ga=0,Va=null;function iy(e,t){if(Xn===null){var a=Xn=[];Nc=0,Ga=Cd(),Va={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Nc++,t.then(Xh,Xh),t}function Xh(){if(--Nc===0&&Xn!==null){Va!==null&&(Va.status="fulfilled");var e=Xn;Xn=null,Ga=0,Va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cy(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var Zh=j.S;j.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&iy(e,t),Zh!==null&&Zh(e,t)};var xa=q(null);function Sc(){var e=xa.current;return e!==null?e:bt.pooledCache}function jo(e,t){t===null?k(xa,xa.current):k(xa,t.pool)}function Jh(){var e=Sc();return e===null?null:{parent:Yt._currentValue,pool:e}}var Zn=Error(o(460)),ef=Error(o(474)),No=Error(o(542)),Cc={then:function(){}};function tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function So(){}function sf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(So,So),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,af(e),e;default:if(typeof t.status=="string")t.then(So,So);else{if(e=bt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,af(e),e}throw Jn=t,Zn}}var Jn=null;function rf(){if(Jn===null)throw Error(o(459));var e=Jn;return Jn=null,e}function af(e){if(e===Zn||e===No)throw Error(o(483))}var Or=!1;function Ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ht&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=po(e),qh(e,null,a),t}return go(e,i,t,a),po(e)}function el(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,jt(e,a)}}function _c(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ac=!1;function tl(){if(Ac){var e=Va;if(e!==null)throw e}}function sl(e,t,a,i){Ac=!1;var u=e.updateQueue;Or=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var R=S,Q=R.next;R.next=null,v===null?f=Q:v.next=Q,v=R;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,S=ce.lastBaseUpdate,S!==v&&(S===null?ce.firstBaseUpdate=Q:S.next=Q,ce.lastBaseUpdate=R))}if(f!==null){var ge=u.baseState;v=0,ce=Q=R=null,S=f;do{var Z=S.lane&-536870913,te=Z!==S.lane;if(te?(nt&Z)===Z:(i&Z)===Z){Z!==0&&Z===Ga&&(Ac=!0),ce!==null&&(ce=ce.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ve=e,qe=S;Z=t;var xt=a;switch(qe.tag){case 1:if(Ve=qe.payload,typeof Ve=="function"){ge=Ve.call(xt,ge,Z);break e}ge=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=qe.payload,Z=typeof Ve=="function"?Ve.call(xt,ge,Z):Ve,Z==null)break e;ge=x({},ge,Z);break e;case 2:Or=!0}}Z=S.callback,Z!==null&&(e.flags|=64,te&&(e.flags|=8192),te=u.callbacks,te===null?u.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ce===null?(Q=ce=te,R=ge):ce=ce.next=te,v|=Z;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;te=S,S=te.next,te.next=null,u.lastBaseUpdate=te,u.shared.pending=null}}while(!0);ce===null&&(R=ge),u.baseState=R,u.firstBaseUpdate=Q,u.lastBaseUpdate=ce,f===null&&(u.shared.lanes=0),Ir|=v,e.lanes=v,e.memoizedState=ge}}function nf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function lf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)nf(a[e],t)}var Wa=q(null),Co=q(0);function of(e,t){e=wr,k(Co,e),k(Wa,t),wr=e|t.baseLanes}function Dc(){k(Co,wr),k(Wa,Wa.current)}function Tc(){wr=Co.current,se(Wa),se(Co)}var Ur=0,Je=null,gt=null,Pt=null,Eo=!1,Ka=!1,ya=!1,ko=0,rl=0,Qa=null,dy=0;function Bt(){throw Error(o(321))}function Rc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ns(e[a],t[a]))return!1;return!0}function Oc(e,t,a,i,u,f){return Ur=f,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Yf:Gf,ya=!1,f=a(i,u),ya=!1,Ka&&(f=df(t,a,i,u)),cf(e),f}function cf(e){j.H=Oo;var t=gt!==null&&gt.next!==null;if(Ur=0,Pt=gt=Je=null,Eo=!1,rl=0,Qa=null,t)throw Error(o(300));e===null||Xt||(e=e.dependencies,e!==null&&vo(e)&&(Xt=!0))}function df(e,t,a,i){Je=e;var u=0;do{if(Ka&&(Qa=null),rl=0,Ka=!1,25<=u)throw Error(o(301));if(u+=1,Pt=gt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=xy,f=t(a,i)}while(Ka);return f}function uy(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?al(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(Je.flags|=1024),t}function Lc(){var e=ko!==0;return ko=0,e}function Mc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Uc(e){if(Eo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Eo=!1}Ur=0,Pt=gt=Je=null,Ka=!1,rl=ko=0,Qa=null}function ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Je.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function It(){if(gt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Pt===null?Je.memoizedState:Pt.next;if(t!==null)Pt=t,gt=e;else{if(e===null)throw Je.alternate===null?Error(o(467)):Error(o(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Pt===null?Je.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var t=rl;return rl+=1,Qa===null&&(Qa=[]),e=sf(Qa,e,t),t=Je,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Yf:Gf),e}function _o(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===L)return cs(e)}throw Error(o(438,String(e)))}function zc(e){var t=null,a=Je.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=Je.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Bc(),Je.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=ve;return t.index++,a}function gr(e,t){return typeof t=="function"?t(e):t}function Ao(e){var t=It();return $c(t,gt,e)}function $c(e,t,a){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=a;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var S=v=null,R=null,Q=t,ce=!1;do{var ge=Q.lane&-536870913;if(ge!==Q.lane?(nt&ge)===ge:(Ur&ge)===ge){var Z=Q.revertLane;if(Z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ge===Ga&&(ce=!0);else if((Ur&Z)===Z){Q=Q.next,Z===Ga&&(ce=!0);continue}else ge={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},R===null?(S=R=ge,v=f):R=R.next=ge,Je.lanes|=Z,Ir|=Z;ge=Q.action,ya&&a(f,ge),f=Q.hasEagerState?Q.eagerState:a(f,ge)}else Z={lane:ge,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},R===null?(S=R=Z,v=f):R=R.next=Z,Je.lanes|=ge,Ir|=ge;Q=Q.next}while(Q!==null&&Q!==t);if(R===null?v=f:R.next=S,!Ns(f,e.memoizedState)&&(Xt=!0,ce&&(a=Va,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=R,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Hc(e){var t=It(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var v=u=u.next;do f=e(f,v.action),v=v.next;while(v!==u);Ns(f,t.memoizedState)||(Xt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,i]}function uf(e,t,a){var i=Je,u=It(),f=ct;if(f){if(a===void 0)throw Error(o(407));a=a()}else a=t();var v=!Ns((gt||u).memoizedState,a);v&&(u.memoizedState=a,Xt=!0),u=u.queue;var S=mf.bind(null,i,u,e);if(nl(2048,8,S,[e]),u.getSnapshot!==t||v||Pt!==null&&Pt.memoizedState.tag&1){if(i.flags|=2048,Xa(9,Do(),ff.bind(null,i,u,a,t),null),bt===null)throw Error(o(349));f||(Ur&124)!==0||hf(i,t,a)}return a}function hf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Je.updateQueue,t===null?(t=Bc(),Je.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ff(e,t,a,i){t.value=a,t.getSnapshot=i,gf(t)&&pf(e)}function mf(e,t,a){return a(function(){gf(t)&&pf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ns(e,a)}catch{return!0}}function pf(e){var t=Pa(e,2);t!==null&&As(t,e,2)}function Fc(e){var t=ps();if(typeof e=="function"){var a=e;if(e=a(),ya){Ce(!0);try{a()}finally{Ce(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},t}function xf(e,t,a,i){return e.baseState=a,$c(e,gt,typeof i=="function"?i:gr)}function hy(e,t,a,i,u){if(Ro(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};j.T!==null?a(!0):f.isTransition=!1,i(f),a=t.pending,a===null?(f.next=t.pending=f,yf(t,f)):(f.next=a.next,t.pending=a.next=f)}}function yf(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=j.T,v={};j.T=v;try{var S=a(u,i),R=j.S;R!==null&&R(v,S),bf(e,t,S)}catch(Q){Pc(e,t,Q)}finally{j.T=f}}else try{f=a(u,i),bf(e,t,f)}catch(Q){Pc(e,t,Q)}}function bf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){vf(e,t,i)},function(i){return Pc(e,t,i)}):vf(e,t,a)}function vf(e,t,a){t.status="fulfilled",t.value=a,wf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,yf(e,a)))}function Pc(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,wf(t),t=t.next;while(t!==i)}e.action=null}function wf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jf(e,t){return t}function Nf(e,t){if(ct){var a=bt.formState;if(a!==null){e:{var i=Je;if(ct){if(Ot){t:{for(var u=Ot,f=Js;u.nodeType!==8;){if(!f){u=null;break t}if(u=qs(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ot=qs(u.nextSibling),i=u.data==="F!";break e}}ma(i)}i=!1}i&&(t=a[0])}}return a=ps(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:t},a.queue=i,a=Pf.bind(null,Je,i),i.dispatch=a,i=Fc(!1),f=Vc.bind(null,Je,!1,i.queue),i=ps(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=hy.bind(null,Je,u,f,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Sf(e){var t=It();return Cf(t,gt,e)}function Cf(e,t,a){if(t=$c(e,t,jf)[0],e=Ao(gr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=al(t)}catch(v){throw v===Zn?No:v}else i=t;t=It();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(Je.flags|=2048,Xa(9,Do(),fy.bind(null,u,a),null)),[i,f,e]}function fy(e,t){e.action=t}function Ef(e){var t=It(),a=gt;if(a!==null)return Cf(t,a,e);It(),t=t.memoizedState,a=It();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Xa(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=Je.updateQueue,t===null&&(t=Bc(),Je.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Do(){return{destroy:void 0,resource:void 0}}function kf(){return It().memoizedState}function To(e,t,a,i){var u=ps();i=i===void 0?null:i,Je.flags|=e,u.memoizedState=Xa(1|t,Do(),a,i)}function nl(e,t,a,i){var u=It();i=i===void 0?null:i;var f=u.memoizedState.inst;gt!==null&&i!==null&&Rc(i,gt.memoizedState.deps)?u.memoizedState=Xa(t,f,a,i):(Je.flags|=e,u.memoizedState=Xa(1|t,f,a,i))}function _f(e,t){To(8390656,8,e,t)}function Af(e,t){nl(2048,8,e,t)}function Df(e,t){return nl(4,2,e,t)}function Tf(e,t){return nl(4,4,e,t)}function Rf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,a){a=a!=null?a.concat([e]):null,nl(4,4,Rf.bind(null,t,e),a)}function Ic(){}function Lf(e,t){var a=It();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Rc(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Mf(e,t){var a=It();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Rc(t,i[1]))return i[0];if(i=e(),ya){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[i,t],i}function qc(e,t,a){return a===void 0||(Ur&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=z0(),Je.lanes|=e,Ir|=e,a)}function Uf(e,t,a,i){return Ns(a,t)?a:Wa.current!==null?(e=qc(e,a,i),Ns(e,t)||(Xt=!0),e):(Ur&42)===0?(Xt=!0,e.memoizedState=a):(e=z0(),Je.lanes|=e,Ir|=e,t)}function Bf(e,t,a,i,u){var f=M.p;M.p=f!==0&&8>f?f:8;var v=j.T,S={};j.T=S,Vc(e,!1,t,a);try{var R=u(),Q=j.S;if(Q!==null&&Q(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ce=cy(R,i);ll(e,t,ce,_s(e))}else ll(e,t,i,_s(e))}catch(ge){ll(e,t,{then:function(){},status:"rejected",reason:ge},_s())}finally{M.p=f,j.T=v}}function my(){}function Yc(e,t,a,i){if(e.tag!==5)throw Error(o(476));var u=zf(e).queue;Bf(e,u,t,J,a===null?my:function(){return $f(e),a(i)})}function zf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:J},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $f(e){var t=zf(e).next.queue;ll(e,t,{},_s())}function Gc(){return cs(Sl)}function Hf(){return It().memoizedState}function Ff(){return It().memoizedState}function gy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_s();e=Lr(a);var i=Mr(t,e,a);i!==null&&(As(i,t,a),el(i,t,a)),t={cache:jc()},e.payload=t;return}t=t.return}}function py(e,t,a){var i=_s();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ro(e)?If(t,a):(a=hc(e,t,a,i),a!==null&&(As(a,e,i),qf(a,t,i)))}function Pf(e,t,a){var i=_s();ll(e,t,a,i)}function ll(e,t,a,i){var u={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ro(e))If(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,S=f(v,a);if(u.hasEagerState=!0,u.eagerState=S,Ns(S,v))return go(e,t,u,0),bt===null&&mo(),!1}catch{}finally{}if(a=hc(e,t,u,i),a!==null)return As(a,e,i),qf(a,t,i),!0}return!1}function Vc(e,t,a,i){if(i={lane:2,revertLane:Cd(),action:i,hasEagerState:!1,eagerState:null,next:null},Ro(e)){if(t)throw Error(o(479))}else t=hc(e,a,i,2),t!==null&&As(t,e,2)}function Ro(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function If(e,t){Ka=Eo=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function qf(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,jt(e,a)}}var Oo={readContext:cs,use:_o,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},Yf={readContext:cs,use:_o,useCallback:function(e,t){return ps().memoizedState=[e,t===void 0?null:t],e},useContext:cs,useEffect:_f,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,To(4194308,4,Rf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){To(4,2,e,t)},useMemo:function(e,t){var a=ps();t=t===void 0?null:t;var i=e();if(ya){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=ps();if(a!==void 0){var u=a(t);if(ya){Ce(!0);try{a(t)}finally{Ce(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=py.bind(null,Je,e),[i.memoizedState,e]},useRef:function(e){var t=ps();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,a=Pf.bind(null,Je,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ic,useDeferredValue:function(e,t){var a=ps();return qc(a,e,t)},useTransition:function(){var e=Fc(!1);return e=Bf.bind(null,Je,e.queue,!0,!1),ps().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=Je,u=ps();if(ct){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),bt===null)throw Error(o(349));(nt&124)!==0||hf(i,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,_f(mf.bind(null,i,f,e),[e]),i.flags|=2048,Xa(9,Do(),ff.bind(null,i,f,a,t),null),a},useId:function(){var e=ps(),t=bt.identifierPrefix;if(ct){var a=hr,i=ur;a=(i&~(1<<32-re(i)-1)).toString(32)+a,t=""+t+"R"+a,a=ko++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=dy++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Gc,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var t=ps();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Vc.bind(null,Je,!0,a),a.dispatch=t,[e,t]},useMemoCache:zc,useCacheRefresh:function(){return ps().memoizedState=gy.bind(null,Je)}},Gf={readContext:cs,use:_o,useCallback:Lf,useContext:cs,useEffect:Af,useImperativeHandle:Of,useInsertionEffect:Df,useLayoutEffect:Tf,useMemo:Mf,useReducer:Ao,useRef:kf,useState:function(){return Ao(gr)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=It();return Uf(a,gt.memoizedState,e,t)},useTransition:function(){var e=Ao(gr)[0],t=It().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:uf,useId:Hf,useHostTransitionStatus:Gc,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,t){var a=It();return xf(a,gt,e,t)},useMemoCache:zc,useCacheRefresh:Ff},xy={readContext:cs,use:_o,useCallback:Lf,useContext:cs,useEffect:Af,useImperativeHandle:Of,useInsertionEffect:Df,useLayoutEffect:Tf,useMemo:Mf,useReducer:Hc,useRef:kf,useState:function(){return Hc(gr)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=It();return gt===null?qc(a,e,t):Uf(a,gt.memoizedState,e,t)},useTransition:function(){var e=Hc(gr)[0],t=It().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:uf,useId:Hf,useHostTransitionStatus:Gc,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var a=It();return gt!==null?xf(a,gt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zc,useCacheRefresh:Ff},Za=null,ol=0;function Lo(e){var t=ol;return ol+=1,Za===null&&(Za=[]),sf(Za,e,t)}function il(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mo(e,t){throw t.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vf(e){var t=e._init;return t(e._payload)}function Wf(e){function t(H,B){if(e){var V=H.deletions;V===null?(H.deletions=[B],H.flags|=16):V.push(B)}}function a(H,B){if(!e)return null;for(;B!==null;)t(H,B),B=B.sibling;return null}function i(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function u(H,B){return H=dr(H,B),H.index=0,H.sibling=null,H}function f(H,B,V){return H.index=V,e?(V=H.alternate,V!==null?(V=V.index,V<B?(H.flags|=67108866,B):V):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function v(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,V,ue){return B===null||B.tag!==6?(B=mc(V,H.mode,ue),B.return=H,B):(B=u(B,V),B.return=H,B)}function R(H,B,V,ue){var Ue=V.type;return Ue===N?ce(H,B,V.props.children,ue,V.key):B!==null&&(B.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===de&&Vf(Ue)===B.type)?(B=u(B,V.props),il(B,V),B.return=H,B):(B=xo(V.type,V.key,V.props,null,H.mode,ue),il(B,V),B.return=H,B)}function Q(H,B,V,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=gc(V,H.mode,ue),B.return=H,B):(B=u(B,V.children||[]),B.return=H,B)}function ce(H,B,V,ue,Ue){return B===null||B.tag!==7?(B=da(V,H.mode,ue,Ue),B.return=H,B):(B=u(B,V),B.return=H,B)}function ge(H,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=mc(""+B,H.mode,V),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return V=xo(B.type,B.key,B.props,null,H.mode,V),il(V,B),V.return=H,V;case C:return B=gc(B,H.mode,V),B.return=H,B;case de:var ue=B._init;return B=ue(B._payload),ge(H,B,V)}if(oe(B)||ye(B))return B=da(B,H.mode,V,null),B.return=H,B;if(typeof B.then=="function")return ge(H,Lo(B),V);if(B.$$typeof===L)return ge(H,wo(H,B),V);Mo(H,B)}return null}function Z(H,B,V,ue){var Ue=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ue!==null?null:S(H,B,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return V.key===Ue?R(H,B,V,ue):null;case C:return V.key===Ue?Q(H,B,V,ue):null;case de:return Ue=V._init,V=Ue(V._payload),Z(H,B,V,ue)}if(oe(V)||ye(V))return Ue!==null?null:ce(H,B,V,ue,null);if(typeof V.then=="function")return Z(H,B,Lo(V),ue);if(V.$$typeof===L)return Z(H,B,wo(H,V),ue);Mo(H,V)}return null}function te(H,B,V,ue,Ue){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return H=H.get(V)||null,S(B,H,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return H=H.get(ue.key===null?V:ue.key)||null,R(B,H,ue,Ue);case C:return H=H.get(ue.key===null?V:ue.key)||null,Q(B,H,ue,Ue);case de:var et=ue._init;return ue=et(ue._payload),te(H,B,V,ue,Ue)}if(oe(ue)||ye(ue))return H=H.get(V)||null,ce(B,H,ue,Ue,null);if(typeof ue.then=="function")return te(H,B,V,Lo(ue),Ue);if(ue.$$typeof===L)return te(H,B,V,wo(B,ue),Ue);Mo(B,ue)}return null}function Ve(H,B,V,ue){for(var Ue=null,et=null,Fe=B,Ye=B=0,Jt=null;Fe!==null&&Ye<V.length;Ye++){Fe.index>Ye?(Jt=Fe,Fe=null):Jt=Fe.sibling;var ot=Z(H,Fe,V[Ye],ue);if(ot===null){Fe===null&&(Fe=Jt);break}e&&Fe&&ot.alternate===null&&t(H,Fe),B=f(ot,B,Ye),et===null?Ue=ot:et.sibling=ot,et=ot,Fe=Jt}if(Ye===V.length)return a(H,Fe),ct&&ha(H,Ye),Ue;if(Fe===null){for(;Ye<V.length;Ye++)Fe=ge(H,V[Ye],ue),Fe!==null&&(B=f(Fe,B,Ye),et===null?Ue=Fe:et.sibling=Fe,et=Fe);return ct&&ha(H,Ye),Ue}for(Fe=i(Fe);Ye<V.length;Ye++)Jt=te(Fe,H,Ye,V[Ye],ue),Jt!==null&&(e&&Jt.alternate!==null&&Fe.delete(Jt.key===null?Ye:Jt.key),B=f(Jt,B,Ye),et===null?Ue=Jt:et.sibling=Jt,et=Jt);return e&&Fe.forEach(function(Zr){return t(H,Zr)}),ct&&ha(H,Ye),Ue}function qe(H,B,V,ue){if(V==null)throw Error(o(151));for(var Ue=null,et=null,Fe=B,Ye=B=0,Jt=null,ot=V.next();Fe!==null&&!ot.done;Ye++,ot=V.next()){Fe.index>Ye?(Jt=Fe,Fe=null):Jt=Fe.sibling;var Zr=Z(H,Fe,ot.value,ue);if(Zr===null){Fe===null&&(Fe=Jt);break}e&&Fe&&Zr.alternate===null&&t(H,Fe),B=f(Zr,B,Ye),et===null?Ue=Zr:et.sibling=Zr,et=Zr,Fe=Jt}if(ot.done)return a(H,Fe),ct&&ha(H,Ye),Ue;if(Fe===null){for(;!ot.done;Ye++,ot=V.next())ot=ge(H,ot.value,ue),ot!==null&&(B=f(ot,B,Ye),et===null?Ue=ot:et.sibling=ot,et=ot);return ct&&ha(H,Ye),Ue}for(Fe=i(Fe);!ot.done;Ye++,ot=V.next())ot=te(Fe,H,Ye,ot.value,ue),ot!==null&&(e&&ot.alternate!==null&&Fe.delete(ot.key===null?Ye:ot.key),B=f(ot,B,Ye),et===null?Ue=ot:et.sibling=ot,et=ot);return e&&Fe.forEach(function(yb){return t(H,yb)}),ct&&ha(H,Ye),Ue}function xt(H,B,V,ue){if(typeof V=="object"&&V!==null&&V.type===N&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case w:e:{for(var Ue=V.key;B!==null;){if(B.key===Ue){if(Ue=V.type,Ue===N){if(B.tag===7){a(H,B.sibling),ue=u(B,V.props.children),ue.return=H,H=ue;break e}}else if(B.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===de&&Vf(Ue)===B.type){a(H,B.sibling),ue=u(B,V.props),il(ue,V),ue.return=H,H=ue;break e}a(H,B);break}else t(H,B);B=B.sibling}V.type===N?(ue=da(V.props.children,H.mode,ue,V.key),ue.return=H,H=ue):(ue=xo(V.type,V.key,V.props,null,H.mode,ue),il(ue,V),ue.return=H,H=ue)}return v(H);case C:e:{for(Ue=V.key;B!==null;){if(B.key===Ue)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){a(H,B.sibling),ue=u(B,V.children||[]),ue.return=H,H=ue;break e}else{a(H,B);break}else t(H,B);B=B.sibling}ue=gc(V,H.mode,ue),ue.return=H,H=ue}return v(H);case de:return Ue=V._init,V=Ue(V._payload),xt(H,B,V,ue)}if(oe(V))return Ve(H,B,V,ue);if(ye(V)){if(Ue=ye(V),typeof Ue!="function")throw Error(o(150));return V=Ue.call(V),qe(H,B,V,ue)}if(typeof V.then=="function")return xt(H,B,Lo(V),ue);if(V.$$typeof===L)return xt(H,B,wo(H,V),ue);Mo(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(a(H,B.sibling),ue=u(B,V),ue.return=H,H=ue):(a(H,B),ue=mc(V,H.mode,ue),ue.return=H,H=ue),v(H)):a(H,B)}return function(H,B,V,ue){try{ol=0;var Ue=xt(H,B,V,ue);return Za=null,Ue}catch(Fe){if(Fe===Zn||Fe===No)throw Fe;var et=Ss(29,Fe,null,H.mode);return et.lanes=ue,et.return=H,et}finally{}}}var Ja=Wf(!0),Kf=Wf(!1),Bs=q(null),er=null;function Br(e){var t=e.alternate;k(Gt,Gt.current&1),k(Bs,e),er===null&&(t===null||Wa.current!==null||t.memoizedState!==null)&&(er=e)}function Qf(e){if(e.tag===22){if(k(Gt,Gt.current),k(Bs,e),er===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(er=e)}}else zr()}function zr(){k(Gt,Gt.current),k(Bs,Bs.current)}function pr(e){se(Bs),er===e&&(er=null),se(Gt)}var Gt=q(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Bd(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wc(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kc={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=_s(),u=Lr(i);u.payload=t,a!=null&&(u.callback=a),t=Mr(e,u,i),t!==null&&(As(t,e,i),el(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=_s(),u=Lr(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Mr(e,u,i),t!==null&&(As(t,e,i),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_s(),i=Lr(a);i.tag=2,t!=null&&(i.callback=t),t=Mr(e,i,a),t!==null&&(As(t,e,a),el(t,e,a))}};function Xf(e,t,a,i,u,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,v):t.prototype&&t.prototype.isPureReactComponent?!qn(a,i)||!qn(u,f):!0}function Zf(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Kc.enqueueReplaceState(t,t.state,null)}function ba(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var Bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Jf(e){Bo(e)}function e0(e){console.error(e)}function t0(e){Bo(e)}function zo(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function s0(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Qc(e,t,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){zo(e,t)},a}function r0(e){return e=Lr(e),e.tag=3,e}function a0(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){s0(t,a,i)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){s0(t,a,i),typeof u!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function yy(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Kn(t,a,u,!0),a=Bs.current,a!==null){switch(a.tag){case 13:return er===null?vd():a.alternate===null&&Lt===0&&(Lt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===Cc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),jd(e,i,u)),!1;case 22:return a.flags|=65536,i===Cc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),jd(e,i,u)),!1}throw Error(o(435,a.tag))}return jd(e,i,u),vd(),!1}if(ct)return t=Bs.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==yc&&(e=Error(o(422),{cause:i}),Wn(Os(e,a)))):(i!==yc&&(t=Error(o(423),{cause:i}),Wn(Os(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Os(i,a),u=Qc(e.stateNode,i,u),_c(e,u),Lt!==4&&(Lt=2)),!1;var f=Error(o(520),{cause:i});if(f=Os(f,a),gl===null?gl=[f]:gl.push(f),Lt!==4&&(Lt=2),t===null)return!0;i=Os(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Qc(a.stateNode,i,e),_c(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=r0(u),a0(u,e,a,i),_c(a,u),!1}a=a.return}while(a!==null);return!1}var n0=Error(o(461)),Xt=!1;function ss(e,t,a,i){t.child=e===null?Kf(t,null,a,i):Ja(t,e.child,a,i)}function l0(e,t,a,i,u){a=a.render;var f=t.ref;if("ref"in i){var v={};for(var S in i)S!=="ref"&&(v[S]=i[S])}else v=i;return pa(t),i=Oc(e,t,a,v,f,u),S=Lc(),e!==null&&!Xt?(Mc(e,t,u),xr(e,t,u)):(ct&&S&&pc(t),t.flags|=1,ss(e,t,i,u),t.child)}function o0(e,t,a,i,u){if(e===null){var f=a.type;return typeof f=="function"&&!fc(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,i0(e,t,f,i,u)):(e=xo(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ad(e,u)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:qn,a(v,i)&&e.ref===t.ref)return xr(e,t,u)}return t.flags|=1,e=dr(f,i),e.ref=t.ref,e.return=t,t.child=e}function i0(e,t,a,i,u){if(e!==null){var f=e.memoizedProps;if(qn(f,i)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=i=f,ad(e,u))(e.flags&131072)!==0&&(Xt=!0);else return t.lanes=e.lanes,xr(e,t,u)}return Xc(e,t,a,i,u)}function c0(e,t,a){var i=t.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=f!==null?f.baseLanes|a:a,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~i}else t.childLanes=0,t.child=null;return d0(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jo(t,f!==null?f.cachePool:null),f!==null?of(t,f):Dc(),Qf(t);else return t.lanes=t.childLanes=536870912,d0(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(jo(t,f.cachePool),of(t,f),zr(),t.memoizedState=null):(e!==null&&jo(t,null),Dc(),zr());return ss(e,t,u,a),t.child}function d0(e,t,a,i){var u=Sc();return u=u===null?null:{parent:Yt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&jo(t,null),Dc(),Qf(t),e!==null&&Kn(e,t,i,!0),null}function $o(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xc(e,t,a,i,u){return pa(t),a=Oc(e,t,a,i,void 0,u),i=Lc(),e!==null&&!Xt?(Mc(e,t,u),xr(e,t,u)):(ct&&i&&pc(t),t.flags|=1,ss(e,t,a,u),t.child)}function u0(e,t,a,i,u,f){return pa(t),t.updateQueue=null,a=df(t,i,a,u),cf(e),i=Lc(),e!==null&&!Xt?(Mc(e,t,f),xr(e,t,f)):(ct&&i&&pc(t),t.flags|=1,ss(e,t,a,f),t.child)}function h0(e,t,a,i,u){if(pa(t),t.stateNode===null){var f=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(f=cs(v)),f=new a(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},Ec(t),v=a.contextType,f.context=typeof v=="object"&&v!==null?cs(v):Ia,f.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wc(t,a,v,i),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Kc.enqueueReplaceState(f,f.state,null),sl(t,i,f,u),tl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var S=t.memoizedProps,R=ba(a,S);f.props=R;var Q=f.context,ce=a.contextType;v=Ia,typeof ce=="object"&&ce!==null&&(v=cs(ce));var ge=a.getDerivedStateFromProps;ce=typeof ge=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,ce||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||Q!==v)&&Zf(t,f,i,v),Or=!1;var Z=t.memoizedState;f.state=Z,sl(t,i,f,u),tl(),Q=t.memoizedState,S||Z!==Q||Or?(typeof ge=="function"&&(Wc(t,a,ge,i),Q=t.memoizedState),(R=Or||Xf(t,a,R,i,Z,Q,v))?(ce||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=Q),f.props=i,f.state=Q,f.context=v,i=R):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,kc(e,t),v=t.memoizedProps,ce=ba(a,v),f.props=ce,ge=t.pendingProps,Z=f.context,Q=a.contextType,R=Ia,typeof Q=="object"&&Q!==null&&(R=cs(Q)),S=a.getDerivedStateFromProps,(Q=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ge||Z!==R)&&Zf(t,f,i,R),Or=!1,Z=t.memoizedState,f.state=Z,sl(t,i,f,u),tl();var te=t.memoizedState;v!==ge||Z!==te||Or||e!==null&&e.dependencies!==null&&vo(e.dependencies)?(typeof S=="function"&&(Wc(t,a,S,i),te=t.memoizedState),(ce=Or||Xf(t,a,ce,i,Z,te,R)||e!==null&&e.dependencies!==null&&vo(e.dependencies))?(Q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,te,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,te,R)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=te),f.props=i,f.state=te,f.context=R,i=ce):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,$o(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Ja(t,e.child,null,u),t.child=Ja(t,null,a,u)):ss(e,t,a,u),t.memoizedState=f.state,e=t.child):e=xr(e,t,u),e}function f0(e,t,a,i){return Vn(),t.flags|=256,ss(e,t,a,i),t.child}var Zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(e){return{baseLanes:e,cachePool:Jh()}}function ed(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=zs),e}function m0(e,t,a){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(u?Br(t):zr(),ct){var S=Ot,R;if(R=S){e:{for(R=S,S=Js;R.nodeType!==8;){if(!S){S=null;break e}if(R=qs(R.nextSibling),R===null){S=null;break e}}S=R}S!==null?(t.memoizedState={dehydrated:S,treeContext:ua!==null?{id:ur,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},R=Ss(18,null,null,0),R.stateNode=S,R.return=t,t.child=R,fs=t,Ot=null,R=!0):R=!1}R||ma(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Bd(S)?t.lanes=32:t.lanes=536870912,null;pr(t)}return S=i.children,i=i.fallback,u?(zr(),u=t.mode,S=Ho({mode:"hidden",children:S},u),i=da(i,u,a,null),S.return=t,i.return=t,S.sibling=i,t.child=S,u=t.child,u.memoizedState=Jc(a),u.childLanes=ed(e,v,a),t.memoizedState=Zc,i):(Br(t),td(t,S))}if(R=e.memoizedState,R!==null&&(S=R.dehydrated,S!==null)){if(f)t.flags&256?(Br(t),t.flags&=-257,t=sd(e,t,a)):t.memoizedState!==null?(zr(),t.child=e.child,t.flags|=128,t=null):(zr(),u=i.fallback,S=t.mode,i=Ho({mode:"visible",children:i.children},S),u=da(u,S,a,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,Ja(t,e.child,null,a),i=t.child,i.memoizedState=Jc(a),i.childLanes=ed(e,v,a),t.memoizedState=Zc,t=u);else if(Br(t),Bd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Q=v.dgst;v=Q,i=Error(o(419)),i.stack="",i.digest=v,Wn({value:i,source:null,stack:null}),t=sd(e,t,a)}else if(Xt||Kn(e,t,a,!1),v=(a&e.childLanes)!==0,Xt||v){if(v=bt,v!==null&&(i=a&-a,i=(i&42)!==0?1:Ct(i),i=(i&(v.suspendedLanes|a))!==0?0:i,i!==0&&i!==R.retryLane))throw R.retryLane=i,Pa(e,i),As(v,e,i),n0;S.data==="$?"||vd(),t=sd(e,t,a)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,Ot=qs(S.nextSibling),fs=t,ct=!0,fa=null,Js=!1,e!==null&&(Ms[Us++]=ur,Ms[Us++]=hr,Ms[Us++]=ua,ur=e.id,hr=e.overflow,ua=t),t=td(t,i.children),t.flags|=4096);return t}return u?(zr(),u=i.fallback,S=t.mode,R=e.child,Q=R.sibling,i=dr(R,{mode:"hidden",children:i.children}),i.subtreeFlags=R.subtreeFlags&65011712,Q!==null?u=dr(Q,u):(u=da(u,S,a,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,S=e.child.memoizedState,S===null?S=Jc(a):(R=S.cachePool,R!==null?(Q=Yt._currentValue,R=R.parent!==Q?{parent:Q,pool:Q}:R):R=Jh(),S={baseLanes:S.baseLanes|a,cachePool:R}),u.memoizedState=S,u.childLanes=ed(e,v,a),t.memoizedState=Zc,i):(Br(t),a=e.child,e=a.sibling,a=dr(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function td(e,t){return t=Ho({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ho(e,t){return e=Ss(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function sd(e,t,a){return Ja(t,e.child,null,a),e=td(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g0(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vc(e.return,t,a)}function rd(e,t,a,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=a,f.tailMode=u)}function p0(e,t,a){var i=t.pendingProps,u=i.revealOrder,f=i.tail;if(ss(e,t,i.children,a),i=Gt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g0(e,a,t);else if(e.tag===19)g0(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(k(Gt,i),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Uo(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),rd(t,!1,u,a,f);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Uo(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}rd(t,!0,a,null,f);break;case"together":rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Kn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=dr(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=dr(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ad(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vo(e)))}function by(e,t,a){switch(t.tag){case 3:Ne(t,t.stateNode.containerInfo),Rr(t,Yt,e.memoizedState.cache),Vn();break;case 27:case 5:Pe(t);break;case 4:Ne(t,t.stateNode.containerInfo);break;case 10:Rr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Br(t),t.flags|=128,null):(a&t.child.childLanes)!==0?m0(e,t,a):(Br(t),e=xr(e,t,a),e!==null?e.sibling:null);Br(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Kn(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return p0(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),k(Gt,Gt.current),i)break;return null;case 22:case 23:return t.lanes=0,c0(e,t,a);case 24:Rr(t,Yt,e.memoizedState.cache)}return xr(e,t,a)}function x0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!ad(e,a)&&(t.flags&128)===0)return Xt=!1,by(e,t,a);Xt=(e.flags&131072)!==0}else Xt=!1,ct&&(t.flags&1048576)!==0&&Gh(t,bo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")fc(i)?(e=ba(i,e),t.tag=1,t=h0(null,t,i,e,a)):(t.tag=0,t=Xc(null,t,i,e,a));else{if(i!=null){if(u=i.$$typeof,u===W){t.tag=11,t=l0(null,t,i,e,a);break e}else if(u===I){t.tag=14,t=o0(null,t,i,e,a);break e}}throw t=P(i)||i,Error(o(306,t,""))}}return t;case 0:return Xc(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=ba(i,t.pendingProps),h0(e,t,i,u,a);case 3:e:{if(Ne(t,t.stateNode.containerInfo),e===null)throw Error(o(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,kc(e,t),sl(t,i,null,a);var v=t.memoizedState;if(i=v.cache,Rr(t,Yt,i),i!==f.cache&&wc(t,[Yt],a,!0),tl(),i=v.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=f0(e,t,i,a);break e}else if(i!==u){u=Os(Error(o(424)),t),Wn(u),t=f0(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=qs(e.firstChild),fs=t,ct=!0,fa=null,Js=!0,a=Kf(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vn(),i===u){t=xr(e,t,a);break e}ss(e,t,i,a)}t=t.child}return t;case 26:return $o(e,t),e===null?(a=wm(t.type,null,t.pendingProps,null))?t.memoizedState=a:ct||(a=t.type,e=t.pendingProps,i=ei(ie.current).createElement(a),i[St]=t,i[at]=e,as(i,a,e),be(i),t.stateNode=i):t.memoizedState=wm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pe(t),e===null&&ct&&(i=t.stateNode=ym(t.type,t.pendingProps,ie.current),fs=t,Js=!0,u=Ot,Vr(t.type)?(zd=u,Ot=qs(i.firstChild)):Ot=u),ss(e,t,t.pendingProps.children,a),$o(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((u=i=Ot)&&(i=Vy(i,t.type,t.pendingProps,Js),i!==null?(t.stateNode=i,fs=t,Ot=qs(i.firstChild),Js=!1,u=!0):u=!1),u||ma(t)),Pe(t),u=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,i=f.children,Ld(u,f)?i=null:v!==null&&Ld(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Oc(e,t,uy,null,null,a),Sl._currentValue=u),$o(e,t),ss(e,t,i,a),t.child;case 6:return e===null&&ct&&((e=a=Ot)&&(a=Wy(a,t.pendingProps,Js),a!==null?(t.stateNode=a,fs=t,Ot=null,e=!0):e=!1),e||ma(t)),null;case 13:return m0(e,t,a);case 4:return Ne(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ja(t,null,i,a):ss(e,t,i,a),t.child;case 11:return l0(e,t,t.type,t.pendingProps,a);case 7:return ss(e,t,t.pendingProps,a),t.child;case 8:return ss(e,t,t.pendingProps.children,a),t.child;case 12:return ss(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Rr(t,t.type,i.value),ss(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,pa(t),u=cs(u),i=i(u),t.flags|=1,ss(e,t,i,a),t.child;case 14:return o0(e,t,t.type,t.pendingProps,a);case 15:return i0(e,t,t.type,t.pendingProps,a);case 19:return p0(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=Ho(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=dr(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return c0(e,t,a);case 24:return pa(t),i=cs(Yt),e===null?(u=Sc(),u===null&&(u=bt,f=jc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:i,cache:u},Ec(t),Rr(t,Yt,u)):((e.lanes&a)!==0&&(kc(e,t),sl(t,null,null,a),tl()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Rr(t,Yt,i)):(i=f.cache,Rr(t,Yt,i),i!==u.cache&&wc(t,[Yt],a,!0))),ss(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function yr(e){e.flags|=4}function y0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Em(t)){if(t=Bs.current,t!==null&&((nt&4194048)===nt?er!==null:(nt&62914560)!==nt&&(nt&536870912)===0||t!==er))throw Jn=Cc,ef;e.flags|=8192}}function Fo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ar():536870912,e.lanes|=t,rn|=t)}function cl(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function vy(e,t,a){var i=t.pendingProps;switch(xc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),mr(Yt),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gn(t)?yr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kh())),At(t),null;case 26:return a=t.memoizedState,e===null?(yr(t),a!==null?(At(t),y0(t,a)):(At(t),t.flags&=-16777217)):a?a!==e.memoizedState?(yr(t),At(t),y0(t,a)):(At(t),t.flags&=-16777217):(e.memoizedProps!==i&&yr(t),At(t),t.flags&=-16777217),null;case 27:Me(t),a=ie.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&yr(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return At(t),null}e=ee.current,Gn(t)?Vh(t):(e=ym(u,i,a),t.stateNode=e,yr(t))}return At(t),null;case 5:if(Me(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&yr(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return At(t),null}if(e=ee.current,Gn(t))Vh(t);else{switch(u=ei(ie.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(a,{is:i.is}):u.createElement(a)}}e[St]=t,e[at]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(as(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&yr(t)}}return At(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&yr(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(e=ie.current,Gn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=fs,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[St]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||um(e.nodeValue,a)),e||ma(t)}else e=ei(e).createTextNode(i),e[St]=t,t.stateNode=e}return At(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Gn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[St]=t}else Vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),u=!1}else u=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(pr(t),t):(pr(t),null)}if(pr(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Fo(t,t.updateQueue),At(t),null;case 4:return He(),e===null&&Ad(t.stateNode.containerInfo),At(t),null;case 10:return mr(t.type),At(t),null;case 19:if(se(Gt),u=t.memoizedState,u===null)return At(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)cl(u,!1);else{if(Lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Uo(e),f!==null){for(t.flags|=128,cl(u,!1),e=f.updateQueue,t.updateQueue=e,Fo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Yh(a,e),a=a.sibling;return k(Gt,Gt.current&1|2),t.child}e=e.sibling}u.tail!==null&&Le()>qo&&(t.flags|=128,i=!0,cl(u,!1),t.lanes=4194304)}else{if(!i)if(e=Uo(f),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Fo(t,e),cl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!ct)return At(t),null}else 2*Le()-u.renderingStartTime>qo&&a!==536870912&&(t.flags|=128,i=!0,cl(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Le(),t.sibling=null,e=Gt.current,k(Gt,i?e&1|2:e&1),t):(At(t),null);case 22:case 23:return pr(t),Tc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),a=t.updateQueue,a!==null&&Fo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&se(xa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),mr(Yt),At(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function wy(e,t){switch(xc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(Yt),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 13:if(pr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(Gt),null;case 4:return He(),null;case 10:return mr(t.type),null;case 22:case 23:return pr(t),Tc(),e!==null&&se(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return mr(Yt),null;case 25:return null;default:return null}}function b0(e,t){switch(xc(t),t.tag){case 3:mr(Yt),He();break;case 26:case 27:case 5:Me(t);break;case 4:He();break;case 13:pr(t);break;case 19:se(Gt);break;case 10:mr(t.type);break;case 22:case 23:pr(t),Tc(),e!==null&&se(xa);break;case 24:mr(Yt)}}function dl(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var f=a.create,v=a.inst;i=f(),v.destroy=i}a=a.next}while(a!==u)}}catch(S){yt(t,t.return,S)}}function $r(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var v=i.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,u=t;var R=a,Q=S;try{Q()}catch(ce){yt(u,R,ce)}}}i=i.next}while(i!==f)}}catch(ce){yt(t,t.return,ce)}}function v0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{lf(t,a)}catch(i){yt(e,e.return,i)}}}function w0(e,t,a){a.props=ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){yt(e,t,i)}}function ul(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){yt(e,t,u)}}function tr(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){yt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){yt(e,t,u)}else a.current=null}function j0(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){yt(e,e.return,u)}}function nd(e,t,a){try{var i=e.stateNode;Py(i,e.type,a,t),i[at]=t}catch(u){yt(e,e.return,u)}}function N0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function od(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Jo));else if(i!==4&&(i===27&&Vr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(od(e,t,a),e=e.sibling;e!==null;)od(e,t,a),e=e.sibling}function Po(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function S0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);as(t,i,a),t[St]=e,t[at]=a}catch(f){yt(e,e.return,f)}}var br=!1,zt=!1,id=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function jy(e,t){if(e=e.containerInfo,Rd=li,e=Mh(e),lc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,S=-1,R=-1,Q=0,ce=0,ge=e,Z=null;t:for(;;){for(var te;ge!==a||u!==0&&ge.nodeType!==3||(S=v+u),ge!==f||i!==0&&ge.nodeType!==3||(R=v+i),ge.nodeType===3&&(v+=ge.nodeValue.length),(te=ge.firstChild)!==null;)Z=ge,ge=te;for(;;){if(ge===e)break t;if(Z===a&&++Q===u&&(S=v),Z===f&&++ce===i&&(R=v),(te=ge.nextSibling)!==null)break;ge=Z,Z=ge.parentNode}ge=te}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},li=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,i=a.stateNode;try{var Ve=ba(a.type,u,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(Ve,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(qe){yt(a,a.return,qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function E0(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(e,a),i&4&&dl(5,a);break;case 1:if(Hr(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){yt(a,a.return,v)}else{var u=ba(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){yt(a,a.return,v)}}i&64&&v0(a),i&512&&ul(a,a.return);break;case 3:if(Hr(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{lf(e,t)}catch(v){yt(a,a.return,v)}}break;case 27:t===null&&i&4&&S0(a);case 26:case 5:Hr(e,a),t===null&&i&4&&j0(a),i&512&&ul(a,a.return);break;case 12:Hr(e,a);break;case 13:Hr(e,a),i&4&&A0(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ty.bind(null,a),Ky(e,a))));break;case 22:if(i=a.memoizedState!==null||br,!i){t=t!==null&&t.memoizedState!==null||zt,u=br;var f=zt;br=i,(zt=t)&&!f?Fr(e,a,(a.subtreeFlags&8772)!==0):Hr(e,a),br=u,zt=f}break;case 30:break;default:Hr(e,a)}}function k0(e){var t=e.alternate;t!==null&&(e.alternate=null,k0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,xs=!1;function vr(e,t,a){for(a=a.child;a!==null;)_0(e,t,a),a=a.sibling}function _0(e,t,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Y,a)}catch{}switch(a.tag){case 26:zt||tr(a,t),vr(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||tr(a,t);var i=Et,u=xs;Vr(a.type)&&(Et=a.stateNode,xs=!1),vr(e,t,a),vl(a.stateNode),Et=i,xs=u;break;case 5:zt||tr(a,t);case 6:if(i=Et,u=xs,Et=null,vr(e,t,a),Et=i,xs=u,Et!==null)if(xs)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(f){yt(a,t,f)}else try{Et.removeChild(a.stateNode)}catch(f){yt(a,t,f)}break;case 18:Et!==null&&(xs?(e=Et,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_l(e)):pm(Et,a.stateNode));break;case 4:i=Et,u=xs,Et=a.stateNode.containerInfo,xs=!0,vr(e,t,a),Et=i,xs=u;break;case 0:case 11:case 14:case 15:zt||$r(2,a,t),zt||$r(4,a,t),vr(e,t,a);break;case 1:zt||(tr(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&w0(a,t,i)),vr(e,t,a);break;case 21:vr(e,t,a);break;case 22:zt=(i=zt)||a.memoizedState!==null,vr(e,t,a),zt=i;break;default:vr(e,t,a)}}function A0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_l(e)}catch(a){yt(t,t.return,a)}}function Ny(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new C0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new C0),t;default:throw Error(o(435,e.tag))}}function cd(e,t){var a=Ny(e);t.forEach(function(i){var u=Ry.bind(null,e,i);a.has(i)||(a.add(i),i.then(u,u))})}function Cs(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],f=e,v=t,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Vr(S.type)){Et=S.stateNode,xs=!1;break e}break;case 5:Et=S.stateNode,xs=!1;break e;case 3:case 4:Et=S.stateNode.containerInfo,xs=!0;break e}S=S.return}if(Et===null)throw Error(o(160));_0(f,v,u),Et=null,xs=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)D0(t,e),t=t.sibling}var Is=null;function D0(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cs(t,e),Es(e),i&4&&($r(3,e,e.return),dl(3,e),$r(5,e,e.return));break;case 1:Cs(t,e),Es(e),i&512&&(zt||a===null||tr(a,a.return)),i&64&&br&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Is;if(Cs(t,e),Es(e),i&512&&(zt||a===null||tr(a,a.return)),i&4){var f=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Te]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),as(f,i,a),f[St]=e,be(f),i=f;break e;case"link":var v=Sm("link","href",u).get(i+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}f=u.createElement(i),as(f,i,a),u.head.appendChild(f);break;case"meta":if(v=Sm("meta","content",u).get(i+(a.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}f=u.createElement(i),as(f,i,a),u.head.appendChild(f);break;default:throw Error(o(468,i))}f[St]=e,be(f),i=f}e.stateNode=i}else Cm(u,e.type,e.stateNode);else e.stateNode=Nm(u,i,e.memoizedProps);else f!==i?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,i===null?Cm(u,e.type,e.stateNode):Nm(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&nd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Cs(t,e),Es(e),i&512&&(zt||a===null||tr(a,a.return)),a!==null&&i&4&&nd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Cs(t,e),Es(e),i&512&&(zt||a===null||tr(a,a.return)),e.flags&32){u=e.stateNode;try{Ma(u,"")}catch(te){yt(e,e.return,te)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,nd(e,u,a!==null?a.memoizedProps:u)),i&1024&&(id=!0);break;case 6:if(Cs(t,e),Es(e),i&4){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(te){yt(e,e.return,te)}}break;case 3:if(ri=null,u=Is,Is=ti(t.containerInfo),Cs(t,e),Is=u,Es(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(t.containerInfo)}catch(te){yt(e,e.return,te)}id&&(id=!1,T0(e));break;case 4:i=Is,Is=ti(e.stateNode.containerInfo),Cs(t,e),Es(e),Is=i;break;case 12:Cs(t,e),Es(e);break;case 13:Cs(t,e),Es(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gd=Le()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cd(e,i)));break;case 22:u=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,Q=br,ce=zt;if(br=Q||u,zt=ce||R,Cs(t,e),zt=ce,br=Q,Es(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||R||br||zt||va(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){R=a=t;try{if(f=R.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=R.stateNode;var ge=R.memoizedProps.style,Z=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(te){yt(R,R.return,te)}}}else if(t.tag===6){if(a===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(te){yt(R,R.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,cd(e,a))));break;case 19:Cs(t,e),Es(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cd(e,i)));break;case 30:break;case 21:break;default:Cs(t,e),Es(e)}}function Es(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(N0(i)){a=i;break}i=i.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var u=a.stateNode,f=ld(e);Po(e,f,u);break;case 5:var v=a.stateNode;a.flags&32&&(Ma(v,""),a.flags&=-33);var S=ld(e);Po(e,S,v);break;case 3:case 4:var R=a.stateNode.containerInfo,Q=ld(e);od(e,Q,R);break;default:throw Error(o(161))}}catch(ce){yt(e,e.return,ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;T0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Hr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)E0(e,t.alternate,t),t=t.sibling}function va(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$r(4,t,t.return),va(t);break;case 1:tr(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&w0(t,t.return,a),va(t);break;case 27:vl(t.stateNode);case 26:case 5:tr(t,t.return),va(t);break;case 22:t.memoizedState===null&&va(t);break;case 30:va(t);break;default:va(t)}e=e.sibling}}function Fr(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:Fr(u,f,a),dl(4,f);break;case 1:if(Fr(u,f,a),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Q){yt(i,i.return,Q)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)nf(R[u],S)}catch(Q){yt(i,i.return,Q)}}a&&v&64&&v0(f),ul(f,f.return);break;case 27:S0(f);case 26:case 5:Fr(u,f,a),a&&i===null&&v&4&&j0(f),ul(f,f.return);break;case 12:Fr(u,f,a);break;case 13:Fr(u,f,a),a&&v&4&&A0(u,f);break;case 22:f.memoizedState===null&&Fr(u,f,a),ul(f,f.return);break;case 30:break;default:Fr(u,f,a)}t=t.sibling}}function dd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qn(a))}function ud(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qn(e))}function sr(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)R0(e,t,a,i),t=t.sibling}function R0(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:sr(e,t,a,i),u&2048&&dl(9,t);break;case 1:sr(e,t,a,i);break;case 3:sr(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qn(e)));break;case 12:if(u&2048){sr(e,t,a,i),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){yt(t,t.return,R)}}else sr(e,t,a,i);break;case 13:sr(e,t,a,i);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?sr(e,t,a,i):hl(e,t):f._visibility&2?sr(e,t,a,i):(f._visibility|=2,en(e,t,a,i,(t.subtreeFlags&10256)!==0)),u&2048&&dd(v,t);break;case 24:sr(e,t,a,i),u&2048&&ud(t.alternate,t);break;default:sr(e,t,a,i)}}function en(e,t,a,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,v=t,S=a,R=i,Q=v.flags;switch(v.tag){case 0:case 11:case 15:en(f,v,S,R,u),dl(8,v);break;case 23:break;case 22:var ce=v.stateNode;v.memoizedState!==null?ce._visibility&2?en(f,v,S,R,u):hl(f,v):(ce._visibility|=2,en(f,v,S,R,u)),u&&Q&2048&&dd(v.alternate,v);break;case 24:en(f,v,S,R,u),u&&Q&2048&&ud(v.alternate,v);break;default:en(f,v,S,R,u)}t=t.sibling}}function hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:hl(a,i),u&2048&&dd(i.alternate,i);break;case 24:hl(a,i),u&2048&&ud(i.alternate,i);break;default:hl(a,i)}t=t.sibling}}var fl=8192;function tn(e){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)O0(e),e=e.sibling}function O0(e){switch(e.tag){case 26:tn(e),e.flags&fl&&e.memoizedState!==null&&ib(Is,e.memoizedState,e.memoizedProps);break;case 5:tn(e);break;case 3:case 4:var t=Is;Is=ti(e.stateNode.containerInfo),tn(e),Is=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fl,fl=16777216,tn(e),fl=t):tn(e));break;default:tn(e)}}function L0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Zt=i,U0(i,e)}L0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)M0(e),e=e.sibling}function M0(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&$r(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Io(e)):ml(e);break;default:ml(e)}}function Io(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Zt=i,U0(i,e)}L0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$r(8,t,t.return),Io(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Io(t));break;default:Io(t)}e=e.sibling}}function U0(e,t){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:$r(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qn(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Zt=i;else e:for(a=e;Zt!==null;){i=Zt;var u=i.sibling,f=i.return;if(k0(i),i===a){Zt=null;break e}if(u!==null){u.return=f,Zt=u;break e}Zt=f}}}var Sy={getCacheForType:function(e){var t=cs(Yt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Cy=typeof WeakMap=="function"?WeakMap:Map,ht=0,bt=null,tt=null,nt=0,ft=0,ks=null,Pr=!1,sn=!1,hd=!1,wr=0,Lt=0,Ir=0,wa=0,fd=0,zs=0,rn=0,gl=null,ys=null,md=!1,gd=0,qo=1/0,Yo=null,qr=null,rs=0,Yr=null,an=null,nn=0,pd=0,xd=null,B0=null,pl=0,yd=null;function _s(){if((ht&2)!==0&&nt!==0)return nt&-nt;if(j.T!==null){var e=Ga;return e!==0?e:Cd()}return Fs()}function z0(){zs===0&&(zs=(nt&536870912)===0||ct?Ht():536870912);var e=Bs.current;return e!==null&&(e.flags|=32),zs}function As(e,t,a){(e===bt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(ln(e,0),Gr(e,nt,zs,!1)),Ds(e,a),((ht&2)===0||e!==bt)&&(e===bt&&((ht&2)===0&&(wa|=a),Lt===4&&Gr(e,nt,zs,!1)),rr(e))}function $0(e,t,a){if((ht&6)!==0)throw Error(o(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Mt(e,t),u=i?_y(e,t):wd(e,t,!0),f=i;do{if(u===0){sn&&!i&&Gr(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!Ey(a)){u=wd(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var S=e;u=gl;var R=S.current.memoizedState.isDehydrated;if(R&&(ln(S,v).flags|=256),v=wd(S,v,!1),v!==2){if(hd&&!R){S.errorRecoveryDisabledLanes|=f,wa|=f,u=4;break e}f=ys,ys=u,f!==null&&(ys===null?ys=f:ys.push.apply(ys,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){ln(e,0),Gr(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Gr(i,t,zs,!Pr);break e;case 2:ys=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(u=gd+300-Le(),10<u)){if(Gr(i,t,zs,!Pr),os(i,0,!0)!==0)break e;i.timeoutHandle=mm(H0.bind(null,i,a,ys,Yo,md,t,zs,wa,rn,Pr,f,2,-0,0),u);break e}H0(i,a,ys,Yo,md,t,zs,wa,rn,Pr,f,0,-0,0)}}break}while(!0);rr(e)}function H0(e,t,a,i,u,f,v,S,R,Q,ce,ge,Z,te){if(e.timeoutHandle=-1,ge=t.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:ob},O0(t),ge=cb(),ge!==null)){e.cancelPendingCommit=ge(V0.bind(null,e,t,f,a,i,u,v,S,R,ce,1,Z,te)),Gr(e,f,v,!Q);return}V0(e,t,f,a,i,u,v,S,R)}function Ey(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],f=u.getSnapshot;u=u.value;try{if(!Ns(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t,a,i){t&=~fd,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-re(u),v=1<<f;i[f]=-1,u&=~v}a!==0&&Ge(e,a,t)}function Go(){return(ht&6)===0?(xl(0),!1):!0}function bd(){if(tt!==null){if(ft===0)var e=tt.return;else e=tt,fr=ga=null,Uc(e),Za=null,ol=0,e=tt;for(;e!==null;)b0(e.alternate,e),e=e.return;tt=null}}function ln(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bd(),bt=e,tt=a=dr(e.current,null),nt=t,ft=0,ks=null,Pr=!1,sn=Mt(e,t),hd=!1,rn=zs=fd=wa=Ir=Lt=0,ys=gl=null,md=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-re(i),f=1<<u;t|=e[u],i&=~f}return wr=t,mo(),a}function F0(e,t){Je=null,j.H=Oo,t===Zn||t===No?(t=rf(),ft=3):t===ef?(t=rf(),ft=4):ft=t===n0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ks=t,tt===null&&(Lt=1,zo(e,Os(t,e.current)))}function P0(){var e=j.H;return j.H=Oo,e===null?Oo:e}function I0(){var e=j.A;return j.A=Sy,e}function vd(){Lt=4,Pr||(nt&4194048)!==nt&&Bs.current!==null||(sn=!0),(Ir&134217727)===0&&(wa&134217727)===0||bt===null||Gr(bt,nt,zs,!1)}function wd(e,t,a){var i=ht;ht|=2;var u=P0(),f=I0();(bt!==e||nt!==t)&&(Yo=null,ln(e,t)),t=!1;var v=Lt;e:do try{if(ft!==0&&tt!==null){var S=tt,R=ks;switch(ft){case 8:bd(),v=6;break e;case 3:case 2:case 9:case 6:Bs.current===null&&(t=!0);var Q=ft;if(ft=0,ks=null,on(e,S,R,Q),a&&sn){v=0;break e}break;default:Q=ft,ft=0,ks=null,on(e,S,R,Q)}}ky(),v=Lt;break}catch(ce){F0(e,ce)}while(!0);return t&&e.shellSuspendCounter++,fr=ga=null,ht=i,j.H=u,j.A=f,tt===null&&(bt=null,nt=0,mo()),v}function ky(){for(;tt!==null;)q0(tt)}function _y(e,t){var a=ht;ht|=2;var i=P0(),u=I0();bt!==e||nt!==t?(Yo=null,qo=Le()+500,ln(e,t)):sn=Mt(e,t);e:do try{if(ft!==0&&tt!==null){t=tt;var f=ks;t:switch(ft){case 1:ft=0,ks=null,on(e,t,f,1);break;case 2:case 9:if(tf(f)){ft=0,ks=null,Y0(t);break}t=function(){ft!==2&&ft!==9||bt!==e||(ft=7),rr(e)},f.then(t,t);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:tf(f)?(ft=0,ks=null,Y0(t)):(ft=0,ks=null,on(e,t,f,7));break;case 5:var v=null;switch(tt.tag){case 26:v=tt.memoizedState;case 5:case 27:var S=tt;if(!v||Em(v)){ft=0,ks=null;var R=S.sibling;if(R!==null)tt=R;else{var Q=S.return;Q!==null?(tt=Q,Vo(Q)):tt=null}break t}}ft=0,ks=null,on(e,t,f,5);break;case 6:ft=0,ks=null,on(e,t,f,6);break;case 8:bd(),Lt=6;break e;default:throw Error(o(462))}}Ay();break}catch(ce){F0(e,ce)}while(!0);return fr=ga=null,j.H=i,j.A=u,ht=a,tt!==null?0:(bt=null,nt=0,mo(),Lt)}function Ay(){for(;tt!==null&&!me();)q0(tt)}function q0(e){var t=x0(e.alternate,e,wr);e.memoizedProps=e.pendingProps,t===null?Vo(e):tt=t}function Y0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=u0(a,t,t.pendingProps,t.type,void 0,nt);break;case 11:t=u0(a,t,t.pendingProps,t.type.render,t.ref,nt);break;case 5:Uc(t);default:b0(a,t),t=tt=Yh(t,wr),t=x0(a,t,wr)}e.memoizedProps=e.pendingProps,t===null?Vo(e):tt=t}function on(e,t,a,i){fr=ga=null,Uc(t),Za=null,ol=0;var u=t.return;try{if(yy(e,u,t,a,nt)){Lt=1,zo(e,Os(a,e.current)),tt=null;return}}catch(f){if(u!==null)throw tt=u,f;Lt=1,zo(e,Os(a,e.current)),tt=null;return}t.flags&32768?(ct||i===1?e=!0:sn||(nt&536870912)!==0?e=!1:(Pr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Bs.current,i!==null&&i.tag===13&&(i.flags|=16384))),G0(t,e)):Vo(t)}function Vo(e){var t=e;do{if((t.flags&32768)!==0){G0(t,Pr);return}e=t.return;var a=vy(t.alternate,t,wr);if(a!==null){tt=a;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Lt===0&&(Lt=5)}function G0(e,t){do{var a=wy(e.alternate,e);if(a!==null){a.flags&=32767,tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=a}while(e!==null);Lt=6,tt=null}function V0(e,t,a,i,u,f,v,S,R){e.cancelPendingCommit=null;do Wo();while(rs!==0);if((ht&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=uc,Dr(e,a,f,v,S,R),e===bt&&(tt=bt=null,nt=0),an=t,Yr=e,nn=a,pd=f,xd=u,B0=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Oy(X,function(){return Z0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null,u=M.p,M.p=2,v=ht,ht|=4;try{jy(e,t,a)}finally{ht=v,M.p=u,j.T=i}}rs=1,W0(),K0(),Q0()}}function W0(){if(rs===1){rs=0;var e=Yr,t=an,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var i=M.p;M.p=2;var u=ht;ht|=4;try{D0(t,e);var f=Od,v=Mh(e.containerInfo),S=f.focusedElem,R=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&Lh(S.ownerDocument.documentElement,S)){if(R!==null&&lc(S)){var Q=R.start,ce=R.end;if(ce===void 0&&(ce=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(ce,S.value.length);else{var ge=S.ownerDocument||document,Z=ge&&ge.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ve=S.textContent.length,qe=Math.min(R.start,Ve),xt=R.end===void 0?qe:Math.min(R.end,Ve);!te.extend&&qe>xt&&(v=xt,xt=qe,qe=v);var H=Oh(S,qe),B=Oh(S,xt);if(H&&B&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var V=ge.createRange();V.setStart(H.node,H.offset),te.removeAllRanges(),qe>xt?(te.addRange(V),te.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),te.addRange(V))}}}}for(ge=[],te=S;te=te.parentNode;)te.nodeType===1&&ge.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ge.length;S++){var ue=ge[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}li=!!Rd,Od=Rd=null}finally{ht=u,M.p=i,j.T=a}}e.current=t,rs=2}}function K0(){if(rs===2){rs=0;var e=Yr,t=an,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var i=M.p;M.p=2;var u=ht;ht|=4;try{E0(e,t.alternate,t)}finally{ht=u,M.p=i,j.T=a}}rs=3}}function Q0(){if(rs===4||rs===3){rs=0,je();var e=Yr,t=an,a=nn,i=B0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rs=5:(rs=0,an=Yr=null,X0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(qr=null),Ut(a),t=t.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Y,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=j.T,u=M.p,M.p=2,j.T=null;try{for(var f=e.onRecoverableError,v=0;v<i.length;v++){var S=i[v];f(S.value,{componentStack:S.stack})}}finally{j.T=t,M.p=u}}(nn&3)!==0&&Wo(),rr(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===yd?pl++:(pl=0,yd=e):pl=0,xl(0)}}function X0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qn(t)))}function Wo(e){return W0(),K0(),Q0(),Z0()}function Z0(){if(rs!==5)return!1;var e=Yr,t=pd;pd=0;var a=Ut(nn),i=j.T,u=M.p;try{M.p=32>a?32:a,j.T=null,a=xd,xd=null;var f=Yr,v=nn;if(rs=0,an=Yr=null,nn=0,(ht&6)!==0)throw Error(o(331));var S=ht;if(ht|=4,M0(f.current),R0(f,f.current,v,a),ht=S,xl(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Y,f)}catch{}return!0}finally{M.p=u,j.T=i,X0(e,t)}}function J0(e,t,a){t=Os(a,t),t=Qc(e.stateNode,t,2),e=Mr(e,t,2),e!==null&&(Ds(e,2),rr(e))}function yt(e,t,a){if(e.tag===3)J0(e,e,a);else for(;t!==null;){if(t.tag===3){J0(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(qr===null||!qr.has(i))){e=Os(a,e),a=r0(2),i=Mr(t,a,2),i!==null&&(a0(a,i,t,e),Ds(i,2),rr(i));break}}t=t.return}}function jd(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Cy;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(hd=!0,u.add(a),e=Dy.bind(null,e,t,a),t.then(e,e))}function Dy(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,bt===e&&(nt&a)===a&&(Lt===4||Lt===3&&(nt&62914560)===nt&&300>Le()-gd?(ht&2)===0&&ln(e,0):fd|=a,rn===nt&&(rn=0)),rr(e)}function em(e,t){t===0&&(t=Ar()),e=Pa(e,t),e!==null&&(Ds(e,t),rr(e))}function Ty(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),em(e,a)}function Ry(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(t),em(e,a)}function Oy(e,t){return lt(e,t)}var Ko=null,cn=null,Nd=!1,Qo=!1,Sd=!1,ja=0;function rr(e){e!==cn&&e.next===null&&(cn===null?Ko=cn=e:cn=cn.next=e),Qo=!0,Nd||(Nd=!0,My())}function xl(e,t){if(!Sd&&Qo){Sd=!0;do for(var a=!1,i=Ko;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var v=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-re(42|e)+1)-1,f&=u&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,am(i,f))}else f=nt,f=os(i,i===bt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Mt(i,f)||(a=!0,am(i,f));i=i.next}while(a);Sd=!1}}function Ly(){tm()}function tm(){Qo=Nd=!1;var e=0;ja!==0&&(Iy()&&(e=ja),ja=0);for(var t=Le(),a=null,i=Ko;i!==null;){var u=i.next,f=sm(i,t);f===0?(i.next=null,a===null?Ko=u:a.next=u,u===null&&(cn=a)):(a=i,(e!==0||(f&3)!==0)&&(Qo=!0)),i=u}xl(e)}function sm(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-re(f),S=1<<v,R=u[v];R===-1?((S&a)===0||(S&i)!==0)&&(u[v]=ut(S,t)):R<=t&&(e.expiredLanes|=S),f&=~S}if(t=bt,a=nt,a=os(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&fe(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&fe(i),Ut(a)){case 2:case 8:a=xe;break;case 32:a=X;break;case 268435456:a=Be;break;default:a=X}return i=rm.bind(null,e),a=lt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&fe(i),e.callbackPriority=2,e.callbackNode=null,2}function rm(e,t){if(rs!==0&&rs!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wo()&&e.callbackNode!==a)return null;var i=nt;return i=os(e,e===bt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:($0(e,i,t),sm(e,Le()),e.callbackNode!=null&&e.callbackNode===a?rm.bind(null,e):null)}function am(e,t){if(Wo())return null;$0(e,t,!0)}function My(){Yy(function(){(ht&6)!==0?lt(O,Ly):tm()})}function Cd(){return ja===0&&(ja=Ht()),ja}function nm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lo(""+e)}function lm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Uy(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var f=nm((u[at]||null).action),v=i.submitter;v&&(t=(t=v[at]||null)?nm(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var S=new uo("action","action",null,i,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ja!==0){var R=v?lm(u,v):new FormData(u);Yc(a,{pending:!0,data:R,method:u.method,action:f},null,R)}}else typeof f=="function"&&(S.preventDefault(),R=v?lm(u,v):new FormData(u),Yc(a,{pending:!0,data:R,method:u.method,action:f},f,R))},currentTarget:u}]})}}for(var Ed=0;Ed<dc.length;Ed++){var kd=dc[Ed],By=kd.toLowerCase(),zy=kd[0].toUpperCase()+kd.slice(1);Ps(By,"on"+zy)}Ps(zh,"onAnimationEnd"),Ps($h,"onAnimationIteration"),Ps(Hh,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(ty,"onTransitionRun"),Ps(sy,"onTransitionStart"),Ps(ry,"onTransitionCancel"),Ps(Fh,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function om(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var v=i.length-1;0<=v;v--){var S=i[v],R=S.instance,Q=S.currentTarget;if(S=S.listener,R!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=Q;try{f(u)}catch(ce){Bo(ce)}u.currentTarget=null,f=R}else for(v=0;v<i.length;v++){if(S=i[v],R=S.instance,Q=S.currentTarget,S=S.listener,R!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=Q;try{f(u)}catch(ce){Bo(ce)}u.currentTarget=null,f=R}}}}function st(e,t){var a=t[Zs];a===void 0&&(a=t[Zs]=new Set);var i=e+"__bubble";a.has(i)||(im(t,e,2,!1),a.add(i))}function _d(e,t,a){var i=0;t&&(i|=4),im(a,e,i,t)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Ad(e){if(!e[Xo]){e[Xo]=!0,ke.forEach(function(a){a!=="selectionchange"&&($y.has(a)||_d(a,!1,e),_d(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xo]||(t[Xo]=!0,_d("selectionchange",!1,t))}}function im(e,t,a,i){switch(Rm(t)){case 2:var u=hb;break;case 8:u=fb;break;default:u=Id}a=u.bind(null,t,a,e),u=void 0,!Xi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Dd(e,t,a,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var S=i.stateNode.containerInfo;if(S===u)break;if(v===4)for(v=i.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;S!==null;){if(v=Re(S),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){i=f=v;continue e}S=S.parentNode}}i=i.return}mh(function(){var Q=f,ce=Ki(a),ge=[];e:{var Z=Ph.get(e);if(Z!==void 0){var te=uo,Ve=e;switch(e){case"keypress":if(io(a)===0)break e;case"keydown":case"keyup":te=Ox;break;case"focusin":Ve="focus",te=tc;break;case"focusout":Ve="blur",te=tc;break;case"beforeblur":case"afterblur":te=tc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Ux;break;case zh:case $h:case Hh:te=Sx;break;case Fh:te=zx;break;case"scroll":case"scrollend":te=bx;break;case"wheel":te=Hx;break;case"copy":case"cut":case"paste":te=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=bh;break;case"toggle":case"beforetoggle":te=Px}var qe=(t&4)!==0,xt=!qe&&(e==="scroll"||e==="scrollend"),H=qe?Z!==null?Z+"Capture":null:Z;qe=[];for(var B=Q,V;B!==null;){var ue=B;if(V=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||V===null||H===null||(ue=Bn(B,H),ue!=null&&qe.push(bl(B,ue,V))),xt)break;B=B.return}0<qe.length&&(Z=new te(Z,Ve,null,a,ce),ge.push({event:Z,listeners:qe}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",Z&&a!==Wi&&(Ve=a.relatedTarget||a.fromElement)&&(Re(Ve)||Ve[Rt]))break e;if((te||Z)&&(Z=ce.window===ce?ce:(Z=ce.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ve=a.relatedTarget||a.toElement,te=Q,Ve=Ve?Re(Ve):null,Ve!==null&&(xt=d(Ve),qe=Ve.tag,Ve!==xt||qe!==5&&qe!==27&&qe!==6)&&(Ve=null)):(te=null,Ve=Q),te!==Ve)){if(qe=xh,ue="onMouseLeave",H="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(qe=bh,ue="onPointerLeave",H="onPointerEnter",B="pointer"),xt=te==null?Z:it(te),V=Ve==null?Z:it(Ve),Z=new qe(ue,B+"leave",te,a,ce),Z.target=xt,Z.relatedTarget=V,ue=null,Re(ce)===Q&&(qe=new qe(H,B+"enter",Ve,a,ce),qe.target=V,qe.relatedTarget=xt,ue=qe),xt=ue,te&&Ve)t:{for(qe=te,H=Ve,B=0,V=qe;V;V=dn(V))B++;for(V=0,ue=H;ue;ue=dn(ue))V++;for(;0<B-V;)qe=dn(qe),B--;for(;0<V-B;)H=dn(H),V--;for(;B--;){if(qe===H||H!==null&&qe===H.alternate)break t;qe=dn(qe),H=dn(H)}qe=null}else qe=null;te!==null&&cm(ge,Z,te,qe,!1),Ve!==null&&xt!==null&&cm(ge,xt,Ve,qe,!0)}}e:{if(Z=Q?it(Q):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var Ue=kh;else if(Ch(Z))if(_h)Ue=Zx;else{Ue=Qx;var et=Kx}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Vi(Q.elementType)&&(Ue=kh):Ue=Xx;if(Ue&&(Ue=Ue(e,Q))){Eh(ge,Ue,a,ce);break e}et&&et(e,Z,Q),e==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Gi(Z,"number",Z.value)}switch(et=Q?it(Q):window,e){case"focusin":(Ch(et)||et.contentEditable==="true")&&($a=et,oc=Q,Yn=null);break;case"focusout":Yn=oc=$a=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,Uh(ge,a,ce);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":Uh(ge,a,ce)}var Fe;if(rc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else za?Nh(e,a)&&(Ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(vh&&a.locale!=="ko"&&(za||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&za&&(Fe=gh()):(Tr=ce,Zi="value"in Tr?Tr.value:Tr.textContent,za=!0)),et=Zo(Q,Ye),0<et.length&&(Ye=new yh(Ye,e,null,a,ce),ge.push({event:Ye,listeners:et}),Fe?Ye.data=Fe:(Fe=Sh(a),Fe!==null&&(Ye.data=Fe)))),(Fe=qx?Yx(e,a):Gx(e,a))&&(Ye=Zo(Q,"onBeforeInput"),0<Ye.length&&(et=new yh("onBeforeInput","beforeinput",null,a,ce),ge.push({event:et,listeners:Ye}),et.data=Fe)),Uy(ge,e,Q,a,ce)}om(ge,t)})}function bl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zo(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Bn(e,a),u!=null&&i.unshift(bl(e,u,f)),u=Bn(e,t),u!=null&&i.push(bl(e,u,f))),e.tag===3)return i;e=e.return}return[]}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cm(e,t,a,i,u){for(var f=t._reactName,v=[];a!==null&&a!==i;){var S=a,R=S.alternate,Q=S.stateNode;if(S=S.tag,R!==null&&R===i)break;S!==5&&S!==26&&S!==27||Q===null||(R=Q,u?(Q=Bn(a,f),Q!=null&&v.unshift(bl(a,Q,R))):u||(Q=Bn(a,f),Q!=null&&v.push(bl(a,Q,R)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var Hy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(Hy,`
`).replace(Fy,"")}function um(e,t){return t=dm(t),dm(e)===t}function Jo(){}function pt(e,t,a,i,u,f){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ma(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ma(e,""+i);break;case"className":ro(e,"class",i);break;case"tabIndex":ro(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ro(e,a,i);break;case"style":hh(e,i,f);break;case"data":if(t!=="object"){ro(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=lo(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&pt(e,t,"name",u.name,u,null),pt(e,t,"formEncType",u.formEncType,u,null),pt(e,t,"formMethod",u.formMethod,u,null),pt(e,t,"formTarget",u.formTarget,u,null)):(pt(e,t,"encType",u.encType,u,null),pt(e,t,"method",u.method,u,null),pt(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=lo(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Jo);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=lo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":st("beforetoggle",e),st("toggle",e),so(e,"popover",i);break;case"xlinkActuate":ir(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ir(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ir(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ir(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ir(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ir(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ir(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ir(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ir(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":so(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xx.get(a)||a,so(e,a,i))}}function Td(e,t,a,i,u,f){switch(a){case"style":hh(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Ma(e,i):(typeof i=="number"||typeof i=="bigint")&&Ma(e,""+i);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Jo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[at]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):so(e,a,i)}}}function as(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var i=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:pt(e,t,f,v,a,null)}}u&&pt(e,t,"srcSet",a.srcSet,a,null),i&&pt(e,t,"src",a.src,a,null);return;case"input":st("invalid",e);var S=f=v=u=null,R=null,Q=null;for(i in a)if(a.hasOwnProperty(i)){var ce=a[i];if(ce!=null)switch(i){case"name":u=ce;break;case"type":v=ce;break;case"checked":R=ce;break;case"defaultChecked":Q=ce;break;case"value":f=ce;break;case"defaultValue":S=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(137,t));break;default:pt(e,t,i,ce,a,null)}}ih(e,f,S,R,Q,v,u,!1),ao(e);return;case"select":st("invalid",e),i=v=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":i=S;default:pt(e,t,u,S,a,null)}t=f,a=v,e.multiple=!!i,t!=null?La(e,!!i,t,!1):a!=null&&La(e,!!i,a,!0);return;case"textarea":st("invalid",e),f=u=i=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:pt(e,t,v,S,a,null)}dh(e,i,u,f),ao(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(i=a[R],i!=null))switch(R){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pt(e,t,R,i,a,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(i=0;i<yl.length;i++)st(yl[i],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(i=a[Q],i!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:pt(e,t,Q,i,a,null)}return;default:if(Vi(t)){for(ce in a)a.hasOwnProperty(ce)&&(i=a[ce],i!==void 0&&Td(e,t,ce,i,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(i=a[S],i!=null&&pt(e,t,S,i,a,null))}function Py(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,S=null,R=null,Q=null,ce=null;for(te in a){var ge=a[te];if(a.hasOwnProperty(te)&&ge!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":R=ge;default:i.hasOwnProperty(te)||pt(e,t,te,null,i,ge)}}for(var Z in i){var te=i[Z];if(ge=a[Z],i.hasOwnProperty(Z)&&(te!=null||ge!=null))switch(Z){case"type":f=te;break;case"name":u=te;break;case"checked":Q=te;break;case"defaultChecked":ce=te;break;case"value":v=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,t));break;default:te!==ge&&pt(e,t,Z,te,i,ge)}}Yi(e,v,S,R,Q,ce,f,u);return;case"select":te=v=S=Z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":te=R;default:i.hasOwnProperty(f)||pt(e,t,f,null,i,R)}for(u in i)if(f=i[u],R=a[u],i.hasOwnProperty(u)&&(f!=null||R!=null))switch(u){case"value":Z=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==R&&pt(e,t,u,f,i,R)}t=S,a=v,i=te,Z!=null?La(e,!!a,Z,!1):!!i!=!!a&&(t!=null?La(e,!!a,t,!0):La(e,!!a,a?[]:"",!1));return;case"textarea":te=Z=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(e,t,S,null,i,u)}for(v in i)if(u=i[v],f=a[v],i.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":Z=u;break;case"defaultValue":te=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==f&&pt(e,t,v,u,i,f)}ch(e,Z,te);return;case"option":for(var Ve in a)if(Z=a[Ve],a.hasOwnProperty(Ve)&&Z!=null&&!i.hasOwnProperty(Ve))switch(Ve){case"selected":e.selected=!1;break;default:pt(e,t,Ve,null,i,Z)}for(R in i)if(Z=i[R],te=a[R],i.hasOwnProperty(R)&&Z!==te&&(Z!=null||te!=null))switch(R){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:pt(e,t,R,Z,i,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in a)Z=a[qe],a.hasOwnProperty(qe)&&Z!=null&&!i.hasOwnProperty(qe)&&pt(e,t,qe,null,i,Z);for(Q in i)if(Z=i[Q],te=a[Q],i.hasOwnProperty(Q)&&Z!==te&&(Z!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,t));break;default:pt(e,t,Q,Z,i,te)}return;default:if(Vi(t)){for(var xt in a)Z=a[xt],a.hasOwnProperty(xt)&&Z!==void 0&&!i.hasOwnProperty(xt)&&Td(e,t,xt,void 0,i,Z);for(ce in i)Z=i[ce],te=a[ce],!i.hasOwnProperty(ce)||Z===te||Z===void 0&&te===void 0||Td(e,t,ce,Z,i,te);return}}for(var H in a)Z=a[H],a.hasOwnProperty(H)&&Z!=null&&!i.hasOwnProperty(H)&&pt(e,t,H,null,i,Z);for(ge in i)Z=i[ge],te=a[ge],!i.hasOwnProperty(ge)||Z===te||Z==null&&te==null||pt(e,t,ge,Z,i,te)}var Rd=null,Od=null;function ei(e){return e.nodeType===9?e:e.ownerDocument}function hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Md=null;function Iy(){var e=window.event;return e&&e.type==="popstate"?e===Md?!1:(Md=e,!0):(Md=null,!1)}var mm=typeof setTimeout=="function"?setTimeout:void 0,qy=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(Gy)}:mm;function Gy(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function pm(e,t){var a=t,i=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<i&&8>i){a=i;var v=e.ownerDocument;if(a&1&&vl(v.documentElement),a&2&&vl(v.body),a&4)for(a=v.head,vl(a),v=a.firstChild;v;){var S=v.nextSibling,R=v.nodeName;v[Te]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(u===0){e.removeChild(f),_l(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:i=a.charCodeAt(0)-48;else i=0;a=f}while(a);_l(t)}function Ud(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),_e(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vy(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Te])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qs(e.nextSibling),e===null)break}return null}function Wy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qs(e.nextSibling),e===null))return null;return e}function Bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ky(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function qs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var zd=null;function xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function ym(e,t,a){switch(t=ei(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_e(e)}var $s=new Map,bm=new Set;function ti(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jr=M.d;M.d={f:Qy,r:Xy,D:Zy,C:Jy,L:eb,m:tb,X:rb,S:sb,M:ab};function Qy(){var e=jr.f(),t=Go();return e||t}function Xy(e){var t=Ie(e);t!==null&&t.tag===5&&t.type==="form"?$f(t):jr.r(e)}var un=typeof document>"u"?null:document;function vm(e,t,a){var i=un;if(i&&typeof t=="string"&&t){var u=Rs(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),bm.has(u)||(bm.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),as(t,"link",e),be(t),i.head.appendChild(t)))}}function Zy(e){jr.D(e),vm("dns-prefetch",e,null)}function Jy(e,t){jr.C(e,t),vm("preconnect",e,t)}function eb(e,t,a){jr.L(e,t,a);var i=un;if(i&&e&&t){var u='link[rel="preload"][as="'+Rs(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Rs(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Rs(a.imageSizes)+'"]')):u+='[href="'+Rs(e)+'"]';var f=u;switch(t){case"style":f=hn(e);break;case"script":f=fn(e)}$s.has(f)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$s.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(wl(f))||t==="script"&&i.querySelector(jl(f))||(t=i.createElement("link"),as(t,"link",e),be(t),i.head.appendChild(t)))}}function tb(e,t){jr.m(e,t);var a=un;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Rs(i)+'"][href="'+Rs(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fn(e)}if(!$s.has(f)&&(e=x({rel:"modulepreload",href:e},t),$s.set(f,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(f)))return}i=a.createElement("link"),as(i,"link",e),be(i),a.head.appendChild(i)}}}function sb(e,t,a){jr.S(e,t,a);var i=un;if(i&&e){var u=Oe(i).hoistableStyles,f=hn(e);t=t||"default";var v=u.get(f);if(!v){var S={loading:0,preload:null};if(v=i.querySelector(wl(f)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$s.get(f))&&$d(e,a);var R=v=i.createElement("link");be(R),as(R,"link",e),R._p=new Promise(function(Q,ce){R.onload=Q,R.onerror=ce}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,si(v,t,i)}v={type:"stylesheet",instance:v,count:1,state:S},u.set(f,v)}}}function rb(e,t){jr.X(e,t);var a=un;if(a&&e){var i=Oe(a).hoistableScripts,u=fn(e),f=i.get(u);f||(f=a.querySelector(jl(u)),f||(e=x({src:e,async:!0},t),(t=$s.get(u))&&Hd(e,t),f=a.createElement("script"),be(f),as(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function ab(e,t){jr.M(e,t);var a=un;if(a&&e){var i=Oe(a).hoistableScripts,u=fn(e),f=i.get(u);f||(f=a.querySelector(jl(u)),f||(e=x({src:e,async:!0,type:"module"},t),(t=$s.get(u))&&Hd(e,t),f=a.createElement("script"),be(f),as(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function wm(e,t,a,i){var u=(u=ie.current)?ti(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=hn(a.href),a=Oe(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hn(a.href);var f=Oe(u).hoistableStyles,v=f.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=u.querySelector(wl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),$s.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$s.set(e,a),f||nb(u,e,a,v.state))),t&&i===null)throw Error(o(528,""));return v}if(t&&i!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fn(a),a=Oe(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function hn(e){return'href="'+Rs(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function jm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),as(t,"link",a),be(t),e.head.appendChild(t))}function fn(e){return'[src="'+Rs(e)+'"]'}function jl(e){return"script[async]"+e}function Nm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Rs(a.href)+'"]');if(i)return t.instance=i,be(i),i;var u=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),be(i),as(i,"style",u),si(i,a.precedence,e),t.instance=i;case"stylesheet":u=hn(a.href);var f=e.querySelector(wl(u));if(f)return t.state.loading|=4,t.instance=f,be(f),f;i=jm(a),(u=$s.get(u))&&$d(i,u),f=(e.ownerDocument||e).createElement("link"),be(f);var v=f;return v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),as(f,"link",i),t.state.loading|=4,si(f,a.precedence,e),t.instance=f;case"script":return f=fn(a.src),(u=e.querySelector(jl(f)))?(t.instance=u,be(u),u):(i=a,(u=$s.get(f))&&(i=x({},a),Hd(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),be(u),as(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,si(i,a.precedence,e));return t.instance}function si(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,v=0;v<i.length;v++){var S=i[v];if(S.dataset.precedence===t)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function $d(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ri=null;function Sm(e,t,a){if(ri===null){var i=new Map,u=ri=new Map;u.set(a,i)}else u=ri,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Te]||f[St]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var S=i.get(v);S?S.push(f):i.set(v,[f])}}return i}function Cm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function lb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Em(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Nl=null;function ob(){}function ib(e,t,a){if(Nl===null)throw Error(o(475));var i=Nl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=hn(a.href),f=e.querySelector(wl(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=ai.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=f,be(f);return}f=e.ownerDocument||e,a=jm(a),(u=$s.get(u))&&$d(a,u),f=f.createElement("link"),be(f);var v=f;v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),as(f,"link",a),t.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=ai.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function cb(){if(Nl===null)throw Error(o(475));var e=Nl;return e.stylesheets&&e.count===0&&Fd(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Fd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ai(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ni=null;function Fd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ni=new Map,t.forEach(db,e),ni=null,ai.call(e))}function db(e,t){if(!(t.state.loading&4)){var a=ni.get(e);if(a)var i=a.get(null);else{a=new Map,ni.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),i=v)}i&&a.set(null,i)}u=t.instance,v=u.getAttribute("data-precedence"),f=a.get(v)||i,f===i&&a.set(null,u),a.set(v,u),this.count++,i=ai.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Sl={$$typeof:L,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function ub(e,t,a,i,u,f,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.hiddenUpdates=or(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function km(e,t,a,i,u,f,v,S,R,Q,ce,ge){return e=new ub(e,t,a,v,S,R,Q,ge),t=1,f===!0&&(t|=24),f=Ss(3,null,null,t),e.current=f,f.stateNode=e,t=jc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:a,cache:t},Ec(f),e}function _m(e){return e?(e=Ia,e):Ia}function Am(e,t,a,i,u,f){u=_m(u),i.context===null?i.context=u:i.pendingContext=u,i=Lr(t),i.payload={element:a},f=f===void 0?null:f,f!==null&&(i.callback=f),a=Mr(e,i,t),a!==null&&(As(a,e,t),el(a,e,t))}function Dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Pd(e,t){Dm(e,t),(e=e.alternate)&&Dm(e,t)}function Tm(e){if(e.tag===13){var t=Pa(e,67108864);t!==null&&As(t,e,67108864),Pd(e,67108864)}}var li=!0;function hb(e,t,a,i){var u=j.T;j.T=null;var f=M.p;try{M.p=2,Id(e,t,a,i)}finally{M.p=f,j.T=u}}function fb(e,t,a,i){var u=j.T;j.T=null;var f=M.p;try{M.p=8,Id(e,t,a,i)}finally{M.p=f,j.T=u}}function Id(e,t,a,i){if(li){var u=qd(i);if(u===null)Dd(e,t,i,oi,a),Om(e,i);else if(gb(u,e,t,a,i))i.stopPropagation();else if(Om(e,i),t&4&&-1<mb.indexOf(e)){for(;u!==null;){var f=Ie(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Qt(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var R=1<<31-re(v);S.entanglements[1]|=R,v&=~R}rr(f),(ht&6)===0&&(qo=Le()+500,xl(0))}}break;case 13:S=Pa(f,2),S!==null&&As(S,f,2),Go(),Pd(f,2)}if(f=qd(i),f===null&&Dd(e,t,i,oi,a),f===u)break;u=f}u!==null&&i.stopPropagation()}else Dd(e,t,i,null,a)}}function qd(e){return e=Ki(e),Yd(e)}var oi=null;function Yd(e){if(oi=null,e=Re(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oi=e,null}function Rm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K()){case O:return 2;case xe:return 8;case X:case le:return 32;case Be:return 268435456;default:return 32}default:return 32}}var Gd=!1,Wr=null,Kr=null,Qr=null,Cl=new Map,El=new Map,Xr=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function kl(e,t,a,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Ie(t),t!==null&&Tm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function gb(e,t,a,i,u){switch(t){case"focusin":return Wr=kl(Wr,e,t,a,i,u),!0;case"dragenter":return Kr=kl(Kr,e,t,a,i,u),!0;case"mouseover":return Qr=kl(Qr,e,t,a,i,u),!0;case"pointerover":var f=u.pointerId;return Cl.set(f,kl(Cl.get(f)||null,e,t,a,i,u)),!0;case"gotpointercapture":return f=u.pointerId,El.set(f,kl(El.get(f)||null,e,t,a,i,u)),!0}return!1}function Lm(e){var t=Re(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,_t(e.priority,function(){if(a.tag===13){var i=_s();i=Ct(i);var u=Pa(a,i);u!==null&&As(u,a,i),Pd(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Wi=i,a.target.dispatchEvent(i),Wi=null}else return t=Ie(a),t!==null&&Tm(t),e.blockedOn=a,!1;t.shift()}return!0}function Mm(e,t,a){ii(e)&&a.delete(t)}function pb(){Gd=!1,Wr!==null&&ii(Wr)&&(Wr=null),Kr!==null&&ii(Kr)&&(Kr=null),Qr!==null&&ii(Qr)&&(Qr=null),Cl.forEach(Mm),El.forEach(Mm)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,Gd||(Gd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pb)))}var di=null;function Um(e){di!==e&&(di=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){di===e&&(di=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(Yd(i||a)===null)continue;break}var f=Ie(a);f!==null&&(e.splice(t,3),t-=3,Yc(f,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function _l(e){function t(R){return ci(R,e)}Wr!==null&&ci(Wr,e),Kr!==null&&ci(Kr,e),Qr!==null&&ci(Qr,e),Cl.forEach(t),El.forEach(t);for(var a=0;a<Xr.length;a++){var i=Xr[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Lm(a),a.blockedOn===null&&Xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],f=a[i+1],v=u[at]||null;if(typeof f=="function")v||Um(a);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[at]||null)S=v.formAction;else if(Yd(u)!==null)continue}else S=v.action;typeof S=="function"?a[i+1]=S:(a.splice(i,3),i-=3),Um(a)}}}function Vd(e){this._internalRoot=e}ui.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,i=_s();Am(a,i,e,t,null,null)},ui.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Am(e.current,2,null,e,null,null),Go(),t[Rt]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fs();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xr.length&&t!==0&&t<Xr[a].priority;a++);Xr.splice(a,0,e),a===0&&Lm(e)}};var Bm=r.version;if(Bm!=="19.1.1")throw Error(o(527,Bm,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{Y=hi.inject(xb),we=hi}catch{}}return Dl.createRoot=function(e,t){if(!c(e))throw Error(o(299));var a=!1,i="",u=Jf,f=e0,v=t0,S=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=km(e,1,!1,null,null,a,i,u,f,v,S,null),e[Rt]=t.current,Ad(e),new Vd(t)},Dl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(o(299));var i=!1,u="",f=Jf,v=e0,S=t0,R=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),t=km(e,1,!0,t,a??null,i,u,f,v,S,R,Q),t.context=_m(null),a=t.current,i=_s(),i=Ct(i),u=Lr(i),u.callback=null,Mr(a,u,i),a=i,t.current.lanes=a,Ds(t,a),rr(t),e[Rt]=t.current,Ad(e),new ui(t)},Dl.version="19.1.1",Dl}var Vm;function kb(){if(Vm)return Qd.exports;Vm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Qd.exports=Eb(),Qd.exports}var _b=kb();/**
 * react-router v7.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wm="popstate";function Ab(n={}){function r(o,c){let{pathname:d,search:h,hash:m}=o.location;return mu("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(o,c){return typeof c=="string"?c:Hl(c)}return Tb(r,l,null,n)}function kt(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Vs(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Db(){return Math.random().toString(36).substring(2,10)}function Km(n,r){return{usr:n.state,key:n.key,idx:r}}function mu(n,r,l=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?An(r):r,state:l,key:r&&r.key||o||Db()}}function Hl({pathname:n="/",search:r="",hash:l=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function An(n){let r={};if(n){let l=n.indexOf("#");l>=0&&(r.hash=n.substring(l),n=n.substring(0,l));let o=n.indexOf("?");o>=0&&(r.search=n.substring(o),n=n.substring(0,o)),n&&(r.pathname=n)}return r}function Tb(n,r,l,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,h=c.history,m="POP",p=null,g=x();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function x(){return(h.state||{idx:null}).idx}function y(){m="POP";let _=x(),T=_==null?null:_-g;g=_,p&&p({action:m,location:A.location,delta:T})}function w(_,T){m="PUSH";let D=mu(A.location,_,T);g=x()+1;let L=Km(D,g),W=A.createHref(D);try{h.pushState(L,"",W)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(W)}d&&p&&p({action:m,location:A.location,delta:1})}function C(_,T){m="REPLACE";let D=mu(A.location,_,T);g=x();let L=Km(D,g),W=A.createHref(D);h.replaceState(L,"",W),d&&p&&p({action:m,location:A.location,delta:0})}function N(_){return Rb(_)}let A={get action(){return m},get location(){return n(c,h)},listen(_){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Wm,y),p=_,()=>{c.removeEventListener(Wm,y),p=null}},createHref(_){return r(c,_)},createURL:N,encodeLocation(_){let T=N(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:C,go(_){return h.go(_)}};return A}function Rb(n,r=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),kt(l,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Hl(n);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Vg(n,r,l="/"){return Ob(n,r,l,!1)}function Ob(n,r,l,o){let c=typeof r=="string"?An(r):r,d=Er(c.pathname||"/",l);if(d==null)return null;let h=Wg(n);Lb(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Yb(d);m=Ib(h[p],g,o)}return m}function Wg(n,r=[],l=[],o="",c=!1){let d=(h,m,p=c,g)=>{let x={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&p)return;kt(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let y=Cr([o,x.relativePath]),w=l.concat(x);h.children&&h.children.length>0&&(kt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Wg(h.children,r,w,y,p)),!(h.path==null&&!h.index)&&r.push({path:y,score:Fb(y,h.index),routesMeta:w})};return n.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let p of Kg(h.path))d(h,m,!0,p)}),r}function Kg(n){let r=n.split("/");if(r.length===0)return[];let[l,...o]=r,c=l.endsWith("?"),d=l.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let h=Kg(o.join("/")),m=[];return m.push(...h.map(p=>p===""?d:[d,p].join("/"))),c&&m.push(...h),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function Lb(n){n.sort((r,l)=>r.score!==l.score?l.score-r.score:Pb(r.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var Mb=/^:[\w-]+$/,Ub=3,Bb=2,zb=1,$b=10,Hb=-2,Qm=n=>n==="*";function Fb(n,r){let l=n.split("/"),o=l.length;return l.some(Qm)&&(o+=Hb),r&&(o+=Bb),l.filter(c=>!Qm(c)).reduce((c,d)=>c+(Mb.test(d)?Ub:d===""?zb:$b),o)}function Pb(n,r){return n.length===r.length&&n.slice(0,-1).every((o,c)=>o===r[c])?n[n.length-1]-r[r.length-1]:0}function Ib(n,r,l=!1){let{routesMeta:o}=n,c={},d="/",h=[];for(let m=0;m<o.length;++m){let p=o[m],g=m===o.length-1,x=d==="/"?r:r.slice(d.length)||"/",y=ki({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),w=p.route;if(!y&&g&&l&&!o[o.length-1].route.index&&(y=ki({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(c,y.params),h.push({params:c,pathname:Cr([d,y.pathname]),pathnameBase:Kb(Cr([d,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(d=Cr([d,y.pathnameBase]))}return h}function ki(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,o]=qb(n.path,n.caseSensitive,n.end),c=r.match(l);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((g,{paramName:x,isOptional:y},w)=>{if(x==="*"){let N=m[w]||"";h=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const C=m[w];return y&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:h,pattern:n}}function qb(n,r=!1,l=!0){Vs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(o.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function Yb(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Vs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function Er(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let l=r.endsWith("/")?r.length-1:r.length,o=n.charAt(l);return o&&o!=="/"?null:n.slice(l)||"/"}function Gb(n,r="/"){let{pathname:l,search:o="",hash:c=""}=typeof n=="string"?An(n):n;return{pathname:l?l.startsWith("/")?l:Vb(l,r):r,search:Qb(o),hash:Xb(c)}}function Vb(n,r){let l=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function eu(n,r,l,o){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wb(n){return n.filter((r,l)=>l===0||r.route.path&&r.route.path.length>0)}function Bu(n){let r=Wb(n);return r.map((l,o)=>o===r.length-1?l.pathname:l.pathnameBase)}function zu(n,r,l,o=!1){let c;typeof n=="string"?c=An(n):(c={...n},kt(!c.pathname||!c.pathname.includes("?"),eu("?","pathname","search",c)),kt(!c.pathname||!c.pathname.includes("#"),eu("#","pathname","hash",c)),kt(!c.search||!c.search.includes("#"),eu("#","search","hash",c)));let d=n===""||c.pathname==="",h=d?"/":c.pathname,m;if(h==null)m=l;else{let y=r.length-1;if(!o&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),y-=1;c.pathname=w.join("/")}m=y>=0?r[y]:"/"}let p=Gb(c,m),g=h&&h!=="/"&&h.endsWith("/"),x=(d||h===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Cr=n=>n.join("/").replace(/\/\/+/g,"/"),Kb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Xb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Zb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Qg=["POST","PUT","PATCH","DELETE"];new Set(Qg);var Jb=["GET",...Qg];new Set(Jb);var Dn=b.createContext(null);Dn.displayName="DataRouter";var Ri=b.createContext(null);Ri.displayName="DataRouterState";b.createContext(!1);var Xg=b.createContext({isTransitioning:!1});Xg.displayName="ViewTransition";var ev=b.createContext(new Map);ev.displayName="Fetchers";var tv=b.createContext(null);tv.displayName="Await";var Ws=b.createContext(null);Ws.displayName="Navigation";var Il=b.createContext(null);Il.displayName="Location";var Ks=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";var $u=b.createContext(null);$u.displayName="RouteError";function sv(n,{relative:r}={}){kt(Tn(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=b.useContext(Ws),{hash:c,pathname:d,search:h}=Yl(n,{relative:r}),m=d;return l!=="/"&&(m=d==="/"?l:Cr([l,d])),o.createHref({pathname:m,search:h,hash:c})}function Tn(){return b.useContext(Il)!=null}function Qs(){return kt(Tn(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Il).location}var Zg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jg(n){b.useContext(Ws).static||b.useLayoutEffect(n)}function Tt(){let{isDataRoute:n}=b.useContext(Ks);return n?gv():rv()}function rv(){kt(Tn(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(Dn),{basename:r,navigator:l}=b.useContext(Ws),{matches:o}=b.useContext(Ks),{pathname:c}=Qs(),d=JSON.stringify(Bu(o)),h=b.useRef(!1);return Jg(()=>{h.current=!0}),b.useCallback((p,g={})=>{if(Vs(h.current,Zg),!h.current)return;if(typeof p=="number"){l.go(p);return}let x=zu(p,JSON.parse(d),c,g.relative==="path");n==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Cr([r,x.pathname])),(g.replace?l.replace:l.push)(x,g.state,g)},[r,l,d,c,n])}b.createContext(null);function ql(){let{matches:n}=b.useContext(Ks),r=n[n.length-1];return r?r.params:{}}function Yl(n,{relative:r}={}){let{matches:l}=b.useContext(Ks),{pathname:o}=Qs(),c=JSON.stringify(Bu(l));return b.useMemo(()=>zu(n,JSON.parse(c),o,r==="path"),[n,c,o,r])}function av(n,r){return ep(n,r)}function ep(n,r,l,o,c){kt(Tn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(Ws),{matches:h}=b.useContext(Ks),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let D=y&&y.path||"";tp(g,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=Qs(),C;if(r){let D=typeof r=="string"?An(r):r;kt(x==="/"||D.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${D.pathname}" was given in the \`location\` prop.`),C=D}else C=w;let N=C.pathname||"/",A=N;if(x!=="/"){let D=x.replace(/^\//,"").split("/");A="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let _=Vg(n,{pathname:A});Vs(y||_!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Vs(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=cv(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:Cr([x,d.encodeLocation?d.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?x:Cr([x,d.encodeLocation?d.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,l,o,c);return r&&T?b.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},T):T}function nv(){let n=mv(),r=Zb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),l?b.createElement("pre",{style:c},l):null,h)}var lv=b.createElement(nv,null),ov=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){this.props.unstable_onError?this.props.unstable_onError(n,r):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?b.createElement(Ks.Provider,{value:this.props.routeContext},b.createElement($u.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iv({routeContext:n,match:r,children:l}){let o=b.useContext(Dn);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Ks.Provider,{value:n},l)}function cv(n,r=[],l=null,o=null,c=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(r.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let d=n,h=l?.errors;if(h!=null){let g=d.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);kt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let m=!1,p=-1;if(l)for(let g=0;g<d.length;g++){let x=d[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:y,errors:w}=l,C=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!w||w[x.route.id]===void 0);if(x.route.lazy||C){m=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}return d.reduceRight((g,x,y)=>{let w,C=!1,N=null,A=null;l&&(w=h&&x.route.id?h[x.route.id]:void 0,N=x.route.errorElement||lv,m&&(p<0&&y===0?(tp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,A=null):p===y&&(C=!0,A=x.route.hydrateFallbackElement||null)));let _=r.concat(d.slice(0,y+1)),T=()=>{let D;return w?D=N:C?D=A:x.route.Component?D=b.createElement(x.route.Component,null):x.route.element?D=x.route.element:D=g,b.createElement(iv,{match:x,routeContext:{outlet:g,matches:_,isDataRoute:l!=null},children:D})};return l&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?b.createElement(ov,{location:l.location,revalidation:l.revalidation,component:N,error:w,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:o}):T()},null)}function Hu(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(n){let r=b.useContext(Dn);return kt(r,Hu(n)),r}function uv(n){let r=b.useContext(Ri);return kt(r,Hu(n)),r}function hv(n){let r=b.useContext(Ks);return kt(r,Hu(n)),r}function Fu(n){let r=hv(n),l=r.matches[r.matches.length-1];return kt(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function fv(){return Fu("useRouteId")}function mv(){let n=b.useContext($u),r=uv("useRouteError"),l=Fu("useRouteError");return n!==void 0?n:r.errors?.[l]}function gv(){let{router:n}=dv("useNavigate"),r=Fu("useNavigate"),l=b.useRef(!1);return Jg(()=>{l.current=!0}),b.useCallback(async(c,d={})=>{Vs(l.current,Zg),l.current&&(typeof c=="number"?n.navigate(c):await n.navigate(c,{fromRouteId:r,...d}))},[n,r])}var Xm={};function tp(n,r,l){!r&&!Xm[n]&&(Xm[n]=!0,Vs(!1,l))}b.memo(pv);function pv({routes:n,future:r,state:l,unstable_onError:o}){return ep(n,void 0,l,o,r)}function sp({to:n,replace:r,state:l,relative:o}){kt(Tn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Ws);Vs(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Ks),{pathname:h}=Qs(),m=Tt(),p=zu(n,Bu(d),h,o==="path"),g=JSON.stringify(p);return b.useEffect(()=>{m(JSON.parse(g),{replace:r,state:l,relative:o})},[m,g,o,r,l]),null}function vt(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xv({basename:n="/",children:r=null,location:l,navigationType:o="POP",navigator:c,static:d=!1}){kt(!Tn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:h,navigator:c,static:d,future:{}}),[h,c,d]);typeof l=="string"&&(l=An(l));let{pathname:p="/",search:g="",hash:x="",state:y=null,key:w="default"}=l,C=b.useMemo(()=>{let N=Er(p,h);return N==null?null:{location:{pathname:N,search:g,hash:x,state:y,key:w},navigationType:o}},[h,p,g,x,y,w,o]);return Vs(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:b.createElement(Ws.Provider,{value:m},b.createElement(Il.Provider,{children:r,value:C}))}function yv({children:n,location:r}){return av(gu(n),r)}function gu(n,r=[]){let l=[];return b.Children.forEach(n,(o,c)=>{if(!b.isValidElement(o))return;let d=[...r,c];if(o.type===b.Fragment){l.push.apply(l,gu(o.props.children,d));return}kt(o.type===vt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=gu(o.props.children,d)),l.push(h)}),l}var ji="get",Ni="application/x-www-form-urlencoded";function Oi(n){return n!=null&&typeof n.tagName=="string"}function bv(n){return Oi(n)&&n.tagName.toLowerCase()==="button"}function vv(n){return Oi(n)&&n.tagName.toLowerCase()==="form"}function wv(n){return Oi(n)&&n.tagName.toLowerCase()==="input"}function jv(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Nv(n,r){return n.button===0&&(!r||r==="_self")&&!jv(n)}var fi=null;function Sv(){if(fi===null)try{new FormData(document.createElement("form"),0),fi=!1}catch{fi=!0}return fi}var Cv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tu(n){return n!=null&&!Cv.has(n)?(Vs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ni}"`),null):n}function Ev(n,r){let l,o,c,d,h;if(vv(n)){let m=n.getAttribute("action");o=m?Er(m,r):null,l=n.getAttribute("method")||ji,c=tu(n.getAttribute("enctype"))||Ni,d=new FormData(n)}else if(bv(n)||wv(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(o=p?Er(p,r):null,l=n.getAttribute("formmethod")||m.getAttribute("method")||ji,c=tu(n.getAttribute("formenctype"))||tu(m.getAttribute("enctype"))||Ni,d=new FormData(m,n),!Sv()){let{name:g,type:x,value:y}=n;if(x==="image"){let w=g?`${g}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else g&&d.append(g,y)}}else{if(Oi(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=ji,o=null,c=Ni,h=n}return d&&c==="text/plain"&&(h=d,d=void 0),{action:o,method:l.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pu(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function kv(n,r,l){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${l}`:r&&Er(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function _v(n,r){if(n.id in r)return r[n.id];try{let l=await import(n.module);return r[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Av(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Dv(n,r,l){let o=await Promise.all(n.map(async c=>{let d=r.routes[c.route.id];if(d){let h=await _v(d,l);return h.links?h.links():[]}return[]}));return Lv(o.flat(1).filter(Av).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Zm(n,r,l,o,c,d){let h=(p,g)=>l[g]?p.route.id!==l[g].route.id:!0,m=(p,g)=>l[g].pathname!==p.pathname||l[g].route.path?.endsWith("*")&&l[g].params["*"]!==p.params["*"];return d==="assets"?r.filter((p,g)=>h(p,g)||m(p,g)):d==="data"?r.filter((p,g)=>{let x=o.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Tv(n,r,{includeHydrateFallback:l}={}){return Rv(n.map(o=>{let c=r.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Rv(n){return[...new Set(n)]}function Ov(n){let r={},l=Object.keys(n).sort();for(let o of l)r[o]=n[o];return r}function Lv(n,r){let l=new Set;return new Set(r),n.reduce((o,c)=>{let d=JSON.stringify(Ov(c));return l.has(d)||(l.add(d),o.push({key:d,link:c})),o},[])}function rp(){let n=b.useContext(Dn);return Pu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Mv(){let n=b.useContext(Ri);return Pu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Iu=b.createContext(void 0);Iu.displayName="FrameworkContext";function ap(){let n=b.useContext(Iu);return Pu(n,"You must render this element inside a <HydratedRouter> element"),n}function Uv(n,r){let l=b.useContext(Iu),[o,c]=b.useState(!1),[d,h]=b.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=r,w=b.useRef(null);b.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let A=T=>{T.forEach(D=>{h(D.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[n]),b.useEffect(()=>{if(o){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[o]);let C=()=>{c(!0)},N=()=>{c(!1),h(!1)};return l?n!=="intent"?[d,w,{}]:[d,w,{onFocus:Tl(m,C),onBlur:Tl(p,N),onMouseEnter:Tl(g,C),onMouseLeave:Tl(x,N),onTouchStart:Tl(y,C)}]:[!1,w,{}]}function Tl(n,r){return l=>{n&&n(l),l.defaultPrevented||r(l)}}function Bv({page:n,...r}){let{router:l}=rp(),o=b.useMemo(()=>Vg(l.routes,n,l.basename),[l.routes,n,l.basename]);return o?b.createElement($v,{page:n,matches:o,...r}):null}function zv(n){let{manifest:r,routeModules:l}=ap(),[o,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Dv(n,r,l).then(h=>{d||c(h)}),()=>{d=!0}},[n,r,l]),o}function $v({page:n,matches:r,...l}){let o=Qs(),{manifest:c,routeModules:d}=ap(),{basename:h}=rp(),{loaderData:m,matches:p}=Mv(),g=b.useMemo(()=>Zm(n,r,p,c,o,"data"),[n,r,p,c,o]),x=b.useMemo(()=>Zm(n,r,p,c,o,"assets"),[n,r,p,c,o]),y=b.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let N=new Set,A=!1;if(r.forEach(T=>{let D=c.routes[T.route.id];!D||!D.hasLoader||(!g.some(L=>L.route.id===T.route.id)&&T.route.id in m&&d[T.route.id]?.shouldRevalidate||D.hasClientLoader?A=!0:N.add(T.route.id))}),N.size===0)return[];let _=kv(n,h,"data");return A&&N.size>0&&_.searchParams.set("_routes",r.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[h,m,o,c,g,r,n,d]),w=b.useMemo(()=>Tv(x,c),[x,c]),C=zv(x);return b.createElement(b.Fragment,null,y.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...l})),w.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...l})),C.map(({key:N,link:A})=>b.createElement("link",{key:N,nonce:l.nonce,...A})))}function Hv(...n){return r=>{n.forEach(l=>{typeof l=="function"?l(r):l!=null&&(l.current=r)})}}var np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{np&&(window.__reactRouterVersion="7.9.0")}catch{}function Fv({basename:n,children:r,window:l}){let o=b.useRef();o.current==null&&(o.current=Ab({window:l,v5Compat:!0}));let c=o.current,[d,h]=b.useState({action:c.action,location:c.location}),m=b.useCallback(p=>{b.startTransition(()=>h(p))},[h]);return b.useLayoutEffect(()=>c.listen(m),[c,m]),b.createElement(xv,{basename:n,children:r,location:d.location,navigationType:d.action,navigator:c})}var lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gl=b.forwardRef(function({onClick:r,discover:l="render",prefetch:o="none",relative:c,reloadDocument:d,replace:h,state:m,target:p,to:g,preventScrollReset:x,viewTransition:y,...w},C){let{basename:N}=b.useContext(Ws),A=typeof g=="string"&&lp.test(g),_,T=!1;if(typeof g=="string"&&A&&(_=g,np))try{let ne=new URL(window.location.href),ve=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),Ee=Er(ve.pathname,N);ve.origin===ne.origin&&Ee!=null?g=Ee+ve.search+ve.hash:T=!0}catch{Vs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=sv(g,{relative:c}),[L,W,$]=Uv(o,w),F=Yv(g,{replace:h,state:m,target:p,preventScrollReset:x,relative:c,viewTransition:y});function I(ne){r&&r(ne),ne.defaultPrevented||F(ne)}let de=b.createElement("a",{...w,...$,href:_||D,onClick:T||d?r:I,ref:Hv(C,W),target:p,"data-discover":!A&&l==="render"?"true":void 0});return L&&!A?b.createElement(b.Fragment,null,de,b.createElement(Bv,{page:D})):de});Gl.displayName="Link";var Pv=b.forwardRef(function({"aria-current":r="page",caseSensitive:l=!1,className:o="",end:c=!1,style:d,to:h,viewTransition:m,children:p,...g},x){let y=Yl(h,{relative:g.relative}),w=Qs(),C=b.useContext(Ri),{navigator:N,basename:A}=b.useContext(Ws),_=C!=null&&Qv(y)&&m===!0,T=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,D=w.pathname,L=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;l||(D=D.toLowerCase(),L=L?L.toLowerCase():null,T=T.toLowerCase()),L&&A&&(L=Er(L,A)||L);const W=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let $=D===T||!c&&D.startsWith(T)&&D.charAt(W)==="/",F=L!=null&&(L===T||!c&&L.startsWith(T)&&L.charAt(T.length)==="/"),I={isActive:$,isPending:F,isTransitioning:_},de=$?r:void 0,ne;typeof o=="function"?ne=o(I):ne=[o,$?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ve=typeof d=="function"?d(I):d;return b.createElement(Gl,{...g,"aria-current":de,className:ne,ref:x,style:ve,to:h,viewTransition:m},typeof p=="function"?p(I):p)});Pv.displayName="NavLink";var Iv=b.forwardRef(({discover:n="render",fetcherKey:r,navigate:l,reloadDocument:o,replace:c,state:d,method:h=ji,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,...w},C)=>{let N=Wv(),A=Kv(m,{relative:g}),_=h.toLowerCase()==="get"?"get":"post",T=typeof m=="string"&&lp.test(m),D=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let W=L.nativeEvent.submitter,$=W?.getAttribute("formmethod")||h;N(W||L.currentTarget,{fetcherKey:r,method:$,navigate:l,replace:c,state:d,relative:g,preventScrollReset:x,viewTransition:y})};return b.createElement("form",{ref:C,method:_,action:A,onSubmit:o?p:D,...w,"data-discover":!T&&n==="render"?"true":void 0})});Iv.displayName="Form";function qv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function op(n){let r=b.useContext(Dn);return kt(r,qv(n)),r}function Yv(n,{target:r,replace:l,state:o,preventScrollReset:c,relative:d,viewTransition:h}={}){let m=Tt(),p=Qs(),g=Yl(n,{relative:d});return b.useCallback(x=>{if(Nv(x,r)){x.preventDefault();let y=l!==void 0?l:Hl(p)===Hl(g);m(n,{replace:y,state:o,preventScrollReset:c,relative:d,viewTransition:h})}},[p,m,g,l,o,r,n,c,d,h])}var Gv=0,Vv=()=>`__${String(++Gv)}__`;function Wv(){let{router:n}=op("useSubmit"),{basename:r}=b.useContext(Ws),l=fv();return b.useCallback(async(o,c={})=>{let{action:d,method:h,encType:m,formData:p,body:g}=Ev(o,r);if(c.navigate===!1){let x=c.fetcherKey||Vv();await n.fetch(x,l,c.action||d,{preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await n.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,r,l])}function Kv(n,{relative:r}={}){let{basename:l}=b.useContext(Ws),o=b.useContext(Ks);kt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...Yl(n||".",{relative:r})},h=Qs();if(n==null){d.search=h.search;let m=new URLSearchParams(d.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();d.search=x?`?${x}`:""}}return(!n||n===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(d.pathname=d.pathname==="/"?l:Cr([l,d.pathname])),Hl(d)}function Qv(n,{relative:r}={}){let l=b.useContext(Xg);kt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=op("useViewTransitionState"),c=Yl(n,{relative:r});if(!l.isTransitioning)return!1;let d=Er(l.currentLocation.pathname,o)||l.currentLocation.pathname,h=Er(l.nextLocation.pathname,o)||l.nextLocation.pathname;return ki(c.pathname,h)!=null||ki(c.pathname,d)!=null}var Xv=Gg();const Zv=Mu(Xv);function Jv(n){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",r.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n))}const e2=n=>{switch(n){case"success":return r2;case"info":return n2;case"warning":return a2;case"error":return l2;default:return null}},t2=Array(12).fill(0),s2=({visible:n,className:r})=>Se.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":n},Se.createElement("div",{className:"sonner-spinner"},t2.map((l,o)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),r2=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),a2=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),n2=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l2=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),o2=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),i2=()=>{const[n,r]=Se.useState(document.hidden);return Se.useEffect(()=>{const l=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",l),()=>window.removeEventListener("visibilitychange",l)},[]),n};let pu=1;class c2{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const l=this.subscribers.indexOf(r);this.subscribers.splice(l,1)}),this.publish=r=>{this.subscribers.forEach(l=>l(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var l;const{message:o,...c}=r,d=typeof r?.id=="number"||((l=r.id)==null?void 0:l.length)>0?r.id:pu++,h=this.toasts.find(p=>p.id===d),m=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),h?this.toasts=this.toasts.map(p=>p.id===d?(this.publish({...p,...r,id:d,title:o}),{...p,...r,id:d,dismissible:m,title:o}):p):this.addToast({title:o,...c,dismissible:m,id:d}),d},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(l=>l({id:r,dismiss:!0})))):this.toasts.forEach(l=>{this.subscribers.forEach(o=>o({id:l.id,dismiss:!0}))}),r),this.message=(r,l)=>this.create({...l,message:r}),this.error=(r,l)=>this.create({...l,message:r,type:"error"}),this.success=(r,l)=>this.create({...l,type:"success",message:r}),this.info=(r,l)=>this.create({...l,type:"info",message:r}),this.warning=(r,l)=>this.create({...l,type:"warning",message:r}),this.loading=(r,l)=>this.create({...l,type:"loading",message:r}),this.promise=(r,l)=>{if(!l)return;let o;l.loading!==void 0&&(o=this.create({...l,promise:r,type:"loading",message:l.loading,description:typeof l.description!="function"?l.description:void 0}));const c=Promise.resolve(r instanceof Function?r():r);let d=o!==void 0,h;const m=c.then(async g=>{if(h=["resolve",g],Se.isValidElement(g))d=!1,this.create({id:o,type:"default",message:g});else if(u2(g)&&!g.ok){d=!1;const y=typeof l.error=="function"?await l.error(`HTTP error! status: ${g.status}`):l.error,w=typeof l.description=="function"?await l.description(`HTTP error! status: ${g.status}`):l.description,N=typeof y=="object"&&!Se.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:w,...N})}else if(g instanceof Error){d=!1;const y=typeof l.error=="function"?await l.error(g):l.error,w=typeof l.description=="function"?await l.description(g):l.description,N=typeof y=="object"&&!Se.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:w,...N})}else if(l.success!==void 0){d=!1;const y=typeof l.success=="function"?await l.success(g):l.success,w=typeof l.description=="function"?await l.description(g):l.description,N=typeof y=="object"&&!Se.isValidElement(y)?y:{message:y};this.create({id:o,type:"success",description:w,...N})}}).catch(async g=>{if(h=["reject",g],l.error!==void 0){d=!1;const x=typeof l.error=="function"?await l.error(g):l.error,y=typeof l.description=="function"?await l.description(g):l.description,C=typeof x=="object"&&!Se.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:y,...C})}}).finally(()=>{d&&(this.dismiss(o),o=void 0),l.finally==null||l.finally.call(l)}),p=()=>new Promise((g,x)=>m.then(()=>h[0]==="reject"?x(h[1]):g(h[1])).catch(x));return typeof o!="string"&&typeof o!="number"?{unwrap:p}:Object.assign(o,{unwrap:p})},this.custom=(r,l)=>{const o=l?.id||pu++;return this.create({jsx:r(o),id:o,...l}),o},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const bs=new c2,d2=(n,r)=>{const l=r?.id||pu++;return bs.addToast({title:n,...r,id:l}),l},u2=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",h2=d2,f2=()=>bs.toasts,m2=()=>bs.getActiveToasts(),U=Object.assign(h2,{success:bs.success,info:bs.info,warning:bs.warning,error:bs.error,custom:bs.custom,message:bs.message,promise:bs.promise,dismiss:bs.dismiss,loading:bs.loading},{getHistory:f2,getToasts:m2});Jv("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mi(n){return n.label!==void 0}const g2=3,p2="24px",x2="16px",Jm=4e3,y2=356,b2=14,v2=45,w2=200;function ar(...n){return n.filter(Boolean).join(" ")}function j2(n){const[r,l]=n.split("-"),o=[];return r&&o.push(r),l&&o.push(l),o}const N2=n=>{var r,l,o,c,d,h,m,p,g;const{invert:x,toast:y,unstyled:w,interacting:C,setHeights:N,visibleToasts:A,heights:_,index:T,toasts:D,expanded:L,removeToast:W,defaultRichColors:$,closeButton:F,style:I,cancelButtonStyle:de,actionButtonStyle:ne,className:ve="",descriptionClassName:Ee="",duration:ye,position:G,gap:P,expandByDefault:oe,classNames:j,icons:M,closeButtonAriaLabel:J="Close toast"}=n,[z,E]=Se.useState(null),[q,se]=Se.useState(null),[k,ee]=Se.useState(!1),[he,ie]=Se.useState(!1),[De,Ne]=Se.useState(!1),[He,Pe]=Se.useState(!1),[Me,Ze]=Se.useState(!1),[lt,fe]=Se.useState(0),[me,je]=Se.useState(0),Le=Se.useRef(y.duration||ye||Jm),K=Se.useRef(null),O=Se.useRef(null),xe=T===0,X=T+1<=A,le=y.type,Be=y.dismissible!==!1,pe=y.className||"",ze=y.descriptionClassName||"",Y=Se.useMemo(()=>_.findIndex(Ge=>Ge.toastId===y.id)||0,[_,y.id]),we=Se.useMemo(()=>{var Ge;return(Ge=y.closeButton)!=null?Ge:F},[y.closeButton,F]),Ce=Se.useMemo(()=>y.duration||ye||Jm,[y.duration,ye]),re=Se.useRef(0),$e=Se.useRef(0),dt=Se.useRef(0),mt=Se.useRef(null),[ls,Kt]=G.split("-"),Qt=Se.useMemo(()=>_.reduce((Ge,jt,Ct)=>Ct>=Y?Ge:Ge+jt.height,0),[_,Y]),os=i2(),Mt=y.invert||x,ut=le==="loading";$e.current=Se.useMemo(()=>Y*P+Qt,[Y,Qt]),Se.useEffect(()=>{Le.current=Ce},[Ce]),Se.useEffect(()=>{ee(!0)},[]),Se.useEffect(()=>{const Ge=O.current;if(Ge){const jt=Ge.getBoundingClientRect().height;return je(jt),N(Ct=>[{toastId:y.id,height:jt,position:y.position},...Ct]),()=>N(Ct=>Ct.filter(Ut=>Ut.toastId!==y.id))}},[N,y.id]),Se.useLayoutEffect(()=>{if(!k)return;const Ge=O.current,jt=Ge.style.height;Ge.style.height="auto";const Ct=Ge.getBoundingClientRect().height;Ge.style.height=jt,je(Ct),N(Ut=>Ut.find(_t=>_t.toastId===y.id)?Ut.map(_t=>_t.toastId===y.id?{..._t,height:Ct}:_t):[{toastId:y.id,height:Ct,position:y.position},...Ut])},[k,y.title,y.description,N,y.id,y.jsx,y.action,y.cancel]);const Ht=Se.useCallback(()=>{ie(!0),fe($e.current),N(Ge=>Ge.filter(jt=>jt.toastId!==y.id)),setTimeout(()=>{W(y)},w2)},[y,W,N,$e]);Se.useEffect(()=>{if(y.promise&&le==="loading"||y.duration===1/0||y.type==="loading")return;let Ge;return L||C||os?(()=>{if(dt.current<re.current){const Ut=new Date().getTime()-re.current;Le.current=Le.current-Ut}dt.current=new Date().getTime()})():(()=>{Le.current!==1/0&&(re.current=new Date().getTime(),Ge=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Ht()},Le.current))})(),()=>clearTimeout(Ge)},[L,C,y,le,os,Ht]),Se.useEffect(()=>{y.delete&&(Ht(),y.onDismiss==null||y.onDismiss.call(y,y))},[Ht,y.delete]);function Ar(){var Ge;if(M?.loading){var jt;return Se.createElement("div",{className:ar(j?.loader,y==null||(jt=y.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":le==="loading"},M.loading)}return Se.createElement(s2,{className:ar(j?.loader,y==null||(Ge=y.classNames)==null?void 0:Ge.loader),visible:le==="loading"})}const or=y.icon||M?.[le]||e2(le);var Ds,Dr;return Se.createElement("li",{tabIndex:0,ref:O,className:ar(ve,pe,j?.toast,y==null||(r=y.classNames)==null?void 0:r.toast,j?.default,j?.[le],y==null||(l=y.classNames)==null?void 0:l[le]),"data-sonner-toast":"","data-rich-colors":(Ds=y.richColors)!=null?Ds:$,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":k,"data-promise":!!y.promise,"data-swiped":Me,"data-removed":he,"data-visible":X,"data-y-position":ls,"data-x-position":Kt,"data-index":T,"data-front":xe,"data-swiping":De,"data-dismissible":Be,"data-type":le,"data-invert":Mt,"data-swipe-out":He,"data-swipe-direction":q,"data-expanded":!!(L||oe&&k),"data-testid":y.testId,style:{"--index":T,"--toasts-before":T,"--z-index":D.length-T,"--offset":`${he?lt:$e.current}px`,"--initial-height":oe?"auto":`${me}px`,...I,...y.style},onDragEnd:()=>{Ne(!1),E(null),mt.current=null},onPointerDown:Ge=>{Ge.button!==2&&(ut||!Be||(K.current=new Date,fe($e.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Ne(!0),mt.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,jt,Ct;if(He||!Be)return;mt.current=null;const Ut=Number(((Ge=O.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fs=Number(((jt=O.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_t=new Date().getTime()-((Ct=K.current)==null?void 0:Ct.getTime()),Nt=z==="x"?Ut:Fs,St=Math.abs(Nt)/_t;if(Math.abs(Nt)>=v2||St>.11){fe($e.current),y.onDismiss==null||y.onDismiss.call(y,y),se(z==="x"?Ut>0?"right":"left":Fs>0?"down":"up"),Ht(),Pe(!0);return}else{var at,Rt;(at=O.current)==null||at.style.setProperty("--swipe-amount-x","0px"),(Rt=O.current)==null||Rt.style.setProperty("--swipe-amount-y","0px")}Ze(!1),Ne(!1),E(null)},onPointerMove:Ge=>{var jt,Ct,Ut;if(!mt.current||!Be||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;const _t=Ge.clientY-mt.current.y,Nt=Ge.clientX-mt.current.x;var St;const at=(St=n.swipeDirections)!=null?St:j2(G);!z&&(Math.abs(Nt)>1||Math.abs(_t)>1)&&E(Math.abs(Nt)>Math.abs(_t)?"x":"y");let Rt={x:0,y:0};const Zs=hs=>1/(1.5+Math.abs(hs)/20);if(z==="y"){if(at.includes("top")||at.includes("bottom"))if(at.includes("top")&&_t<0||at.includes("bottom")&&_t>0)Rt.y=_t;else{const hs=_t*Zs(_t);Rt.y=Math.abs(hs)<Math.abs(_t)?hs:_t}}else if(z==="x"&&(at.includes("left")||at.includes("right")))if(at.includes("left")&&Nt<0||at.includes("right")&&Nt>0)Rt.x=Nt;else{const hs=Nt*Zs(Nt);Rt.x=Math.abs(hs)<Math.abs(Nt)?hs:Nt}(Math.abs(Rt.x)>0||Math.abs(Rt.y)>0)&&Ze(!0),(Ct=O.current)==null||Ct.style.setProperty("--swipe-amount-x",`${Rt.x}px`),(Ut=O.current)==null||Ut.style.setProperty("--swipe-amount-y",`${Rt.y}px`)}},we&&!y.jsx&&le!=="loading"?Se.createElement("button",{"aria-label":J,"data-disabled":ut,"data-close-button":!0,onClick:ut||!Be?()=>{}:()=>{Ht(),y.onDismiss==null||y.onDismiss.call(y,y)},className:ar(j?.closeButton,y==null||(o=y.classNames)==null?void 0:o.closeButton)},(Dr=M?.close)!=null?Dr:o2):null,(le||y.icon||y.promise)&&y.icon!==null&&(M?.[le]!==null||y.icon)?Se.createElement("div",{"data-icon":"",className:ar(j?.icon,y==null||(c=y.classNames)==null?void 0:c.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Ar():null,y.type!=="loading"?or:null):null,Se.createElement("div",{"data-content":"",className:ar(j?.content,y==null||(d=y.classNames)==null?void 0:d.content)},Se.createElement("div",{"data-title":"",className:ar(j?.title,y==null||(h=y.classNames)==null?void 0:h.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?Se.createElement("div",{"data-description":"",className:ar(Ee,ze,j?.description,y==null||(m=y.classNames)==null?void 0:m.description)},typeof y.description=="function"?y.description():y.description):null),Se.isValidElement(y.cancel)?y.cancel:y.cancel&&mi(y.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||de,onClick:Ge=>{mi(y.cancel)&&Be&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Ge),Ht())},className:ar(j?.cancelButton,y==null||(p=y.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,Se.isValidElement(y.action)?y.action:y.action&&mi(y.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||ne,onClick:Ge=>{mi(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Ge),!Ge.defaultPrevented&&Ht())},className:ar(j?.actionButton,y==null||(g=y.classNames)==null?void 0:g.actionButton)},y.action.label):null)};function eg(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function S2(n,r){const l={};return[n,r].forEach((o,c)=>{const d=c===1,h=d?"--mobile-offset":"--offset",m=d?x2:p2;function p(g){["top","right","bottom","left"].forEach(x=>{l[`${h}-${x}`]=typeof g=="number"?`${g}px`:g})}typeof o=="number"||typeof o=="string"?p(o):typeof o=="object"?["top","right","bottom","left"].forEach(g=>{o[g]===void 0?l[`${h}-${g}`]=m:l[`${h}-${g}`]=typeof o[g]=="number"?`${o[g]}px`:o[g]}):p(m)}),l}const C2=Se.forwardRef(function(r,l){const{id:o,invert:c,position:d="bottom-right",hotkey:h=["altKey","KeyT"],expand:m,closeButton:p,className:g,offset:x,mobileOffset:y,theme:w="light",richColors:C,duration:N,style:A,visibleToasts:_=g2,toastOptions:T,dir:D=eg(),gap:L=b2,icons:W,containerAriaLabel:$="Notifications"}=r,[F,I]=Se.useState([]),de=Se.useMemo(()=>o?F.filter(k=>k.toasterId===o):F.filter(k=>!k.toasterId),[F,o]),ne=Se.useMemo(()=>Array.from(new Set([d].concat(de.filter(k=>k.position).map(k=>k.position)))),[de,d]),[ve,Ee]=Se.useState([]),[ye,G]=Se.useState(!1),[P,oe]=Se.useState(!1),[j,M]=Se.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Se.useRef(null),z=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=Se.useRef(null),q=Se.useRef(!1),se=Se.useCallback(k=>{I(ee=>{var he;return(he=ee.find(ie=>ie.id===k.id))!=null&&he.delete||bs.dismiss(k.id),ee.filter(({id:ie})=>ie!==k.id)})},[]);return Se.useEffect(()=>bs.subscribe(k=>{if(k.dismiss){requestAnimationFrame(()=>{I(ee=>ee.map(he=>he.id===k.id?{...he,delete:!0}:he))});return}setTimeout(()=>{Zv.flushSync(()=>{I(ee=>{const he=ee.findIndex(ie=>ie.id===k.id);return he!==-1?[...ee.slice(0,he),{...ee[he],...k},...ee.slice(he+1)]:[k,...ee]})})})}),[F]),Se.useEffect(()=>{if(w!=="system"){M(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:ee})=>{M(ee?"dark":"light")})}catch{k.addListener(({matches:he})=>{try{M(he?"dark":"light")}catch(ie){console.error(ie)}})}},[w]),Se.useEffect(()=>{F.length<=1&&G(!1)},[F]),Se.useEffect(()=>{const k=ee=>{var he;if(h.every(Ne=>ee[Ne]||ee.code===Ne)){var De;G(!0),(De=J.current)==null||De.focus()}ee.code==="Escape"&&(document.activeElement===J.current||(he=J.current)!=null&&he.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[h]),Se.useEffect(()=>{if(J.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,q.current=!1)}},[J.current]),Se.createElement("section",{ref:l,"aria-label":`${$} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ne.map((k,ee)=>{var he;const[ie,De]=k.split("-");return de.length?Se.createElement("ol",{key:k,dir:D==="auto"?eg():D,tabIndex:-1,ref:J,className:g,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":ie,"data-x-position":De,style:{"--front-toast-height":`${((he=ve[0])==null?void 0:he.height)||0}px`,"--width":`${y2}px`,"--gap":`${L}px`,...A,...S2(x,y)},onBlur:Ne=>{q.current&&!Ne.currentTarget.contains(Ne.relatedTarget)&&(q.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||q.current||(q.current=!0,E.current=Ne.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{P||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},de.filter(Ne=>!Ne.position&&ee===0||Ne.position===k).map((Ne,He)=>{var Pe,Me;return Se.createElement(N2,{key:Ne.id,icons:W,index:He,toast:Ne,defaultRichColors:C,duration:(Pe=T?.duration)!=null?Pe:N,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:c,visibleToasts:_,closeButton:(Me=T?.closeButton)!=null?Me:p,interacting:P,position:k,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:se,toasts:de.filter(Ze=>Ze.position==Ne.position),heights:ve.filter(Ze=>Ze.position==Ne.position),setHeights:Ee,expandByDefault:m,gap:L,expanded:ye,swipeDirections:r.swipeDirections})})):null}))}),$t=({children:n})=>{const r=Qs();return localStorage.getItem("token")?s.jsx(s.Fragment,{children:n}):s.jsx(sp,{to:"/login",state:{from:r},replace:!0})};function ip(n,r){return function(){return n.apply(r,arguments)}}const{toString:E2}=Object.prototype,{getPrototypeOf:qu}=Object,{iterator:Li,toStringTag:cp}=Symbol,Mi=(n=>r=>{const l=E2.call(r);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=n=>(n=n.toLowerCase(),r=>Mi(r)===n),Ui=n=>r=>typeof r===n,{isArray:Rn}=Array,En=Ui("undefined");function Vl(n){return n!==null&&!En(n)&&n.constructor!==null&&!En(n.constructor)&&vs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const dp=Xs("ArrayBuffer");function k2(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&dp(n.buffer),r}const _2=Ui("string"),vs=Ui("function"),up=Ui("number"),Wl=n=>n!==null&&typeof n=="object",A2=n=>n===!0||n===!1,Si=n=>{if(Mi(n)!=="object")return!1;const r=qu(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(cp in n)&&!(Li in n)},D2=n=>{if(!Wl(n)||Vl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},T2=Xs("Date"),R2=Xs("File"),O2=Xs("Blob"),L2=Xs("FileList"),M2=n=>Wl(n)&&vs(n.pipe),U2=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||vs(n.append)&&((r=Mi(n))==="formdata"||r==="object"&&vs(n.toString)&&n.toString()==="[object FormData]"))},B2=Xs("URLSearchParams"),[z2,$2,H2,F2]=["ReadableStream","Request","Response","Headers"].map(Xs),P2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kl(n,r,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let o,c;if(typeof n!="object"&&(n=[n]),Rn(n))for(o=0,c=n.length;o<c;o++)r.call(null,n[o],o,n);else{if(Vl(n))return;const d=l?Object.getOwnPropertyNames(n):Object.keys(n),h=d.length;let m;for(o=0;o<h;o++)m=d[o],r.call(null,n[m],m,n)}}function hp(n,r){if(Vl(n))return null;r=r.toLowerCase();const l=Object.keys(n);let o=l.length,c;for(;o-- >0;)if(c=l[o],r===c.toLowerCase())return c;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fp=n=>!En(n)&&n!==ka;function xu(){const{caseless:n,skipUndefined:r}=fp(this)&&this||{},l={},o=(c,d)=>{const h=n&&hp(l,d)||d;Si(l[h])&&Si(c)?l[h]=xu(l[h],c):Si(c)?l[h]=xu({},c):Rn(c)?l[h]=c.slice():(!r||!En(c))&&(l[h]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Kl(arguments[c],o);return l}const I2=(n,r,l,{allOwnKeys:o}={})=>(Kl(r,(c,d)=>{l&&vs(c)?n[d]=ip(c,l):n[d]=c},{allOwnKeys:o}),n),q2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Y2=(n,r,l,o)=>{n.prototype=Object.create(r.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),l&&Object.assign(n.prototype,l)},G2=(n,r,l,o)=>{let c,d,h;const m={};if(r=r||{},n==null)return r;do{for(c=Object.getOwnPropertyNames(n),d=c.length;d-- >0;)h=c[d],(!o||o(h,n,r))&&!m[h]&&(r[h]=n[h],m[h]=!0);n=l!==!1&&qu(n)}while(n&&(!l||l(n,r))&&n!==Object.prototype);return r},V2=(n,r,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=r.length;const o=n.indexOf(r,l);return o!==-1&&o===l},W2=n=>{if(!n)return null;if(Rn(n))return n;let r=n.length;if(!up(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=n[r];return l},K2=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&qu(Uint8Array)),Q2=(n,r)=>{const o=(n&&n[Li]).call(n);let c;for(;(c=o.next())&&!c.done;){const d=c.value;r.call(n,d[0],d[1])}},X2=(n,r)=>{let l;const o=[];for(;(l=n.exec(r))!==null;)o.push(l);return o},Z2=Xs("HTMLFormElement"),J2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,c){return o.toUpperCase()+c}),tg=(({hasOwnProperty:n})=>(r,l)=>n.call(r,l))(Object.prototype),e1=Xs("RegExp"),mp=(n,r)=>{const l=Object.getOwnPropertyDescriptors(n),o={};Kl(l,(c,d)=>{let h;(h=r(c,d,n))!==!1&&(o[d]=h||c)}),Object.defineProperties(n,o)},t1=n=>{mp(n,(r,l)=>{if(vs(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=n[l];if(vs(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},s1=(n,r)=>{const l={},o=c=>{c.forEach(d=>{l[d]=!0})};return Rn(n)?o(n):o(String(n).split(r)),l},r1=()=>{},a1=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function n1(n){return!!(n&&vs(n.append)&&n[cp]==="FormData"&&n[Li])}const l1=n=>{const r=new Array(10),l=(o,c)=>{if(Wl(o)){if(r.indexOf(o)>=0)return;if(Vl(o))return o;if(!("toJSON"in o)){r[c]=o;const d=Rn(o)?[]:{};return Kl(o,(h,m)=>{const p=l(h,c+1);!En(p)&&(d[m]=p)}),r[c]=void 0,d}}return o};return l(n,0)},o1=Xs("AsyncFunction"),i1=n=>n&&(Wl(n)||vs(n))&&vs(n.then)&&vs(n.catch),gp=((n,r)=>n?setImmediate:r?((l,o)=>(ka.addEventListener("message",({source:c,data:d})=>{c===ka&&d===l&&o.length&&o.shift()()},!1),c=>{o.push(c),ka.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",vs(ka.postMessage)),c1=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||gp,d1=n=>n!=null&&vs(n[Li]),ae={isArray:Rn,isArrayBuffer:dp,isBuffer:Vl,isFormData:U2,isArrayBufferView:k2,isString:_2,isNumber:up,isBoolean:A2,isObject:Wl,isPlainObject:Si,isEmptyObject:D2,isReadableStream:z2,isRequest:$2,isResponse:H2,isHeaders:F2,isUndefined:En,isDate:T2,isFile:R2,isBlob:O2,isRegExp:e1,isFunction:vs,isStream:M2,isURLSearchParams:B2,isTypedArray:K2,isFileList:L2,forEach:Kl,merge:xu,extend:I2,trim:P2,stripBOM:q2,inherits:Y2,toFlatObject:G2,kindOf:Mi,kindOfTest:Xs,endsWith:V2,toArray:W2,forEachEntry:Q2,matchAll:X2,isHTMLForm:Z2,hasOwnProperty:tg,hasOwnProp:tg,reduceDescriptors:mp,freezeMethods:t1,toObjectSet:s1,toCamelCase:J2,noop:r1,toFiniteNumber:a1,findKey:hp,global:ka,isContextDefined:fp,isSpecCompliantForm:n1,toJSONObject:l1,isAsyncFn:o1,isThenable:i1,setImmediate:gp,asap:c1,isIterable:d1};function Qe(n,r,l,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}ae.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const pp=Qe.prototype,xp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{xp[n]={value:n}});Object.defineProperties(Qe,xp);Object.defineProperty(pp,"isAxiosError",{value:!0});Qe.from=(n,r,l,o,c,d)=>{const h=Object.create(pp);ae.toFlatObject(n,h,function(x){return x!==Error.prototype},g=>g!=="isAxiosError");const m=n&&n.message?n.message:"Error",p=r==null&&n?n.code:r;return Qe.call(h,m,p,l,o,c),n&&h.cause==null&&Object.defineProperty(h,"cause",{value:n,configurable:!0}),h.name=n&&n.name||"Error",d&&Object.assign(h,d),h};const u1=null;function yu(n){return ae.isPlainObject(n)||ae.isArray(n)}function yp(n){return ae.endsWith(n,"[]")?n.slice(0,-2):n}function sg(n,r,l){return n?n.concat(r).map(function(c,d){return c=yp(c),!l&&d?"["+c+"]":c}).join(l?".":""):r}function h1(n){return ae.isArray(n)&&!n.some(yu)}const f1=ae.toFlatObject(ae,{},null,function(r){return/^is[A-Z]/.test(r)});function Bi(n,r,l){if(!ae.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,l=ae.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!ae.isUndefined(_[A])});const o=l.metaTokens,c=l.visitor||x,d=l.dots,h=l.indexes,p=(l.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(r);if(!ae.isFunction(c))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(ae.isDate(N))return N.toISOString();if(ae.isBoolean(N))return N.toString();if(!p&&ae.isBlob(N))throw new Qe("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(N)||ae.isTypedArray(N)?p&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function x(N,A,_){let T=N;if(N&&!_&&typeof N=="object"){if(ae.endsWith(A,"{}"))A=o?A:A.slice(0,-2),N=JSON.stringify(N);else if(ae.isArray(N)&&h1(N)||(ae.isFileList(N)||ae.endsWith(A,"[]"))&&(T=ae.toArray(N)))return A=yp(A),T.forEach(function(L,W){!(ae.isUndefined(L)||L===null)&&r.append(h===!0?sg([A],W,d):h===null?A:A+"[]",g(L))}),!1}return yu(N)?!0:(r.append(sg(_,A,d),g(N)),!1)}const y=[],w=Object.assign(f1,{defaultVisitor:x,convertValue:g,isVisitable:yu});function C(N,A){if(!ae.isUndefined(N)){if(y.indexOf(N)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(N),ae.forEach(N,function(T,D){(!(ae.isUndefined(T)||T===null)&&c.call(r,T,ae.isString(D)?D.trim():D,A,w))===!0&&C(T,A?A.concat(D):[D])}),y.pop()}}if(!ae.isObject(n))throw new TypeError("data must be an object");return C(n),r}function rg(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function Yu(n,r){this._pairs=[],n&&Bi(n,this,r)}const bp=Yu.prototype;bp.append=function(r,l){this._pairs.push([r,l])};bp.toString=function(r){const l=r?function(o){return r.call(this,o,rg)}:rg;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function m1(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vp(n,r,l){if(!r)return n;const o=l&&l.encode||m1;ae.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let d;if(c?d=c(r,l):d=ae.isURLSearchParams(r)?r.toString():new Yu(r,l).toString(o),d){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+d}return n}class ag{constructor(){this.handlers=[]}use(r,l,o){return this.handlers.push({fulfilled:r,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ae.forEach(this.handlers,function(o){o!==null&&r(o)})}}const wp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g1=typeof URLSearchParams<"u"?URLSearchParams:Yu,p1=typeof FormData<"u"?FormData:null,x1=typeof Blob<"u"?Blob:null,y1={isBrowser:!0,classes:{URLSearchParams:g1,FormData:p1,Blob:x1},protocols:["http","https","file","blob","url","data"]},Gu=typeof window<"u"&&typeof document<"u",bu=typeof navigator=="object"&&navigator||void 0,b1=Gu&&(!bu||["ReactNative","NativeScript","NS"].indexOf(bu.product)<0),v1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w1=Gu&&window.location.href||"http://localhost",j1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gu,hasStandardBrowserEnv:b1,hasStandardBrowserWebWorkerEnv:v1,navigator:bu,origin:w1},Symbol.toStringTag,{value:"Module"})),us={...j1,...y1};function N1(n,r){return Bi(n,new us.classes.URLSearchParams,{visitor:function(l,o,c,d){return us.isNode&&ae.isBuffer(l)?(this.append(o,l.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...r})}function S1(n){return ae.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function C1(n){const r={},l=Object.keys(n);let o;const c=l.length;let d;for(o=0;o<c;o++)d=l[o],r[d]=n[d];return r}function jp(n){function r(l,o,c,d){let h=l[d++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=d>=l.length;return h=!h&&ae.isArray(c)?c.length:h,p?(ae.hasOwnProp(c,h)?c[h]=[c[h],o]:c[h]=o,!m):((!c[h]||!ae.isObject(c[h]))&&(c[h]=[]),r(l,o,c[h],d)&&ae.isArray(c[h])&&(c[h]=C1(c[h])),!m)}if(ae.isFormData(n)&&ae.isFunction(n.entries)){const l={};return ae.forEachEntry(n,(o,c)=>{r(S1(o),c,l,0)}),l}return null}function E1(n,r,l){if(ae.isString(n))try{return(r||JSON.parse)(n),ae.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(n)}const Ql={transitional:wp,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const o=l.getContentType()||"",c=o.indexOf("application/json")>-1,d=ae.isObject(r);if(d&&ae.isHTMLForm(r)&&(r=new FormData(r)),ae.isFormData(r))return c?JSON.stringify(jp(r)):r;if(ae.isArrayBuffer(r)||ae.isBuffer(r)||ae.isStream(r)||ae.isFile(r)||ae.isBlob(r)||ae.isReadableStream(r))return r;if(ae.isArrayBufferView(r))return r.buffer;if(ae.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let m;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return N1(r,this.formSerializer).toString();if((m=ae.isFileList(r))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Bi(m?{"files[]":r}:r,p&&new p,this.formSerializer)}}return d||c?(l.setContentType("application/json",!1),E1(r)):r}],transformResponse:[function(r){const l=this.transitional||Ql.transitional,o=l&&l.forcedJSONParsing,c=this.responseType==="json";if(ae.isResponse(r)||ae.isReadableStream(r))return r;if(r&&ae.isString(r)&&(o&&!this.responseType||c)){const h=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(r,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?Qe.from(m,Qe.ERR_BAD_RESPONSE,this,null,this.response):m}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:us.classes.FormData,Blob:us.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],n=>{Ql.headers[n]={}});const k1=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_1=n=>{const r={};let l,o,c;return n&&n.split(`
`).forEach(function(h){c=h.indexOf(":"),l=h.substring(0,c).trim().toLowerCase(),o=h.substring(c+1).trim(),!(!l||r[l]&&k1[l])&&(l==="set-cookie"?r[l]?r[l].push(o):r[l]=[o]:r[l]=r[l]?r[l]+", "+o:o)}),r},ng=Symbol("internals");function Rl(n){return n&&String(n).trim().toLowerCase()}function Ci(n){return n===!1||n==null?n:ae.isArray(n)?n.map(Ci):String(n)}function A1(n){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(n);)r[o[1]]=o[2];return r}const D1=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function su(n,r,l,o,c){if(ae.isFunction(o))return o.call(this,r,l);if(c&&(r=l),!!ae.isString(r)){if(ae.isString(o))return r.indexOf(o)!==-1;if(ae.isRegExp(o))return o.test(r)}}function T1(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,o)=>l.toUpperCase()+o)}function R1(n,r){const l=ae.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+l,{value:function(c,d,h){return this[o].call(this,r,c,d,h)},configurable:!0})})}let ws=class{constructor(r){r&&this.set(r)}set(r,l,o){const c=this;function d(m,p,g){const x=Rl(p);if(!x)throw new Error("header name must be a non-empty string");const y=ae.findKey(c,x);(!y||c[y]===void 0||g===!0||g===void 0&&c[y]!==!1)&&(c[y||p]=Ci(m))}const h=(m,p)=>ae.forEach(m,(g,x)=>d(g,x,p));if(ae.isPlainObject(r)||r instanceof this.constructor)h(r,l);else if(ae.isString(r)&&(r=r.trim())&&!D1(r))h(_1(r),l);else if(ae.isObject(r)&&ae.isIterable(r)){let m={},p,g;for(const x of r){if(!ae.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[g=x[0]]=(p=m[g])?ae.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}h(m,l)}else r!=null&&d(l,r,o);return this}get(r,l){if(r=Rl(r),r){const o=ae.findKey(this,r);if(o){const c=this[o];if(!l)return c;if(l===!0)return A1(c);if(ae.isFunction(l))return l.call(this,c,o);if(ae.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=Rl(r),r){const o=ae.findKey(this,r);return!!(o&&this[o]!==void 0&&(!l||su(this,this[o],o,l)))}return!1}delete(r,l){const o=this;let c=!1;function d(h){if(h=Rl(h),h){const m=ae.findKey(o,h);m&&(!l||su(o,o[m],m,l))&&(delete o[m],c=!0)}}return ae.isArray(r)?r.forEach(d):d(r),c}clear(r){const l=Object.keys(this);let o=l.length,c=!1;for(;o--;){const d=l[o];(!r||su(this,this[d],d,r,!0))&&(delete this[d],c=!0)}return c}normalize(r){const l=this,o={};return ae.forEach(this,(c,d)=>{const h=ae.findKey(o,d);if(h){l[h]=Ci(c),delete l[d];return}const m=r?T1(d):String(d).trim();m!==d&&delete l[d],l[m]=Ci(c),o[m]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return ae.forEach(this,(o,c)=>{o!=null&&o!==!1&&(l[c]=r&&ae.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const o=new this(r);return l.forEach(c=>o.set(c)),o}static accessor(r){const o=(this[ng]=this[ng]={accessors:{}}).accessors,c=this.prototype;function d(h){const m=Rl(h);o[m]||(R1(c,h),o[m]=!0)}return ae.isArray(r)?r.forEach(d):d(r),this}};ws.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(ws.prototype,({value:n},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(o){this[l]=o}}});ae.freezeMethods(ws);function ru(n,r){const l=this||Ql,o=r||l,c=ws.from(o.headers);let d=o.data;return ae.forEach(n,function(m){d=m.call(l,d,c.normalize(),r?r.status:void 0)}),c.normalize(),d}function Np(n){return!!(n&&n.__CANCEL__)}function On(n,r,l){Qe.call(this,n??"canceled",Qe.ERR_CANCELED,r,l),this.name="CanceledError"}ae.inherits(On,Qe,{__CANCEL__:!0});function Sp(n,r,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?n(l):r(new Qe("Request failed with status code "+l.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function O1(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function L1(n,r){n=n||10;const l=new Array(n),o=new Array(n);let c=0,d=0,h;return r=r!==void 0?r:1e3,function(p){const g=Date.now(),x=o[d];h||(h=g),l[c]=p,o[c]=g;let y=d,w=0;for(;y!==c;)w+=l[y++],y=y%n;if(c=(c+1)%n,c===d&&(d=(d+1)%n),g-h<r)return;const C=x&&g-x;return C?Math.round(w*1e3/C):void 0}}function M1(n,r){let l=0,o=1e3/r,c,d;const h=(g,x=Date.now())=>{l=x,c=null,d&&(clearTimeout(d),d=null),n(...g)};return[(...g)=>{const x=Date.now(),y=x-l;y>=o?h(g,x):(c=g,d||(d=setTimeout(()=>{d=null,h(c)},o-y)))},()=>c&&h(c)]}const _i=(n,r,l=3)=>{let o=0;const c=L1(50,250);return M1(d=>{const h=d.loaded,m=d.lengthComputable?d.total:void 0,p=h-o,g=c(p),x=h<=m;o=h;const y={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&x?(m-h)/g:void 0,event:d,lengthComputable:m!=null,[r?"download":"upload"]:!0};n(y)},l)},lg=(n,r)=>{const l=n!=null;return[o=>r[0]({lengthComputable:l,total:n,loaded:o}),r[1]]},og=n=>(...r)=>ae.asap(()=>n(...r)),U1=us.hasStandardBrowserEnv?((n,r)=>l=>(l=new URL(l,us.origin),n.protocol===l.protocol&&n.host===l.host&&(r||n.port===l.port)))(new URL(us.origin),us.navigator&&/(msie|trident)/i.test(us.navigator.userAgent)):()=>!0,B1=us.hasStandardBrowserEnv?{write(n,r,l,o,c,d){const h=[n+"="+encodeURIComponent(r)];ae.isNumber(l)&&h.push("expires="+new Date(l).toGMTString()),ae.isString(o)&&h.push("path="+o),ae.isString(c)&&h.push("domain="+c),d===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z1(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function $1(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function Cp(n,r,l){let o=!z1(r);return n&&(o||l==!1)?$1(n,r):r}const ig=n=>n instanceof ws?{...n}:n;function Aa(n,r){r=r||{};const l={};function o(g,x,y,w){return ae.isPlainObject(g)&&ae.isPlainObject(x)?ae.merge.call({caseless:w},g,x):ae.isPlainObject(x)?ae.merge({},x):ae.isArray(x)?x.slice():x}function c(g,x,y,w){if(ae.isUndefined(x)){if(!ae.isUndefined(g))return o(void 0,g,y,w)}else return o(g,x,y,w)}function d(g,x){if(!ae.isUndefined(x))return o(void 0,x)}function h(g,x){if(ae.isUndefined(x)){if(!ae.isUndefined(g))return o(void 0,g)}else return o(void 0,x)}function m(g,x,y){if(y in r)return o(g,x);if(y in n)return o(void 0,g)}const p={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,x,y)=>c(ig(g),ig(x),y,!0)};return ae.forEach(Object.keys({...n,...r}),function(x){const y=p[x]||c,w=y(n[x],r[x],x);ae.isUndefined(w)&&y!==m||(l[x]=w)}),l}const Ep=n=>{const r=Aa({},n);let{data:l,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:d,headers:h,auth:m}=r;if(r.headers=h=ws.from(h),r.url=vp(Cp(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),ae.isFormData(l)){if(us.hasStandardBrowserEnv||us.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(ae.isFunction(l.getHeaders)){const p=l.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([x,y])=>{g.includes(x.toLowerCase())&&h.set(x,y)})}}if(us.hasStandardBrowserEnv&&(o&&ae.isFunction(o)&&(o=o(r)),o||o!==!1&&U1(r.url))){const p=c&&d&&B1.read(d);p&&h.set(c,p)}return r},H1=typeof XMLHttpRequest<"u",F1=H1&&function(n){return new Promise(function(l,o){const c=Ep(n);let d=c.data;const h=ws.from(c.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=c,x,y,w,C,N;function A(){C&&C(),N&&N(),c.cancelToken&&c.cancelToken.unsubscribe(x),c.signal&&c.signal.removeEventListener("abort",x)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function T(){if(!_)return;const L=ws.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),$={data:!m||m==="text"||m==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:L,config:n,request:_};Sp(function(I){l(I),A()},function(I){o(I),A()},$),_=null}"onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(T)},_.onabort=function(){_&&(o(new Qe("Request aborted",Qe.ECONNABORTED,n,_)),_=null)},_.onerror=function(W){const $=W&&W.message?W.message:"Network Error",F=new Qe($,Qe.ERR_NETWORK,n,_);F.event=W||null,o(F),_=null},_.ontimeout=function(){let W=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const $=c.transitional||wp;c.timeoutErrorMessage&&(W=c.timeoutErrorMessage),o(new Qe(W,$.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,n,_)),_=null},d===void 0&&h.setContentType(null),"setRequestHeader"in _&&ae.forEach(h.toJSON(),function(W,$){_.setRequestHeader($,W)}),ae.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),m&&m!=="json"&&(_.responseType=c.responseType),g&&([w,N]=_i(g,!0),_.addEventListener("progress",w)),p&&_.upload&&([y,C]=_i(p),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",C)),(c.cancelToken||c.signal)&&(x=L=>{_&&(o(!L||L.type?new On(null,n,_):L),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(x),c.signal&&(c.signal.aborted?x():c.signal.addEventListener("abort",x)));const D=O1(c.url);if(D&&us.protocols.indexOf(D)===-1){o(new Qe("Unsupported protocol "+D+":",Qe.ERR_BAD_REQUEST,n));return}_.send(d||null)})},P1=(n,r)=>{const{length:l}=n=n?n.filter(Boolean):[];if(r||l){let o=new AbortController,c;const d=function(g){if(!c){c=!0,m();const x=g instanceof Error?g:this.reason;o.abort(x instanceof Qe?x:new On(x instanceof Error?x.message:x))}};let h=r&&setTimeout(()=>{h=null,d(new Qe(`timeout ${r} of ms exceeded`,Qe.ETIMEDOUT))},r);const m=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),n=null)};n.forEach(g=>g.addEventListener("abort",d));const{signal:p}=o;return p.unsubscribe=()=>ae.asap(m),p}},I1=function*(n,r){let l=n.byteLength;if(l<r){yield n;return}let o=0,c;for(;o<l;)c=o+r,yield n.slice(o,c),o=c},q1=async function*(n,r){for await(const l of Y1(n))yield*I1(l,r)},Y1=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:l,value:o}=await r.read();if(l)break;yield o}}finally{await r.cancel()}},cg=(n,r,l,o)=>{const c=q1(n,r);let d=0,h,m=p=>{h||(h=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:x}=await c.next();if(g){m(),p.close();return}let y=x.byteLength;if(l){let w=d+=y;l(w)}p.enqueue(new Uint8Array(x))}catch(g){throw m(g),g}},cancel(p){return m(p),c.return()}},{highWaterMark:2})},dg=64*1024,{isFunction:gi}=ae,kp=(({fetch:n,Request:r,Response:l})=>({fetch:n,Request:r,Response:l}))(ae.global),{ReadableStream:ug,TextEncoder:hg}=ae.global,fg=(n,...r)=>{try{return!!n(...r)}catch{return!1}},G1=n=>{const{fetch:r,Request:l,Response:o}=Object.assign({},kp,n),c=gi(r),d=gi(l),h=gi(o);if(!c)return!1;const m=c&&gi(ug),p=c&&(typeof hg=="function"?(N=>A=>N.encode(A))(new hg):async N=>new Uint8Array(await new l(N).arrayBuffer())),g=d&&m&&fg(()=>{let N=!1;const A=new l(us.origin,{body:new ug,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!A}),x=h&&m&&fg(()=>ae.isReadableStream(new o("").body)),y={stream:x&&(N=>N.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!y[N]&&(y[N]=(A,_)=>{let T=A&&A[N];if(T)return T.call(A);throw new Qe(`Response type '${N}' is not supported`,Qe.ERR_NOT_SUPPORT,_)})});const w=async N=>{if(N==null)return 0;if(ae.isBlob(N))return N.size;if(ae.isSpecCompliantForm(N))return(await new l(us.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(N)||ae.isArrayBuffer(N))return N.byteLength;if(ae.isURLSearchParams(N)&&(N=N+""),ae.isString(N))return(await p(N)).byteLength},C=async(N,A)=>{const _=ae.toFiniteNumber(N.getContentLength());return _??w(A)};return async N=>{let{url:A,method:_,data:T,signal:D,cancelToken:L,timeout:W,onDownloadProgress:$,onUploadProgress:F,responseType:I,headers:de,withCredentials:ne="same-origin",fetchOptions:ve}=Ep(N);I=I?(I+"").toLowerCase():"text";let Ee=P1([D,L&&L.toAbortSignal()],W),ye=null;const G=Ee&&Ee.unsubscribe&&(()=>{Ee.unsubscribe()});let P;try{if(F&&g&&_!=="get"&&_!=="head"&&(P=await C(de,T))!==0){let E=new l(A,{method:"POST",body:T,duplex:"half"}),q;if(ae.isFormData(T)&&(q=E.headers.get("content-type"))&&de.setContentType(q),E.body){const[se,k]=lg(P,_i(og(F)));T=cg(E.body,dg,se,k)}}ae.isString(ne)||(ne=ne?"include":"omit");const oe=d&&"credentials"in l.prototype,j={...ve,signal:Ee,method:_.toUpperCase(),headers:de.normalize().toJSON(),body:T,duplex:"half",credentials:oe?ne:void 0};ye=d&&new l(A,j);let M=await(d?r(ye,ve):r(A,j));const J=x&&(I==="stream"||I==="response");if(x&&($||J&&G)){const E={};["status","statusText","headers"].forEach(ee=>{E[ee]=M[ee]});const q=ae.toFiniteNumber(M.headers.get("content-length")),[se,k]=$&&lg(q,_i(og($),!0))||[];M=new o(cg(M.body,dg,se,()=>{k&&k(),G&&G()}),E)}I=I||"text";let z=await y[ae.findKey(y,I)||"text"](M,N);return!J&&G&&G(),await new Promise((E,q)=>{Sp(E,q,{data:z,headers:ws.from(M.headers),status:M.status,statusText:M.statusText,config:N,request:ye})})}catch(oe){throw G&&G(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,N,ye),{cause:oe.cause||oe}):Qe.from(oe,oe&&oe.code,N,ye)}}},V1=new Map,_p=n=>{let r=ae.merge.call({skipUndefined:!0},kp,n?n.env:null);const{fetch:l,Request:o,Response:c}=r,d=[o,c,l];let h=d.length,m=h,p,g,x=V1;for(;m--;)p=d[m],g=x.get(p),g===void 0&&x.set(p,g=m?new Map:G1(r)),x=g;return g};_p();const vu={http:u1,xhr:F1,fetch:{get:_p}};ae.forEach(vu,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const mg=n=>`- ${n}`,W1=n=>ae.isFunction(n)||n===null||n===!1,Ap={getAdapter:(n,r)=>{n=ae.isArray(n)?n:[n];const{length:l}=n;let o,c;const d={};for(let h=0;h<l;h++){o=n[h];let m;if(c=o,!W1(o)&&(c=vu[(m=String(o)).toLowerCase()],c===void 0))throw new Qe(`Unknown adapter '${m}'`);if(c&&(ae.isFunction(c)||(c=c.get(r))))break;d[m||"#"+h]=c}if(!c){const h=Object.entries(d).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=l?h.length>1?`since :
`+h.map(mg).join(`
`):" "+mg(h[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c},adapters:vu};function au(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new On(null,n)}function gg(n){return au(n),n.headers=ws.from(n.headers),n.data=ru.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ap.getAdapter(n.adapter||Ql.adapter,n)(n).then(function(o){return au(n),o.data=ru.call(n,n.transformResponse,o),o.headers=ws.from(o.headers),o},function(o){return Np(o)||(au(n),o&&o.response&&(o.response.data=ru.call(n,n.transformResponse,o.response),o.response.headers=ws.from(o.response.headers))),Promise.reject(o)})}const Dp="1.12.1",zi={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{zi[n]=function(o){return typeof o===n||"a"+(r<1?"n ":" ")+n}});const pg={};zi.transitional=function(r,l,o){function c(d,h){return"[Axios v"+Dp+"] Transitional option '"+d+"'"+h+(o?". "+o:"")}return(d,h,m)=>{if(r===!1)throw new Qe(c(h," has been removed"+(l?" in "+l:"")),Qe.ERR_DEPRECATED);return l&&!pg[h]&&(pg[h]=!0,console.warn(c(h," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(d,h,m):!0}};zi.spelling=function(r){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function K1(n,r,l){if(typeof n!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let c=o.length;for(;c-- >0;){const d=o[c],h=r[d];if(h){const m=n[d],p=m===void 0||h(m,d,n);if(p!==!0)throw new Qe("option "+d+" must be "+p,Qe.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Qe("Unknown option "+d,Qe.ERR_BAD_OPTION)}}const Ei={assertOptions:K1,validators:zi},nr=Ei.validators;let _a=class{constructor(r){this.defaults=r||{},this.interceptors={request:new ag,response:new ag}}async request(r,l){try{return await this._request(r,l)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=Aa(this.defaults,l);const{transitional:o,paramsSerializer:c,headers:d}=l;o!==void 0&&Ei.assertOptions(o,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),c!=null&&(ae.isFunction(c)?l.paramsSerializer={serialize:c}:Ei.assertOptions(c,{encode:nr.function,serialize:nr.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Ei.assertOptions(l,{baseUrl:nr.spelling("baseURL"),withXsrfToken:nr.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let h=d&&ae.merge(d.common,d[l.method]);d&&ae.forEach(["delete","get","head","post","put","patch","common"],N=>{delete d[N]}),l.headers=ws.concat(h,d);const m=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(p=p&&A.synchronous,m.unshift(A.fulfilled,A.rejected))});const g=[];this.interceptors.response.forEach(function(A){g.push(A.fulfilled,A.rejected)});let x,y=0,w;if(!p){const N=[gg.bind(this),void 0];for(N.unshift(...m),N.push(...g),w=N.length,x=Promise.resolve(l);y<w;)x=x.then(N[y++],N[y++]);return x}w=m.length;let C=l;for(y=0;y<w;){const N=m[y++],A=m[y++];try{C=N(C)}catch(_){A.call(this,_);break}}try{x=gg.call(this,C)}catch(N){return Promise.reject(N)}for(y=0,w=g.length;y<w;)x=x.then(g[y++],g[y++]);return x}getUri(r){r=Aa(this.defaults,r);const l=Cp(r.baseURL,r.url,r.allowAbsoluteUrls);return vp(l,r.params,r.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(r){_a.prototype[r]=function(l,o){return this.request(Aa(o||{},{method:r,url:l,data:(o||{}).data}))}});ae.forEach(["post","put","patch"],function(r){function l(o){return function(d,h,m){return this.request(Aa(m||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}_a.prototype[r]=l(),_a.prototype[r+"Form"]=l(!0)});let Q1=class Tp{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(d){l=d});const o=this;this.promise.then(c=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](c);o._listeners=null}),this.promise.then=c=>{let d;const h=new Promise(m=>{o.subscribe(m),d=m}).then(c);return h.cancel=function(){o.unsubscribe(d)},h},r(function(d,h,m){o.reason||(o.reason=new On(d,h,m),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=o=>{r.abort(o)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new Tp(function(c){r=c}),cancel:r}}};function X1(n){return function(l){return n.apply(null,l)}}function Z1(n){return ae.isObject(n)&&n.isAxiosError===!0}const wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wu).forEach(([n,r])=>{wu[r]=n});function Rp(n){const r=new _a(n),l=ip(_a.prototype.request,r);return ae.extend(l,_a.prototype,r,{allOwnKeys:!0}),ae.extend(l,r,null,{allOwnKeys:!0}),l.create=function(c){return Rp(Aa(n,c))},l}const Ae=Rp(Ql);Ae.Axios=_a;Ae.CanceledError=On;Ae.CancelToken=Q1;Ae.isCancel=Np;Ae.VERSION=Dp;Ae.toFormData=Bi;Ae.AxiosError=Qe;Ae.Cancel=Ae.CanceledError;Ae.all=function(r){return Promise.all(r)};Ae.spread=X1;Ae.isAxiosError=Z1;Ae.mergeConfig=Aa;Ae.AxiosHeaders=ws;Ae.formToJSON=n=>jp(ae.isHTMLForm(n)?new FormData(n):n);Ae.getAdapter=Ap.getAdapter;Ae.HttpStatusCode=wu;Ae.default=Ae;const{Axios:yS,AxiosError:bS,CanceledError:vS,isCancel:wS,CancelToken:jS,VERSION:NS,all:SS,Cancel:CS,isAxiosError:ES,spread:kS,toFormData:_S,AxiosHeaders:AS,HttpStatusCode:DS,formToJSON:TS,getAdapter:RS,mergeConfig:OS}=Ae,ns="http://localhost:1000",J1=async(n,r)=>{try{return(await Ae.post(`${ns}/api/v1/users/register`,{email:n,role:r})).data}catch(l){throw new Error(l.response.data.message)}},ew=async n=>{try{return(await Ae.post(`${ns}/api/v1/users/get-userid-by-email`,{email:n})).data}catch(r){throw new Error(r.response.data.message)}},tw=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ae.delete(`${ns}/api/v1/users/delete-account/${r}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},sw=async(n,r,l,o,c,d,h,m)=>{try{const p=localStorage.getItem("token"),g=localStorage.getItem("userId");if(!p)throw new Error("Authentication token not found. Please login again.");if(!g)throw new Error("User ID not found. Please login again.");return(await Ae.patch(`${ns}/api/v1/users/teacher-profile/${g}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,yearsOfExperience:d,phone:h,phone_e164:m},{headers:{Authorization:`Bearer ${p}`}})).data}catch(p){throw console.error("Teacher profile API error:",p),p.response?.data?.message?new Error(p.response.data.message):p.message?new Error(p.message):new Error("Failed to create teacher profile. Please try again.")}},rw=async(n,r,l,o,c,d,h,m)=>{try{const p=localStorage.getItem("token"),g=localStorage.getItem("userId");if(!p)throw new Error("Authentication token not found. Please login again.");if(!g)throw new Error("User ID not found. Please login again.");return(await Ae.patch(`${ns}/api/v1/users/student-profile/${g}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,grade:d,phone:h,phone_e164:m},{headers:{Authorization:`Bearer ${p}`}})).data}catch(p){throw console.error("Student profile API error:",p),p.response?.data?.message?new Error(p.response.data.message):p.message?new Error(p.message):new Error("Failed to create student profile. Please try again.")}},Da=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ae.get(`${ns}/api/v1/users/user-profile/${r}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},aw=async(n,r,l,o,c,d,h,m,p,g,x)=>{try{const y=localStorage.getItem("token"),w=localStorage.getItem("userId");return(await Ae.patch(`${ns}/api/v1/users/student-profile-update/${w}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,grade:d,yearsOfExperience:h,phone:m,email:p,avatar:g,phone_e164:x},{headers:{Authorization:`Bearer ${y}`}})).data}catch(y){throw new Error(y.response.data.message)}},nw=async(n,r,l,o,c,d,h,m,p,g)=>{try{const x=localStorage.getItem("token"),y=localStorage.getItem("userId");return(await Ae.patch(`${ns}/api/v1/users/teacher-profile-update/${y}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,yearsOfExperience:d,phone:h,email:m,avatar:p,phone_e164:g},{headers:{Authorization:`Bearer ${x}`}})).data}catch(x){throw new Error(x.response.data.message)}},lw=async n=>{try{const r=localStorage.getItem("token"),l=localStorage.getItem("userId"),o=new FormData;return o.append("avatar",n),(await Ae.post(`${ns}/api/v1/users/upload-avatar/${l}`,o,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},ow=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${ns}/api/v1/users/all-users`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},xg=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${ns}/api/v1/users/update-user-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Op=async(n,r,l,o,c,d,h,m,p,g,x)=>{try{const y=localStorage.getItem("token"),w=localStorage.getItem("userId");return(await Ae.patch(`${ns}/api/v1/users/teacher-profile-and-custom-locality/${w}`,{fullname:n,username:r,birthday:l,gender:o,custom_locality_name:c,custom_school_name:d,yearsOfExperience:h,phone:m,email:p,avatar:g,phone_e164:x},{headers:{Authorization:`Bearer ${y}`}})).data}catch(y){throw new Error(y.response.data.message)}},iw=async(n,r,l,o,c,d,h,m,p)=>{try{const g=localStorage.getItem("token"),x=localStorage.getItem("userId");return(await Ae.patch(`${ns}/api/v1/users/teacher-profile-custom-school-name/${x}`,{fullname:n,username:r,birthday:l,gender:o,locality:c,custom_school_name:d,yearsOfExperience:h,phone:m,phone_e164:p},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},Lp=async(n,r,l,o,c,d,h,m,p)=>{try{const g=localStorage.getItem("token"),x=localStorage.getItem("userId");return(await Ae.patch(`${ns}/api/v1/users/student-profile-and-custom-locality/${x}`,{fullname:n,username:r,birthday:l,gender:o,custom_locality_name:c,custom_school_name:d,grade:h,phone:m,phone_e164:p},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},cw=async(n,r,l,o,c,d,h,m,p)=>{try{const g=localStorage.getItem("token"),x=localStorage.getItem("userId");return(await Ae.patch(`${ns}/api/v1/users/student-profile-custom-school-name/${x}`,{fullname:n,username:r,birthday:l,gender:o,locality:c,custom_school_name:d,grade:h,phone:m,phone_e164:p},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},dw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${ns}/api/v1/users/send-superuser-invite`,{userame:n,email:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},uw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${ns}/api/v1/users/remove-superuser-invite`,{username:n,email:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},ra="http://localhost:1000",hw=async n=>{try{const r=localStorage.getItem("token"),l=new FormData;return l.append("file",n),(await Ae.post(`${ra}/api/v1/organisers/organiser-approval-edvince-upload`,l,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},fw=async(n,r,l,o)=>{try{const c=localStorage.getItem("token"),d=localStorage.getItem("userId");return(await Ae.post(`${ra}/api/v1/organisers/organiser-approval-request/${d}`,{school_id:n,locality_id:r,role:l,evidenceDocs:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response.data.message)}},mw=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ae.get(`${ra}/api/v1/organisers/verify-organiser/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},gw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${ra}/api/v1/organisers/all-organisers`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},pw=async(n,r)=>{try{const l=localStorage.getItem("token"),o=localStorage.getItem("userId");return(await Ae.patch(`${ra}/api/v1/organisers/update-organiser-status/${n}`,{status:r,userId:o},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},xw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${ra}/api/v1/organisers/delete-organiser/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},yw=async(n,r,l,o,c,d,h)=>{try{const m=localStorage.getItem("token");return(await Ae.post(`${ra}/api/v1/organisers/add-organiser-by-super-user`,{user_id:n,school_id:r,locality_id:l,role:o,evidence:c,status:d,actioned_by_user_id:h},{headers:{Authorization:`Bearer ${m}`}})).data}catch(m){throw new Error(m.response.data.message)}},bw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.post(`${ra}/api/v1/organisers/assign-organiser-to-school`,{userId:n},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Vu="http://localhost:1000",vw=async()=>{try{const n=localStorage.getItem("token");if(!n)throw new Error("Authentication token not found. Please login again.");return(await Ae.get(`${Vu}/api/v1/localities/all-localities`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Get localities API error:",n),n.response?.data?.message?new Error(n.response.data.message):n.message?new Error(n.message):new Error("Failed to load localities. Please try again.")}},ww=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.post(`${Vu}/api/v1/localities/merge-localities`,{primaryLocalityId:n,secondaryLocalityId:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},jw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Vu}/api/v1/localities/delete-locality/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Ln="http://localhost:1000",Nw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Ln}/api/v1/schools/all-schools`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Get schools API error:",n),n.response?.data?.message?new Error(n.response.data.message):n.message?new Error(n.message):new Error("Failed to load schools. Please try again.")}},Sw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${Ln}/api/v1/schools/update-school-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Cw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Ln}/api/v1/schools/delete-school/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Ew=async(n,r,l,o,c)=>{try{const d=localStorage.getItem("token");return(await Ae.patch(`${Ln}/api/v1/schools/update-school/${n}`,{code:r,name:l,locality_id:o,area_id:c},{headers:{Authorization:`Bearer ${d}`}})).data}catch(d){throw new Error(d.response.data.message)}},kw=async(n,r,l,o)=>{try{const c=localStorage.getItem("token");return(await Ae.post(`${Ln}/api/v1/schools/create-school`,{code:n,name:r,locality_id:l,area_id:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response.data.message)}},_w=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.post(`${Ln}/api/v1/schools/merge-schools`,{primarySchoolId:n,secondarySchoolId:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Wu="http://localhost:1000",Aw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Wu}/api/v1/areas/all-areas`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Get areas API error:",n),new Error(n.response.data.message)}},Dw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${Wu}/api/v1/areas/update-area-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Tw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Wu}/api/v1/areas/delete-area/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},_r="http://localhost:1000",Mp=async n=>{try{const r=localStorage.getItem("token"),l=new FormData;return l.append("file",n),(await Ae.post(`${_r}/api/v1/events/create-event-images-upload`,l,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},Rw=async(n,r,l,o,c,d,h,m,p,g,x,y,w,C,N)=>{try{const A=localStorage.getItem("token"),_=localStorage.getItem("organiserId");return(await Ae.post(`${_r}/api/v1/events/create-event/${_}`,{name:n,description:r,start_date:l,end_date:o,cover_image:c,logo_image:d,locality_id:h,school_id:m,area_id:p,number_of_seats:g,fees_per_delegate:x,total_revenue:y,website:w,instagram:C,organiser_id:N},{headers:{Authorization:`Bearer ${A}`}})).data}catch(A){throw new Error(A.response.data.message)}},Up=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${_r}/api/v1/events/get-events`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},Bp=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("organiserId");return(await Ae.get(`${_r}/api/v1/events/get-events-of-organiser/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},zp=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${_r}/api/v1/events/get-event-by-id/${n}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Ow=async(n,r,l,o,c,d,h,m,p,g,x,y,w,C)=>{try{const N=localStorage.getItem("token");return(await Ae.patch(`${_r}/api/v1/events/update-event/${n}`,{name:r,description:l,start_date:o,end_date:c,cover_image:d,locality_id:h,school_id:m,area_id:p,number_of_seats:g,fees_per_delegate:x,total_revenue:y,website:w,instagram:C},{headers:{Authorization:`Bearer ${N}`}})).data}catch(N){throw new Error(N.response.data.message)}},Lw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${_r}/api/v1/events/all-events`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},Mw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${_r}/api/v1/events/update-event-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Uw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${_r}/api/v1/events/delete-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},$i="http://localhost:1000",yg=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${$i}/api/v1/leadership-roles/all-leadership-roles`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response?.data?.message||"Failed to fetch leadership roles")}},Bw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.post(`${$i}/api/v1/leadership-roles/add-leadership-role`,{abbr:n,leadership_role:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to create leadership role")}},zw=async(n,r,l)=>{try{const o=localStorage.getItem("token");return(await Ae.patch(`${$i}/api/v1/leadership-roles/update-leadership-role/${n}`,{abbr:r,leadership_role:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to update leadership role")}},$w=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${$i}/api/v1/leadership-roles/delete-leadership-role/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete leadership role")}},Hw="modulepreload",Fw=function(n){return"/"+n},bg={},Xl=function(r,l,o){let c=Promise.resolve();if(l&&l.length>0){let g=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=g(l.map(x=>{if(x=Fw(x),x in bg)return;bg[x]=!0;const y=x.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${w}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":Hw,y||(C.as="script"),C.crossOrigin="",C.href=x,p&&C.setAttribute("nonce",p),document.head.appendChild(C),y)return new Promise((N,A)=>{C.addEventListener("load",N),C.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${x}`)))})}))}function d(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})},Pw=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...l)=>Xl(async()=>{const{default:o}=await Promise.resolve().then(()=>Mn);return{default:o}},[]).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)};class Ku extends Error{constructor(r,l="FunctionsError",o){super(r),this.name=l,this.context=o}}class Iw extends Ku{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class vg extends Ku{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class wg extends Ku{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var ju;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ju||(ju={}));var qw=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};class Yw{constructor(r,{headers:l={},customFetch:o,region:c=ju.Any}={}){this.url=r,this.headers=l,this.region=c,this.fetch=Pw(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,l={}){var o;return qw(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=l;let m={},{region:p}=l;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=h):typeof h=="string"?(m["Content-Type"]="text/plain",x=h):typeof FormData<"u"&&h instanceof FormData?x=h:(m["Content-Type"]="application/json",x=JSON.stringify(h)));const y=yield this.fetch(g.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:x}).catch(A=>{throw new Iw(A)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new vg(y);if(!y.ok)throw new wg(y);let C=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return C==="application/json"?N=yield y.json():C==="application/octet-stream"?N=yield y.blob():C==="text/event-stream"?N=y:C==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(c){return{data:null,error:c,response:c instanceof wg||c instanceof vg?c.context:void 0}}})}}var es={},mn={},gn={},pn={},xn={},yn={},Gw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kn=Gw();const Vw=kn.fetch,$p=kn.fetch.bind(kn),Hp=kn.Headers,Ww=kn.Request,Kw=kn.Response,Mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hp,Request:Ww,Response:Kw,default:$p,fetch:Vw},Symbol.toStringTag,{value:"Module"})),Qw=bb(Mn);var pi={},jg;function Fp(){if(jg)return pi;jg=1,Object.defineProperty(pi,"__esModule",{value:!0});class n extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return pi.default=n,pi}var Ng;function Pp(){if(Ng)return yn;Ng=1;var n=yn&&yn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(yn,"__esModule",{value:!0});const r=n(Qw),l=n(Fp());class o{constructor(d){var h,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,y,w,C;let N=null,A=null,_=null,T=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const F=await g.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?A=F:A=JSON.parse(F))}const W=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),$=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");W&&$&&$.length>1&&(_=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(N={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,_=null,T=406,D="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const W=await g.text();try{N=JSON.parse(W),Array.isArray(N)&&g.status===404&&(A=[],N=null,T=200,D="OK")}catch{g.status===404&&W===""?(T=204,D="No Content"):N={message:W}}if(N&&this.isMaybeSingle&&(!((C=N?.details)===null||C===void 0)&&C.includes("0 rows"))&&(N=null,T=200,D="OK"),N&&this.shouldThrowOnError)throw new l.default(N)}return{error:N,data:A,count:_,status:T,statusText:D}});return this.shouldThrowOnError||(p=p.catch(g=>{var x,y,w;return{error:{message:`${(x=g?.name)!==null&&x!==void 0?x:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(d,h)}returns(){return this}overrideTypes(){return this}}return yn.default=o,yn}var Sg;function Ip(){if(Sg)return xn;Sg=1;var n=xn&&xn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xn,"__esModule",{value:!0});const r=n(Pp());class l extends r.default{select(c){let d=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(g,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var x;const y=[c?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return xn.default=l,xn}var Cg;function Qu(){if(Cg)return pn;Cg=1;var n=pn&&pn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(pn,"__esModule",{value:!0});const r=n(Ip());class l extends r.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${p}fts${g}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return pn.default=l,pn}var Eg;function qp(){if(Eg)return gn;Eg=1;var n=gn&&gn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(gn,"__esModule",{value:!0});const r=n(Qu());class l{constructor(c,{headers:d={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(c,{head:d=!1,count:h}={}){const m=d?"HEAD":"GET";let p=!1;const g=(c??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var m;const p="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((w,C)=>w.concat(Object.keys(C)),[]);if(y.length>0){const w=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return gn.default=l,gn}var kg;function Xw(){if(kg)return mn;kg=1;var n=mn&&mn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(mn,"__esModule",{value:!0});const r=n(qp()),l=n(Qu());class o{constructor(d,{headers:h={},schema:m,fetch:p}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:p=!1,count:g}={}){var x;let y;const w=new URL(`${this.url}/rpc/${d}`);let C;m||p?(y=m?"HEAD":"GET",Object.entries(h).filter(([A,_])=>_!==void 0).map(([A,_])=>[A,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([A,_])=>{w.searchParams.append(A,_)})):(y="POST",C=h);const N=new Headers(this.headers);return g&&N.set("Prefer",`count=${g}`),new l.default({method:y,url:w,headers:N,schema:this.schemaName,body:C,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return mn.default=o,mn}var _g;function Zw(){if(_g)return es;_g=1;var n=es&&es.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(es,"__esModule",{value:!0}),es.PostgrestError=es.PostgrestBuilder=es.PostgrestTransformBuilder=es.PostgrestFilterBuilder=es.PostgrestQueryBuilder=es.PostgrestClient=void 0;const r=n(Xw());es.PostgrestClient=r.default;const l=n(qp());es.PostgrestQueryBuilder=l.default;const o=n(Qu());es.PostgrestFilterBuilder=o.default;const c=n(Ip());es.PostgrestTransformBuilder=c.default;const d=n(Pp());es.PostgrestBuilder=d.default;const h=n(Fp());return es.PostgrestError=h.default,es.default={PostgrestClient:r.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},es}var Jw=Zw();const ej=Mu(Jw),{PostgrestClient:tj,PostgrestQueryBuilder:LS,PostgrestFilterBuilder:MS,PostgrestTransformBuilder:US,PostgrestBuilder:BS,PostgrestError:zS}=ej;class sj{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let l=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(l+=`

Suggested solution: ${r.workaround}`),new Error(l)}static createWebSocket(r,l){const o=this.getWebSocketConstructor();return new o(r,l)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const rj="2.15.5",aj=`realtime-js/${rj}`,nj="1.0.0",Nu=1e4,lj=1e3,oj=100;var Ul;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ul||(Ul={}));var Vt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Vt||(Vt={}));var Gs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Gs||(Gs={}));var Su;(function(n){n.websocket="websocket"})(Su||(Su={}));var Ea;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ea||(Ea={}));class ij{constructor(){this.HEADER_LENGTH=1}decode(r,l){return r.constructor===ArrayBuffer?l(this._binaryDecode(r)):l(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const l=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,l,o)}_decodeBroadcast(r,l,o){const c=l.getUint8(1),d=l.getUint8(2);let h=this.HEADER_LENGTH+2;const m=o.decode(r.slice(h,h+c));h=h+c;const p=o.decode(r.slice(h,h+d));h=h+d;const g=JSON.parse(o.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:p,payload:g}}}class Yp{constructor(r,l){this.callback=r,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(wt||(wt={}));const Ag=(n,r,l={})=>{var o;const c=(o=l.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,h)=>(d[h]=cj(h,n,r,c),d),{})},cj=(n,r,l,o)=>{const c=r.find(m=>m.name===n),d=c?.type,h=l[n];return d&&!o.includes(d)?Gp(d,h):Cu(h)},Gp=(n,r)=>{if(n.charAt(0)==="_"){const l=n.slice(1,n.length);return fj(r,l)}switch(n){case wt.bool:return dj(r);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return uj(r);case wt.json:case wt.jsonb:return hj(r);case wt.timestamp:return mj(r);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return Cu(r);default:return Cu(r)}},Cu=n=>n,dj=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},uj=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},hj=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(r){return console.log(`JSON parse error: ${r}`),n}return n},fj=(n,r)=>{if(typeof n!="string")return n;const l=n.length-1,o=n[l];if(n[0]==="{"&&o==="}"){let d;const h=n.slice(1,l);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>Gp(r,m))}return n},mj=n=>typeof n=="string"?n.replace(" ","T"):n,Vp=n=>{let r=n;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class nu{constructor(r,l,o={},c=Nu){this.channel=r,this.event=l,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,l){var o;return this._hasReceived(r)&&l((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:l}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(l))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Dg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Dg||(Dg={}));class Bl{constructor(r,l){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,c,d,h),this.pendingDiffs.forEach(p=>{this.state=Bl.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Bl.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,l,o,c){const d=this.cloneDeep(r),h=this.transformState(l),m={},p={};return this.map(d,(g,x)=>{h[g]||(p[g]=x)}),this.map(h,(g,x)=>{const y=d[g];if(y){const w=x.map(_=>_.presence_ref),C=y.map(_=>_.presence_ref),N=x.filter(_=>C.indexOf(_.presence_ref)<0),A=y.filter(_=>w.indexOf(_.presence_ref)<0);N.length>0&&(m[g]=N),A.length>0&&(p[g]=A)}else m[g]=x}),this.syncDiff(d,{joins:m,leaves:p},o,c)}static syncDiff(r,l,o,c){const{joins:d,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(d,(m,p)=>{var g;const x=(g=r[m])!==null&&g!==void 0?g:[];if(r[m]=this.cloneDeep(p),x.length>0){const y=r[m].map(C=>C.presence_ref),w=x.filter(C=>y.indexOf(C.presence_ref)<0);r[m].unshift(...w)}o(m,x,p)}),this.map(h,(m,p)=>{let g=r[m];if(!g)return;const x=p.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),r[m]=g,c(m,g,p),g.length===0&&delete r[m]}),r}static map(r,l){return Object.getOwnPropertyNames(r).map(o=>l(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((l,o)=>{const c=r[o];return"metas"in c?l[o]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[o]=c,l},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Tg||(Tg={}));var zl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(zl||(zl={}));var Sr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Xu{constructor(r,l={config:{}},o){this.topic=r,this.params=l,this.socket=o,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new nu(this,Gs.join,this.params,this.timeout),this.rejoinTimer=new Yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gs.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Bl(this),this.broadcastEndpointURL=Vp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,l=this.timeout){var o,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,g=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(C=>C.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[zl.PRESENCE]&&this.bindings[zl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,y={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(C=>r?.(Sr.CHANNEL_ERROR,C)),this._onClose(()=>r?.(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:C})=>{var N;if(this.socket.setAuth(),C===void 0){r?.(Sr.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,_=(N=A?.length)!==null&&N!==void 0?N:0,T=[];for(let D=0;D<_;D++){const L=A[D],{filter:{event:W,schema:$,table:F,filter:I}}=L,de=C&&C[D];if(de&&de.event===W&&de.schema===$&&de.table===F&&de.filter===I)T.push(Object.assign(Object.assign({},L),{id:de.id}));else{this.unsubscribe(),this.state=Vt.errored,r?.(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,r&&r(Sr.SUBSCRIBED);return}}).receive("error",C=>{this.state=Vt.errored,r?.(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{r?.(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,l={}){return await this.send({type:"presence",event:"track",payload:r},l.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,l,o){return this.state===Vt.joined&&r===zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,l,o)}async send(r,l={}){var o,c;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:h}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,p;const g=this._push(r.type,r,l.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Vt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gs.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new nu(this,Gs.leave,{},r),o.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(r,l,o){const c=new AbortController,d=setTimeout(()=>c.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),h}_push(r,l,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new nu(this,r,l,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>oj){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(r,l,o){return l}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,l,o){var c,d;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:g,join:x}=Gs;if(o&&[m,p,g,x].indexOf(h)>=0&&o!==this._joinRef())return;let w=this._onMessage(h,l,o);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var N,A,_;return((N=C.filter)===null||N===void 0?void 0:N.event)==="*"||((_=(A=C.filter)===null||A===void 0?void 0:A.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===h}).map(C=>C.callback(w,o)):(d=this.bindings[h])===null||d===void 0||d.filter(C=>{var N,A,_,T,D,L;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const W=C.id,$=(N=C.filter)===null||N===void 0?void 0:N.event;return W&&((A=l.ids)===null||A===void 0?void 0:A.includes(W))&&($==="*"||$?.toLocaleLowerCase()===((_=l.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const W=(D=(T=C?.filter)===null||T===void 0?void 0:T.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return W==="*"||W===((L=l?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:A,table:_,commit_timestamp:T,type:D,errors:L}=N;w=Object.assign(Object.assign({},{schema:A,table:_,commit_timestamp:T,eventType:D,new:{},old:{},errors:L}),this._getPayloadRecords(N))}C.callback(w,o)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,l,o){const c=r.toLocaleLowerCase(),d={type:c,filter:l,callback:o};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(r,l){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&Xu.isEqual(c.filter,l))})),this}static isEqual(r,l){if(Object.keys(r).length!==Object.keys(l).length)return!1;for(const o in r)if(r[o]!==l[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Gs.close,{},r)}_onError(r){this._on(Gs.error,{},l=>r(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const l={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(l.new=Ag(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(l.old=Ag(r.columns,r.old_record)),l}}const lu=()=>{},xi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gj=[1e3,2e3,5e3,1e4],pj=1e4,xj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yj{constructor(r,l){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nu,this.transport=null,this.heartbeatIntervalMs=xi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lu,this.ref=0,this.reconnectTimer=null,this.logger=lu,this.conn=null,this.sendBuffer=[],this.serializer=new ij,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Xl(async()=>{const{default:m}=await Promise.resolve().then(()=>Mn);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((o=l?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${r}/${Su.websocket}`,this.httpEndpoint=Vp(r),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sj.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const l=r.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nj}))}disconnect(r,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const l=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const r=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,l,o){this.logger(r,l,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ul.connecting:return Ea.Connecting;case Ul.open:return Ea.Open;case Ul.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,l={config:{}}){const o=`realtime:${r}`,c=this.getChannels().find(d=>d.topic===o);if(c)return c;{const d=new Xu(`realtime:${r}`,l,this);return this.channels.push(d),d}}push(r){const{topic:l,event:o,payload:c,ref:d}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${l} ${o} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(lj,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},xi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let l=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${r}"`),l.unsubscribe())}_remove(r){this.channels=this.channels.filter(l=>l.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:d,ref:h}=l,m=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${o} ${c} ${m}`.trim(),d),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(c,d,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(r){var l;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var l;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Gs.error))}_appendParams(r,l){if(Object.keys(l).length===0)return r;const o=r.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${r}${o}${c}`}_workerObjectUrl(r){let l;if(r)l=r;else{const o=new Blob([xj],{type:"application/javascript"});l=URL.createObjectURL(o)}return l}_setConnectionState(r,l=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(r=null){let l;r?l=r:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(o=>{const c={access_token:l,version:aj};l&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Gs.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${r}`,l)})}_triggerStateCallbacks(r,l){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(l)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Yp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var l,o,c,d,h,m,p,g,x;if(this.transport=(l=r?.transport)!==null&&l!==void 0?l:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Nu,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:xi.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:lu,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>gj[y-1]||pj),this.encode=(g=r?.encode)!==null&&g!==void 0?g:((y,w)=>w(JSON.stringify(y))),this.decode=(x=r?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Zu extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Wt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class bj extends Zu{constructor(r,l,o){super(r),this.name="StorageApiError",this.status=l,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends Zu{constructor(r,l){super(r),this.name="StorageUnknownError",this.originalError=l}}var vj=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};const Wp=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...l)=>Xl(async()=>{const{default:o}=await Promise.resolve().then(()=>Mn);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},wj=()=>vj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xl(()=>Promise.resolve().then(()=>Mn),void 0)).Response:Response}),ku=n=>{if(Array.isArray(n))return n.map(l=>ku(l));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([l,o])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[c]=ku(o)}),r},jj=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ta=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};const ou=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Nj=(n,r,l)=>Ta(void 0,void 0,void 0,function*(){const o=yield wj();n instanceof o&&!l?.noResolveJson?n.json().then(c=>{const d=n.status||500,h=c?.statusCode||d+"";r(new bj(ou(c),d,h))}).catch(c=>{r(new Eu(ou(c),c))}):r(new Eu(ou(n),n))}),Sj=(n,r,l,o)=>{const c={method:n,headers:r?.headers||{}};return n==="GET"||!o?c:(jj(o)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(o)):c.body=o,r?.duplex&&(c.duplex=r.duplex),Object.assign(Object.assign({},c),l))};function Zl(n,r,l,o,c,d){return Ta(this,void 0,void 0,function*(){return new Promise((h,m)=>{n(l,Sj(r,o,c,d)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Nj(p,m,o))})})}function Ai(n,r,l,o){return Ta(this,void 0,void 0,function*(){return Zl(n,"GET",r,l,o)})}function lr(n,r,l,o,c){return Ta(this,void 0,void 0,function*(){return Zl(n,"POST",r,o,c,l)})}function _u(n,r,l,o,c){return Ta(this,void 0,void 0,function*(){return Zl(n,"PUT",r,o,c,l)})}function Cj(n,r,l,o){return Ta(this,void 0,void 0,function*(){return Zl(n,"HEAD",r,Object.assign(Object.assign({},l),{noResolveJson:!0}),o)})}function Kp(n,r,l,o,c){return Ta(this,void 0,void 0,function*(){return Zl(n,"DELETE",r,o,c,l)})}var ms=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};const Ej={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kj{constructor(r,l={},o,c){this.shouldThrowOnError=!1,this.url=r,this.headers=l,this.bucketId=o,this.fetch=Wp(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,l,o,c){return ms(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Rg),c);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",this.encodeMetadata(p))):(d=o,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const g=this._removeEmptyFolders(l),x=this._getFinalPath(g),y=yield(r=="PUT"?_u:lr)(this.fetch,`${this.url}/object/${x}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Wt(d))return{data:null,error:d};throw d}})}upload(r,l,o){return ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,l,o)})}uploadToSignedUrl(r,l,o,c){return ms(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",l);try{let p;const g=Object.assign({upsert:Rg.upsert},c),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",g.cacheControl)):(p=o,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const y=yield _u(this.fetch,m.toString(),p,{headers:x});return{data:{path:d,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Wt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,l){return ms(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const c=Object.assign({},this.headers);l?.upsert&&(c["x-upsert"]="true");const d=yield lr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new Zu("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}update(r,l,o){return ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,l,o)})}move(r,l,o){return ms(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Wt(c))return{data:null,error:c};throw c}})}copy(r,l,o){return ms(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Wt(c))return{data:null,error:c};throw c}})}createSignedUrl(r,l,o){return ms(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),d=yield lr(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:l},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Wt(c))return{data:null,error:c};throw c}})}createSignedUrls(r,l,o){return ms(this,void 0,void 0,function*(){try{const c=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Wt(c))return{data:null,error:c};throw c}})}download(r,l){return ms(this,void 0,void 0,function*(){const c=typeof l?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(l?.transform||{}),h=d?`?${d}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield Ai(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Wt(m))return{data:null,error:m};throw m}})}info(r){return ms(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{const o=yield Ai(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:ku(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}exists(r){return ms(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{return yield Cj(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o)&&o instanceof Eu){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,l){const o=this._getFinalPath(r),c=[],d=l?.download?`download=${l.download===!0?"":l.download}`:"";d!==""&&c.push(d);const m=typeof l?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(l?.transform||{});p!==""&&c.push(p);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${g}`)}}}remove(r){return ms(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Wt(l))return{data:null,error:l};throw l}})}list(r,l,o){return ms(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Ej),l),{prefix:r||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Wt(c))return{data:null,error:c};throw c}})}listV2(r,l){return ms(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const l=[];return r.width&&l.push(`width=${r.width}`),r.height&&l.push(`height=${r.height}`),r.resize&&l.push(`resize=${r.resize}`),r.format&&l.push(`format=${r.format}`),r.quality&&l.push(`quality=${r.quality}`),l.join("&")}}const _j="2.12.1",Aj={"X-Client-Info":`storage-js/${_j}`};var bn=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};class Dj{constructor(r,l={},o,c){this.shouldThrowOnError=!1;const d=new URL(r);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Aj),l),this.fetch=Wp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return bn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}getBucket(r){return bn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Wt(l))return{data:null,error:l};throw l}})}createBucket(r,l={public:!1}){return bn(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}updateBucket(r,l){return bn(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}emptyBucket(r){return bn(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Wt(l))return{data:null,error:l};throw l}})}deleteBucket(r){return bn(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Wt(l))return{data:null,error:l};throw l}})}}class Tj extends Dj{constructor(r,l={},o,c){super(r,l,o,c)}from(r){return new kj(this.url,this.headers,r,this.fetch)}}const Rj="2.57.4";let Ll="";typeof Deno<"u"?Ll="deno":typeof document<"u"?Ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ll="react-native":Ll="node";const Oj={"X-Client-Info":`supabase-js-${Ll}/${Rj}`},Lj={headers:Oj},Mj={schema:"public"},Uj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bj={};var zj=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};const $j=n=>{let r;return n?r=n:typeof fetch>"u"?r=$p:r=fetch,(...l)=>r(...l)},Hj=()=>typeof Headers>"u"?Hp:Headers,Fj=(n,r,l)=>{const o=$j(l),c=Hj();return(d,h)=>zj(void 0,void 0,void 0,function*(){var m;const p=(m=yield r())!==null&&m!==void 0?m:n;let g=new c(h?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),o(d,Object.assign(Object.assign({},h),{headers:g}))})};var Pj=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};function Ij(n){return n.endsWith("/")?n:n+"/"}function qj(n,r){var l,o;const{db:c,auth:d,realtime:h,global:m}=n,{db:p,auth:g,realtime:x,global:y}=r,w={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},g),d),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),m),{headers:Object.assign(Object.assign({},(l=y?.headers)!==null&&l!==void 0?l:{}),(o=m?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Pj(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function Yj(n){const r=n?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ij(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qp="2.71.1",Sn=30*1e3,Au=3,iu=Au*Sn,Gj="http://localhost:9999",Vj="supabase.auth.token",Wj={"X-Client-Info":`gotrue-js/${Qp}`},Du="X-Supabase-Api-Version",Xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qj=600*1e3;class Ju extends Error{constructor(r,l,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=o}}function Ke(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Xj extends Ju{constructor(r,l,o){super(r,l,o),this.name="AuthApiError",this.status=l,this.code=o}}function Zj(n){return Ke(n)&&n.name==="AuthApiError"}class Zp extends Ju{constructor(r,l){super(r),this.name="AuthUnknownError",this.originalError=l}}class aa extends Ju{constructor(r,l,o,c){super(r,o,c),this.name=l,this.status=o}}class ea extends aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jj(n){return Ke(n)&&n.name==="AuthSessionMissingError"}class yi extends aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends aa{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class vi extends aa{constructor(r,l=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eN(n){return Ke(n)&&n.name==="AuthImplicitGrantRedirectError"}class Og extends aa{constructor(r,l=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tu extends aa{constructor(r,l){super(r,"AuthRetryableFetchError",l,void 0)}}function cu(n){return Ke(n)&&n.name==="AuthRetryableFetchError"}class Lg extends aa{constructor(r,l,o){super(r,"AuthWeakPasswordError",l,"weak_password"),this.reasons=o}}class Ru extends aa{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mg=` 	
\r=`.split(""),tN=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<Mg.length;r+=1)n[Mg[r].charCodeAt(0)]=-2;for(let r=0;r<Di.length;r+=1)n[Di[r].charCodeAt(0)]=r;return n})();function Ug(n,r,l){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;l(Di[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;l(Di[o]),r.queuedBits-=6}}function Jp(n,r,l){const o=tN[n];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)l(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Bg(n){const r=[],l=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{aN(h,o,l)};for(let h=0;h<n.length;h+=1)Jp(n.charCodeAt(h),c,d);return r.join("")}function sN(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function rN(n,r){for(let l=0;l<n.length;l+=1){let o=n.charCodeAt(l);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(n.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}sN(o,r)}}function aN(n,r,l){if(r.utf8seq===0){if(n<=127){l(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&l(r.codepoint)}}function nN(n){const r=[],l={queue:0,queuedBits:0},o=c=>{r.push(c)};for(let c=0;c<n.length;c+=1)Jp(n.charCodeAt(c),l,o);return new Uint8Array(r)}function lN(n){const r=[];return rN(n,l=>r.push(l)),new Uint8Array(r)}function oN(n){const r=[],l={queue:0,queuedBits:0},o=c=>{r.push(c)};return n.forEach(c=>Ug(c,l,o)),Ug(null,l,o),r.join("")}function iN(n){return Math.round(Date.now()/1e3)+n}function cN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)})}const Ys=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},ex=()=>{if(!Ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function dN(n){const r={},l=new URL(n);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{r[d]=c})}catch{}return l.searchParams.forEach((o,c)=>{r[c]=o}),r}const tx=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...l)=>Xl(async()=>{const{default:o}=await Promise.resolve().then(()=>Mn);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},uN=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Cn=async(n,r,l)=>{await n.setItem(r,JSON.stringify(l))},Sa=async(n,r)=>{const l=await n.getItem(r);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Jr=async(n,r)=>{await n.removeItem(r)};class Hi{constructor(){this.promise=new Hi.promiseConstructor((r,l)=>{this.resolve=r,this.reject=l})}}Hi.promiseConstructor=Promise;function du(n){const r=n.split(".");if(r.length!==3)throw new Ru("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Kj.test(r[o]))throw new Ru("JWT not in base64url format");return{header:JSON.parse(Bg(r[0])),payload:JSON.parse(Bg(r[1])),signature:nN(r[2]),raw:{header:r[0],payload:r[1]}}}async function hN(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function fN(n,r){return new Promise((o,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await n(d);if(!r(d,null,h)){o(h);return}}catch(h){if(!r(d,h)){c(h);return}}})()})}function mN(n){return("0"+n.toString(16)).substr(-2)}function gN(){const r=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(r),Array.from(r,mN).join("")}async function pN(n){const l=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(o);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function xN(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const l=await pN(n);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(n,r,l=!1){const o=gN();let c=o;l&&(c+="/PASSWORD_RECOVERY"),await Cn(n,`${r}-code-verifier`,c);const d=await xN(o);return[d,o===d?"plain":"s256"]}const yN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bN(n){const r=n.headers.get(Du);if(!r||!r.match(yN))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function vN(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function wN(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wn(n){if(!jN.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uu(){const n={};return new Proxy(n,{get:(r,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const o=l.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zg(n){return JSON.parse(JSON.stringify(n))}var NN=function(n,r){var l={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(l[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(l[o[c]]=n[o[c]]);return l};const Ca=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SN=[502,503,504];async function $g(n){var r;if(!uN(n))throw new Tu(Ca(n),0);if(SN.includes(n.status))throw new Tu(Ca(n),n.status);let l;try{l=await n.json()}catch(d){throw new Zp(Ca(d),d)}let o;const c=bN(n);if(c&&c.getTime()>=Xp["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?o=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(o=l.error_code),o){if(o==="weak_password")throw new Lg(Ca(l),n.status,((r=l.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new ea}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Lg(Ca(l),n.status,l.weak_password.reasons);throw new Xj(Ca(l),n.status||500,o)}const CN=(n,r,l,o)=>{const c={method:n,headers:r?.headers||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),l))};async function rt(n,r,l,o){var c;const d=Object.assign({},o?.headers);d[Du]||(d[Du]=Xp["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const h=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await EN(n,r,l+m,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function EN(n,r,l,o,c,d){const h=CN(r,o,c,d);let m;try{m=await n(l,Object.assign({},h))}catch(p){throw console.error(p),new Tu(Ca(p),0)}if(m.ok||await $g(m),o?.noResolveJson)return m;try{return await m.json()}catch(p){await $g(p)}}function Nr(n){var r;let l=null;DN(n)&&(l=Object.assign({},n),n.expires_at||(l.expires_at=iN(n.expires_in)));const o=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:l,user:o},error:null}}function Hg(n){const r=Nr(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0)&&(r.data.weak_password=n.weak_password),r}function ta(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function kN(n){return{data:n,error:null}}function _N(n){const{action_link:r,email_otp:l,hashed_token:o,redirect_to:c,verification_type:d}=n,h=NN(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:l,hashed_token:o,redirect_to:c,verification_type:d},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function AN(n){return n}function DN(n){return n.access_token&&n.refresh_token&&n.expires_in}const hu=["global","local","others"];var TN=function(n,r){var l={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(l[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(l[o[c]]=n[o[c]]);return l};class RN{constructor({url:r="",headers:l={},fetch:o}){this.url=r,this.headers=l,this.fetch=tx(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,l=hu[0]){if(hu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hu.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,l={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ta})}catch(o){if(Ke(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:l}=r,o=TN(r,["options"]),c=Object.assign(Object.assign({},o),l);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:_N,redirectTo:l?.redirectTo})}catch(l){if(Ke(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(r){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:ta})}catch(l){if(Ke(l))return{data:{user:null},error:l};throw l}}async listUsers(r){var l,o,c,d,h,m,p;try{const g={nextPage:null,lastPage:0,total:0},x=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:"",per_page:(d=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:AN});if(x.error)throw x.error;const y=await x.json(),w=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(N=>{const A=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);g[`${_}Page`]=A}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(Ke(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){wn(r);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:ta})}catch(l){if(Ke(l))return{data:{user:null},error:l};throw l}}async updateUserById(r,l){wn(r);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:l,headers:this.headers,xform:ta})}catch(o){if(Ke(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,l=!1){wn(r);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:l},xform:ta})}catch(o){if(Ke(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){wn(r.userId);try{const{data:l,error:o}=await rt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:o}}catch(l){if(Ke(l))return{data:null,error:l};throw l}}async _deleteFactor(r){wn(r.userId),wn(r.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}}}function Fg(n={}){return{getItem:r=>n[r]||null,setItem:(r,l)=>{n[r]=l},removeItem:r=>{delete n[r]}}}function ON(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jn={debug:!!(globalThis&&ex()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sx extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class LN extends sx{}async function MN(n,r,l){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await l()}finally{jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(r===0)throw jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new LN(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(jn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}ON();const UN={url:Gj,storageKey:Vj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pg(n,r,l){return await l()}const Nn={};class Fl{constructor(r){var l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&Ys()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},UN),r);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new RN({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=tx(c.fetch),this.lock=c.lock||Pg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Ys()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=MN:this.lock=Pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:ex()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Fg(this.memoryStorage)),Ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,l;return(l=(r=Nn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(r){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,l;return(l=(r=Nn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qp}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const l=dN(window.location.href);let o="none";if(this._isImplicitGrantCallback(l)?o="implicit":await this._isPKCECallback(l)&&(o="pkce"),Ys()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),eN(d)){const p=(r=d.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return Ke(l)?{error:l}:{error:new Zp("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var l,o,c;try{const d=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(l=r?.options)===null||l===void 0?void 0:l.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Nr}),{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(d){if(Ke(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var l,o,c;try{let d;if("email"in r){const{email:x,password:y,options:w}=r;let C=null,N=null;this.flowType==="pkce"&&([C,N]=await vn(this.storage,this.storageKey)),d=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:x,password:y,data:(l=w?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:C,code_challenge_method:N},xform:Nr})}else if("phone"in r){const{phone:x,password:y,options:w}=r;d=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Nr})}else throw new bi("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(d){if(Ke(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let l;if("email"in r){const{email:d,password:h,options:m}=r;l=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Hg})}else if("phone"in r){const{phone:d,password:h,options:m}=r;l=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Hg})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new yi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(r){var l,o,c,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(l=r.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:l}=r;if(l==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}async signInWithSolana(r){var l,o,c,d,h,m,p,g,x,y,w,C;let N,A;if("message"in r)N=r.message,A=r.signature;else{const{chain:_,wallet:T,statement:D,options:L}=r;let W;if(Ys())if(typeof T=="object")W=T;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))W=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=T}const $=new URL((l=L?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in W&&W.signIn){const F=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),D?{statement:D}:null));let I;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")I=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)I=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)N=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),A=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(c=(o=L?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=L?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((y=(x=L?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...L.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const F=await W.signMessage(new TextEncoder().encode(N),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=F}}try{const{data:_,error:T}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:oN(A)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Nr});if(T)throw T;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new yi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:T})}catch(_){if(Ke(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(r){const l=await Sa(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(l??"").split("/");try{const{data:d,error:h}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Nr});if(await Jr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new yi}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(Ke(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:l,provider:o,token:c,access_token:d,nonce:h}=r,m=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Nr}),{data:p,error:g}=m;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new yi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(r){var l,o,c,d,h;try{if("email"in r){const{email:m,options:p}=r;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await vn(this.storage,this.storageKey));const{error:y}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:m,options:p}=r,{data:g,error:x}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:x}}throw new bi("You must provide either an email or phone number.")}catch(m){if(Ke(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var l,o;try{let c,d;"options"in r&&(c=(l=r.options)===null||l===void 0?void 0:l.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:m}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Nr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,g=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(Ke(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(r){var l,o,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await vn(this.storage,this.storageKey)),await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(l=r.options)===null||l===void 0?void 0:l.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:kN})}catch(d){if(Ke(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;if(o)throw o;if(!l)throw new ea;const{error:c}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:c}})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const l=`${this.url}/resend`;if("email"in r){const{email:o,type:c,options:d}=r,{error:h}=await rt(this.fetch,"POST",l,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:o,type:c,options:d}=r,{data:h,error:m}=await rt(this.fetch,"POST",l,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new bi("You must provide either an email or phone number and a type")}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(r,l){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=l();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await r(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const l=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?r=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<iu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Sa(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=uu()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,g,x)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,x))})}return{data:{session:r},error:null}}const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:ta}):await this._useSession(async l=>{var o,c,d;const{data:h,error:m}=l;if(m)throw m;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ea}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:ta})})}catch(l){if(Ke(l))return Jj(l)&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(r,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,l))}async _updateUser(r,l={}){try{return await this._useSession(async o=>{const{data:c,error:d}=o;if(d)throw d;if(!c.session)throw new ea;const h=c.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await vn(this.storage,this.storageKey));const{data:g,error:x}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:ta});if(x)throw x;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(Ke(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ea;const l=Date.now()/1e3;let o=l,c=!0,d=null;const{payload:h}=du(r.access_token);if(h.exp&&(o=h.exp,c=o<=l),c){const{session:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;d={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:o-l,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(l){if(Ke(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async l=>{var o;if(!r){const{data:h,error:m}=l;if(m)throw m;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new ea;const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(r,l){try{if(!Ys())throw new vi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new vi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vi("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Og("No code detected.");const{data:D,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:p,token_type:g}=r;if(!d||!m||!h||!g)throw new vi("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(m);let w=x+y;p&&(w=parseInt(p));const C=w-x;C*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const N=w-y;x-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,x):x-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,x);const{data:A,error:_}=await this._getUser(d);if(_)throw _;const T={provider_token:o,provider_refresh_token:c,access_token:d,expires_in:y,expires_at:w,refresh_token:h,token_type:g,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(o){if(Ke(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const l=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&l)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async l=>{var o;const{data:c,error:d}=l;if(d)return{error:d};const h=(o=c.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(Zj(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const l=cN(),o={id:l,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async l=>{var o,c;try{const{data:{session:d},error:h}=l;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,l={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await vn(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(Ke(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:l,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=l.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}}async linkIdentity(r){var l;try{const{data:o,error:c}=await this._useSession(async d=>{var h,m,p,g,x;const{data:y,error:w}=d;if(w)throw w;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Ys()&&!(!((l=r.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(Ke(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async l=>{var o,c;const{data:d,error:h}=l;if(h)throw h;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(Ke(l))return{data:null,error:l};throw l}}async _refreshAccessToken(r){const l=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{const o=Date.now();return await fN(async c=>(c>0&&await hN(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Nr})),(c,d)=>{const h=200*Math.pow(2,c);return d&&cu(d)&&Date.now()+h-o<Sn})}catch(o){if(this._debug(l,"error",o),Ke(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(l,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,l){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",l,"url",o),Ys()&&!l.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,l;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Sa(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Cn(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h?.user)!==null&&r!==void 0?r:uu()}else if(c&&!c.user&&!c.user){const h=await Sa(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Jr(this.storage,this.storageKey+"-user"),await Cn(this.storage,this.storageKey,c)):c.user=uu()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const d=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<iu;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${iu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),cu(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var l,o;if(!r)throw new ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Hi;const{data:d,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!d.session)throw new ea;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={session:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),Ke(d)){const h={session:null,error:d};return cu(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,l,o=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",l,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:l});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,l)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const l=Object.assign({},r),o=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&l.user&&await Cn(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const d=zg(c);await Cn(this.storage,this.storageKey,d)}else{const c=zg(l);await Cn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Jr(this.storage,this.storageKey),await Jr(this.storage,this.storageKey+"-code-verifier"),await Jr(this.storage,this.storageKey+"-user"),this.userStorage&&await Jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ys()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async l=>{const{data:{session:o}}=l;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-r)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Sn}ms, refresh threshold is ${Au} ticks`),c<=Au&&await this._callRefreshToken(o.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof sx)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ys()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const l=`#_onVisibilityChanged(${r})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,l,o){const c=[`provider=${encodeURIComponent(l)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,h]=await vn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);c.push(d.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async l=>{var o;const{data:c,error:d}=l;return d?{data:null,error:d}:await rt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(l){if(Ke(l))return{data:null,error:l};throw l}}async _enroll(r){try{return await this._useSession(async l=>{var o,c;const{data:d,error:h}=l;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:g}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(l){if(Ke(l))return{data:null,error:l};throw l}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var o;const{data:c,error:d}=l;if(d)return{data:null,error:d};const{data:h,error:m}=await rt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var o;const{data:c,error:d}=l;return d?{data:null,error:d}:await rt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(r){const{data:l,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:l.id,code:r.code})}async _listFactors(){const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const o=r?.factors||[],c=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var l,o;const{data:{session:c},error:d}=r;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=du(c.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((o=(l=c.user.factors)===null||l===void 0?void 0:l.filter(y=>y.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const x=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,l={keys:[]}){let o=l.keys.find(m=>m.kid===r);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(m=>m.kid===r),o&&this.jwks_cached_at+Qj>c)return o;const{data:d,error:h}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,o=d.keys.find(m=>m.kid===r),!o)?null:o}async getClaims(r,l={}){try{let o=r;if(!o){const{data:C,error:N}=await this.getSession();if(N||!C.session)return{data:null,error:N};o=C.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:p}}=du(o);l?.allowExpired||vN(d.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!g){const{error:C}=await this.getUser(o);if(C)throw C;return{data:{claims:d,header:c,signature:h},error:null}}const x=wN(c.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,h,lN(`${m}.${p}`)))throw new Ru("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}}}Fl.nextInstanceID=0;const BN=Fl;class zN extends BN{constructor(r){super(r)}}var $N=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(x){try{g(o.next(x))}catch(y){h(y)}}function p(x){try{g(o.throw(x))}catch(y){h(y)}}function g(x){x.done?d(x.value):c(x.value).then(m,p)}g((o=o.apply(n,r||[])).next())})};class HN{constructor(r,l,o){var c,d,h;this.supabaseUrl=r,this.supabaseKey=l;const m=Yj(r);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:Mj,realtime:Bj,auth:Object.assign(Object.assign({},Uj),{storageKey:p}),global:Lj},x=qj(o??{},g);this.storageKey=(c=x.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=x.global.headers)!==null&&d!==void 0?d:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=x.auth)!==null&&h!==void 0?h:{},this.headers,x.global.fetch),this.fetch=Fj(l,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new tj(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new Tj(this.storageUrl.href,this.headers,this.fetch,o?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Yw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,l={},o={}){return this.rest.rpc(r,l,o)}channel(r,l={config:{}}){return this.realtime.channel(r,l)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,l;return $N(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(l=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:l,detectSessionInUrl:o,storage:c,userStorage:d,storageKey:h,flowType:m,lock:p,debug:g},x,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zN({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),x),storageKey:h,autoRefreshToken:r,persistSession:l,detectSessionInUrl:o,storage:c,userStorage:d,flowType:m,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new yj(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,o)=>{this._handleTokenChanged(l,"CLIENT",o?.access_token)})}_handleTokenChanged(r,l,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FN=(n,r,l)=>new HN(n,r,l);function PN(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}PN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IN="https://nmarfwjjsmnnxjmcvubr.supabase.co",qN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tYXJmd2pqc21ubnhqbWN2dWJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3MjEyMTQsImV4cCI6MjA3MzI5NzIxNH0.SptKmkp2qsWK7AQnqzfOxNW4EO88G_UKqTcpZQhAEVg",sa=FN(IN,qN),rx=b.createContext(void 0),YN=()=>{const n=b.useContext(rx);if(n===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return n},GN=({children:n})=>{const[r,l]=b.useState(null),[o,c]=b.useState(null),[d,h]=b.useState(!0);b.useEffect(()=>{sa.auth.getSession().then(({data:{session:x}})=>{c(x),l(x?.user??null),x?.access_token?localStorage.setItem("token",x.access_token):localStorage.removeItem("token"),h(!1)});const{data:{subscription:g}}=sa.auth.onAuthStateChange((x,y)=>{c(y),l(y?.user??null),y?.access_token?localStorage.setItem("token",y.access_token):localStorage.removeItem("token"),h(!1)});return()=>g.unsubscribe()},[]);const p={user:r,session:o,loading:d,signOut:async()=>{await sa.auth.signOut()}};return s.jsx(rx.Provider,{value:p,children:n})},Fi="http://localhost:1000",ax=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Fi}/api/v1/committees/all-committees`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response?.data?.message||"Failed to fetch committees")}},nx=async(n,r,l)=>{try{const o=localStorage.getItem("token");return console.log("abbr",n),console.log("committee",r),console.log("category",l),(await Ae.post(`${Fi}/api/v1/committees/add-committee`,{abbr:n,committee:r,category:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to create committee")}},lx=async(n,r,l,o)=>{try{const c=localStorage.getItem("token");return(await Ae.patch(`${Fi}/api/v1/committees/update-committee/${n}`,{abbr:r,committee:l,category:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to update committee")}},VN=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Fi}/api/v1/committees/delete-committee/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete committee")}},ox=b.createContext(void 0),WN=({children:n})=>{const{user:r,session:l,loading:o}=YN(),[c,d]=b.useState(null),[h,m]=b.useState(!1),[p,g]=b.useState(!0),[x,y]=b.useState(!1),[w,C]=b.useState([]),[N,A]=b.useState([]),[_,T]=b.useState([]),[D,L]=b.useState([]),[W,$]=b.useState([]),[F,I]=b.useState([]),[de,ne]=b.useState([]),[ve,Ee]=b.useState([]),[ye,G]=b.useState({eventsUpcoming:5,eventsCompleted:5,users:900,organisers:80,pendingApprovals:3,schools:70}),P=b.useCallback(async()=>{try{g(!0);const k=!!(r&&l?.access_token);if(y(k),r?.user_metadata?.role?d(r.user_metadata.role):d("student"),l?.access_token){const ee=await ow();ee.success?C(ee.data):U.error(ee.message);const he=await gw();A(he.data);const ie=await yg();ne(ie.data)}}catch{x&&U.error("JWT token is expired. Please login again.")}finally{g(!1)}},[r,l,x]),oe=b.useCallback(async()=>{try{const k=await Lw();k.success?T(k.data):U.error(k.message)}catch{x&&U.error("JWT token is expired. Please login again.")}},[x]),j=b.useCallback(async()=>{try{const k=await vw();k.success?L(k.data):U.error(k.message)}catch{x&&U.error("JWT token is expired. Please login again.")}},[x]),M=b.useCallback(async()=>{try{const k=await Nw();k.success?$(k.data):U.error(k.message)}catch{x&&U.error("JWT token is expired. Please login again.")}},[x]),J=b.useCallback(async()=>{try{const k=await Aw();k.success?I(k.data):U.error(k.message)}catch{x&&U.error("JWT token is expired. Please login again.")}},[x]),z=b.useCallback(async()=>{try{const k=await yg();k.success?ne(k.data):U.error(k.message),ne(k.data||[])}catch{x&&U.error("JWT token is expired. Please login again.")}},[x]),E=b.useCallback(async()=>{try{const k=await ax();k.success?Ee(k.data):U.error(k.message)}catch{x&&U.error("JWT token is expired. Please login again.")}},[x]),q=k=>{G(ee=>({...ee,...k}))};b.useEffect(()=>{o||(P(),oe(),z(),M(),j(),J(),E())},[r,l,o,P,oe,z,M,j,J]);const se={userType:c,isOrganiser:h,isLoading:p,loginStatus:x,dashboardStats:ye,allUsers:w,allEvents:_,allLocalities:D,allSchools:W,allAreas:F,allLeadershipRoles:de,allCommittees:ve,setAllEvents:T,setAllLocalities:L,setAllSchools:$,setAllAreas:I,setAllLeadershipRoles:ne,setAllUsers:C,setAllOrganisers:A,allOrganisers:N,setUserType:d,setIsOrganiser:m,setLoginStatus:y,updateDashboardStats:q,refreshUserData:P,refreshEventsData:oe,refreshLocalitiesData:j,refreshSchoolsData:M,refreshAreasData:J,refreshLeadershipRolesData:z,refreshCommitteesData:E};return s.jsx(ox.Provider,{value:se,children:n})},qt=()=>{const n=b.useContext(ox);return n===void 0?(console.error("useApp - Context is undefined, this should not happen if component is wrapped in AppProvider"),console.error("Stack trace:",new Error().stack),{userType:null,isOrganiser:!1,isLoading:!0,loginStatus:!1,allUsers:[],allOrganisers:[],allEvents:[],allLocalities:[],allSchools:[],allAreas:[],allLeadershipRoles:[],allCommittees:[],dashboardStats:{eventsUpcoming:0,eventsCompleted:0,users:0,organisers:0,pendingApprovals:0,schools:0},setUserType:()=>{},setIsOrganiser:()=>{},setLoginStatus:()=>{},updateDashboardStats:()=>{},refreshUserData:async()=>{},setAllUsers:()=>{},setAllOrganisers:()=>{},setAllEvents:()=>{},setAllLocalities:()=>{},setAllSchools:()=>{},setAllAreas:()=>{},setAllLeadershipRoles:()=>{},refreshEventsData:async()=>{},refreshLocalitiesData:async()=>{},refreshSchoolsData:async()=>{},refreshAreasData:async()=>{},refreshLeadershipRolesData:async()=>{},refreshCommitteesData:async()=>{}}):n},$l=({variant:n="primary",size:r="medium",children:l,className:o="",...c})=>{const d="btn font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",h={primary:"bg-[#A88554] hover:bg-[#9a7849] text-white focus:ring-[#A88554] shadow-lg",secondary:"bg-[#1E395D] hover:bg-[#1a324f] text-white focus:ring-[#1E395D]",outline:"bg-white border border-gray-300 hover:border-gray-400 text-gray-700 focus:ring-gray-300","role-select":"bg-white border border-gray-300 hover:border-gray-400 text-gray-700 focus:ring-gray-300","role-select-active":"bg-[#C7A87D] hover:bg-[#b89a6a] text-white border border-[#C7A87D] focus:ring-[#C7A87D] shadow-lg"},m={small:"px-3 py-1 text-xs",medium:"px-5 py-2 text-sm",large:"px-6 py-3 text-base"},p=`${d} ${h[n]} ${m[r]} ${o}`;return s.jsx("button",{className:p,...c,children:l})},ix=({error:n,className:r="",containerClassName:l="",...o})=>s.jsxs("div",{className:`w-full ${l}`,children:[s.jsx("input",{className:`w-full px-3.5 py-3.5 border border-black rounded-[16px] text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r}`,...o}),n&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:n})]}),cx=({error:n,className:r="",containerClassName:l="",...o})=>{const[c,d]=b.useState(!1),h=()=>{d(!c)};return s.jsxs("div",{className:`w-full ${l}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",className:`w-full px-3.5 py-3.5 pr-10 border border-black rounded-[16px] text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r}`,...o}),s.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 focus:outline-none",children:c?s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),n&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:n})]})},KN="/assets/Logo-1VuMq3k9.png",Un=({size:n="medium",className:r=""})=>{const l={small:"h-6 w-auto",medium:"h-10 w-auto",large:"h-12 w-auto",figma:"w-[375px] h-[82px] flex-shrink-0"};return s.jsx("div",{className:`flex items-center justify-start ${r}`,children:s.jsx("img",{src:KN,alt:"MunQuest Logo",className:`${l[n]} object-contain`})})};class Ml extends Error{}Ml.prototype.name="InvalidTokenError";function QN(n){return decodeURIComponent(atob(n).replace(/(.)/g,(r,l)=>{let o=l.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function XN(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return QN(r)}catch{return atob(r)}}function ZN(n,r){if(typeof n!="string")throw new Ml("Invalid token specified: must be a string");r||(r={});const l=r.header===!0?0:1,o=n.split(".")[l];if(typeof o!="string")throw new Ml(`Invalid token specified: missing part #${l+1}`);let c;try{c=XN(o)}catch(d){throw new Ml(`Invalid token specified: invalid base64 for part #${l+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Ml(`Invalid token specified: invalid json for part #${l+1} (${d.message})`)}}const Pl="/assets/student-DiMAztY4.png",Ou="/assets/teacher-CmMFUZ4w.png",Lu=n=>n==="student"?Pl:Ou,JN=()=>{localStorage.removeItem("userAvatar")},e4=async()=>{try{const n=localStorage.getItem("userAvatar");if(n)return n;const r=await Da();if(r.success&&r.data.avatar)return localStorage.setItem("userAvatar",r.data.avatar),r.data.avatar;const l=localStorage.getItem("token");if(l){const o=ZN(l);return Lu(o.role)}return Pl}catch(n){return console.error("Error getting user avatar:",n),Pl}},Jl=({size:n="medium",className:r="",onClick:l,showBorder:o=!1,forceRefresh:c=!1})=>{const[d,h]=b.useState(""),[m,p]=b.useState(!0),[g,x]=b.useState(Date.now()),y=async()=>{try{p(!0);const N=await e4();h(N),x(Date.now())}catch(N){console.error("Error loading avatar:",N);const A=localStorage.getItem("userRole");h(Lu(A||"student")),x(Date.now())}finally{p(!1)}};b.useEffect(()=>{y()},[]),b.useEffect(()=>{const N=()=>{x(Date.now()),y()},A=()=>{x(Date.now()),y()};return window.addEventListener("storage",N),window.addEventListener("avatarUpdated",A),()=>{window.removeEventListener("storage",N),window.removeEventListener("avatarUpdated",A)}},[]),b.useEffect(()=>{c&&y()},[c]),b.useEffect(()=>{const N=setInterval(()=>{const A=Date.now();if(A-g>2e3){const _=localStorage.getItem("userAvatar");_&&_!==d&&y(),x(A)}},2e3);return()=>clearInterval(N)},[d,g]);const w={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},C=o?"border-2 border-white shadow-lg":"";return m?s.jsx("div",{className:`${w[n]} bg-gray-200 rounded-full flex items-center justify-center ${r}`,onClick:l,children:s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:`${w[n]}  rounded-full flex items-center justify-center cursor-pointer ${C} ${r}`,onClick:l,children:s.jsx("img",{src:d,alt:"User Avatar",className:"w-full h-full rounded-full object-cover",onError:N=>{const A=localStorage.getItem("userRole")||"student";N.currentTarget.src=Lu(A)}})})},kr=({size:n="medium",className:r="",text:l="Uploading..."})=>{const o={small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8"};return s.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[s.jsx("div",{className:`${o[n]} border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin`}),l&&s.jsx("span",{className:"text-sm text-gray-600 mt-2",children:l})]})},dx=({startDate:n,endDate:r,onDateRangeChange:l,onClose:o,maxDays:c=7})=>{const[d,h]=b.useState(new Date),[m,p]=b.useState(n?new Date(n):null),[g,x]=b.useState(r?new Date(r):null),[y,w]=b.useState(null),[C,N]=b.useState(""),[A,_]=b.useState(!1),T=b.useRef(null),D=new Date;D.setHours(0,0,0,0),b.useEffect(()=>{const j=M=>{T.current&&!T.current.contains(M.target)&&o()};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[o]);const L=j=>{const M=j.getFullYear(),J=j.getMonth(),z=new Date(M,J,1),q=new Date(M,J+1,0).getDate(),se=z.getDay(),k=[],ee=new Date(M,J-1,0);for(let ie=se-1;ie>=0;ie--)k.push({date:new Date(M,J-1,ee.getDate()-ie),isCurrentMonth:!1,isToday:!1,isPast:!0});for(let ie=1;ie<=q;ie++){const De=new Date(M,J,ie),Ne=De.getTime()===D.getTime(),He=De<D;k.push({date:De,isCurrentMonth:!0,isToday:Ne,isPast:He})}const he=42-k.length;for(let ie=1;ie<=he;ie++)k.push({date:new Date(M,J+1,ie),isCurrentMonth:!1,isToday:!1,isPast:!1});return k},W=j=>{const M=j.getDate().toString().padStart(2,"0"),J=(j.getMonth()+1).toString().padStart(2,"0"),z=j.getFullYear();return`${M} / ${J} / ${z}`},$=j=>!m||!g?!1:j>=m&&j<=g,F=j=>!!(m&&j.getTime()===m.getTime()||g&&j.getTime()===g.getTime()),I=j=>{if(!y||!m)return!1;const M=m<y?m:y,J=m<y?y:m;return j>=M&&j<=J},de=j=>{if(j<D){N("Past dates cannot be selected");return}N(""),!m||m&&g?(p(j),x(null),_(!0)):(j<m?(x(m),p(j)):x(j),_(!1))},ne=j=>{A&&m&&w(j)},ve=()=>{if(m&&g){if(Math.ceil((g.getTime()-m.getTime())/864e5)+1>c){N(`Maximum event length is ${c} consecutive days`);return}const M=m.toISOString().split("T")[0],J=g.toISOString().split("T")[0];l(M,J),o()}},Ee=()=>{o()},ye=j=>{h(M=>{const J=new Date(M);return j==="prev"?J.setMonth(M.getMonth()-1):J.setMonth(M.getMonth()+1),J})},G=j=>j.toLocaleDateString("en-US",{month:"long",year:"numeric"}),P=L(d),oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.jsxs("div",{ref:T,className:"absolute top-full left-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-4 mt-2",style:{minWidth:"320px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>ye("prev"),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:G(d)}),s.jsx("button",{onClick:()=>ye("next"),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:oe.map(j=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:j},j))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map((j,M)=>{const J=F(j.date),z=$(j.date),E=I(j.date),q=j.isPast&&!j.isCurrentMonth;return s.jsx("button",{onClick:()=>de(j.date),onMouseEnter:()=>ne(j.date),onMouseLeave:()=>w(null),disabled:q,className:`
                relative h-8 w-8 text-sm rounded-full transition-colors
                ${j.isCurrentMonth?"text-gray-900":"text-gray-400"}
                ${q?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-100"}
                ${J?"bg-purple-600 text-white":""}
                ${z&&!J?"bg-purple-100":""}
                ${E&&!J&&!z?"bg-purple-50":""}
                ${j.isToday?"font-bold":""}
              `,children:j.date.getDate()},M)})}),s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),s.jsx("input",{type:"text",value:m?W(m):"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",placeholder:"DD / MM / YYYY"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Date"}),s.jsx("input",{type:"text",value:g?W(g):"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",placeholder:"DD / MM / YYYY"})]})]}),C&&s.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:C}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{onClick:Ee,className:"flex-1 px-4 py-2 border border-purple-600 text-purple-600 rounded-md hover:bg-purple-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ve,disabled:!m||!g,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Apply"})]})]})},na=({isOpen:n,onClose:r,onConfirm:l,title:o,message:c,confirmText:d="Yes",cancelText:h="No",confirmButtonColor:m="text-red-600"})=>n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h2",{className:"text-xl font-bold text-black mb-4 text-center",children:o}),s.jsx("p",{className:"text-black text-center mb-6 leading-relaxed",children:c}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:l,className:`px-6 py-2 rounded-lg text-sm font-bold ${m} hover:opacity-80 transition-opacity`,children:d}),s.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-100 transition-colors",children:h})]})]})}):null,t4=({isOpen:n,onKeepEditing:r,onDiscardChanges:l})=>n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h2",{className:"text-xl font-bold text-black mb-4 text-center",children:"Unsaved Changes"}),s.jsx("p",{className:"text-black text-center mb-6 leading-relaxed",children:"Your changes have not been saved."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg text-sm font-bold text-blue-600 hover:bg-blue-50 transition-colors",children:"Keep Editing"}),s.jsx("button",{onClick:l,className:"px-6 py-2 rounded-lg text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:"Discard Changes"})]})]})}):null,s4="data:image/svg+xml,%3csvg%20width='60'%20height='70'%20viewBox='0%200%2060%2070'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M54.2671%2060H36.9357C36.5306%2060%2036.2028%2059.6709%2036.2028%2059.2665V47.5354C36.2028%2044.1161%2033.4206%2041.3328%2030%2041.3328C26.5794%2041.3328%2023.7966%2044.1155%2023.7966%2047.5354V59.2665C23.7966%2059.6715%2023.4681%2060%2023.0637%2060H5.73286C5.32784%2060%205%2059.6709%205%2059.2665V29.7917C5%2029.5672%205.10333%2029.3542%205.28%2029.2151L29.5465%2010.1569C29.8125%209.9477%2030.1869%209.9477%2030.4529%2010.1569L54.72%2029.2151C54.8967%2029.3548%2055%2029.5678%2055%2029.7917V59.2665C55%2059.6715%2054.6722%2060%2054.2671%2060ZM37.6691%2058.5324H53.533V30.1495L41.7665%2020.908L30%2011.6666L6.46699%2030.1495V58.5331H22.3302V47.5354C22.3302%2043.3061%2025.7713%2039.8658%2030%2039.8658C34.2287%2039.8658%2037.6691%2043.3068%2037.6691%2047.5354V58.5324Z'%20fill='black'/%3e%3c/svg%3e",r4="data:image/svg+xml,%3csvg%20width='38'%20height='50'%20viewBox='0%200%2038%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.9999%200C16.2094%200%2013.9885%202.2779%2013.9885%205.01139V6.32118C7.95204%208.42825%203.90876%2014.0661%203.90876%2020.5581V30.1822C3.90876%2031.9476%203.39623%2033.5991%202.48507%2035.0797L1.34612%2036.9021C0.434955%2038.3257%200.378008%2040.0342%201.17527%2041.4579C1.97254%2042.9385%203.45318%2043.7927%205.10466%2043.7927H12.2231C12.5078%2047.2665%2015.4122%2050%2018.9429%2050C22.4737%2050%2025.378%2047.2665%2025.6627%2043.7927H32.8951C34.5466%2043.7927%2036.0272%2042.9385%2036.8245%2041.4579C37.6217%2039.9772%2037.5648%2038.2688%2036.6536%2036.8451L35.5147%2035.0797C34.5466%2033.5991%2034.034%2031.8337%2034.034%2030.0683V20.5581C34.034%2014.123%2029.9908%208.42825%2023.9543%206.32118V5.01139C24.0682%202.22096%2021.7903%200%2018.9999%200ZM18.9999%2048.2916C16.3803%2048.2916%2014.2732%2046.3554%2013.9885%2043.7927H24.0682C23.7265%2046.3554%2021.6195%2048.2916%2018.9999%2048.2916ZM32.3826%2020.5581V30.1253C32.3826%2032.2323%2033.009%2034.2825%2034.1479%2036.1048L35.2869%2037.8702C35.8564%2038.7244%2035.9133%2039.8064%2035.4008%2040.7175C34.8883%2041.6287%2033.9771%2042.1982%2032.952%2042.1982H5.10466C4.0796%2042.1982%203.16844%2041.6856%202.65591%2040.7745C2.14338%2039.8633%202.20033%2038.8383%202.76981%2037.9271L3.90876%2036.1048C4.99076%2034.3394%205.61719%2032.3462%205.61719%2030.2961V20.5581C5.61719%2014.6355%209.43268%209.51025%2015.0705%207.74487L15.6969%207.57403V5.01139C15.6969%203.18907%2017.1776%201.70843%2018.9999%201.70843C20.8222%201.70843%2022.3028%203.18907%2022.3028%205.01139V7.57403L22.9293%207.74487C28.624%209.51025%2032.3826%2014.6355%2032.3826%2020.5581Z'%20fill='black'/%3e%3c/svg%3e",ux="/assets/organiser_icon-DBiM919n.svg",a4="/assets/super_user_icon-ksD-coqW.svg",n4="/assets/showprofile_icon-DlOL1YGI.svg",l4="data:image/svg+xml,%3csvg%20width='30'%20height='18'%20viewBox='0%200%2030%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2062%2014.2268V15.3093C13.2062%2016.7938%2012%2018%2010.5154%2018H2.69069C1.20615%2018%20-3.33786e-05%2016.7938%20-3.33786e-05%2015.3093V2.69072C-3.33786e-05%201.20619%201.20615%200%202.69069%200H10.5058C11.9903%200%2013.1965%201.20619%2013.1965%202.69072V3.23678C13.1965%203.38079%2013.0834%203.49485%2012.9384%203.49485C12.7944%203.49485%2012.6804%203.38177%2012.6804%203.23678V2.69072C12.6804%201.48454%2011.7013%200.515134%2010.5048%200.515134H2.68005C1.47386%200.515134%200.504462%201.49419%200.504462%202.69072V15.2986C0.504462%2016.5048%201.48351%2017.4742%202.68005%2017.4742H10.5058C11.712%2017.4742%2012.6814%2016.4952%2012.6814%2015.2986V14.2162C12.6814%2014.0722%2012.7944%2013.9581%2012.9394%2013.9581C13.0825%2013.9591%2013.2062%2014.0828%2013.2062%2014.2268Z'%20fill='black'/%3e%3cpath%20d='M8.12432%205.15434C8.21711%205.05093%208.38239%205.04126%208.48482%205.13405L12.7113%208.80382C12.7731%208.85601%2012.8041%208.92753%2012.8041%209.00002C12.8041%209.0725%2012.7731%209.14402%2012.7113%209.19622L8.48482%2012.866C8.4336%2012.9075%208.37174%2012.9278%208.31955%2012.9278C8.24706%2012.9278%208.17554%2012.8969%208.12335%2012.8351C8.03057%2012.7316%208.0412%2012.5673%208.14365%2012.4746L11.8753%209.23778C11.8646%209.23778%2011.855%209.25808%2011.8337%209.25808H4.19454C4.05053%209.25808%203.93648%209.145%203.93648%209.00002C3.93648%208.85601%204.04956%208.74196%204.19454%208.74196H11.8357C11.856%208.74196%2011.856%208.75259%2011.8773%208.76225L8.14563%205.52547C8.04124%205.43268%208.03154%205.26838%208.12432%205.15434ZM12.0618%209.08218L12.1546%209.00002L12.0618%208.91787C12.0724%208.9488%2012.0927%208.9691%2012.0927%209.00002C12.0927%209.03095%2012.0724%209.05125%2012.0618%209.08218Z'%20fill='black'/%3e%3c/svg%3e",o4=async(n,r,l)=>{try{const{data:o,error:c}=await sa.auth.signUp({email:n,password:r,options:{data:{role:l}}});if(c)throw new Error(c.message);return{success:!0,message:"Sign up successful! Please check your email to verify your account.",data:o}}catch(o){return{success:!1,message:o.message||"Sign up failed"}}},i4=async(n,r)=>{try{const{data:l,error:o}=await sa.auth.signInWithPassword({email:n,password:r});if(o)throw new Error(o.message);return{success:!0,message:"Login successful!",data:l,token:l.session?.access_token}}catch(l){return{success:!1,message:l.message||"Login failed"}}},c4=async()=>{try{const{error:n}=await sa.auth.signOut();if(n)throw new Error(n.message);return{success:!0,message:"Logged out successfully"}}catch(n){return{success:!1,message:n.message||"Logout failed"}}},d4=async n=>{try{const{data:r,error:l}=await sa.auth.updateUser({password:n});if(l)throw new Error(l.message);return{success:!0,message:"Password updated successfully!",data:r}}catch(r){return{success:!1,message:r.message||"Failed to update password"}}},u4=async n=>{try{const{data:r,error:l}=await sa.auth.resend({type:"signup",email:n});if(l)throw new Error(l.message);return{success:!0,message:"Verification email sent successfully! Please check your inbox.",data:r}}catch(r){return{success:!1,message:r.message||"Failed to resend verification email"}}},ts=({showNavigation:n=!0})=>{const r=Tt(),o=Qs().pathname==="/super-user";let c=null;try{c=qt().userType}catch(T){console.error("Error accessing AppContext in Header:",T),c=localStorage.getItem("userType")||"student"}const[d,h]=b.useState(!1),[m,p]=b.useState(!1),g=b.useRef(null);b.useEffect(()=>{const T=localStorage.getItem("organiserId");h(!!(T&&T!=="null"))},[]);const x=async()=>{r(c==="student"?"/student-profile-page":c==="teacher"?"/teacher-profile-page":c==="organizer"?"/organiser":"/profile-page")},y=()=>{const T=localStorage.getItem("organiserId");r(T?"/organiser":"/home")},w=()=>{r("/organiser")},C=()=>{r("/super-user")},N=()=>{p(!m)},A=async()=>{p(!1),await x()},_=async()=>{p(!1),await c4(),localStorage.removeItem("token"),localStorage.removeItem("userAvatar"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("organiserId"),h(!1),r("/login")};return b.useEffect(()=>{const T=D=>{g.current&&!g.current.contains(D.target)&&p(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]),s.jsx("div",{className:"bg-white shadow-sm",style:{height:"100px"},children:s.jsx("div",{className:"mx-auto px-6 py-4",style:{maxWidth:"88rem",height:"100%"},children:s.jsxs("div",{className:"flex items-center justify-between",style:{height:"100%"},children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Un,{size:"medium"})}),n&&s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:y,children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:s4,alt:"Home",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Home"})]}),o&&s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[s.jsx("div",{onClick:C,className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:a4,alt:"Superuser",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Superuser"})]}),!o&&s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:r4,alt:"Notification",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Notification"})]}),!o&&d&&c!=="organizer"&&s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[s.jsx("div",{onClick:w,className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:ux,alt:"Organiser",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Organiser"})]}),s.jsxs("div",{className:"relative",ref:g,children:[s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:N,children:[s.jsx(Jl,{size:"medium",className:"mb-1"}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Profile"})]}),m&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[s.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-[#D9C7A1] transition-colors duration-200 flex items-center",onClick:A,children:[s.jsx("div",{className:"flex items-center mr-3",children:s.jsx("img",{src:n4,alt:"Profile"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:"Show Profile"})]}),s.jsx("div",{className:"border-t border-gray-200"}),s.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-[#D9C7A1] transition-colors duration-200 flex items-center",onClick:_,children:[s.jsx("div",{className:"flex items-center mr-3",children:s.jsx("img",{src:l4,alt:"Logout"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:"Log Out"})]})]})]})]})]})})})},h4=({events:n,onAction:r})=>{const[l,o]=b.useState(null),[c,d]=b.useState(null),{refreshEventsData:h}=qt(),m=x=>{o(l===x?null:x)},p=async(x,y)=>{d(y);try{if(x==="delete"){const w=await Uw(y);w.success?(U.success(w.message),await h()):U.error(w.message)}else{const w=await Mw(y,x);w.success?(U.success(w.message),await h()):U.error(w.message)}r(x,y)}catch(w){console.error("Error updating event status:",w),U.error("Failed to update event status")}finally{d(null)}o(null)},g=x=>{if(!x)return"text-gray-600";switch(x.toLowerCase()){case"pending":return"text-yellow-500";case"flagged":return"text-yellow-500";case"blocked":return"text-red-600";case"approved":return"text-green-600";case"rejected":return"text-red-600";default:return"text-gray-600"}};return s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-8 gap-2 mb-2",children:["Event ID","Event Name","Locality","Date","Fees","Event Phase","Event Status"].map((x,y)=>s.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${y<4?"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between":"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center"}`,children:[s.jsx("span",{children:x}),y<4&&s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},x))}),n.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No events found"}):n.map(x=>s.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:x?.id.split("-")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:x?.name||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:x?.locality?.name||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:x?.start_date+" - "+x?.end_date||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:x?.fees_per_delegate||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:x?.event_phase||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===x?.id?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("span",{className:`font-medium ${g(x?.status)}`,children:x?.status||"N/A"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>m(x?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===x?.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[x?.status?.toLowerCase()==="pending"&&s.jsx("button",{onClick:()=>p("approved",x?.id||""),disabled:c===x?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===x?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),x?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>p("flagged",x?.id||""),disabled:c===x?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===x?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Flag"}),x?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>p("blocked",x?.id||""),disabled:c===x?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===x?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Block"}),(x?.status?.toLowerCase()==="flagged"||x?.status?.toLowerCase()==="blocked")&&s.jsx("button",{onClick:()=>p("approved",x?.id||""),disabled:c===x?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===x?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),s.jsx("button",{onClick:()=>p("delete",x?.id||""),disabled:c===x?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===x?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},x?.id||Math.random()))]})},f4=({activeSection:n,onSectionChange:r,usersSubSection:l,setUsersSubSection:o,schoolsSubSection:c,setSchoolsSubSection:d})=>{const h=[{id:"events-related",label:"Events Related"},{id:"users-related",label:"Users Related"},{id:"schools-related",label:"Schools Related"}],m={"events-related":[{id:"events",label:"Events"},{id:"organisers",label:"Organisers"},{id:"leadership-roles",label:"Leadership Roles"},{id:"committees",label:"Committees"}],"users-related":[{id:"users",label:"Users"},{id:"superusers",label:"Superusers"}],"schools-related":[{id:"schools",label:"Schools"},{id:"localities",label:"Localities"}],"schools-city-related":[{id:"DU",label:"Dubai"},{id:"AD",label:"Abu Dhabi"},{id:"AIN",label:"Al Ain"},{id:"SH",label:"Sharjah"},{id:"AJ",label:"Ajman"},{id:"RAK",label:"Ras Al Khaimah"},{id:"UAQ",label:"Umm Al Quwain"},{id:"other",label:"Other"}]},p=(w,C=!1,N=!1,A=0)=>{const _="font-medium transition-colors duration-200";if(C)return A===3?`${_} ${w?"bg-[#84B5F3] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`:`${_} ${w?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`;if(N&&!w)return`${_} bg-[#607DA3] text-white`;if(A===1)return`${_} ${w?"bg-[#1E395D] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`;if(A===2)return`${_} ${w?"bg-[#607DA3] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`},g=w=>n===w||w==="masterlists"&&["events-related","users-related","schools-related","events","organisers","leadership-roles","committees","students","teachers","users","superusers","users-students","users-teachers","schools","localities","dubai","abu-dhabi","al-ain","sharjah","ajman","ras-al-khaimah","umm-al-quwain","other"].includes(n),x=w=>w==="events-related"?n==="events-related"||n==="events"||n==="organisers"||n==="leadership-roles"||n==="committees"||n==="students"||n==="teachers":w==="users-related"?n==="users-related"||n==="users"||n==="superusers":w==="schools-related"?n==="schools-related"||n==="schools"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other":w==="organisers"?n==="students"||n==="teachers":w==="users"?n==="users"||n==="users-students":w==="superusers"?n==="superusers"||n==="users-teachers":w==="schools"?n==="schools"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other":w==="localities"?n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other":n===w,y=w=>w==="events-related"?["events","organisers","leadership-roles","committees","students","teachers"].includes(n):w==="users-related"?["users","superusers","users-students","users-teachers"].includes(n):w==="schools-related"?["schools","localities"].includes(n):w==="organisers"?["students","teachers"].includes(n):!1;return b.useEffect(()=>{d(0),o(!0)},[n]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>r("dashboard"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(g("dashboard"),!1,!1,1)}`,children:"Dashboard"}),s.jsx("button",{onClick:()=>r("events"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(g("masterlists"),!1,!1,1)}`,children:"Masterlists"})]}),(g("masterlists")||n==="events"||n==="students"||n==="teachers"||n==="users"||n==="superusers"||n==="global-students"||n==="global-teachers"||n==="users-students"||n==="users-teachers"||n==="schools"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex space-x-2",children:h.map(w=>s.jsx("button",{onClick:()=>{r(w.id==="users-related"?"users":w.id==="schools-related"?"schools":w.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(x(w.id),!1,y(w.id),2)}`,children:w.label},w.id))}),n==="events-related"||n==="events"||n==="organisers"||n==="leadership-roles"||n==="committees"||n==="students"||n==="teachers"?s.jsx("div",{className:"flex space-x-2",children:m["events-related"]?.map(w=>s.jsx("button",{onClick:()=>r(w.id==="organisers"?"students":w.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(x(w.id),!0,y(w.id),3)}`,children:w.label},w.id))}):null,n==="students"||n==="teachers"?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>r("students"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(x("students"),!0,!1,4)}`,children:"Students"}),s.jsx("button",{onClick:()=>r("teachers"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(x("teachers"),!0,!1,4)}`,children:"Teachers"})]}):null,n==="users-related"||n==="users"||n==="superusers"||n==="users-students"||n==="users-teachers"?s.jsx("div",{className:"flex space-x-2",children:m["users-related"]?.map(w=>s.jsx("button",{onClick:()=>{r(w.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(x(w.id),!0,y(w.id),3)}`,children:w.label},w.id))}):null,n==="users-related"||n==="users"||n==="superusers"||n==="users-students"||n==="users-teachers"?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{o(!0)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${l?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:"Students"}),s.jsx("button",{onClick:()=>{o(!1)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${l?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100":"bg-[#C6DAF4] text-white"}`,children:"Teachers"})]}):null,n==="schools-related"||n==="schools"||n==="departments"||n==="programs"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other"?s.jsx("div",{className:"flex space-x-2",children:m["schools-related"]?.map(w=>s.jsx("button",{onClick:()=>{r(w.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${p(x(w.id),!0,y(w.id),3)}`,children:w.label},w.id))}):null,n==="schools-related"||n==="schools"||n==="departments"||n==="programs"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other"?s.jsx("div",{className:"flex space-x-2",children:m["schools-city-related"]?.map((w,C)=>s.jsx("button",{onClick:()=>{console.log("MasterlistsNavigation - School locality clicked:",w.label,"index:",C),d(C)},className:`w-[130px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${c===C?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:w.label},w.id))}):null]})]})},m4=()=>{const[n,r]=b.useState(""),{allEvents:l}=qt(),o=b.useMemo(()=>{if(!l||l.length===0)return console.log("EventsPage: No events found or empty array"),[];if(!n.trim())return console.log("EventsPage: No search term, returning all events"),l;const d=n.toLowerCase();return l.filter(h=>{const m=h?.name?.toLowerCase()||"",p=h?.locality?.name?.toLowerCase()||"",g=h?.id?.toString().toLowerCase()||"";return m.includes(d)||p.includes(d)||g.includes(d)})},[l,n]),c=(d,h)=>{console.log(`Action: ${d} on Event: ${h}`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(h4,{events:o,onAction:c})]})},_n="data:image/svg+xml,%3csvg%20width='14'%20height='20'%20viewBox='0%200%2014%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%200H3C1.483%200%200.25%201.233%200.25%202.75V17.336C0.25%2018.529%201.221%2019.5%202.414%2019.5C2.983%2019.5%203.54%2019.27%203.944%2018.866L5.823%2016.987C6.45%2016.358%207.548%2016.358%208.176%2016.987L10.055%2018.866C10.458%2019.268%2011.016%2019.499%2011.585%2019.499C12.778%2019.499%2013.749%2018.528%2013.749%2017.335V2.75C13.749%201.233%2012.516%200%2010.999%200H11Z'%20fill='%23C2A46D'/%3e%3c/svg%3e",g4=({organisers:n,onAction:r,organiserType:l="all"})=>{const[o,c]=b.useState(null),[d,h]=b.useState(null),[m,p]=b.useState(!1),[g,x]=b.useState(""),[y,w]=b.useState([]),[C,N]=b.useState(null),[A,_]=b.useState(null),[T,D]=b.useState(!1),[L,W]=b.useState([]),[$,F]=b.useState(!1),[I,de]=b.useState(null),ne=b.useRef(null),{refreshUserData:ve,allUsers:Ee}=qt();b.useEffect(()=>{const k=ee=>{ne.current&&!ne.current.contains(ee.target)&&D(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),b.useEffect(()=>{if(!g.trim())w(n);else{const k=n.filter(ee=>{const he=g.toLowerCase(),ie=ee?.users?.username||"",De=ee?.users?.fullname||"",Ne=ee?.users?.school_location||"",He=ee?.school?.name||ee?.school||"",Pe=ee?.role||"";return ie.toLowerCase().includes(he)||De.toLowerCase().includes(he)||Ne.toLowerCase().includes(he)||He.toLowerCase().includes(he)||Pe.toLowerCase().includes(he)});w(k)}},[g,n]);const ye=k=>{c(o===k?null:k)},G=()=>{p(!0),_(null),D(!1),W([]),N({id:"",username:"",locality:"",fullname:"",school:"",role:"",evidence:"",status:"pending",users:{id:""},created_at:null,actioned_at:null})},P=(k,ee)=>{N(he=>({...he,[k]:ee})),ee.trim()?(D(!0),_(null),oe(ee.trim())):(D(!1),_(null),W([]),N(he=>({...he,fullname:"",locality:"",school:"",role:"",evidence:""})))},oe=k=>{const ee=new Set(n.map(ie=>ie.users?.id||ie.id)),he=Ee.filter(ie=>{const De=ie.username?.toLowerCase().includes(k.toLowerCase()),Ne=!ee.has(ie.id);let He=!0;return l==="students"?He=ie.role==="student":l==="teachers"&&(He=ie.role==="teacher"),De&&Ne&&He});W(he)},j=k=>{N(ee=>({...ee,user_id:k.id||"",school_id:k.school_id||"",locality_id:k.school.locality_id||"",username:k.username||"",fullname:k.fullname||"",locality:k.school.code||"",school:k.school?.name||"",role:k.role_in_event||k.role||"",evidence:k.evidence||"Internal",users:{id:k.id||""},...l==="students"?{grade:k.grade||""}:{years_of_experience:k.years_of_experience||""}})),_(!0),D(!1),W([])},M=async()=>{try{if(!C.username||!C.fullname||!C.school){U.error("Please fill in all required fields (Username, Name, School)");return}const k=localStorage.getItem("userId"),ee=await yw(C.user_id||"",C.school_id||"",C.locality_id||"",C.role,C.evidence,"pending",k||"");ee.success?(U.success("New organiser added successfully!"),p(!1),_(null),D(!1),W([]),N({id:"",username:"",fullname:"",locality:"",school:"",role:"",evidence:"",status:"pending",users:{id:""},created_at:null,actioned_at:null}),await ve()):U.error(ee.message||"Failed to save new organiser")}catch(k){console.error("Error saving new organiser:",k),U.error(k.message||"Failed to save new organiser")}},J=k=>{de(k),F(!0),c(null)},z=async()=>{if(I){h(I);try{const k=await xw(I);k.success?(U.success(k.message),await ve(),r("delete",I)):U.error(k.message)}catch(k){console.error("Error deleting organiser:",k),U.error("Failed to delete organiser")}finally{h(null),F(!1),de(null)}}},E=()=>{F(!1),de(null)},q=async(k,ee)=>{h(ee);try{const he=await pw(ee,k);he.success?(U.success(he.message),await ve()):U.error(he.message),r(k,ee)}catch(he){console.error("Error updating organiser status:",he),U.error("Failed to update organiser status")}finally{h(null)}c(null)},se=k=>{if(!k)return"text-gray-600";switch(k.toLowerCase()){case"approved":return"text-green-600";case"pending":return"text-orange-500";case"rejected":return"text-red-600";case"flagged":return"text-yellow-500";case"blocked":return"text-red-600";default:return"text-gray-600"}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search organisers...",value:g,onChange:k=>x(k.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("div",{className:"grid grid-cols-12 gap-2 mb-2",children:["UserID","Organiser ID","Username","Name",l==="students"?"Academic Level":"Teaching Experience","School","Role in Event","Evidence","Date Received","Date Actioned","Status"," "].map((k,ee)=>k===" "?s.jsx("div",{},k):s.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${ee<4?"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between":"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center"}`,children:[s.jsx("span",{children:k}),ee<4&&s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},k))}),y.length===0&&!m?s.jsx("div",{className:"text-center py-8 text-gray-500",children:g?"No organisers found matching your search":"No organisers found"}):y.length>0?y.map(k=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:k?.users.id.split("-")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:k?.id.split("-")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.users.username||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.users.fullname||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:l==="students"?k?.users?.grade||"N/A":k?.users?.years_of_experience||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.school?.name||k?.school||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.role||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.evidence?typeof k.evidence=="object"&&k.evidence.file_url?s.jsx("div",{className:"flex items-center justify-center",children:k.evidence.file_url==="Internal"?s.jsx("span",{children:k.evidence.file_url}):s.jsxs("button",{onClick:()=>window.open(k.evidence.file_url,"_blank"),className:"flex items-center justify-center p-1 rounded hover:bg-gray-100 transition-colors duration-200",title:"Click to open document",children:["Document",s.jsx("svg",{className:"w-5 h-5 text-blue-600 hover:text-blue-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})}):s.jsx("span",{children:typeof k.evidence=="string"?k.evidence:"Document"}):"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.created_at?.split("T")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.actioned_at?.split("T")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:d===k?.id?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("span",{className:`font-medium ${se(k?.status)}`,children:k?.status||"N/A"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>ye(k?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===k?.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[k?.status?.toLowerCase()!=="approved"&&s.jsx("button",{onClick:()=>q("approved",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),k?.status?.toLowerCase()!=="rejected"&&s.jsx("button",{onClick:()=>q("rejected",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Reject"}),k?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>q("flagged",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Flag"}),k?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>q("blocked",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Block"}),(k?.status?.toLowerCase()==="flagged"||k?.status?.toLowerCase()==="blocked")&&s.jsx("button",{onClick:()=>q("approved",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Activate"}),s.jsx("button",{onClick:()=>J(k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},k?.id||Math.random())):null,m&&s.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.users?.id?.split("-")[0],placeholder:"Auto populated",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.organiser_id||"N/A",placeholder:"Auto populated",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsxs("div",{ref:ne,className:`px-3 py-2 text-sm rounded-md border relative ${A===!0?"bg-green-50 border-green-300":A===!1?"bg-red-50 border-red-300":"bg-white border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"text",value:C.username,onChange:k=>P("username",k.target.value),onFocus:()=>{C.username.trim()&&(D(!0),oe(C.username.trim()))},placeholder:"Enter username to populate fields",className:"w-full border-none outline-none text-sm bg-transparent",autoComplete:"off"}),A===!0&&s.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),A===!1&&s.jsx("svg",{className:"w-4 h-4 text-red-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),T&&L.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:L.map((k,ee)=>s.jsxs("div",{onClick:()=>j(k),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium text-gray-900",children:k.username}),s.jsx("div",{className:"text-xs text-gray-500",children:k.fullname}),s.jsxs("div",{className:"text-xs text-gray-400",children:[k.school?.name||k.school_name||k.schoolName||k.school||"No school","  ",k.locality?.name||k.school_location||k.locality||"No location"]})]},k.id||ee))}),T&&L.length===0&&C.username.trim()&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50",children:s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No available users found"})})]}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.fullname,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:l==="students"?C.grade||"":C.years_of_experience||"",disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.school,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.role,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.evidence,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.created_at?.split("T")[0]||"N/A",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:C.actioned_at?.split("T")[0]||"N/A",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("span",{className:"font-medium text-orange-500",children:"Pending"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("img",{src:_n,alt:"Save",className:"w-4 h-4"})})})]}),s.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[s.jsx("button",{onClick:G,disabled:m,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${m?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:M,disabled:!m,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${m?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),s.jsx(na,{isOpen:$,onClose:E,onConfirm:z,title:"Confirm Delete",message:"Are you sure you want to delete this organiser? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},fu=({type:n="organisers"})=>{const[r,l]=b.useState(""),{allOrganisers:o}=qt(),c=o.filter(g=>g.users.role==="student"),d=o.filter(g=>g.users.role==="teacher"),h=()=>{switch(n){case"students":return c||[];case"teachers":return d||[];default:return o||[]}},m=b.useMemo(()=>{const g=h();if(!g||g.length===0)return[];if(!r.trim())return g;const x=r.toLowerCase();return g.filter(y=>{const w=y?.users?.fullname?.toLowerCase()||"",C=y?.users?.username?.toLowerCase()||"",N=y?.school?.name?.toLowerCase()||y?.school?.toLowerCase()||"",A=y?.users?.id?.toString().toLowerCase()||"",_=y?.role?.toLowerCase()||"",T=y?.users?.school_location?.toLowerCase()||"";return w.includes(x)||C.includes(x)||N.includes(x)||A.includes(x)||_.includes(x)||T.includes(x)})},[n,o,r]),p=g=>{};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:r,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(g4,{organisers:m,onAction:p,organiserType:n==="students"?"students":n==="teachers"?"teachers":"all"})]})},Dt={success:n=>U.success(n),error:n=>U.error(n),warning:n=>U.warning(n),info:n=>U.info(n),loading:n=>U.loading(n),promise:(n,{loading:r,success:l,error:o})=>U.promise(n,{loading:r,success:l,error:o})},p4=({leadershipRoles:n,onRefresh:r})=>{const[l,o]=b.useState(!1),[c,d]=b.useState(null),[h,m]=b.useState(null),[p,g]=b.useState({abbr:"",leadership_role:""}),[x,y]=b.useState({abbr:"",leadership_role:""}),[w,C]=b.useState(""),[N,A]=b.useState([]),[_,T]=b.useState(!1),[D,L]=b.useState(null);b.useEffect(()=>{if(!w.trim())A(n);else{const G=n.filter(P=>{const oe=w.toLowerCase();return P.id.toLowerCase().includes(oe)||P.abbr.toLowerCase().includes(oe)||P.leadership_role.toLowerCase().includes(oe)});A(G)}},[w,n]);const W=async()=>{if(!p.abbr.trim()||!p.leadership_role.trim()){Dt.error("Please fill in all fields");return}try{const G=await Bw(p.abbr.trim(),p.leadership_role.trim());G.success?Dt.success("Leadership role created successfully"):Dt.error(G.message||"Failed to create leadership role"),g({abbr:"",leadership_role:""}),o(!1),r()}catch(G){Dt.error(G.message||"Failed to create leadership role")}},$=async G=>{if(!x.abbr.trim()||!x.leadership_role.trim()){Dt.error("Please fill in all fields");return}try{const P=await zw(G,x.abbr.trim(),x.leadership_role.trim());P.success?Dt.success("Leadership role updated successfully"):Dt.error(P.message||"Failed to update leadership role"),y({abbr:"",leadership_role:""}),d(null),r()}catch(P){Dt.error(P.message||"Failed to update leadership role")}},F=G=>{L(G),T(!0),m(null)},I=async()=>{if(D)try{const G=await $w(D);G.success?Dt.success("Leadership role deleted successfully"):Dt.error(G.message||"Failed to delete leadership role"),r()}catch(G){Dt.error(G.message||"Failed to delete leadership role")}finally{T(!1),L(null)}},de=()=>{T(!1),L(null)},ne=G=>{console.log("Edit button clicked for role:",G),y({abbr:G.abbr,leadership_role:G.leadership_role}),d(G.id),m(null)},ve=G=>{m(h===G?null:G)};b.useEffect(()=>{const G=P=>{h&&(P.target.closest(".context-menu")||m(null))};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[h]);const Ee=()=>{d(null),y({abbr:"",leadership_role:""})},ye=()=>{o(!1),g({abbr:"",leadership_role:""}),m(null)};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search",value:w,onChange:G=>C(G.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_0.25fr] gap-2 mb-2",children:["ID","ABBR","Leadership Role"," "].map(G=>G===" "?s.jsx("div",{},G):s.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:G}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},G))}),N.length===0&&!l?s.jsx("div",{className:"text-center py-8 text-gray-500",children:w?"No leadership roles found matching your search":"No leadership roles found"}):N.length>0?N.map(G=>s.jsxs("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_auto] gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:G.id}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:c===G.id?s.jsx("input",{type:"text",value:x.abbr,onChange:P=>y({...x,abbr:P.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Abbreviation"}):G.abbr}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:c===G.id?s.jsx("input",{type:"text",value:x.leadership_role,onChange:P=>y({...x,leadership_role:P.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Leadership Role Title"}):G.leadership_role}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[c===G.id?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>$(G.id),className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:_n,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:Ee,className:"text-red-600 hover:text-red-800 text-sm",children:""})]}):s.jsx("button",{onClick:()=>ve(G.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),h===G.id&&!l&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 context-menu",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),console.log("Edit button clicked"),ne(G)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Edit"}),s.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),console.log("Add button clicked from dropdown"),o(!0),m(null)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Add"}),s.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),console.log("Delete button clicked"),F(G.id)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Delete"})]})})]})})]},G.id)):null,l&&s.jsxs("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_auto] gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:"Auto generated",placeholder:"Auto generated",className:"w-full border-none outline-none text-sm text-gray-500",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:p.abbr,onChange:G=>g({...p,abbr:G.target.value}),placeholder:"Add an abbreviation",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:p.leadership_role,onChange:G=>g({...p,leadership_role:G.target.value}),placeholder:"Add a title",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:W,className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:_n,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:ye,className:"text-red-600 hover:text-red-800 text-sm",children:"cancel"})]})})]}),s.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>o(!0),disabled:l,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${l?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:W,disabled:!l,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${l?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),s.jsx(na,{isOpen:_,onClose:de,onConfirm:I,title:"Delete Leadership Role",message:"Are you sure you want to delete this leadership role? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},x4=()=>{const[n,r]=b.useState(""),{allLeadershipRoles:l,refreshLeadershipRolesData:o,isLoading:c}=qt(),d=b.useMemo(()=>{if(!l||l.length===0)return[];if(!n.trim())return l;const h=n.toLowerCase();return l.filter(m=>{const p=String(m.id||"").toLowerCase(),g=String(m.abbr||m.abbr||"").toLowerCase(),x=String(m.leadership_role||m.leadership_role||"").toLowerCase();return p.includes(h)||g.includes(h)||x.includes(h)})},[l,n]);return c?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading leadership roles..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:h=>r(h.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(p4,{leadershipRoles:d,onRefresh:o})]})},y4=({committees:n,onRefresh:r,committeeType:l})=>{const[o,c]=b.useState(!1),[d,h]=b.useState(null),[m,p]=b.useState(null),[g,x]=b.useState({abbr:"",committee:""}),[y,w]=b.useState({abbr:"",committee:""}),[C,N]=b.useState(""),[A,_]=b.useState([]),[T,D]=b.useState(!1),[L,W]=b.useState(null);b.useEffect(()=>{let P=n.filter(oe=>oe.category===l);if(C.trim()){const oe=C.toLowerCase();P=P.filter(j=>String(j.id).toLowerCase().includes(oe)||j.abbr.toLowerCase().includes(oe)||j.committee.toLowerCase().includes(oe))}_(P)},[C,n,l]);const $=async()=>{if(!g.abbr.trim()||!g.committee.trim()){Dt.error("Please fill in all fields");return}try{const P=await nx(g.abbr.trim(),g.committee.trim(),l);P.success?Dt.success("Committee created successfully"):Dt.error(P.message||"Failed to create committee"),x({abbr:"",committee:""}),c(!1),r()}catch(P){Dt.error(P.message||"Failed to create committee")}},F=async P=>{if(!y.abbr.trim()||!y.committee.trim()){Dt.error("Please fill in all fields");return}try{const oe=await lx(P,y.abbr.trim(),y.committee.trim(),l);oe.success?Dt.success("Committee updated successfully"):Dt.error(oe.message||"Failed to update committee"),w({abbr:"",committee:""}),h(null),r()}catch(oe){Dt.error(oe.message||"Failed to update committee")}},I=P=>{W(P),D(!0),p(null)},de=async()=>{if(L)try{const P=await VN(L);P.success?Dt.success("Committee deleted successfully"):Dt.error(P.message||"Failed to delete committee"),r()}catch(P){Dt.error(P.message||"Failed to delete committee")}finally{D(!1),W(null)}},ne=()=>{D(!1),W(null)},ve=P=>{console.log("Edit button clicked for committee:",P),w({abbr:P.abbr,committee:P.committee}),h(P.id),p(null)},Ee=P=>{p(m===P?null:P)};b.useEffect(()=>{const P=oe=>{m&&(oe.target.closest(".context-menu")||p(null))};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[m]);const ye=()=>{h(null),w({abbr:"",committee:""})},G=()=>{c(!1),x({abbr:"",committee:""}),p(null)};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 w-[400px]",children:s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search",value:C,onChange:P=>N(P.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-[10px] focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:["ID","ABBR","Committee"," "].map(P=>P===" "?s.jsx("div",{},P):s.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:P}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},P))}),A.length===0&&!o?s.jsx("div",{className:"text-center py-8 text-gray-500",children:C?"No committees found matching your search":"No committees found"}):A.length>0?A.map(P=>s.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:P.id}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:d===P.id?s.jsx("input",{type:"text",value:y.abbr,onChange:oe=>w({...y,abbr:oe.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Abbreviation"}):P.abbr}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:d===P.id?s.jsx("input",{type:"text",value:y.committee,onChange:oe=>w({...y,committee:oe.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Committee Name"}):P.committee}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[d===P.id?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>F(P.id),className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:_n,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:ye,className:"text-red-600 hover:text-red-800 text-sm",children:""})]}):s.jsx("button",{onClick:()=>Ee(P.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),m===P.id&&!o&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 context-menu",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),console.log("Edit button clicked"),ve(P)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Edit"}),s.jsx("button",{onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),console.log("Add button clicked from dropdown"),c(!0),p(null)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Add"}),s.jsx("button",{onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),console.log("Delete button clicked"),I(P.id)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Delete"})]})})]})})]},P.id)):null,o&&s.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:"Auto generated",placeholder:"Auto generated",className:"w-full border-none outline-none text-sm text-gray-500",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:g.abbr,onChange:P=>x({...g,abbr:P.target.value}),placeholder:"Add an abbreviation",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:g.committee,onChange:P=>x({...g,committee:P.target.value}),placeholder:"Add a name",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:$,className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:_n,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:G,className:"text-red-600 hover:text-red-800 text-sm",children:"cancel"})]})})]}),s.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>c(!0),disabled:o,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${o?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:$,disabled:!o,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${o?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),s.jsx(na,{isOpen:T,onClose:ne,onConfirm:de,title:"Delete Committee",message:"Are you sure you want to delete this committee? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},b4=()=>{const[n,r]=b.useState("country"),[l,o]=b.useState([]),[c,d]=b.useState(!0),h=[{id:"country",name:"Country Committees",label:"Country Committees"},{id:"role",name:"Role Committees",label:"Role Committees"},{id:"crisis",name:"Crisis Committees",label:"Crisis Committees"},{id:"open",name:"Open Committees",label:"Open Committees"}],m=async()=>{try{d(!0);const x=await ax();o(x.data||[])}catch(x){console.error("Error fetching committees:",x),Dt.error(x.message||"Failed to fetch committees"),o([])}finally{d(!1)}},p=x=>{r(x)},g=()=>{m()};return b.useEffect(()=>{m()},[]),c?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(kr,{size:"large",text:"Loading committees..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2",children:h.map(x=>s.jsx("button",{onClick:()=>p(x.id),className:`text-sm font-medium transition-colors ${n===x.id?"bg-[#C6DAF4] text-white":"bg-white text-black border border-gray-800"}`,style:{width:"200px",height:"58px",borderRadius:"20px",padding:"5px"},children:x.label},x.id))}),s.jsx(y4,{committees:l,onRefresh:g,committeeType:n})]})},v4=()=>{const n=Tt(),[r,l]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState("student"),[m,p]=b.useState(!1),[g,x]=b.useState({}),y=C=>{h(C)},w=async()=>{try{p(!0);const C={},N=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(r){if(!N.test(r)){C.email="Please enter a valid Gmail address",U.error("Please enter a valid Gmail address"),p(!1);return}}else{C.email="Email is required",U.error("Email is required"),p(!1);return}if(o){if(o.length<6){C.password="Password must be at least 6 characters",U.error("Password must be at least 6 characters"),p(!1);return}}else{C.password="Password is required",U.error("Password is required"),p(!1);return}if(Object.keys(C).length>0){x(C),U.error("Please fill in all required fields"),p(!1);return}const A=await o4(r,o,d);if(A.success){const _=await J1(r,d);if(!_.success)throw new Error(_.message);U.success("Account created successfully!"),n("/email-verification",{state:{email:r}})}else throw new Error(A.message)}catch(C){U.error(C.message)}finally{p(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:s.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:s.jsxs("div",{className:"flex h-[760px]",children:[s.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[s.jsx("div",{className:"mb-10",children:s.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:s.jsx(Un,{size:"figma"})})}),s.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),s.jsx("div",{className:"flex items-center mt-20 mb-10",children:s.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),s.jsx("div",{className:"mt-16",children:s.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),s.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ix,{type:"email",name:"email",placeholder:"Email",value:r,onChange:C=>l(C.target.value),error:g.email,className:"w-full"}),s.jsx(cx,{name:"password",placeholder:"Password",value:o,onChange:C=>c(C.target.value),error:g.password,className:"w-full"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx($l,{type:"button",variant:d==="student"?"role-select-active":"role-select",onClick:()=>y("student"),className:"flex-1 py-3.5 rounded-[16px] text-sm font-medium text-black",children:"Student"}),s.jsx($l,{type:"button",variant:d==="teacher"?"role-select-active":"role-select",onClick:()=>y("teacher"),className:"flex-1 py-3.5 rounded-[16px] text-sm font-medium border border-black",children:"Teacher"})]}),s.jsx($l,{variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold",style:{backgroundColor:"#C2A46D"},onClick:w,disabled:m,children:m?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):"Sign Up"}),s.jsxs("div",{className:"flex justify-between items-center text-xs mt-5",children:[s.jsxs("span",{className:"text-gray-600",children:["Have an account?"," ",s.jsx(Gl,{to:"/login",className:"text-[#1E395D] hover:underline font-medium underline",children:"Log In"})]}),s.jsx("a",{href:"#",className:"text-[#1E395D] hover:underline font-medium underline",children:"Read Terms and Conditions"})]})]})})})]})})})},w4=async()=>{try{const n=await Da();return!!(n.data&&n.data.fullname&&n.data.username)}catch{return!1}},j4=()=>{const n=Tt(),[r,l]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState(!1),[m,p]=b.useState({}),g=async(x,y)=>{try{h(!0);const w={},C=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(x){if(!C.test(x)){w.email="Please enter a valid Gmail address",U.error("Please enter a valid Gmail address"),h(!1);return}}else{w.email="Email is required",U.error("Email is required"),h(!1);return}if(y){if(y.length<6){w.password="Password must be at least 6 characters",U.error("Password must be at least 6 characters"),h(!1);return}}else{w.password="Password is required",U.error("Password is required"),h(!1);return}if(Object.keys(w).length>0){p(w),U.error("Please fill in all required fields"),h(!1);return}const N=await i4(x,y);if(!N.success)throw new Error(N.message);const A=await ew(x);if(A.success){localStorage.setItem("userId",A.user.id),localStorage.setItem("userRole",A.user.role);const L=await mw();L.success&&localStorage.setItem("organiserId",L.data.id)}else throw new Error(A.message);if(U.success("Login successful"),N.data?.session?.access_token)localStorage.setItem("token",N.data.session.access_token);else throw new Error(N.message);const _=localStorage.getItem("userRole")||"student",T=localStorage.getItem("organiserId"),D=await w4();n(T?"/organiser":_==="student"?D?"/student-home":"/student-profile":D?"/teacher-home":"/teacher-profile")}catch(w){U.error(w.message)}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:s.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:s.jsxs("div",{className:"flex h-[760px]",children:[s.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[s.jsx("div",{className:"mb-10",children:s.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:s.jsx(Un,{size:"figma"})})}),s.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),s.jsx("div",{className:"flex items-center mt-20 mb-10",children:s.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),s.jsx("div",{className:"mt-16",children:s.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),s.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:s.jsx("div",{className:"w-full max-w-md mb-20",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(ix,{type:"email",name:"email",placeholder:"Email",value:r,onChange:x=>l(x.target.value),error:m.email,className:"w-full"}),s.jsx(cx,{name:"password",placeholder:"Password",value:o,onChange:x=>c(x.target.value),error:m.password,className:"w-full"}),s.jsx($l,{type:"button",onClick:()=>g(r,o),variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold",style:{backgroundColor:"#C2A46D"},disabled:d,children:d?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):"Log In"}),s.jsxs("div",{className:"flex justify-between items-center text-xs mt-5",children:[s.jsxs("span",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(Gl,{to:"/signup",className:"text-[#1E395D] hover:underline font-medium underline",children:"Sign Up"})]}),s.jsx("a",{href:"#",className:"text-[#1E395D] hover:underline font-medium underline",children:"Forgot Password?"})]})]})})})]})})})},N4=()=>{const n=Qs(),r=Tt(),l=n.state?.email||"",[o,c]=b.useState(!1),[d,h]=b.useState(0);Se.useEffect(()=>{l||r("/signup")},[l,r]);const m=async()=>{if(d>0){U.error(`Please wait ${d} seconds before resending`);return}try{c(!0);const p=await u4(l);if(p.success){U.success(p.message),h(60);const g=setInterval(()=>{h(x=>x<=1?(clearInterval(g),0):x-1)},1e3)}else U.error(p.message)}catch(p){U.error(p.message||"Failed to resend verification email")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:s.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:s.jsxs("div",{className:"flex h-[760px]",children:[s.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[s.jsx("div",{className:"mb-10",children:s.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:s.jsx(Un,{size:"figma"})})}),s.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),s.jsx("div",{className:"flex items-center mt-20 mb-10",children:s.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),s.jsx("div",{className:"mt-16",children:s.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),s.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-[#C2A46D] rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),s.jsx("h1",{className:"text-[#1E395D] text-[32px] font-bold text-center leading-normal",children:"Verify Your Email"}),s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsx("p",{className:"text-gray-700 text-[16px] leading-relaxed",children:"We've sent a verification email to:"}),s.jsx("p",{className:"text-[#1E395D] text-[18px] font-semibold break-all px-2",children:l}),s.jsx("div",{className:"bg-[#FFF8E7] border-l-4 border-[#C2A46D] p-4 rounded-r-lg text-left",children:s.jsxs("p",{className:"text-gray-800 text-[14px] leading-relaxed",children:[s.jsx("span",{className:"font-semibold",children:" Important:"})," Please check your email inbox",s.jsx("span",{className:"font-semibold",children:" including Spam/Promotions folders"})," to verify your account."]})}),s.jsx("p",{className:"text-gray-600 text-[14px] leading-relaxed",children:"Click the verification link in the email to activate your account and log in."})]}),s.jsx($l,{variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold mt-6",style:{backgroundColor:d>0?"#9CA3AF":"#C2A46D",cursor:d>0?"not-allowed":"pointer"},onClick:m,disabled:o||d>0,children:o?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{className:"ml-2",children:"Sending..."})]}):d>0?`Resend in ${d}s`:"Resend Verification Email"}),s.jsx("div",{className:"flex justify-center items-center text-sm mt-6",children:s.jsxs("span",{className:"text-gray-600",children:["Already verified?"," ",s.jsx(Gl,{to:"/login",className:"text-[#1E395D] hover:underline font-medium underline",children:"Log In"})]})}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("p",{className:"text-gray-500 text-xs",children:"Didn't receive the email? Check your spam folder or click resend."})})]})})})]})})})},js=({children:n,loadingText:r="Loading...",delay:l=1e3})=>{const[o,c]=b.useState(!0);return b.useEffect(()=>{const d=setTimeout(()=>{c(!1)},l);return()=>clearTimeout(d)},[l]),o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(kr,{size:"large",text:r})}):s.jsx(s.Fragment,{children:n})},S4=()=>{const n=Tt(),[r,l]=b.useState(!0);b.useEffect(()=>{(async()=>{try{if(localStorage.getItem("organiserId")){const h=await Bp();if(h.success&&h.data&&h.data.length>0){n("/dashboard");return}}else{const h=await Up();if(h.success&&h.data&&h.data.length>0){n("/dashboard");return}}}catch(d){console.error("Error checking events:",d)}finally{l(!1)}})()},[n]);const o=()=>{n("/request-approval")};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(kr,{size:"large",text:"Loading events..."})}):s.jsx(js,{loadingText:"Loading Home...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(ts,{}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsx("div",{className:"mt-6 flex justify-end space-x-4",children:s.jsxs("button",{onClick:o,className:"bg-[#1E395D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#1a2f4a] transition-colors duration-200 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Organiser"]})})})}),s.jsx("div",{className:"bg-[#1E395D] min-h-[calc(100vh-200px)] flex flex-col items-center justify-center px-6",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-white rounded-lg p-8 inline-block",children:s.jsx(Un,{size:"large"})})}),s.jsx("h2",{className:"text-white text-2xl md:text-3xl font-medium mb-8 leading-relaxed",children:"Quest for Leadership, Quest for Change"}),s.jsx("h1",{className:"text-white text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:'"Future Leaders Start Here"'})]})}),s.jsx("div",{className:"bg-[#1E395D] py-4",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-white text-sm",children:" Iman Praveesh Hassan"})})})]})})},C4=()=>{const n=Tt(),[r,l]=b.useState("Upcoming"),[o,c]=b.useState(!0),[d,h]=b.useState([]);b.useEffect(()=>{(async()=>{try{const C=await Up();if(C.success&&C.data&&C.data.length>0)h(C.data);else{n("/home");return}}catch(C){console.error("Error checking events:",C),n("/home");return}finally{c(!1)}})()},[n]);const m=()=>{n("/request-approval")},p=async w=>{const C=localStorage.getItem("userRole");n(C==="student"?`/student-registration/${w}`:`/teacher-registration/${w}`)},x=(()=>{const w=new Date;switch(r){case"Upcoming":return d.filter(C=>new Date(C.start_date)>w&&C.status!=="cancelled");case"Registered":return[];case"Past":return d.filter(C=>new Date(C.start_date)<w&&C.status!=="cancelled");case"Cancelled":return d.filter(C=>C.status==="cancelled");default:return d}})();if(o)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(kr,{size:"large",text:"Loading events..."})});const y=["Upcoming","Registered","Past","Cancelled"];return s.jsx(js,{loadingText:"Loading Dashboard...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(ts,{}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs("button",{onClick:m,className:"bg-[#1E395D] text-white font-medium flex items-center transition-colors duration-200",style:{width:160,height:40,borderRadius:30,borderWidth:1,borderStyle:"solid",padding:10},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6",children:s.jsx("div",{className:"flex space-x-8",children:y.map(w=>s.jsx("button",{onClick:()=>l(w),className:`py-4 px-1 text-sm font-medium border-b-2 transition-colors duration-200 ${r===w?"border-[#1E395D] text-[#1E395D]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:w},w))})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(w=>s.jsxs("div",{onClick:()=>p(w.id),className:"border border-gray-800 bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:s.jsx("img",{src:w.cover_image||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:w.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:w.name}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),w.start_date]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),w.locality.name]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),w.fees_per_delegate]})]})]})]},w.id))}),x.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",r.toLowerCase()," events"]}),s.jsxs("p",{className:"text-gray-500",children:["There are no ",r.toLowerCase()," events at the moment."]})]})]})]})})},E4=()=>{const n=Tt(),[r,l]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState(""),[m,p]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(""),[C,N]=b.useState([]),[A,_]=b.useState(!1),[T,D]=b.useState(!1);b.useEffect(()=>{async function F(){const I=await Da();l(I.data.school.name),c(I.data.school.code),p(I.data.school.locality_id),h(I.data.school.id)}F()},[]);const L=async F=>{try{const I=F.target.files;if(I){D(!0);const de=Array.from(I).map(ve=>ve.name),ne=await hw(I[0]);ne.success?(U.success(ne.message),N(ve=>[...ve,...de]),w(ne.documentUrl)):U.error(ne.message)}}catch(I){U.error(I.message)}finally{D(!1)}},W=F=>{N(I=>I.filter(de=>de!==F))},$=async()=>{if(!g.trim()){U.error("Please enter your role in event or in school");return}if(!y.trim()){U.error("Please upload evidence documents");return}_(!0);try{const F=await fw(d,m,g,y);F.success?(U.success(F.message),n("/request-under-verification")):(U.error(F.message),_(!1))}catch(F){U.error(F.message),_(!1)}finally{_(!1)}};return s.jsx(js,{loadingText:"Loading Request Approval...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(ts,{}),s.jsxs("div",{className:"max-w-[62rem] mx-auto px-6 py-12",children:[s.jsx("h1",{className:"font-bold text-[#C2A46D] mb-8 text-left",style:{fontSize:"40px"},children:"Request for Approval"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"font-bold text-black mb-6",style:{fontSize:"30px"},children:"Organiser Info"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School"}),s.jsx("input",{type:"text",disabled:!0,value:r,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter school name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Locality"}),s.jsx("input",{type:"text",disabled:!0,value:o,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter locality"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Role in Event or in School"}),s.jsx("input",{type:"text",value:g,onChange:F=>x(F.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter your role"})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Evidence"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"text",placeholder:"E.g. Letter from School or / and ID",className:"w-[350px] px-4 py-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",readOnly:!0}),s.jsxs("label",{className:`px-4 py-3 rounded-r-lg transition-colors duration-200 ${T?"bg-gray-400 cursor-not-allowed":"bg-[#607DA3] text-white cursor-pointer hover:bg-[#1a2f4a]"}`,style:{height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:[T?s.jsx(kr,{size:"small",text:""}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("input",{type:"file",multiple:!0,onChange:L,disabled:T,className:"hidden"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"grey",fontSize:"12px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Uploaded Files"}),s.jsx("div",{className:"space-y-2",children:C.map((F,I)=>s.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-gray-50 px-4 py-3 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:F}),s.jsx("button",{onClick:()=>W(F),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},I))})]})]}),s.jsx("div",{className:"text-left",children:s.jsx("button",{onClick:$,disabled:A,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",backgroundColor:"#D9C7A1",color:"white",fontWeight:500,transition:"background-color 0.2s",opacity:A?.5:1,cursor:A?"not-allowed":"pointer"},onMouseOver:F=>F.currentTarget.style.background="#B8945F",onMouseOut:F=>F.currentTarget.style.background="#C2A46D",children:A?"Submitting...":"Submit"})})]})]})})},k4=()=>{const n=Tt();return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(ts,{}),s.jsx("div",{className:"max-w-[75rem] mx-auto px-6 py-12",style:{paddingTop:"15rem"},children:s.jsxs("div",{className:"text-left",children:[s.jsx("h1",{style:{color:"#000",textAlign:"center",fontSize:"40px",fontStyle:"normal",fontWeight:500,lineHeight:"150%",marginBottom:"1rem"},children:"Your request is under verification"}),s.jsx("p",{style:{color:"#000",textAlign:"center",fontSize:"30px",fontStyle:"normal",fontWeight:400,lineHeight:"150%",marginBottom:"1rem"},children:"We will notify you soon."}),s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",width:"140px",height:"60px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",backgroundColor:"#C2A46D",color:"white",fontWeight:500,fontSize:"16px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer",margin:"auto",marginTop:"3rem"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#B8945F",r.currentTarget.style.transform="translateY(-1px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="#C2A46D",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),s.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]})]})})]})},Hs="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.6807%200.569926C18.9446%20-0.18965%2017.7436%20-0.18965%2017.0075%200.569926L6.89579%2011.0041C6.35341%2011.5638%205.95266%2012.2696%205.75895%2013.043L5.087%2015.6815C4.89329%2016.4273%205.10032%2017.2006%205.62939%2017.7341C6.03014%2018.1476%206.54588%2018.36%207.08826%2018.36C7.26866%2018.36%207.45027%2018.3337%207.61733%2018.2938L10.1743%2017.6004C10.9237%2017.4005%2011.5944%2016.987%2012.1501%2016.4273L22.2618%205.99312C22.9979%205.23355%2022.9979%203.99424%2022.2618%203.23467L19.6807%200.569926ZM11.7131%2015.9751C11.2482%2016.4548%2010.6671%2016.8008%2010.0339%2016.9745L7.47693%2017.6679C6.98661%2017.8016%206.46963%2017.6541%206.10763%2017.2819C5.72021%2016.9071%205.59186%2016.3749%205.72021%2015.8676L6.39215%2013.2291C6.56043%2012.5757%206.89579%2011.9761%207.3607%2011.4963L15.4057%203.19473L19.7582%207.68598L11.7131%2015.9751ZM21.8248%205.54091L20.2098%207.20621L15.8573%202.71497L17.4712%201.04966C17.7169%200.796049%2018.0269%200.676106%2018.3489%200.676106C18.6722%200.676106%2018.9821%200.796039%2019.2267%201.04966L21.8224%203.72816C22.3018%204.22164%2022.3018%205.03367%2021.8248%205.54091Z'%20fill='black'/%3e%3cpath%20d='M22.2246%2011.6698C22.0442%2011.6698%2021.9014%2011.816%2021.9014%2012.0034V20.6785C21.9014%2021.9441%2020.9074%2022.971%2019.6797%2022.971H2.86691C1.64049%2022.971%200.645288%2021.9454%200.645288%2020.6785V3.32825C0.645288%202.06272%201.63925%201.03577%202.86691%201.03577H11.2739C11.4543%201.03577%2011.5972%200.889605%2011.5972%200.702199C11.5972%200.516054%2011.4543%200.369873%2011.2739%200.369873H2.86691C1.27849%200.369873%200%201.70289%200%203.32822V20.6785C0%2022.3038%201.29182%2023.6369%202.86691%2023.6369H19.681C21.2694%2023.6369%2022.5479%2022.3038%2022.5479%2020.6785V12.0034C22.5479%2011.8172%2022.4062%2011.6698%2022.2246%2011.6698Z'%20fill='black'/%3e%3c/svg%3e",_4=()=>{const n=Tt(),[r,l]=b.useState(1),[o,c]=b.useState(""),[d,h]=b.useState(""),[m,p]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(""),[C,N]=b.useState(null),[A,_]=b.useState(null),[T,D]=b.useState(""),[L,W]=b.useState(""),[$,F]=b.useState(""),[I,de]=b.useState(""),[ne,ve]=b.useState(""),[Ee,ye]=b.useState(""),[G,P]=b.useState(""),[oe,j]=b.useState(""),[M,J]=b.useState(""),[z,E]=b.useState({}),[q,se]=b.useState(!1),[k,ee]=b.useState(!1),[he,ie]=b.useState(!1),[De,Ne]=b.useState(!1),He=[{id:1,name:"Event Info",active:r===1},{id:2,name:"Seats & Fees",active:r===2},{id:3,name:"Event Links",active:r===3}];b.useEffect(()=>{async function pe(){const ze=await Da();c(ze.data.school.name),h(ze.data.school.code),p(ze.data.school.locality_id),x(ze.data.school.id),w(ze.data.school.area_id)}pe()},[]);const Pe=()=>{const pe={};if(C||(pe.coverImage="Event cover image is required"),A||(pe.eventLogo="Event logo is required"),T.trim()||(pe.eventName="Event name is required"),L.trim()?L.trim().length>500&&(pe.eventDescription="Event description must be upto 500 characters"):pe.eventDescription="Event description is required",$||(pe.eventStartDate="Event start date is required"),I||(pe.eventEndDate="Event end date is required"),$&&I){const ze=new Date($),Y=new Date(I);ze>=Y&&(pe.eventEndDate="End date must be after start date")}return r===2&&(ne.trim()?(isNaN(Number(ne))||Number(ne)<=0)&&(pe.numberOfSeats="Number of seats must be a positive number"):pe.numberOfSeats="Number of seats is required",Ee.trim()?(isNaN(Number(Ee))||Number(Ee)<=0)&&(pe.feesPerDelegate="Fees per delegate must be a positive number"):pe.feesPerDelegate="Fees per delegate is required"),r===3&&(oe.trim()?Le(oe)||(pe.website="Please enter a valid website URL"):pe.website="Website is required",M.trim()?K(M)||(pe.instagram="Please enter a valid Instagram handle (e.g., @username)"):pe.instagram="Instagram handle is required"),E(pe),Object.keys(pe).length===0},Me=async()=>{if(r===1){if(!Pe()){U.error("Please fill in all required fields and ensure description is upto 500 characters");return}l(r+1)}else if(r===2){if(!Pe()){U.error("Please fill in all required fields for seats and fees");return}l(r+1)}else if(r===3){if(!Pe()){U.error("Please fill in all required fields for event links");return}try{Ne(!0);const pe=localStorage.getItem("organiserId"),ze=await Rw(T,L,$,I,C,A,m,g,y,ne,Ee,G,oe,M,pe);ze.success?(U.success(ze.message),n("/event-create-success")):U.error(ze.message)}catch(pe){U.error("Failed to create event: "+(pe.message||"Unknown error"))}finally{Ne(!1)}}else l(r+1)},Ze=pe=>{z[pe]&&E(ze=>{const Y={...ze};return delete Y[pe],Y})},lt=(pe,ze)=>{F(pe),de(ze),Ze("eventStartDate"),Ze("eventEndDate")},fe=()=>{ie(!he)},me=()=>{ie(!1)},je=(pe,ze)=>{const Y=Number(pe),we=Number(ze);!isNaN(Y)&&!isNaN(we)&&Y>0&&we>0?P((Y*we).toString()):P("")},Le=pe=>{try{return new URL(pe.startsWith("http")?pe:`https://${pe}`),!0}catch{return!1}},K=pe=>/^@[a-zA-Z0-9._]+$/.test(pe),O=(pe,ze,Y)=>{/[^0-9]/.test(pe)&&U.error("Only numbers are allowed in this field");const Ce=pe.replace(/[^0-9]/g,"");ze(Ce),Ze(Y)},xe=async(pe,ze)=>{try{const Y=pe.target.files;if(Y){ze==="cover"?se(!0):ee(!0);const we=await Mp(Y[0]);we.success?(U.success(we.message),ze==="cover"?(N(we.imageUrl),Ze("coverImage")):(_(we.imageUrl),Ze("eventLogo"))):U.error(we.message)}}catch(Y){U.error(Y.message)}finally{ze==="cover"?se(!1):ee(!1)}},X=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{style:{display:"flex",gap:"8rem",alignItems:"flex-end"},children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-center border-2 border-dashed",style:{width:"400px",height:"225px",flexShrink:0,borderRadius:"20px",background:"#D9C7A1",borderColor:z.coverImage?"#ef4444":"#d1d5db"},children:q?s.jsx(kr,{size:"large",text:"Uploading..."}):C?s.jsx("img",{src:typeof C=="string"?C:URL.createObjectURL(C),alt:"Event Cover",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}}):s.jsx("div",{className:"text-center text-black font-medium",children:"Event Cover Image"})}),s.jsxs("label",{className:`absolute bottom-0 bg-white rounded-full p-2 shadow-md ${q?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,style:{right:"-2rem"},children:[s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:pe=>pe.target.files?.[0]&&xe(pe,"cover"),disabled:q,className:"hidden"})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"relative w-32 h-32",children:[s.jsx("div",{className:"flex items-center justify-center border-2 border-dashed",style:{width:"128px",height:"128px",flexShrink:0,borderRadius:"20px",background:"#D9C7A1",borderColor:z.eventLogo?"#ef4444":"#d1d5db"},children:k?s.jsx(kr,{size:"medium",text:"Uploading..."}):A?s.jsx("img",{src:typeof A=="string"?A:URL.createObjectURL(A),alt:"Event Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}}):s.jsx("div",{className:"text-center text-black font-medium text-sm",children:"Event Logo"})}),s.jsxs("label",{className:`absolute bottom-0 bg-white rounded-full p-2 shadow-md ${k?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,style:{right:"-2rem"},children:[s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:pe=>pe.target.files?.[0]&&xe(pe,"logo"),disabled:k,className:"hidden"})]})]})})]}),s.jsxs("div",{className:"flex gap-8",children:[s.jsx("div",{children:z.coverImage&&s.jsx("div",{className:"text-red-500 text-sm mt-2",children:z.coverImage})}),s.jsx("div",{children:z.eventLogo&&s.jsx("div",{className:"text-red-500 text-sm mt-2",children:z.eventLogo})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Name"}),s.jsx("input",{type:"text",value:T,onChange:pe=>{D(pe.target.value),Ze("eventName")},placeholder:"E.g. Global Vision MUN 2025",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.eventName?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.eventName&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.eventName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Description"}),s.jsx("textarea",{value:L,onChange:pe=>{W(pe.target.value),Ze("eventDescription")},placeholder:"E.g. Describe the event (upto 500 characters)",maxLength:500,rows:4,style:{display:"flex",width:"400px",height:"100px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.eventDescription?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),s.jsx("div",{className:"flex justify-between w-[400px] text-sm mt-1",children:s.jsx("div",{className:z.eventDescription?"text-red-500":"text-gray-500",children:z.eventDescription||`${L.length}/500 maximum`})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Dates"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{onClick:fe,className:"flex items-center justify-between w-[400px] px-4 py-3 border border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",style:{border:z.eventStartDate||z.eventEndDate?"1px solid #ef4444":"1px solid #9CA3AF"},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Start Date"}),s.jsx("span",{className:"text-sm font-medium",children:$?new Date($).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]}),s.jsx("div",{className:"text-gray-400",children:"to"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),s.jsx("span",{className:"text-sm font-medium",children:I?new Date(I).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),he&&s.jsx(dx,{startDate:$,endDate:I,onDateRangeChange:lt,onClose:me,maxDays:7})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Select the start and end dates for your event"}),(z.eventStartDate||z.eventEndDate)&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.eventStartDate||z.eventEndDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School"}),s.jsx("input",{type:"text",value:o,disabled:!0,onChange:pe=>c(pe.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Locality"}),s.jsx("input",{type:"text",value:d,disabled:!0,onChange:pe=>h(pe.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none"}})]})]}),le=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"No. of Seats"}),s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:ne,onChange:pe=>{O(pe.target.value,ze=>{ve(ze),je(ze,Ee)},"numberOfSeats")},placeholder:"E.g. 400",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.numberOfSeats?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.numberOfSeats&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.numberOfSeats})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Fees per Delegate"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px",fontWeight:500},children:"AED"}),s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:Ee,onChange:pe=>{O(pe.target.value,ze=>{ye(ze),je(ne,ze)},"feesPerDelegate")},placeholder:"200",style:{display:"flex",width:"400px",height:"40px",padding:"10px 10px 10px 50px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.feesPerDelegate?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}})]}),z.feesPerDelegate&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.feesPerDelegate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Total Revenue"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px",fontWeight:500},children:"AED"}),s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:G,readOnly:!0,placeholder:"80000",style:{display:"flex",width:"400px",height:"40px",padding:"10px 10px 10px 50px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none",backgroundColor:"#f9fafb",color:"#6b7280"}})]})]})]}),Be=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Website"}),s.jsx("input",{type:"text",value:oe,onChange:pe=>{j(pe.target.value),Ze("website")},placeholder:"www.globalvisionmun.com",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.website?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.website&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.website})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Instagram"}),s.jsx("input",{type:"text",value:M,onChange:pe=>{J(pe.target.value),Ze("instagram")},placeholder:"@globalvisionmun",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.instagram?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.instagram&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.instagram})]})]});return s.jsx(js,{loadingText:"Loading Event Creation...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(ts,{}),s.jsx("div",{className:"py-3",children:s.jsx("div",{className:"mx-auto px-6",style:{maxWidth:"65rem"},children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("span",{className:"cursor-pointer",onClick:()=>n("/home"),style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Home"}),s.jsx("span",{className:"mx-2",style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:">"}),s.jsx("span",{className:"text-[#1E395D] font-medium",style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Info"})]})})}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"mx-auto px-6",style:{maxWidth:"65rem"},children:s.jsx("div",{className:"flex items-center space-x-4",children:He.map((pe,ze)=>s.jsxs(Se.Fragment,{children:[s.jsx("div",{className:`font-medium transition-colors duration-200 cursor-pointer ${pe.active?"bg-[#1E395D] text-white":"bg-white text-gray-600 hover:text-gray-800"}`,style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px"},onClick:()=>l(pe.id),children:pe.name}),ze<He.length-1&&s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},pe.id))})})}),s.jsxs("div",{className:"mx-auto px-6 py-8",style:{maxWidth:"65rem"},children:[r===1&&X(),r===2&&le(),r===3&&Be(),s.jsx("div",{className:"mt-12 text-left",children:s.jsx("button",{onClick:()=>{if(r===3)Me();else{if(!Pe()){U.error("Please fill in all required fields");return}l(r+1)}},disabled:De,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",background:De?"#9CA3AF":"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:De?"not-allowed":"pointer",transition:"background 0.2s",opacity:De?.7:1},onMouseOver:pe=>!De&&(pe.currentTarget.style.background="#B8945F"),onMouseOut:pe=>!De&&(pe.currentTarget.style.background="#C2A46D"),children:De?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Creating..."})]}):"Continue"})})]})]})})},A4=()=>{const n=Tt();return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(ts,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Your event is created."})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"App Home"]}),s.jsxs("button",{onClick:()=>n("/organiser"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Organiser Home"]})]})]})]})},D4=()=>{const n=Tt(),[r,l]=b.useState([]),[o,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const p=await Bp();p.success?l(p.data||[]):U.error(p.message)}catch(p){console.error("Error fetching events:",p),U.error(p.message)}finally{c(!1)}})()},[]);const d=()=>{n("/event-create")},h=m=>{n(`/event-dashboard/${m}`)};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E395D] mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):s.jsx(js,{loadingText:"Loading Events...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{maxWidth:"max-w-[88rem]"}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-4xl font-medium text-[#C2A46D]",children:"Organiser Events"}),s.jsxs("button",{onClick:d,style:{display:"flex",width:"160px",height:"40px",padding:"10px",justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"30px",backgroundColor:"#1E395D",color:"white",fontWeight:500,transition:"background-color 0.2s"},className:"font-medium hover:bg-[#1a2f4a]",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events available"}),s.jsx("p",{className:"text-gray-500",children:"Please create an event to get started."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(m=>s.jsxs("div",{onClick:()=>h(m.id),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200 cursor-pointer",children:[s.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:s.jsx("img",{src:m.cover_image||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:m.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:m.name}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m.start_date," - ",m.end_date]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.locality.name]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),m.fees_per_delegate]})]}),s.jsx("div",{className:"text-sm text-[#1E395D] font-medium",children:"Click to manage event "})]})]},m.id))})]})]})})},Ig=n=>n.toLowerCase().trim().replace(/[^\w\s]/g,"").replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),T4=()=>Math.floor(1e3+Math.random()*9e3).toString(),R4=()=>String.fromCharCode(97+Math.floor(Math.random()*26)),Ti=n=>{if(!n||n.trim()==="")return"";const r=n.trim().split(/\s+/),l=r[0]||"",o=r.slice(1).join("")||"",c=Ig(l);let d="";if(c.length>=4)d=c.substring(0,4);else{const h=Ig(o);for(d=c+h;d.length<4;)d+=R4();d=d.substring(0,4)}return d+=T4(),d.toLowerCase()},O4=()=>{const[n,r]=b.useState("personal"),l=Tt(),{allLocalities:o,allSchools:c,refreshLocalitiesData:d,refreshSchoolsData:h,refreshAreasData:m}=qt(),[p,g]=b.useState(!1),x=b.useRef(null),[y,w]=b.useState(""),[C,N]=b.useState(""),[A,_]=b.useState(""),[T,D]=b.useState(""),[L,W]=b.useState(""),[$,F]=b.useState(""),[I,de]=b.useState(""),[ne,ve]=b.useState(null),[Ee,ye]=b.useState(""),[G,P]=b.useState(""),[oe,j]=b.useState(""),[M,J]=b.useState(""),[z,E]=b.useState(""),[q,se]=b.useState(""),[k,ee]=b.useState("+971"),[he,ie]=b.useState([]),[De,Ne]=b.useState(!1),[He,Pe]=b.useState(""),[Me,Ze]=b.useState({}),lt=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],fe=re=>{w(re),N(re);const $e=Ti(re);_($e)},me=re=>{W(re)},je=re=>{j(re)},Le=(re,$e)=>{const dt=re.replace(/[^0-9]/g,""),mt=`${$e}${dt}`;return console.log("Generating phone_e164:",{phone:re,countryCode:$e,cleanPhone:dt,phoneE164:mt}),mt},K=re=>{if(ee(re),g(!1),z){const $e=Le(z,re);se($e)}};b.useEffect(()=>{(async()=>{try{await Promise.all([d(),h(),m()])}catch($e){console.error("Error loading data:",$e),U.error("Failed to load profile data. Please refresh the page.")}})()},[]);const O=re=>{if(F(re),ve(null),P(""),Pe(""),ye(""),re!=="Other"&&de(""),re&&re!=="Other"){const $e=c.filter(dt=>dt.locality.code===re);ie($e)}else ie([])},xe=re=>{de(re),ve(null),P(""),Pe(""),ye(""),ie([])},X=re=>{if(Pe(re),re.trim()===""){const $e=c.filter(dt=>dt.locality.code===$);ie($e)}else{const dt=c.filter(mt=>mt.locality.code===$).filter(mt=>mt.name?.toLowerCase().includes(re.toLowerCase())||mt.locality.code?.toLowerCase().includes(re.toLowerCase()));ie(dt)}},le=re=>{console.log("handleSchoolSelect",re);const $e=re.name;ve(re),P(re.id),Pe($e),Ne(!1),re.id!=="UNLISTED"&&ye("")},Be=re=>{ye(re)};b.useEffect(()=>{const re=$e=>{x.current&&!x.current.contains($e.target)&&(g(!1),Ne(!1))};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]);const pe=()=>{const re=[{key:"personal",label:"Personal Info"},{key:"school",label:"School Info"},{key:"contact",label:"Contact Info"}];return s.jsx("div",{className:"flex items-center justify-start mb-8",children:re.map(($e,dt)=>s.jsxs(Se.Fragment,{children:[s.jsx("button",{className:`flex items-center justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${n===$e.key?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>r($e.key),children:$e.label}),dt<re.length-1&&s.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},$e.key))})},ze=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),s.jsx("input",{type:"text",name:"name",placeholder:"E.g. Sam Morgan Lee",value:C,onChange:re=>fe(re.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.name?"border-red-500":"border-gray-300"}`}),Me?.name&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.name}),A&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),s.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:A})]})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",name:"dateOfBirth",value:T,onChange:re=>D(re.target.value),className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.dateOfBirth?"border-red-500":"border-gray-300"}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),Me?.dateOfBirth&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),s.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(re=>s.jsx("button",{type:"button",onClick:()=>me(re),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-[200px] ${L===re?"bg-[#D9C7A1] text-black border-[#D9C7A1]":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:re.charAt(0).toUpperCase()+re.slice(1)},re))}),Me?.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.gender})]})]}),Y=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:["Locality of School ",s.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%]",children:"(City or Town)"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"locality",value:$,onChange:re=>O(re.target.value),className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${Me?.locality?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a locality..."}),o.length>0?o.map(re=>s.jsx("option",{value:re.code,children:re.name},re.id)):s.jsx("option",{value:"",disabled:!0,children:"No localities loaded"})]}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Me?.locality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.locality}),$==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),s.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:I,onChange:re=>xe(re.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.customLocality?"border-red-500":"border-gray-300"}`}),Me?.customLocality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.customLocality})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),s.jsxs("div",{className:"relative",ref:x,children:[s.jsx("input",{type:"text",name:"schoolName",placeholder:$==="Other"?"School selection not available for custom locality":$?"Search by school name or code...":"Please select a city first",value:He,onChange:re=>X(re.target.value),onFocus:()=>Ne(!0),disabled:!$||$==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.schoolName?"border-red-500":"border-gray-300"} ${!$||$==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("button",{type:"button",onClick:()=>{ve(null),P(""),Pe(""),Ne(!1)},disabled:!$||$==="Other",className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center transition-colors ${!$||$==="Other"?"bg-gray-200 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),De&&$&&$!=="Other"&&he.length>0&&s.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[he.map((re,$e)=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>le(re),children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:re.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",re.code]}),re.area&&re.area.name!=="-"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:re.area.name}),re.locality.name&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:re.locality.name})]},`${re.code}-${$e}`)),s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>le({id:"UNLISTED",name:"Unlisted / Not in the list / Other",code:"UNLISTED",locality:{name:"Unlisted / Not in the list / Other"}}),children:s.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),he.length===0&&He&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',He,'"']})]})]}),Me?.schoolName&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.schoolName}),(ne&&ne.id==="UNLISTED"||$==="Other")&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),s.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:Ee,onChange:re=>Be(re.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.customSchool?"border-red-500":"border-gray-300"}`}),Me?.customSchool&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.customSchool})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Grade or Year or Programme"}),s.jsx("div",{className:"w-[400px] border border-gray-300 rounded-lg p-4 mb-4",children:s.jsx("div",{className:"flex gap-4 bg-white",children:["grade","year","programme","other"].map(re=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"gradeType",value:re,checked:oe===re,onChange:()=>je(re),className:"mr-3 w-5 h-5 text-[#1E395D] focus:ring-[#1E395D]"}),s.jsx("span",{className:`text-sm capitalize ${oe===re?"text-black":"text-gray-500"}`,children:re})]},re))})}),Me?.gradeType&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.gradeType})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"grade",value:M,onChange:re=>J(re.target.value),className:`w-full px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${Me?.grade?"border-red-500":"border-gray-300"}`,children:[oe==="grade"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Grade"}),s.jsx("option",{value:"grade-5",children:"Grade 5"}),s.jsx("option",{value:"grade-6",children:"Grade 6"}),s.jsx("option",{value:"grade-7",children:"Grade 7"}),s.jsx("option",{value:"grade-8",children:"Grade 8"}),s.jsx("option",{value:"grade-9",children:"Grade 9"}),s.jsx("option",{value:"grade-10",children:"Grade 10"}),s.jsx("option",{value:"grade-11",children:"Grade 11"}),s.jsx("option",{value:"grade-12",children:"Grade 12"})]}),oe==="year"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Year"}),s.jsx("option",{value:"year-6",children:"Year 6"}),s.jsx("option",{value:"year-7",children:"Year 7"}),s.jsx("option",{value:"year-8",children:"Year 8"}),s.jsx("option",{value:"year-9",children:"Year 9"}),s.jsx("option",{value:"year-10",children:"Year 10"}),s.jsx("option",{value:"year-11",children:"Year 11"}),s.jsx("option",{value:"year-12",children:"Year 12"}),s.jsx("option",{value:"year-13",children:"Year 13"})]}),oe==="programme"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Programme"}),s.jsx("option",{value:"PYP-5",children:"PYP 5"}),s.jsx("option",{value:"MYP-1",children:"MYP 1"}),s.jsx("option",{value:"MYP-2",children:"MYP 2"}),s.jsx("option",{value:"MYP-3",children:"MYP 3"}),s.jsx("option",{value:"MYP-4",children:"MYP 4"}),s.jsx("option",{value:"MYP-5",children:"MYP 5"}),s.jsx("option",{value:"IB-DP-1",children:"IB DP 1"}),s.jsx("option",{value:"IB-DP-2",children:"IB DP 2"})]}),oe==="other"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Other"}),s.jsx("option",{value:"other-1",children:"Other 1"}),s.jsx("option",{value:"other-2",children:"Other 2"}),s.jsx("option",{value:"other-3",children:"Other 3"}),s.jsx("option",{value:"other-4",children:"Other 4"}),s.jsx("option",{value:"other-5",children:"Other 5"}),s.jsx("option",{value:"other-6",children:"Other 6"}),s.jsx("option",{value:"other-7",children:"Other 7"}),s.jsx("option",{value:"other-8",children:"Other 8"})]})]}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Me?.grade&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.grade})]})]}),we=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),s.jsxs("div",{className:"relative",ref:x,children:[s.jsxs("div",{className:"flex border rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>g(!p),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:k}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:z,onChange:re=>{/[^0-9\s]/.test(re.target.value)&&U.error("Only numbers and spaces are allowed in phone number");const dt=re.target.value.replace(/[^0-9\s]/g,"");E(dt);const mt=Le(dt,k);se(mt)},className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.phone?"border-red-500":"border-gray-300"}`})]}),p&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:lt.map(re=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>K(re.code),children:[s.jsx("span",{className:"text-lg mr-3",children:re.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:re.code}),s.jsx("span",{className:"text-sm text-gray-800",children:re.country})]},re.code))})]}),Me?.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.phone})]})}),Ce=async(re,$e,dt,mt,ls,Kt,Qt,os)=>{try{let Mt=ls,ut;$==="Other"?ut=await Lp(re,$e,dt,mt,I,Ee,Kt,Qt,os):ne&&ne.id==="UNLISTED"?ut=await cw(re,$e,dt,mt,$,Ee,Kt,Qt,os):ut=await rw(re,$e,dt,mt,Mt,Kt,Qt,os),ut.success?(U.success("Student profile created successfully"),l("/student-home")):(Ze(ut.errors),U.error(ut.errors.message))}catch(Mt){const ut=Mt?.errors||Mt||{message:"An unexpected error occurred"};Ze(ut),U.error(ut.message||"An unexpected error occurred")}};return s.jsx(js,{loadingText:"Loading Student Profile...",children:s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(ts,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-left",children:"Student Signup"}),pe()]}),s.jsxs("div",{className:"w-[400px] rounded-lg shadow-sm mb-8",style:{padding:"2rem 0.5rem"},children:[n==="personal"&&ze(),n==="school"&&Y(),n==="contact"&&we()]}),s.jsx("div",{className:"flex justify-start",children:s.jsx("button",{type:"button",onClick:()=>{n==="personal"?C&&A&&T&&L?r("school"):U.error("Please fill in all personal information fields"):n==="school"?$==="Other"?I.trim()&&Ee.trim()&&M?r("contact"):U.error("Please fill in all school information fields"):ne&&ne.id==="UNLISTED"?Ee.trim()&&M?r("contact"):U.error("Please fill in all school information fields"):$&&ne&&M?r("contact"):U.error("Please fill in all school information fields"):n==="contact"&&(z&&q?Ce(y,A,T,L,G,M,z,q):U.error("Please fill in all contact information fields"))},className:"font-medium text-white transition-all",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",transition:"background-color 0.2s"},onMouseOver:re=>re.currentTarget.style.backgroundColor="#C2A46D",onMouseOut:re=>re.currentTarget.style.backgroundColor="#D9C7A1",children:"Continue"})})]})]})})},L4=()=>{const n=Tt(),{allLocalities:r,allSchools:l,refreshLocalitiesData:o,refreshSchoolsData:c,refreshAreasData:d}=qt(),[h,m]=b.useState("personal"),[p,g]=b.useState(""),[x,y]=b.useState(""),[w,C]=b.useState(""),[N,A]=b.useState(""),[_,T]=b.useState(""),[D,L]=b.useState(""),[W,$]=b.useState(""),[F,I]=b.useState(null),[de,ne]=b.useState(""),[ve,Ee]=b.useState(""),[ye,G]=b.useState(""),[P,oe]=b.useState("+971"),[j,M]=b.useState([]),[J,z]=b.useState(!1),[E,q]=b.useState(""),[se,k]=b.useState({}),[ee,he]=b.useState(!1),ie=b.useRef(null),De=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}];b.useEffect(()=>{(async()=>{try{await Promise.all([o(),c(),d()])}catch(xe){console.error("Error loading data:",xe),U.error("Failed to load profile data. Please refresh the page.")}})()},[]);const Ne=O=>{if(console.log("handleCityChange",O),console.log("allSchools",l),L(O),I(null),q(""),ne(""),O!=="Other"&&$(""),O&&O!=="Other"){const xe=l.filter(X=>X.locality&&X.locality.code===O);M(xe)}else M([])},He=O=>{$(O),I(null),q(""),ne(""),M([])},Pe=O=>{if(q(O),O.trim()===""){const xe=l.filter(X=>X.locality&&X.locality.code===D);M(xe)}else{const X=l.filter(le=>le.locality&&le.locality.code===D).filter(le=>le.name?.toLowerCase().includes(O.toLowerCase())||le.locality&&le.locality.code?.toLowerCase().includes(O.toLowerCase()));M(X)}},Me=O=>{console.log("handleSchoolSelect",O);const xe=O.name;I(O),q(xe),z(!1),O.id!=="UNLISTED"&&ne("")},Ze=O=>{ne(O)};b.useEffect(()=>{const O=xe=>{ie.current&&!ie.current.contains(xe.target)&&(he(!1),z(!1))};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const lt=()=>{const O=[{key:"personal",label:"Personal Info"},{key:"school",label:"School Info"},{key:"contact",label:"Contact Info"}];return s.jsx("div",{className:"flex items-center justify-start mb-8",children:O.map((xe,X)=>s.jsxs(Se.Fragment,{children:[s.jsx("button",{className:`flex items-center justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${h===xe.key?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>m(xe.key),children:xe.label}),X<O.length-1&&s.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},xe.key))})},fe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),s.jsx("input",{type:"text",name:"name",placeholder:"E.g. Sam Morgan Lee",value:p,onChange:O=>{g(O.target.value),y(O.target.value);const xe=Ti(O.target.value);C(xe)},className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.name?"border-red-500":"border-gray-300"}`}),se.name&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.name}),w&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),s.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:w})]})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",name:"dateOfBirth",value:N,onChange:O=>A(O.target.value),className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.dateOfBirth?"border-red-500":"border-gray-300"}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),se.dateOfBirth&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),s.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(O=>s.jsx("button",{type:"button",onClick:()=>T(O),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-[200px] ${_===O?"bg-[#D9C7A1] text-black border-[#1E395D]":"bg-white text-black border-gray-300 hover:border-gray-400"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),se.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.gender})]})]}),me=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:["Locality of School ",s.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%]",children:"(City or Town)"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"locality",value:D,onChange:O=>Ne(O.target.value),className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${se.locality?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a locality..."}),r.map(O=>s.jsx("option",{value:O.code,children:O.name},O.id))]}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),se.locality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.locality}),D==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),s.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:W,onChange:O=>He(O.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.customLocality?"border-red-500":"border-gray-300"}`}),se.customLocality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.customLocality})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),s.jsxs("div",{className:"relative",ref:ie,children:[s.jsx("input",{type:"text",name:"schoolName",placeholder:D==="Other"?"School selection not available for custom locality":D?"Search by school name or code...":"Please select a city first",value:E,onChange:O=>Pe(O.target.value),onFocus:()=>z(!0),disabled:!D||D==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.schoolName?"border-red-500":"border-gray-300"} ${!D||D==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("button",{type:"button",onClick:()=>{I(null),q(""),z(!1)},disabled:!D||D==="Other",className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center transition-colors ${!D||D==="Other"?"bg-gray-200 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),J&&D&&D!=="Other"&&j.length>0&&s.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[j.map((O,xe)=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Me(O),children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:O.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",O.code]}),O.area&&O.area.name!=="-"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.area.name}),O.locality&&O.locality.name&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.locality.name})]},`${O.code}-${xe}`)),s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Me({id:"UNLISTED",name:"Unlisted / Not in the list / Other",code:"UNLISTED",locality:{name:"Unlisted / Not in the list / Other"}}),children:s.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),j.length===0&&E&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',E,'"']})]})]}),se.schoolName&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.schoolName}),(D==="Other"||F&&F.id==="UNLISTED")&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),s.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:de,onChange:O=>Ze(O.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.customSchool?"border-red-500":"border-gray-300"}`}),se.customSchool&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.customSchool})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Years of Work Experience"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",name:"yearsOfExperience",placeholder:"E.g. 20",value:ve,onChange:O=>{/[^0-9]/.test(O.target.value)&&U.error("Only numbers are allowed in this field");const X=O.target.value.replace(/[^0-9]/g,"");Ee(X)},className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.yearsOfExperience?"border-red-500":"border-gray-300"}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),se.yearsOfExperience&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.yearsOfExperience})]})]}),je=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),s.jsxs("div",{className:"relative",ref:ie,children:[s.jsxs("div",{className:"flex border rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>he(!ee),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:P}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:ye,onChange:O=>{/[^0-9\s]/.test(O.target.value)&&U.error("Only numbers and spaces are allowed in phone number");const X=O.target.value.replace(/[^0-9\s]/g,"");G(X)},className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.phone?"border-red-500":"border-gray-300"}`})]}),ee&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:De.map(O=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>oe(O.code),children:[s.jsx("span",{className:"text-lg mr-3",children:O.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:O.code}),s.jsx("span",{className:"text-sm text-gray-800",children:O.country})]},O.code))})]}),se.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.phone})]})}),Le=(O,xe)=>{const X=O.replace(/[^0-9]/g,"");return`${xe}${X}`},K=async(O,xe,X,le,Be,pe,ze,Y)=>{try{const we=Le(ze,Y);let Ce;if(D==="Other"){const re=`${W}`,$e=`${de}`;Ce=await Op(O,xe,X,le,re,$e,pe,ze,"",void 0,we)}else if(F&&F.id==="UNLISTED"){const re=`${de}`;Ce=await iw(O,xe,X,le,D,re,pe,ze,we)}else Ce=await sw(O,xe,X,le,Be,pe,ze,we);Ce.success?(U.success("Teacher profile created successfully"),n("/teacher-home")):(k(Ce.errors),U.error(Ce.errors.message))}catch(we){console.error("Teacher Profile Error:",we),we.errors?(k(we.errors),U.error(we.errors.message)):U.error(we.message||"Failed to create teacher profile")}};return s.jsx(js,{loadingText:"Loading Teacher Profile...",children:s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx("div",{className:"shadow-sm",children:s.jsx("div",{className:"max-w-4xl px-6 py-4",children:s.jsx(Un,{size:"medium"})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-left",children:"Teacher Signup"}),lt()]}),s.jsxs("div",{className:"w-[400px] rounded-lg shadow-sm mb-8",style:{padding:"2rem 0.5rem"},children:[h==="personal"&&fe(),h==="school"&&me(),h==="contact"&&je()]}),s.jsx("div",{className:"flex justify-start",children:s.jsx("button",{type:"button",onClick:()=>{if(h==="personal")x&&N&&_?m("school"):U.error("Please fill in all personal information fields");else if(h==="school")D==="Other"?W.trim()&&de.trim()&&ve?m("contact"):U.error("Please fill in all school information fields"):F&&F.id==="UNLISTED"?de.trim()&&ve?m("contact"):U.error("Please fill in all school information fields"):D&&F&&ve?m("contact"):U.error("Please fill in all school information fields");else if(h==="contact")if(ye&&P){const O=D==="Other"||F&&F.id==="UNLISTED"?"":F?.id||"";K(p,w,N,_,O,ve,ye,P)}else U.error("Please fill in all contact information fields")},className:"font-medium text-white transition-all",style:{backgroundColor:"#D9C7A1",borderRadius:"30px",display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",transition:"background-color 0.2s"},onMouseOver:O=>O.currentTarget.style.backgroundColor="#C2A46D",onMouseOut:O=>O.currentTarget.style.backgroundColor="#D9C7A1",children:"Continue"})})]})]})})},eh=({userType:n,initialData:r})=>{const l=b.useRef(null),{allLocalities:o,refreshLocalitiesData:c,allSchools:d,refreshSchoolsData:h}=qt();b.useEffect(()=>{(async()=>{try{await Promise.all([c(),h()])}catch(_e){console.error("Error loading data:",_e),U.error("Failed to load profile data. Please refresh the page.")}})()},[]);const m=[...o.map(Te=>({value:Te.code,label:Te.name})),{value:"Other",label:"Unlisted / Not in the list / Other"}];b.useEffect(()=>{(async()=>{const _e=await Da(),Re={..._e.data,username:_e.data.username||"",fullname:_e.data.fullname||"",birthday:_e.data.birthday||"",gender:_e.data.gender||"",locality:_e.data.school.code||"",schoolName:_e.data.school.name||"",school_id:_e.data.school.id||"",grade:_e.data.grade||"",year_of_work_experience:_e.data.year_of_work_experience||"",phone_number:_e.data.phone_number||"",email:_e.data.email||"",avatar:_e.data.avatar||(n==="student"?Pl:Ou)};g(Re),k(Re.fullname),he(Re.username),De(Re.birthday),He(Re.gender),Me(Re.locality),lt(Re.schoolName),me(Re.school_id||""),Le(Re.grade),X(Re.year_of_work_experience),Be(Re.phone_number),we(Re.country_code||"+971"),ze(Kt(Re.phone_number||"",Re.country_code||"+971")),re(Re.email)})()},[n]);const[p,g]=b.useState({username:r?.username||"",fullname:r?.fullname||"",birthday:r?.birthday||"",gender:r?.gender||"",school_location:r?.school_location||"",school_name:r?.school_name||"",grade:r?.grade||"",email:r?.email||"",phone_number:r?.phone_number||"",name:r?.fullname||"",dateOfBirth:r?.birthday||"",locality:r?.school_location||"",schoolName:r?.school_name||"",gradeOrYear:r?.grade||"",mobile:r?.phone_number?`+971 ${r.phone_number}`:"",avatar:r?.avatar||(n==="student"?Pl:Ou)}),[x,y]=b.useState(null),[w,C]=b.useState(""),[N,A]=b.useState(""),[_,T]=b.useState(""),[D,L]=b.useState(!1),[W,$]=b.useState(!1),[F,I]=b.useState(!1),de=b.useRef(null),[ne,ve]=b.useState([]),[Ee,ye]=b.useState([]),[G,P]=b.useState(!1),[oe,j]=b.useState(""),[M,J]=b.useState(""),[z,E]=b.useState(""),[q]=b.useState({}),[se,k]=b.useState(""),[ee,he]=b.useState(""),[ie,De]=b.useState(""),[Ne,He]=b.useState(""),[Pe,Me]=b.useState(""),[Ze,lt]=b.useState(""),[fe,me]=b.useState(""),[je,Le]=b.useState(""),[K,O]=b.useState(""),[xe,X]=b.useState(""),[le,Be]=b.useState(""),[pe,ze]=b.useState(""),[Y,we]=b.useState("+971"),[Ce,re]=b.useState(""),[$e,dt]=b.useState(!1),[mt,ls]=b.useState(!1),Kt=(Te,_e)=>{const Re=Te.replace(/[^0-9]/g,"");return`${_e}${Re}`},Qt=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],os=n==="student"?{grade:[{value:"grade-5",label:"Grade 5"},{value:"grade-6",label:"Grade 6"},{value:"grade-7",label:"Grade 7"},{value:"grade-8",label:"Grade 8"},{value:"grade-9",label:"Grade 9"},{value:"grade-10",label:"Grade 10"},{value:"grade-11",label:"Grade 11"},{value:"grade-12",label:"Grade 12"}],year:[{value:"year-6",label:"Year 6"},{value:"year-7",label:"Year 7"},{value:"year-8",label:"Year 8"},{value:"year-9",label:"Year 9"},{value:"year-10",label:"Year 10"},{value:"year-11",label:"Year 11"},{value:"year-12",label:"Year 12"},{value:"year-13",label:"Year 13"}],programme:[{value:"PYP-5",label:"PYP 5"},{value:"MYP-1",label:"MYP 1"},{value:"MYP-2",label:"MYP 2"},{value:"MYP-3",label:"MYP 3"},{value:"MYP-4",label:"MYP 4"},{value:"MYP-5",label:"MYP 5"},{value:"IB-DP-1",label:"IB DP 1"},{value:"IB-DP-2",label:"IB DP 2"}],other:[{value:"other-1",label:"Other 1"},{value:"other-2",label:"Other 2"},{value:"other-3",label:"Other 3"},{value:"other-4",label:"Other 4"},{value:"other-5",label:"Other 5"},{value:"other-6",label:"Other 6"},{value:"other-7",label:"Other 7"},{value:"other-8",label:"Other 8"}]}:["Primary Teacher","Secondary Teacher","Subject Teacher","Head of Department","Vice Principal","Principal","Counselor","Librarian","Other"],Mt=(Te,_e)=>{y(Te),C(_e)},ut=(Te,_e)=>{switch(C(_e),Te){case"fullname":k(_e);const Re=Ti(_e);he(Re);break;case"username":he(_e);break;case"birthday":De(_e);break;case"gender":He(_e);break;case"school_location":Me(_e);break;case"school_name":lt(_e);break;case"school_id":me(_e);break;case"grade":Le(_e);break;case"gradeType":O(_e);break;case"year_of_work_experience":X(_e);break;case"phone_number":Be(_e);break;case"email":re(_e);break}},Ht=()=>{if(x)switch(x){case"fullname":k(p.fullname),he(p.username);break;case"username":he(p.username);break;case"birthday":De(p.birthday);break;case"gender":He(p.gender);break;case"school_location":Me(p.school_location);break;case"school_name":lt(p.school_name);break;case"school_id":me(p.school_id||"");break;case"grade":Le(p.grade),O(p.grade_year_programme||"");break;case"year_of_work_experience":X(String(p.year_of_work_experience||""));break;case"phone_number":Be(p.phone_number);break;case"email":re(p.email);break}y(null),C("")},Ar=async Te=>{const _e=Te.target.files?.[0];if(_e)try{dt(!0);const Re=await lw(_e);Re.success?(JN(),localStorage.setItem("userAvatar",Re.avatarUrl),setTimeout(()=>{const Ie=new CustomEvent("avatarUpdated",{detail:{avatarUrl:Re.avatarUrl}});window.dispatchEvent(Ie)},100),U.success(Re.message)):U.error("Failed to upload avatar: "+Re.message)}catch(Re){U.error("Failed to upload avatar: "+Re.message)}finally{dt(!1)}},or=async()=>{if(N!==_){U.error("Passwords do not match");return}if(N.length<6){U.error("Password must be at least 6 characters");return}try{const Te=await d4(N);Te.success?(U.success(Te.message),A(""),T(""),L(!1)):U.error(Te.message)}catch(Te){U.error("Failed to update password: "+(Te.message||"Unknown error"))}},Ds=Tt(),Dr=()=>{ls(!0)},Ge=async()=>{try{const Te=await tw();Te.success?(U.success(Te.message),localStorage.removeItem("token"),localStorage.removeItem("userAvatar"),Ds("/login")):U.error(Te.message)}catch(Te){U.error(Te.message)}},jt=()=>{ls(!1),Ge()},Ct=()=>{ls(!1)};b.useEffect(()=>{const Te=_e=>{de.current&&!de.current.contains(_e.target)&&($(!1),P(!1),I(!1))};return document.addEventListener("mousedown",Te),()=>{document.removeEventListener("mousedown",Te)}},[]),b.useEffect(()=>{if(Pe&&Pe!=="Other"&&d.length>0){const Te=d.filter(_e=>_e.locality?.name===Pe);ve(Te),ye(Te)}else ve([]),ye([])},[Pe,d]);const Ut=Te=>{if(j(Te),Te.trim()==="")ye(ne);else{const _e=ne.filter(Re=>Re.name?.toLowerCase().includes(Te.toLowerCase())||Re.code?.toLowerCase().includes(Te.toLowerCase())||Re.locality?.name?.toLowerCase().includes(Te.toLowerCase()));ye(_e)}},Fs=Te=>{J(Te)},_t=Te=>{E(Te)},Nt=(Te,_e,Re)=>{const it=x===_e?w:Re,Oe=be=>{ut(_e,be)};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Te}),s.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(be=>s.jsx("button",{type:"button",onClick:()=>Oe(be),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-24 ${it===be?"bg-[#C2A46D] text-white border-[#C2A46D]":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:be.charAt(0).toUpperCase()+be.slice(1)},be))})]})},St=(Te,_e,Re)=>{const Ie=x===_e,it=Ie?w:Re,Oe=Ie?Ti(w):ee;return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Te}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:it,onChange:be=>ut(_e,be.target.value),disabled:!Ie,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Ie?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Te.toLowerCase()}`}),!Ie&&s.jsx("button",{onClick:()=>Mt(_e,Re),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),Ie&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Ht,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),Ie&&w&&s.jsx("div",{className:"w-[400px] mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),s.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:Oe})]})})})]})},at=(Te,_e,Re,Ie,it,Oe)=>{const be=x===_e,ke=be?w:(()=>{const We=Ie.find(is=>is.value===Re);return We?We.label:Re})(),Ft=We=>{We.value==="Other"?(ut(_e,"Other"),me(""),lt(""),E(""),J("")):(ut(_e,We.label),J(""),E(""))};return s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:[Te,s.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%] ml-1",children:"(City or Town)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{type:"button",onClick:()=>be&&Oe(!1),disabled:!be,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 text-left ${be?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,children:ke}),!be&&s.jsx("button",{onClick:()=>Mt(_e,Re),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),!it&&be&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ie.map((We,is)=>s.jsx("div",{className:"w-[400px] px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{Ft(We),Oe(!0)},children:typeof We=="string"?We:We.label},is))}),be&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Ht,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),be&&Re==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),s.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:M,onChange:We=>Fs(We.target.value),className:"w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 border-gray-300"}),!M.trim()&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:'Custom locality is required when "Other" is selected'})]})]})},Rt=(Te,_e,Re)=>{const Ie=x===_e,it=Ie?oe:Re,Oe=ke=>{Ie&&(j(ke),Ut(ke))},be=ke=>{if(Ie){const Ft=ke.name;me(ke.id),ut(_e,Ft),j(Ft),P(!0)}};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Te}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"schoolName",placeholder:Pe==="Other"?"School selection not available for custom locality":Pe?"Search by school name or code...":"Please select a city first",value:it,onChange:ke=>Oe(ke.target.value),onFocus:()=>Ie&&P(!1),disabled:!Ie||!Pe||Pe==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Ie?"border-[#1E395D]":"border-gray-300 bg-gray-50"} ${!Pe||Pe==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),!Ie&&s.jsx("button",{onClick:()=>Mt(_e,Re),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),!G&&Pe&&Pe!=="Other"&&Ee.length>0&&Ie&&s.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[Ee.map((ke,Ft)=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>be(ke),children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:ke.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",ke.code]}),ke.area&&ke.area.name!=="-"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ke.area.name}),ke.locality.name&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ke.locality.name})]},`${ke.code}-${Ft}`)),s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>be({id:"UNLISTED",name:"Unlisted / Not in the list / Other"}),children:s.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),Ee.length===0&&oe&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',oe,'"']})]}),Ie&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Ht,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),Ie&&Pe==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),s.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:z,onChange:ke=>_t(ke.target.value),className:"w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 border-gray-300"}),!z.trim()&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:'Custom school name is required when "Other" locality is selected'})]})]})},Zs=(Te,_e,Re)=>{const Ie=x===_e,it=Ie?w:Re,Oe=ke=>{/[^0-9\s]/.test(ke)&&U.error("Only numbers and spaces are allowed in phone number");const We=ke.replace(/[^0-9\s]/g,"");ut(_e,We);const is=Kt(We,Y);ze(is)},be=ke=>{if(we(ke),I(!1),le){const Ft=Kt(le,ke);ze(Ft)}};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Te}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-[400px] flex border rounded-lg bg-white",children:[s.jsxs("div",{className:`flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50 ${Ie?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>Ie&&I(!F),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:Y}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:it,onChange:ke=>Oe(ke.target.value),disabled:!Ie,className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Ie?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`})]}),F&&Ie&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Qt.map(ke=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>be(ke.code),children:[s.jsx("span",{className:"text-lg mr-3",children:ke.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:ke.code}),s.jsx("span",{className:"text-sm text-gray-800",children:ke.country})]},ke.code))}),!Ie&&s.jsx("button",{onClick:()=>Mt(_e,Re),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),Ie&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Ht,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]})]})},hs=(Te,_e,Re,Ie="text")=>{const it=x===_e,Oe=it?w:Re,be=_e==="year_of_work_experience",ke=be?"number":Ie,Ft=be?"numeric":void 0,We=be?"[0-9]*":void 0;return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:Te}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:ke,inputMode:Ft,pattern:We,value:Oe,onChange:is=>{if(be){/[^0-9]/.test(is.target.value)&&U.error("Only numbers are allowed in this field");const to=is.target.value.replace(/[^0-9]/g,"");ut(_e,to)}else ut(_e,is.target.value)},disabled:!it,style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:`border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500 w-full px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${it?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Te.toLowerCase()}`}),!it&&s.jsx("button",{onClick:()=>Mt(_e,Re),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),it&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Ht,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),q[_e]&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:q[_e]})]})},la=(Te,_e,Re)=>{const Ie=x===_e,it=K,Oe=Re,be=()=>n==="student"&&typeof os=="object"&&it?os[it]||[]:[],ke=We=>{ut("grade",We)},Ft=We=>{ut("gradeType",We),ut("grade","")};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Te}),s.jsxs("div",{className:`w-[400px] relative border rounded-lg p-4 mb-4 ${Ie?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,children:[s.jsx("div",{className:"flex gap-4 bg-white",children:["grade","year","programme","other"].map(We=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"gradeType",value:We,checked:it===We,onChange:()=>Ft(We),disabled:!Ie,className:"mr-3 w-5 h-5 text-[#1E395D] focus:ring-[#1E395D]"}),s.jsx("span",{className:`text-sm capitalize ${it===We?"text-black":"text-gray-500"}`,children:We})]},We))}),!Ie&&s.jsx("button",{onClick:()=>Mt(_e,Re),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"-1.25rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),Ie&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"-1.6rem"},children:s.jsx("button",{onClick:Ht,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),s.jsx("div",{className:"relative",children:s.jsxs("select",{name:"grade",value:Oe,onChange:We=>ke(We.target.value),disabled:!Ie||!it,className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${!Ie||!it?"bg-gray-100 cursor-not-allowed":"border-gray-300"}`,children:[s.jsxs("option",{value:"",children:["Select ",it||"option"]}),be().map(We=>s.jsx("option",{value:We.value,children:We.label},We.value))]})})]})},Ra=async()=>{console.log(n);try{if(Pe==="Other"){if(!M.trim()){U.error("Please enter a custom locality name");return}if(!z.trim()){U.error("Please enter a custom school name");return}}const _e=localStorage.getItem("userAvatar")||void 0;let Re;Pe==="Other"?n==="student"?Re=await Lp(se,ee,ie,Ne,M,z,je,le,pe):Re=await Op(se,ee,ie,Ne,M,z,xe,le,Ce,_e,pe):Re=n==="student"?await aw(se,ee,ie,Ne,fe,je,xe,le,Ce,_e,pe):await nw(se,ee,ie,Ne,fe,xe,le,Ce,_e,pe),Re.success?(U.success(Re.message),J(""),E("")):U.error("Failed to update profile: "+Re.message)}catch(Te){U.error("Failed to update profile: "+Te.data.message)}};return s.jsxs(js,{loadingText:"Loading Profile...",children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{}),s.jsxs("div",{className:"mx-auto py-8",style:{maxWidth:"65rem"},children:[s.jsxs("div",{className:"text-left mb-8",children:[s.jsxs("div",{className:"relative inline-block",children:[$e?s.jsx("div",{className:"w-32 h-32 border-4 border-white shadow-lg rounded-full flex items-center justify-center bg-gray-100",children:s.jsx(kr,{size:"large",text:"Uploading..."})}):s.jsx(Jl,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0}),s.jsx("button",{onClick:()=>!$e&&l.current?.click(),disabled:$e,className:`absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${$e?"bg-gray-300 cursor-not-allowed opacity-50":"hover:bg-gray-300"}`,style:{right:"-1.5rem",bottom:"-0.5rem"},children:s.jsx("img",{src:Hs,alt:"Edit Avatar",className:"w-4 h-4"})}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:Ar,disabled:$e,className:"hidden"})]}),s.jsxs("h1",{className:"font-bold text-gray-900 mt-4",style:{fontSize:"30px"},children:[n==="student"?"Student":"Teacher"," Profile"]})]}),s.jsxs("div",{className:"rounded-lg shadow-sm p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Username"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:p.username,disabled:!0,style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Username is system generated"})]}),St("Name","fullname",se),hs("Date of Birth","birthday",ie,"date"),Nt("Gender","gender",Ne),at("Locality of School ","school_location",Pe,m,W,$),Rt("School Name","school_name",Ze),n==="student"?la("Grade or Year or Programme","grade",je):hs("Years of Work Experience","year_of_work_experience",xe,"number"),hs("Email","email",Ce,"email"),Zs("Mobile","phone_number",le),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Change Password"}),D?s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"password",placeholder:"New password",value:N,onChange:Te=>A(Te.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"}),s.jsx("input",{type:"password",placeholder:"Confirm new password",value:_,onChange:Te=>T(Te.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:or,className:"px-4 py-2 bg-[#D9C7A1] text-white rounded-lg text-sm hover:bg-[#C2A46D] transition-colors",children:"Save Password"}),s.jsx("button",{onClick:()=>{L(!1),A(""),T("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-400 transition-colors",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>L(!0),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500",children:"Click to change password"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("button",{onClick:Dr,className:"mb-2 underline cursor-pointer",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Delete Account"})}),s.jsx("div",{className:"flex justify-left",children:s.jsx("button",{onClick:()=>{Ra()},className:`text-white bg-[#D9C7A1] font-medium transition-all ${N?"hover:bg-[#C2A46D]":"bg-[#D9C7A1]  hover:bg-[#C2A46D]"}`,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px"},children:"Save"})})]})]})]}),s.jsx(na,{isOpen:mt,onClose:Ct,onConfirm:jt,title:"Confirm Delete",message:"Deleting your account will remove all information. This cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},M4=()=>{const n={username:"@samm1234",name:"Sam Morgan Lee",dateOfBirth:"2008-10-05",gender:"male",locality:"DU",schoolName:"Oasis World School",gradeOrYear:"IB DP 2",email:"samlee@gmail.com",mobile:"+971 50 6362040"};return s.jsx(eh,{userType:"student",initialData:n})},U4=()=>{const n={username:"@teach4567",name:"Dr. Sarah Johnson",dateOfBirth:"1985-03-15",gender:"female",locality:"DU",schoolName:"Oasis World School",gradeOrYear:"Head of Department",email:"sarah.johnson@oasis.edu",mobile:"+971 50 1234567"};return s.jsx(eh,{userType:"teacher",initialData:n})},B4=()=>{const n=Tt();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(ts,{showNavigation:!1}),s.jsx("div",{className:"flex items-center justify-center flex-1",style:{height:"80vh"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-black text-center text-4xl font-medium leading-[150%] mb-8",children:"Your Student Profile is created."}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>{n("/home")},className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/student-profile-page"),className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})]})})]})},z4=()=>{const n=Tt();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(ts,{}),s.jsx("div",{className:"flex items-center justify-center flex-1",style:{height:"80vh"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-black text-center text-4xl font-medium leading-[150%] mb-8",children:"Your Teacher Profile is created."}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>{n("/home")},className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/teacher-profile-page"),className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})]})})]})},th="http://localhost:1000",$4=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${th}/api/v1/registerations/get-registrations/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},H4=async(n,r,l)=>{try{const o=localStorage.getItem("token"),c=localStorage.getItem("userId");return(await Ae.post(`${th}/api/v1/registerations/event-registration-teacher/${c}`,{eventId:n,foodPreference:r,foodAllergies:l},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},F4=async(n,r,l,o,c,d)=>{try{const h=localStorage.getItem("token"),m=localStorage.getItem("userId");return(await Ae.post(`${th}/api/v1/registerations/event-registration-student/${m}`,{munExperience:n,preferredCommittee1:r,foodPreference:l,foodAllergies:o,emergencyContactName:c,emergencyMobileNumber:d},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}})).data}catch(h){throw new Error(h.response.data.message)}},P4=()=>{const n=Tt(),r=b.useRef(null),{allLocalities:l}=qt(),[o,c]=b.useState("personal"),[d,h]=b.useState(""),[m,p]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(""),[C,N]=b.useState(""),[A,_]=b.useState(""),[T,D]=b.useState(""),[L,W]=b.useState(""),[$,F]=b.useState(""),[I,de]=b.useState(""),[ne,ve]=b.useState(""),[Ee,ye]=b.useState(""),[G,P]=b.useState(""),[oe,j]=b.useState(""),[M,J]=b.useState(""),[z,E]=b.useState(""),[q,se]=b.useState(""),[k,ee]=b.useState("UAE"),[he,ie]=b.useState(""),[De,Ne]=b.useState(!1),He=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],Pe=O=>{ee(O),Ne(!1)};b.useEffect(()=>{(async()=>{try{const xe=await Da();xe.success?(h(xe.data.username||""),p(xe.data.fullname||""),x(xe.data.birthday||""),w(xe.data.gender||""),_(xe.data.school.name||""),D(xe.data.school.locality_id||""),W(xe.data.grade||""),F(xe.data.email||""),de(xe.data.phone_number||"")):U.error("Failed to get user by id: "+xe.message)}catch(xe){U.error("Failed to get user by id: "+xe.message)}})()},[]),b.useEffect(()=>{if(l&&l.length>0&&T){const O=l.find(xe=>{const X=String(xe.id||"").toLowerCase(),le=String(T||"").toLowerCase();return X===le});N(O&&O.name||"")}},[l,T]),b.useEffect(()=>{const O=xe=>{r.current&&!r.current.contains(xe.target)&&Ne(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const Me=[{id:"personal",name:"Personal Info",active:o==="personal"},{id:"mun",name:"MUN Info",active:o==="mun"},{id:"food",name:"Food Info",active:o==="food"},{id:"emergency",name:"Emergency Info",active:o==="emergency"}],Ze=()=>{switch(o){case"personal":c("mun");break;case"mun":c("food");break;case"food":c("emergency");break;case"emergency":K();break}},lt=()=>s.jsx("div",{className:"flex items-center justify-left mb-8",children:Me.map((O,xe)=>s.jsxs(Se.Fragment,{children:[s.jsx("div",{onClick:()=>c(O.id),style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px",background:O.active?"#395579":"#fff",border:"1px solid #000"},className:`text-sm font-medium transition-colors ${O.active?"text-white":"text-gray-700"}`,children:O.name}),xe<Me.length-1&&s.jsx("div",{className:"mx-2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},O.id))}),fe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"MUN Experience in Years"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("input",{type:"text",value:ne,onChange:O=>ve(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. 5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 1"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Ee,onChange:O=>ye(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"UNSC",children:"UN Security Council"}),s.jsx("option",{value:"UNGA",children:"UN General Assembly"}),s.jsx("option",{value:"ECOSOC",children:"Economic and Social Council"}),s.jsx("option",{value:"UNHRC",children:"UN Human Rights Council"}),s.jsx("option",{value:"UNEP",children:"UN Environment Programme"})]}),s.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 2"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:G,onChange:O=>P(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"UNSC",children:"UN Security Council"}),s.jsx("option",{value:"UNGA",children:"UN General Assembly"}),s.jsx("option",{value:"ECOSOC",children:"Economic and Social Council"}),s.jsx("option",{value:"UNHRC",children:"UN Human Rights Council"}),s.jsx("option",{value:"UNEP",children:"UN Environment Programme"})]}),s.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 3"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:oe,onChange:O=>j(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"UNSC",children:"UN Security Council"}),s.jsx("option",{value:"UNGA",children:"UN General Assembly"}),s.jsx("option",{value:"ECOSOC",children:"Economic and Social Council"}),s.jsx("option",{value:"UNHRC",children:"UN Human Rights Council"}),s.jsx("option",{value:"UNEP",children:"UN Environment Programme"})]}),s.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})]}),me=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Preference"}),s.jsx("div",{className:"flex space-x-4",children:["Vegetarian","Non-Vegetarian"].map(O=>s.jsx("button",{onClick:()=>J(O),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${M===O?"bg-[#C2A46D] text-white":"text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:O},O))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Allergies"}),s.jsx("input",{type:"text",value:z,onChange:O=>E(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Peanut"})]})]}),je=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Emergency Contact Name"}),s.jsx("input",{type:"text",value:q,onChange:O=>se(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Alice Lee"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Emergency Mobile Number"}),s.jsxs("div",{className:"relative w-[400px]",ref:r,children:[s.jsxs("div",{className:"flex border border-gray-300 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center px-4 py-3 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>Ne(!De),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:k}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",placeholder:"50 650 5005",value:he,onChange:O=>{/[^0-9\s]/.test(O.target.value)&&U.error("Only numbers and spaces are allowed in phone number");const X=O.target.value.replace(/[^0-9\s]/g,"");ie(X)},className:"flex-1 px-4 py-3 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200"})]}),De&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:He.map(O=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>Pe(O.code),children:[s.jsx("span",{className:"text-lg mr-3",children:O.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:O.code}),s.jsx("span",{className:"text-sm text-gray-800",children:O.country})]},O.code))})]})]})]}),Le=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left mb-8",children:s.jsx("div",{className:"relative",children:s.jsx(Jl,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Username"}),s.jsx("input",{type:"text",disabled:!0,value:d,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter username"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username is system generated"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:m||"",onChange:O=>p(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter your name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:g,onChange:O=>x(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter date of birth"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),s.jsx("div",{className:"flex space-x-4",children:["male","female","other"].map(O=>s.jsx("button",{onClick:()=>w(O),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y===O?"bg-[#C2A46D] text-white":" text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:O},O))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Place of School"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:C,onChange:O=>N(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter place of school"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:A,onChange:O=>_(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter school name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade or Year"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:L||"",onChange:O=>W(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter grade or year"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"email",disabled:!0,value:$||"",onChange:O=>F(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter email address"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"tel",disabled:!0,value:I||"",onChange:O=>de(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter mobile number"})})]})]})]}),K=async()=>{try{const O=await F4(ne,Ee,M,z,q,he);O.success?(U.success("Registration completed successfully!"),n("/teacher-registration-success")):U.error("Failed to register for event: "+O.message)}catch(O){U.error("Failed to register for event: "+O.message)}};return s.jsx(js,{loadingText:"Loading Registration...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"mb-6",style:{color:"#000",fontSize:"18px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Review Info"}),lt()]}),s.jsxs("div",{className:"max-w-2xl",children:[o==="personal"&&Le(),o==="mun"&&fe(),o==="food"&&me(),o==="emergency"&&je()]}),s.jsx("div",{className:"flex justify-left mt-8",children:s.jsx("button",{onClick:Ze,className:"font-medium text-white transition-all hover:opacity-90",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"160px",height:"50px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"16px"},children:"Continue"})})]})]})})},I4=()=>{const n=Tt();return s.jsx(js,{loadingText:"Loading Success Page...",children:s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(ts,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"You are registered to GMA MUN 2025"})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/event-create"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event"]})]})]})]})})},qg="data:image/svg+xml,%3csvg%20width='30'%20height='26'%20viewBox='0%200%2030%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.5525%2016.5036C29.3126%2016.5036%2029.1226%2016.6919%2029.1226%2016.9334V21.0206C29.1226%2023.0297%2027.4919%2024.6443%2025.499%2024.6443L4.48329%2024.6427C2.47428%2024.6427%200.859651%2023.012%200.859651%2021.019V16.9318C0.859651%2016.6919%200.671307%2016.502%200.429825%2016.502C0.189968%2016.502%200%2016.6903%200%2016.9318V21.019C0%2023.4917%202.00901%2025.5007%204.48164%2025.5007H25.4813C27.9539%2025.5007%2029.9629%2023.4917%2029.9629%2021.019V16.9318C29.9822%2016.6919%2029.7939%2016.5036%2029.5525%2016.5036Z'%20fill='black'/%3e%3cpath%20d='M14.9916%200.5C14.7517%200.5%2014.5617%200.688345%2014.5617%200.929826V16.7266L10.1493%2012.0389C9.97707%2011.8667%209.71949%2011.8506%209.54888%2012.0212C9.37663%2012.1758%209.36054%2012.4511%209.53117%2012.6217L14.6825%2018.0998C14.7678%2018.1851%2014.8708%2018.2366%2014.9916%2018.2366C15.1123%2018.2366%2015.2153%2018.1851%2015.3006%2018.0998L20.452%2012.6217C20.6065%2012.4494%2020.6065%2012.1758%2020.4343%2012.0212C20.262%2011.8667%2019.9884%2011.8667%2019.8338%2012.0389L15.4214%2016.7266V0.929826C15.4214%200.706065%2015.2314%200.5%2014.9916%200.5Z'%20fill='black'/%3e%3c/svg%3e",q4=()=>{const{eventId:n}=ql(),[r,l]=b.useState("Event Info"),[o,c]=b.useState(""),[d,h]=b.useState(""),[m,p]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(""),[C,N]=b.useState(""),[A,_]=b.useState(""),[T,D]=b.useState(""),[L,W]=b.useState(""),[$,F]=b.useState([]),[I,de]=b.useState({committee:"",country:"",generalDocuments:[],committeeDocuments:[]}),[ne,ve]=b.useState({registrationNo:"",username:"",name:"",dateOfBirth:"",gender:"",schoolName:"",localityOfSchool:"",gradeOrYear:"",email:"",mobileNumber:"",munExperience:"",preferredCommittee1:"",preferredCommittee2:"",preferredCommittee3:"",foodPreference:"vegetarian",foodAllergies:"",emergencyContactName:"",emergencyMobileNumber:""}),[Ee,ye]=b.useState(!1),G=["Event Info","Support Contact","Participation Info","Registration Info"];b.useEffect(()=>{(async()=>{try{const E=await zp(n||"");E.success?(c(E.data[0].name),h(E.data[0].description),p(E.data[0].start_date),x(E.data[0].end_date),w(E.data[0].locality),N(E.data[0].fees_per_delegate),_(E.data[0].website),D(E.data[0].instagram),W(E.data[0].cover_image)):U.error("Failed to get event by id: "+E.message)}catch(E){U.error("Failed to get event by id: "+E.message)}})()},[n]),b.useEffect(()=>{(async()=>{try{F([{abbr:"DA",role:"Head of Delegate Affairs",username:"@iman1234",name:"Iman Praveesh Hassan",mobile:"971 506505125",email:"imanphassan@gmail.com"}])}catch{console.log("Support contact API not available, using placeholder data"),F([{abbr:"DA",role:"Head of Delegate Affairs",username:"@iman1234",name:"Iman Praveesh Hassan",mobile:"971 506505125",email:"imanphassan@gmail.com"}])}})()},[n]),b.useEffect(()=>{(async()=>{try{de({committee:"",country:"",generalDocuments:[],committeeDocuments:[]})}catch{console.log("Participation info API not available, using placeholder data"),de({committee:"UNGA - United Nations General Assembly",country:"Australia",generalDocuments:[{name:"MUN Handbook",url:"#"}],committeeDocuments:[{name:"UNGA_Agenda",url:"#"},{name:"UNGA_Resolutions",url:"#"}]})}})()},[n]),b.useEffect(()=>{(async()=>{try{ve({registrationNo:"",username:"",name:"",dateOfBirth:"",gender:"",schoolName:"",localityOfSchool:"",gradeOrYear:"",email:"",mobileNumber:"",munExperience:"",preferredCommittee1:"",preferredCommittee2:"",preferredCommittee3:"",foodPreference:"vegetarian",foodAllergies:"",emergencyContactName:"",emergencyMobileNumber:""})}catch{ve({registrationNo:"223344",username:"@sommt234",name:"Sam Morgen Lee",dateOfBirth:"5 Oct 2008",gender:"Male",schoolName:"Oasis World School",localityOfSchool:"Dubai",gradeOrYear:"IB DP 2",email:"somlee@gmail.com",mobileNumber:"+971 50 6382040",munExperience:"5",preferredCommittee1:"UNSC - United Nations Security Council",preferredCommittee2:"UNGA - United Nations General Assembly",preferredCommittee3:"WHO - World Health Organization",foodPreference:"vegetarian",foodAllergies:"Peanut",emergencyContactName:"Jim Morgan",emergencyMobileNumber:"+971 655 3131"})}})()},[n]);const P=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"w-[400px]",children:s.jsx("img",{src:L,alt:"Event",className:"w-[400px] h-64 object-cover rounded-lg"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Name"}),s.jsx("input",{type:"text",value:o,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Description"}),s.jsx("textarea",{value:d,readOnly:!0,rows:6,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700 resize-none"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"text",value:m+" - "+g,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Locality"}),s.jsx("input",{type:"text",value:y,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Fees"}),s.jsx("input",{type:"text",value:C,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"text",value:A,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Instagram"}),s.jsx("input",{type:"text",value:T,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]})]}),oe=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex gap-4 mb-4 ",children:[s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"80px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"ABBR"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Role"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"140px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Username"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Name"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"120px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Mobile"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"220px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Email"})})]}),$.length>0?$.map((z,E)=>s.jsxs("div",{className:"flex gap-4 mb-3",children:[s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"80px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.abbr})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"200px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.role})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"140px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.username})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"200px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.name})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"120px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.mobile})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"220px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.email})})]},E)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Support Contacts"}),s.jsx("p",{className:"text-gray-500",children:"Contact information will be displayed here when available."})]})]})}),j=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Committee"}),s.jsx("input",{type:"text",value:I.committee,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Country"}),s.jsx("input",{type:"text",value:I.country,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Documents"}),s.jsx("div",{className:"flex items-start gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"General"}),s.jsx("div",{className:"space-y-3",children:I.generalDocuments.map((z,E)=>s.jsxs("div",{className:"w-[400px] w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[s.jsx("span",{className:"text-sm text-gray-900",children:z.name}),s.jsx("button",{onClick:()=>window.open(z.url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx("img",{src:qg,alt:"Download",className:"w-4 h-4"})})]},E))})]})}),s.jsx("div",{className:"flex items-start gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Committee Related"}),s.jsx("div",{className:"space-y-3",children:I.committeeDocuments.map((z,E)=>s.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[s.jsx("span",{className:"text-sm text-gray-900",children:z.name}),s.jsx("button",{onClick:()=>window.open(z.url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx("img",{src:qg,alt:"Download",className:"w-4 h-4"})})]},E))})]})})]})]}),M=()=>s.jsx("div",{className:"flex gap-8",children:s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:s.jsx("div",{style:{width:"160px",height:"160px"},children:s.jsx(Jl,{size:"large",className:"w-[160px] h-[160px]"})})}),s.jsxs("div",{className:"w-[400px] gap-6",style:{display:"flex",flexDirection:"column",gap:"15px"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Registration No."}),s.jsx("input",{type:"text",value:ne.registrationNo,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:ne.username,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Name"}),s.jsx("input",{type:"text",value:ne.name,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"text",value:ne.dateOfBirth,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Gender"}),s.jsx("input",{type:"text",value:ne.gender,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"School Name"}),s.jsx("input",{type:"text",value:ne.schoolName,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Locality of School"}),s.jsx("input",{type:"text",value:ne.localityOfSchool,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Grade or Year"}),s.jsx("input",{type:"text",value:ne.gradeOrYear,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"text",value:ne.email,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mobile Number"}),s.jsx("input",{type:"text",value:ne.mobileNumber,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"MUN Experience in Years"}),s.jsx("input",{type:"text",value:ne.munExperience,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 1"}),s.jsx("input",{type:"text",value:ne.preferredCommittee1,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 2"}),s.jsx("input",{type:"text",value:ne.preferredCommittee2,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 3"}),s.jsx("input",{type:"text",value:ne.preferredCommittee3,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Preference"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${ne.foodPreference==="vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Vegetarian"}),s.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${ne.foodPreference==="non-vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Non-Vegetarian"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Allergies"}),s.jsx("input",{type:"text",value:ne.foodAllergies,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",value:ne.emergencyContactName,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Emergency Mobile Number"}),s.jsx("input",{type:"text",value:ne.emergencyMobileNumber,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]}),s.jsxs("div",{className:"mt-8 relative",children:[s.jsx("button",{onClick:()=>ye(!Ee),className:"bg-[#D9C7A1] text-gray-900 px-6 py-3 rounded-full font-medium hover:bg-[#C5B595] transition-colors",children:"Cancel Registration"}),Ee&&s.jsxs("div",{className:"absolute top-12 left-0 bg-white border border-gray-800 rounded-lg p-4 shadow-lg z-50",children:[s.jsx("div",{className:"mb-3",children:s.jsx("h4",{className:"font-medium text-gray-900",children:"Confirm Cancel"})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{ye(!1),U.success("Registration cancelled successfully")},className:"text-red-600 font-medium hover:text-red-800 transition-colors",children:"Yes"}),s.jsx("button",{onClick:()=>ye(!1),className:"text-gray-900 font-medium hover:text-gray-700 transition-colors",children:"No"})]})]})]})]})}),J=()=>{switch(r){case"Event Info":return P();case"Support Contact":return oe();case"Participation Info":return j();case"Registration Info":return M();default:return P()}};return s.jsx(js,{loadingText:"Loading Delegate Page...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{}),s.jsxs("div",{className:"max-w-[80rem] px-6 py-8 flex flex-col items-left",style:{marginLeft:"13rem"},children:[s.jsx("div",{className:"flex items-center space-x-2 mb-8",children:G.map((z,E)=>s.jsxs(Se.Fragment,{children:[s.jsx("button",{className:`flex items-center border border-gray-800 justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${r===z?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>l(z),children:z}),E<G.length-1&&s.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},z))}),s.jsx("div",{className:"",children:s.jsx("div",{children:J()})})]})]})})},Y4=()=>{const n=Tt(),{eventId:r}=ql(),{allLocalities:l}=qt(),[o,c]=b.useState("personal"),[d,h]=b.useState(""),[m,p]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(""),[C,N]=b.useState(""),[A,_]=b.useState(""),[T,D]=b.useState(""),[L,W]=b.useState(""),[$,F]=b.useState(""),[I,de]=b.useState(""),[ne,ve]=b.useState(""),[Ee,ye]=b.useState("");b.useEffect(()=>{(async()=>{try{const E=await Da();E.success?(h(E.data.username||""),p(E.data.fullname||""),x(E.data.birthday||""),w(E.data.gender||""),_(E.data.school.name||""),D(E.data.school.locality_id||""),W(E.data.years_of_experience||""),F(E.data.email||""),de(E.data.phone_number||"")):U.error("Failed to get user by id: "+E.message)}catch(E){U.error("Failed to get user by id: "+E.message)}})()},[]),b.useEffect(()=>{if(l&&l.length>0&&T){const z=l.find(E=>{const q=String(E.id||"").toLowerCase(),se=String(T||"").toLowerCase();return q===se});N(z&&z.name||"")}},[l,T]);const G=[{id:"personal",name:"Personal Info",active:o==="personal"},{id:"food",name:"Food Info",active:o==="food"}],P=()=>{switch(o){case"personal":c("food");break;case"food":J();break}},oe=()=>s.jsx("div",{className:"flex items-center justify-left mb-8",children:G.map((z,E)=>s.jsxs(Se.Fragment,{children:[s.jsx("div",{onClick:()=>c(z.id),style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px",background:z.active?"#395579":"#fff",border:"1px solid #000"},className:`text-sm font-medium transition-colors ${z.active?"text-white":"text-gray-700"}`,children:z.name}),E<G.length-1&&s.jsx("div",{className:"mx-2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},z.id))}),j=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Preference"}),s.jsx("div",{className:"flex space-x-4",children:["Vegetarian","Non-Vegetarian"].map(z=>s.jsx("button",{onClick:()=>ve(z),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ne===z?"bg-[#C2A46D] text-white":"text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Allergies"}),s.jsx("input",{type:"text",value:Ee,onChange:z=>ye(z.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Peanut"})]})]}),M=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left mb-8",children:s.jsx("div",{className:"relative",children:s.jsx(Jl,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Username"}),s.jsx("input",{type:"text",value:d,disabled:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter username"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username is system generated"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:m,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter your name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Date of Birth"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:g,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter date of birth"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Gender"}),s.jsx("div",{className:"flex space-x-4",children:["male","female","other"].map(z=>s.jsx("button",{disabled:!0,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y.toLowerCase()===z.toLowerCase()?"bg-[#C2A46D] text-white":" text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Place of School"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:C,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter place of school"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:A,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter school name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Years of Work Experience"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:L,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter years of work experience"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Email"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"email",disabled:!0,value:$,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter email address"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Mobile"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"tel",disabled:!0,value:I,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter mobile number"})})]})]})]}),J=async()=>{try{const z=await H4(r,ne,Ee);z.success?(U.success("Registration completed successfully!"),n("/teacher-registration-success")):U.error("Failed to register for event: "+z.message)}catch(z){U.error("Failed to register for event: "+z.message)}};return s.jsx(js,{loadingText:"Loading Teacher Registration...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"mb-6",style:{color:"#000",fontSize:"18px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Review Info"}),oe()]}),s.jsxs("div",{className:"max-w-2xl",children:[o==="personal"&&M(),o==="food"&&j()]}),s.jsx("div",{className:"flex justify-left mt-8",children:s.jsx("button",{onClick:P,className:"font-medium text-white transition-all hover:opacity-90",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"160px",height:"50px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"16px"},children:"Continue"})})]})]})})},G4=()=>{const n=Tt();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(ts,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"You are registered to GMA MUN 2025"})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/event-create"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event"]})]})]})]})},V4=({eventName:n,eventStartDate:r,eventEndDate:l,locality:o,area:c,feesPerDelegate:d,numberOfSeats:h,totalRevenue:m})=>n?s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Event"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px]  w-full",children:n})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Date"}),s.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:[r," - ",l]})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Locality"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:o})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Area"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:c||"N/A"})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Fees"}),s.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:["AED ",d]})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Delegates"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:h||"0"})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Total Revenue"}),s.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:["AED ",m||"0"]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Allocation Summary"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-[800px] border border-gray-800 w-[570px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#607DA3] text-white ",children:[s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[19%]"}),s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Count"}),s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Seats"}),s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Allocated"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-800",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Total"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"13"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"360"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"202"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3  text-center font-medium border border-gray-800",children:"Country Committees"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"5"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"150"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"100"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3  text-center font-medium border border-gray-800",children:"Crisis Committees"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"4"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"120"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"35"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Role Committees"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"3"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"90"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"67"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Open Committees"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"})]})]})]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Allocation Status"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"grid grid-cols-5 gap-2 w-[840px]",children:[s.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[s.jsx("span",{children:"Committee Type"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[s.jsx("span",{children:"Committees"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:s.jsx("span",{children:"Seats Total"})}),s.jsx("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:s.jsx("span",{children:"Seats Assigned"})}),s.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Country"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"WHO"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:s.jsx("span",{className:"text-red-600 font-medium",children:"Full"})}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Country"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"UNGA"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"25"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:s.jsx("span",{className:"text-orange-600 font-medium",children:"Filling"})}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Crisis"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"CMC"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"10"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:s.jsx("span",{className:"text-green-600 font-medium",children:"Open"})})]})})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events available"}),s.jsx("p",{className:"text-gray-500",children:"Please create an event to view the dashboard."})]}),W4=({eventName:n,coverImage:r,eventDescription:l,eventStartDate:o,eventEndDate:c,school:d,locality:h,numberOfSeats:m,feesPerDelegate:p,totalRevenue:g,website:x,instagram:y,isUploadingCoverImage:w,editingField:C,tempValue:N,showDatePicker:A,onFieldEdit:_,onFieldChange:T,onCancelEdit:D,onCoverImageUpload:L,onDateRangeChange:W,onDatePickerToggle:$,onDatePickerClose:F,onUpdateEvent:I,isSaving:de})=>{const ne=b.useRef(null),ve=(ye,G,P,oe="text",j,M=!0)=>{const J=C===G,z=J?N:P;return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:ye}),s.jsxs("div",{className:"relative",children:[oe==="textarea"?s.jsx("textarea",{value:z,disabled:!J,onChange:E=>T(G,E.target.value),rows:j||4,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${J?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${ye.toLowerCase()}`}):s.jsx("input",{type:oe,value:z,disabled:!J,onChange:E=>T(G,E.target.value),className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${J?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${ye.toLowerCase()}`}),!J&&M&&s.jsx("button",{onClick:()=>_(G,P),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"43.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),J&&M&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"43rem"},children:s.jsx("button",{onClick:D,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]})]})},Ee=(ye,G)=>{const P=C===G;return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:ye}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{onClick:()=>P&&$(),className:`w-[400px] px-4 py-3 border rounded-lg transition-colors ${P?"border-[#1E395D] cursor-pointer hover:border-[#1E395D]":"border-gray-300 bg-gray-50 cursor-not-allowed"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Start Date"}),s.jsx("span",{className:"text-sm font-medium",children:o?new Date(o).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]}),s.jsx("div",{className:"text-gray-400",children:"to"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),s.jsx("span",{className:"text-sm font-medium",children:c?new Date(c).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]})]}),s.jsx("div",{className:"text-gray-400",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),A&&P&&s.jsx("div",{className:"absolute top-full left-0 z-50 mt-1",children:s.jsx(dx,{startDate:o,endDate:c,onDateRangeChange:W,onClose:F,maxDays:7})}),!P&&s.jsx("button",{onClick:()=>_(G,`${o} - ${c}`),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"43.75rem"},children:s.jsx("img",{src:Hs,alt:"Edit",className:"w-4 h-4"})}),P&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"43rem"},children:s.jsx("button",{onClick:D,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:P?"Click on the date field to open calendar":"Select the start and end dates for your event"})]})};return n?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Image"})}),s.jsxs("div",{className:"relative inline-block",children:[w?s.jsx("div",{className:"w-[400px] h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(kr,{size:"large",text:"Uploading..."})}):s.jsx("div",{className:"w-[400px] h-64 bg-gray-200 rounded-lg overflow-hidden",children:s.jsx("img",{src:r||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",alt:n,className:"w-[400px] h-full object-cover"})}),s.jsx("button",{onClick:()=>!w&&ne.current?.click(),disabled:w,className:`absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${w?"bg-gray-300 cursor-not-allowed opacity-50":"hover:bg-gray-300"}`,style:{right:"-1.5rem",bottom:"-0.5rem"},children:s.jsx("img",{src:Hs,alt:"Edit Cover Image",className:"w-4 h-4"})}),s.jsx("input",{ref:ne,type:"file",accept:"image/*",onChange:L,disabled:w,className:"hidden"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Event Information"}),s.jsxs("div",{className:"flex flex-col gap-6",children:[ve("Event Name","name",n||""),ve("Event Description","description",l||"","textarea",4),Ee("Date","date"),ve("School","school_name",d||"","text",void 0,!1),ve("Locality","locality",h||"","text",void 0,!1),ve("Seats","number_of_seats",m||""),ve("Fees","fees_per_delegate",p||""),s.jsxs("div",{className:"w-[400px] flex justify-between items-center py-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Revenue"}),s.jsxs("div",{className:"text-lg text-gray-800 font-medium",children:["AED ",g||"0"]})]}),ve("Website","website",x||""),ve("Instagram","instagram",y||"")]}),s.jsx("div",{className:"mt-8 flex justify-start",children:s.jsx("button",{onClick:I,disabled:de,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:de?"#bdbdbd":"#C2A46D",cursor:de?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:de?"Saving...":"Save"})})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No event selected"}),s.jsx("p",{className:"text-gray-500",children:"Please select an event to view details."})]})},eo="http://localhost:1000",K4=async(n,r,l)=>{try{const o=localStorage.getItem("token");return(await Ae.post(`${eo}/api/v1/event-leaders/save-leadership-role-by-event`,{eventId:n,userId:r,roleId:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to save leadership role by event id")}},Ol=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${eo}/api/v1/event-leaders/get-leadership-roles-by-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch leadership roles by event id")}},Q4=async(n,r,l,o)=>{try{const c=localStorage.getItem("token");return(await Ae.patch(`${eo}/api/v1/event-leaders/update-leadership-role-by-event/${n}`,{eventId:r,roleId:l,userId:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to update leadership role by event id")}},X4=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${eo}/api/v1/event-leaders/delete-leadership-role-by-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete leadership role by event id")}},Z4=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${eo}/api/v1/event-leaders/update-leadership-role-ranking-by-event/${n}`,{direction:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to update leadership role ranking by event id")}},J4=()=>{const{eventId:n}=ql(),{allLeadershipRoles:r}=qt(),[l,o]=b.useState([]),[c,d]=b.useState(!0),[h,m]=b.useState(null),[p,g]=b.useState(!1),[x,y]=b.useState(null),[w,C]=b.useState({abbr:"",role:"",username:"",name:"",selectedUserId:""}),[N,A]=b.useState({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""}),_=b.useRef({}),[T,D]=b.useState(!1),[L,W]=b.useState([]),[$,F]=b.useState([]),I=b.useRef(null),[de,ne]=b.useState(!1),[ve,Ee]=b.useState([]),ye=b.useRef(null),[G,P]=b.useState(!1),[oe,j]=b.useState(null),[M,J]=b.useState(new Set),z=fe=>{m(h===fe?null:fe)};b.useEffect(()=>{(async()=>{if(n){d(!0);try{const me=await Ol(n);if(me.success){const K=(me.data||[]).sort((O,xe)=>{const X=O.ranking??0,le=xe.ranking??0;return X-le});o(K)}const je=await $4(n);je.success&&F(je.data)}catch(me){console.error("Error fetching data:",me),U.error("Failed to load leadership roles data")}finally{d(!1)}}})()},[n]);const E=(fe,me)=>{if(fe==="edit"){const je=l.find(Le=>Le.id===me);je&&(A({abbr:je.leadership_roles?.abbr||"",role:je.leadership_roles?.leadership_role||"",username:je.users?.username||"",name:je.users?.fullname||"",selectedUserId:je.users?.id?.toString()||"",id:je.id.toString()}),y(me))}else fe==="delete"?(j(me),P(!0)):fe==="add_support"&&J(je=>{const Le=new Set(je);return Le.has(me)?Le.delete(me):Le.add(me),Le});m(null)},q=async()=>{if(oe)try{if(console.log("roleToDelete",oe),(await X4(oe.toString())).success){U.success("Leadership role deleted successfully");const me=await Ol(n||"");if(me.success){const Le=(me.data||[]).sort((K,O)=>{const xe=K.ranking??0,X=O.ranking??0;return xe-X});o(Le)}}}catch(fe){U.error(fe.message||"Failed to delete leadership role")}P(!1),j(null)},se=()=>{P(!1),j(null)},k=async(fe,me)=>{try{if((await Z4(fe.toString(),me)).success){U.success("Ranking updated successfully");const Le=await Ol(n||"");if(Le.success){const O=(Le.data||[]).sort((xe,X)=>{const le=xe.ranking??0,Be=X.ranking??0;return le-Be});o(O)}}}catch(je){U.error(je.message||"Failed to update ranking")}},ee=()=>{g(!0),C({abbr:"",role:"",username:"",name:"",selectedUserId:""})},he=(fe,me)=>{C(je=>({...je,[fe]:me})),fe==="role"&&(me.trim()?(D(!0),De(me.trim())):(D(!1),W([]))),fe==="username"&&(me.trim()?(ne(!0),Ne(me.trim())):(ne(!1),Ee([]),C(je=>({...je,name:"",selectedUserId:""}))))},ie=(fe,me)=>{A(je=>({...je,[fe]:me})),fe==="role"&&(me.trim()?(D(!0),De(me.trim())):(D(!1),W([]))),fe==="username"&&(me.trim()?(ne(!0),Ne(me.trim())):(ne(!1),Ee([]),A(je=>({...je,name:"",selectedUserId:""}))))},De=fe=>{if(!r||r.length===0){W([]);return}const me=r.filter(je=>{const Le=je.leadership_role||je.role||"",K=je.abbr||"";return Le.toLowerCase().includes(fe.toLowerCase())||K.toLowerCase().includes(fe.toLowerCase())});W(me)},Ne=fe=>{if(!$||$.length===0){Ee([]);return}const me=$.filter(je=>{const Le=je.user||je,K=Le.username||"",O=Le.fullname||"";return K.toLowerCase().includes(fe.toLowerCase())||O.toLowerCase().includes(fe.toLowerCase())});Ee(me)},He=fe=>{x?A(me=>({...me,role:fe.leadership_role||fe.role||"",abbr:fe.abbr||""})):C(me=>({...me,role:fe.leadership_role||fe.role||"",abbr:fe.abbr||""})),D(!1),W([])},Pe=fe=>{const me=fe.user||fe;x?A(je=>({...je,username:me.username||"",name:me.fullname||"",selectedUserId:me.id||""})):C(je=>({...je,username:me.username||"",name:me.fullname||"",selectedUserId:me.id||""})),ne(!1),Ee([])},Me=async()=>{try{if(!w.role||!w.username||!w.selectedUserId){U.error("Please fill in all required fields");return}const fe=r.find(me=>(me.leadership_role||me.role)===w.role);if(fe&&w.selectedUserId){const me=await K4(n||"",w.selectedUserId,fe.id.toString());if(me.success){U.success("Leadership role added successfully"),g(!1),C({abbr:"",role:"",username:"",name:"",selectedUserId:""});const je=await Ol(n||"");if(je.success){const K=(je.data||[]).sort((O,xe)=>{const X=O.ranking??0,le=xe.ranking??0;return X-le});o(K)}}else U.error(me.message)}else U.error("Unable to save leadership role. Please try again.")}catch(fe){U.error("Failed to save leadership role: "+fe.message)}},Ze=async()=>{try{if(!N.role||!N.username||!N.selectedUserId){U.error("Please fill in all required fields");return}const fe=r.find(me=>(me.leadership_role||me.role)===N.role);if(fe&&N.selectedUserId){console.log("eventId",n),console.log("selectedUserId",N.selectedUserId),console.log("roleId",fe.id.toString()),console.log("id",N.id.toString());const me=await Q4(N.id.toString(),n||"",fe.id.toString(),N.selectedUserId);if(me.success){U.success("Leadership role updated successfully"),y(null),A({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""});const je=await Ol(n||"");if(je.success){const K=(je.data||[]).sort((O,xe)=>{const X=O.ranking??0,le=xe.ranking??0;return X-le});o(K)}}else U.error(me.message)}else U.error("Unable to update leadership role. Please try again.")}catch(fe){U.error("Failed to update leadership role: "+fe.message)}},lt=()=>{y(null),A({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""})};return b.useEffect(()=>{const fe=me=>{Object.values(_.current).every(Le=>!Le||!Le.contains(me.target))&&m(null),I.current&&!I.current.contains(me.target)&&D(!1),ye.current&&!ye.current.contains(me.target)&&ne(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),c?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading leadership roles..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-6 ",style:{marginBottom:"16px"},children:s.jsxs("div",{className:"grid grid-cols-[100px_200px_220px_280px_120px] gap-4",children:[s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"ABBR"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Leadership Role"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Name"}),s.jsx("div",{}),l.map(fe=>s.jsxs(Se.Fragment,{children:[x===fe.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:N.abbr,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),s.jsxs("div",{ref:I,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:N.role,onChange:me=>ie("role",me.target.value),onFocus:()=>{N.role.trim()&&(D(!0),De(N.role.trim()))},placeholder:"Enter role name",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),T&&L.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:L.map((me,je)=>s.jsxs("button",{type:"button",onClick:()=>He(me),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:me.leadership_role||me.role}),me.abbr&&s.jsxs("div",{className:"text-xs text-gray-500",children:["(",me.abbr,")"]})]},me.id||je))})]}),s.jsxs("div",{ref:ye,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:N.username,onChange:me=>ie("username",me.target.value),onFocus:()=>{N.username.trim()&&(ne(!0),Ne(N.username.trim()))},placeholder:"Enter username",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),de&&ve.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:ve.map((me,je)=>{const Le=me.user||me;return s.jsxs("button",{type:"button",onClick:()=>Pe(me),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:Le.username}),s.jsx("div",{className:"text-xs text-gray-500",children:Le.fullname})]},Le.id||je)})})]}),s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:N.name,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center justify-center",children:s.jsx("div",{className:"text-sm text-gray-900 text-center w-full",children:fe.leadership_roles?.abbr||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:fe.leadership_roles?.leadership_role||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:fe.users?.username||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:fe.users?.fullname||"-"})})]}),s.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative flex items-center justify-center space-x-3",children:[s.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 p-1",title:"Editing Mode",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}),s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("button",{onClick:()=>k(fe.id,-1),disabled:l.findIndex(me=>me.id===fe.id)===0,className:"text-gray-600 hover:text-gray-800 p-1 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M18 15l-6-6-6 6"})})}),s.jsx("button",{onClick:()=>k(fe.id,1),disabled:l.findIndex(me=>me.id===fe.id)===l.length-1,className:"text-gray-600 hover:text-gray-800 p-1 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),M.has(fe.id)&&s.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1",title:"Support Enabled",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:[s.jsx("path",{d:"M3 14v3a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-3"}),s.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v6a5 5 0 0 0 10 0V7a5 5 0 0 0-5-5z"}),s.jsx("path",{d:"M8 12h8",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round"})]})}),s.jsxs("div",{ref:me=>{_.current[fe.id]=me},className:"relative",children:[s.jsx("button",{onClick:()=>z(fe.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),h===fe.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>E("edit",fe.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Edit"}),s.jsx("button",{onClick:()=>E("delete",fe.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Delete"}),s.jsx("button",{onClick:ee,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Add Role"}),s.jsx("button",{onClick:()=>E("add_support",fe.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:M.has(fe.id)?"Remove Support":"Add as Support"})]})})]})]})})]},fe.id)),p&&s.jsxs("div",{className:`col-span-${x!==null?"6":"5"} grid gap-4 ${x!==null?"grid-cols-[100px_200px_220px_280px_80px_80px]":"grid-cols-[100px_200px_220px_280px_80px]"}`,children:[s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:w.abbr,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),s.jsxs("div",{ref:I,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:w.role,onChange:fe=>he("role",fe.target.value),onFocus:()=>{w.role.trim()&&(D(!0),De(w.role.trim()))},placeholder:"Enter role name",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),T&&L.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:L.map((fe,me)=>s.jsxs("button",{type:"button",onClick:()=>He(fe),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:fe.leadership_role||fe.role}),fe.abbr&&s.jsxs("div",{className:"text-xs text-gray-500",children:["(",fe.abbr,")"]})]},fe.id||me))})]}),s.jsxs("div",{ref:ye,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:w.username,onChange:fe=>he("username",fe.target.value),onFocus:()=>{w.username.trim()&&(ne(!0),Ne(w.username.trim()))},placeholder:"Enter username",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),de&&ve.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:ve.map((fe,me)=>{const je=fe.user||fe;return s.jsxs("button",{type:"button",onClick:()=>Pe(fe),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:je.username}),s.jsx("div",{className:"text-xs text-gray-500",children:je.fullname})]},je.id||me)})})]}),s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:w.name,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),s.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"relative flex items-center justify-center",children:s.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 p-1",title:"Adding New Role",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})})})}),x!==null&&s.jsx("div",{})]})]})}),s.jsxs("div",{className:"w-[925px] flex justify-between",children:[x!==null?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:lt,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"}),s.jsx("button",{onClick:Ze,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#607DA3",cursor:"pointer",border:"none",boxShadow:"none"},children:"Save"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:ee,disabled:p,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:p?"#bdbdbd":"#C2A46D",cursor:p?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:"Add Role"}),p&&s.jsx("button",{onClick:Me,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Save"})]}),s.jsx(na,{isOpen:G,onClose:se,onConfirm:q,title:"Confirm Delete",message:"Are you sure you want to delete this leadership role? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})]})},eS="http://localhost:1000",tS=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${eS}/api/v1/event-committees/get-all-event-committees/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch all event committees")}},sS=()=>{const[n,r]=b.useState("country"),[l,o]=b.useState([]),[c,d]=b.useState(null),[h,m]=b.useState(null),[p,g]=b.useState(""),[x,y]=b.useState(!1),[w,C]=b.useState(!1),[N,A]=b.useState(!1),[_,T]=b.useState({x:0,y:0}),[D,L]=b.useState(null),[W,$]=b.useState(!1),[F,I]=b.useState([]),[de,ne]=b.useState(null),ve=b.useRef(null),[Ee,ye]=b.useState(!1),[G,P]=b.useState([]),[oe,j]=b.useState(null),[M,J]=b.useState(null),z=b.useRef(null),E=b.useRef(null),q=[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}],{eventId:se}=ql(),{allCommittees:k,allUsers:ee,refreshCommitteesData:he,isLoading:ie}=qt();b.useEffect(()=>{he()},[]),b.useEffect(()=>{se&&(async()=>{try{const le=await tS(se);w||o(le.data||[])}catch(le){console.error("Error fetching event committees:",le),U.error(le.message||"Failed to fetch event committees")}})()},[se,n,w]),b.useEffect(()=>{const X=le=>{ve.current&&!ve.current.contains(le.target)&&($(!1),I([]),ne(null)),z.current&&!z.current.contains(le.target)&&(ye(!1),P([]),j(null),J(null)),E.current&&!E.current.contains(le.target)&&(A(!1),L(null))};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]);const De=X=>{r(X),$(!1),I([]),ne(null),ye(!1),P([]),j(null),J(null),A(!1),L(null),L(null),d(null),m(null),g(""),C(!1)},Ne=(X,le,Be)=>{d(X),m(le),g(Be),ye(!1),P([]),j(null),J(null),A(!1),L(null),L(null)},He=(X,le)=>{g(X),h==="committee"&&(X.trim()?($(!0),ne(le||null),Pe(X.trim())):($(!1),I([]),ne(null))),(h==="chairUsername"||h==="deputyChair1Username"||h==="deputyChair2Username")&&(X.trim()?(ye(!0),j(le||null),J(h),Me(X.trim())):(ye(!1),P([]),j(null),J(null)))},Pe=X=>{if(!k||k.length===0){I([]);return}const Be=k.filter(pe=>pe.category===n).filter(pe=>{const ze=pe.committee||"",Y=pe.abbr||"";return ze.toLowerCase().includes(X.toLowerCase())||Y.toLowerCase().includes(X.toLowerCase())});I(Be)},Me=X=>{if(!ee||ee.length===0){P([]);return}const le=ee.filter(Be=>{const pe=Be.username||"",ze=Be.fullname||"";return pe.toLowerCase().includes(X.toLowerCase())||ze.toLowerCase().includes(X.toLowerCase())});P(le)},Ze=X=>{c&&h==="committee"&&(o(le=>le.map(Be=>Be.id===c?{...Be,committee:X.committee||X.name||"",abbr:X.abbr||"Auto"}:Be)),C(!0)),$(!1),I([]),ne(null),d(null),m(null),g("")},lt=X=>{c&&M&&(o(le=>le.map(Be=>Be.id===c?{...Be,[M]:X.username||"",[M.replace("Username","Name")]:X.fullname||""}:Be)),C(!0)),ye(!1),P([]),j(null),J(null),d(null),m(null),g("")},fe=async()=>{if(c&&h)try{y(!0);const X=l.find(le=>le.id===c);if(X){const le=await lx(c.toString(),X.abbr,h==="committee"?p:X.committee,n);le.success?(o(Be=>Be.map(pe=>pe.id===c?{...pe,[h]:p}:pe)),U.success("Committee updated successfully"),C(!0)):U.error(le.message||"Failed to update committee")}}catch(X){console.error("Error updating committee:",X),U.error(X.message||"Failed to update committee")}finally{y(!1),d(null),m(null),g("")}},me=()=>{d(null),m(null),g("")},je=(X,le)=>{X.preventDefault(),X.stopPropagation();const Be=X.currentTarget.getBoundingClientRect();T({x:Be.right,y:Be.bottom}),L(le),A(!0)},Le=()=>{const le={id:l.length>0?Math.max(...l.map(Be=>Be.id))+1:1,abbr:"Auto Generated",committee:"",seatsTotal:"30",chairUsername:"",chairName:"",deputyChair1Username:"",deputyChair1Name:"",deputyChair2Username:"",deputyChair2Name:""};o(Be=>[...Be,le]),C(!0),$(!1),I([]),ne(null),ye(!1),P([]),j(null),J(null),A(!1),L(null)},K=()=>{D&&(o(X=>X.filter(le=>le.id!==D)),C(!0)),A(!1),L(null),L(null)},O=()=>{if(D){const X=l.find(le=>le.id===D);X&&(d(D),m("committee"),g(X.committee||""))}A(!1),L(null),L(null)},xe=async()=>{try{y(!0);for(const X of l)if(X.committee&&X.committee!==""&&!(await nx(X.abbr,X.committee,n)).success){U.error(`Failed to save committee: ${X.committee}`);return}U.success("Committees saved successfully"),C(!1)}catch(X){console.error("Error saving committees:",X),U.error(X.message||"Failed to save committees")}finally{y(!1)}};return ie?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading committees..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2",children:q.map(X=>s.jsx("button",{onClick:()=>De(X.id),className:`w-[200px] h-[58px] rounded-[20px] p-[5px] opacity-100 transition-colors text-sm font-medium ${n===X.id?"bg-[#6A8BAF] text-white":"bg-white text-black border border-gray-800"}`,style:{transform:"rotate(0deg)"},children:X.name},X.id))}),l.length===0&&!ie&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No committees available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:'Click "Add Committee" to create your first committee.'})]}),l.length>0&&s.jsx("div",{className:"space-y-6 ",style:{marginBottom:"16px"},children:s.jsxs("div",{className:"grid grid-cols-[80px_200px_70px_100px_100px_100px_100px_100px_100px_0px] gap-4",children:[s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"ABBR"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Committee"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Seats Total"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Chair Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Chair Name"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 1 Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 1 Name"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 2 Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 2 Name"}),s.jsx("div",{}),l.map(X=>s.jsxs(Se.Fragment,{children:[s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center justify-center",children:s.jsx("div",{className:"text-sm text-gray-900 text-center w-full",children:X.abbr})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:c===X.id&&h==="committee"?s.jsxs("div",{className:" text-sm rounded-md relative w-full",ref:ve,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:le=>He(le.target.value,X.id),placeholder:"E.g. United Nations Security Council",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{g(""),$(!1),I([]),ne(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),W&&de===X.id&&F.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:F.map((le,Be)=>s.jsxs("button",{type:"button",onClick:()=>Ze(le),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:le.committee||le.name}),le.abbr&&s.jsxs("div",{className:"text-xs text-gray-500",children:["ABBR: ",le.abbr]})]},le.id||Be))})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full cursor-pointer",onClick:()=>Ne(X.id,"committee",X.committee),children:X.committee||"E.g. United Nations Security Council"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:c===X.id&&h==="seatsTotal"?s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",children:s.jsx("input",{type:"text",value:p,onChange:le=>He(le.target.value),placeholder:"30",className:"w-full border-none outline-none text-gray-900",autoFocus:!0})}):s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.seatsTotal})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:c===X.id&&h==="chairUsername"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:z,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:le=>He(le.target.value,X.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{g(""),ye(!1),P([]),j(null),J(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Ee&&oe===X.id&&M==="chairUsername"&&G.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:G.map((le,Be)=>s.jsxs("button",{type:"button",onClick:()=>lt(le),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:["@",le.username]}),s.jsx("div",{className:"text-xs text-gray-500",children:le.fullname})]},le.id||Be))})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.chairUsername||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.chairName||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:c===X.id&&h==="deputyChair1Username"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:z,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:le=>He(le.target.value,X.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{g(""),ye(!1),P([]),j(null),J(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Ee&&oe===X.id&&M==="deputyChair1Username"&&G.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:G.map((le,Be)=>s.jsxs("button",{type:"button",onClick:()=>lt(le),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:["@",le.username]}),s.jsx("div",{className:"text-xs text-gray-500",children:le.fullname})]},le.id||Be))})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.deputyChair1Username||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.deputyChair1Name||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:c===X.id&&h==="deputyChair2Username"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:z,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:le=>He(le.target.value,X.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{g(""),ye(!1),P([]),j(null),J(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Ee&&oe===X.id&&M==="deputyChair2Username"&&G.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:G.map((le,Be)=>s.jsxs("button",{type:"button",onClick:()=>lt(le),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:["@",le.username]}),s.jsx("div",{className:"text-xs text-gray-500",children:le.fullname})]},le.id||Be))})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.deputyChair2Username||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:X.deputyChair2Name||"-"})}),s.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"relative flex items-center justify-center space-x-3",children:c===X.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:fe,className:"text-green-600 hover:text-green-800 p-1",title:"Save",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{onClick:me,className:"text-red-600 hover:text-red-800 p-1",title:"Cancel",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}):s.jsx("button",{onClick:le=>je(le,X.id),className:"text-blue-600 hover:text-blue-800 p-1",title:"Actions",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})})]},X.id))]})}),N&&s.jsx("div",{ref:E,className:"fixed bg-gray-100 border border-black rounded-lg shadow-lg z-50",style:{left:`${_.x}px`,top:`${_.y}px`,minWidth:"150px"},children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:O,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Edit"}),s.jsx("button",{onClick:K,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Delete"}),s.jsx("button",{onClick:Le,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Add Committee"})]})}),s.jsxs("div",{className:"w-[925px] flex justify-between",children:[s.jsx("button",{onClick:Le,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:x?"#bdbdbd":"#C2A46D",cursor:x?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:"Add"}),s.jsx("button",{onClick:xe,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:x?"#bdbdbd":"#607DA3",cursor:x?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:"Save"})]})]})},rS=({activeCommitteeType:n,activeCommittee:r,agendas:l,documents:o,editingAgenda:c,editingDocument:d,tempValue:h,isSaving:m,onCommitteeTypeChange:p,onCommitteeChange:g,onAgendaEdit:x,onAgendaChange:y,onAgendaSave:w,onAgendaCancel:C,onAgendaDelete:N,onAddAgenda:A,onDocumentEdit:_,onDocumentChange:T,onDocumentSave:D,onDocumentCancel:L,onDocumentDelete:W,onDocumentUpload:$})=>{const[F,I]=b.useState(null),[de,ne]=b.useState(null),ve=[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}],Ee=[{id:"UNGA",name:"UNGA"},{id:"UNSC",name:"UNSC"},{id:"UNHRC",name:"UNHRC"},{id:"WHO",name:"WHO"},{id:"UNEP",name:"UNEP"}],ye=G=>{const P=G.target.files?.[0];P&&$(P)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2",children:ve.map(G=>s.jsx("button",{onClick:()=>p(G.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${n===G.id?"bg-[#607DA3] text-white":"bg-white text-black border border-gray-800"}`,children:G.name},G.id))}),s.jsx("div",{className:"flex space-x-2",children:Ee.map(G=>s.jsx("button",{onClick:()=>g(G.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${r===G.id?"bg-[#84B5F3] text-white":"bg-white text-black border border-gray-800"}`,children:G.name},G.id))}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Committee Agendas"}),l.map(G=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:c===G.id?s.jsx("input",{type:"text",value:h,onChange:P=>y(P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter agenda title",autoFocus:!0}):s.jsx("input",{type:"text",value:G.title,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>I(F===G.id?null:G.id),className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),F===G.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>{x(G.id,G.title),I(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Edit"}),s.jsx("button",{onClick:()=>{N(G.id),I(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Delete"})]})})]}),c===G.id&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:w,className:"px-3 py-1 text-green-600 hover:text-green-800 text-sm font-medium",children:""}),s.jsx("button",{onClick:()=>{C(),I(null)},className:"px-3 py-1 text-red-600 hover:text-red-800 text-sm font-medium",children:""})]})]},G.id)),s.jsx("button",{onClick:A,className:`text-white font-medium transition-colors ${m?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{width:"140px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:m?.5:1,background:m?"#bdbdbd":"#C2A46D",cursor:m?"not-allowed":"pointer",border:"none",boxShadow:"none"},disabled:m,children:"Add Agenda"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Committee Documents"}),o.map(G=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:d===G.id?s.jsx("input",{type:"text",value:h,onChange:P=>T(P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter document name",autoFocus:!0}):s.jsx("input",{type:"text",value:G.name,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>ne(de===G.id?null:G.id),className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),de===G.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>{_(G.id,G.name),ne(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Edit"}),s.jsx("button",{onClick:()=>{W(G.id),ne(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Delete"})]})})]}),d===G.id&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:D,className:"px-3 py-1 text-green-600 hover:text-green-800 text-sm font-medium",children:""}),s.jsx("button",{onClick:()=>{L(),ne(null)},className:"px-3 py-1 text-red-600 hover:text-red-800 text-sm font-medium",children:""})]})]},G.id)),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"file",id:"document-upload",onChange:ye,className:"hidden",accept:".pdf,.doc,.docx,.txt"}),s.jsx("label",{htmlFor:"document-upload",className:`text-white font-medium transition-colors cursor-pointer ${m?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{width:"160px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:m?.5:1,background:m?"#bdbdbd":"#C2A46D",cursor:m?"not-allowed":"pointer",border:"none",boxShadow:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:"Upload Document"})]})]})]})},aS=({steps:n,activeStep:r,onStepChange:l})=>s.jsx("div",{className:"flex items-center space-x-2",children:n.map(o=>s.jsx("button",{onClick:()=>l(o.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${r===o.id?"bg-[#395579] text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:o.name},o.id))}),nS=()=>{const n=Tt(),{eventId:r}=ql(),[l,o]=b.useState("dashboard"),[c,d]=b.useState(""),[h,m]=b.useState(""),[p,g]=b.useState(""),[x,y]=b.useState(""),[w,C]=b.useState(""),[N,A]=b.useState(""),[_,T]=b.useState(""),[D,L]=b.useState(""),[W,$]=b.useState(""),[F,I]=b.useState(""),[de,ne]=b.useState(""),[ve,Ee]=b.useState(""),[ye,G]=b.useState(""),[P,oe]=b.useState(""),[j,M]=b.useState(""),[J,z]=b.useState(""),[E,q]=b.useState(!1),[se,k]=b.useState(!1),[ee,he]=b.useState(null),[ie,De]=b.useState(""),[Ne,He]=b.useState(!1),[Pe,Me]=b.useState(!1),[Ze,lt]=b.useState(!1),[fe,me]=b.useState(null),[je,Le]=b.useState({eventName:"",eventDescription:"",eventStartDate:"",eventEndDate:"",school:"",locality:"",numberOfSeats:"",feesPerDelegate:"",website:"",instagram:"",coverImage:""}),[K,O]=b.useState("country"),[xe,X]=b.useState("UNGA"),[le,Be]=b.useState([{id:1,title:"Climate Change in Africa"}]),[pe,ze]=b.useState([{id:1,name:"Climate Change Background Guide.pdf"}]),[Y,we]=b.useState(null),[Ce,re]=b.useState(null);b.useEffect(()=>{(async()=>{try{const be=await zp(r||"");if(be.success){if(be.data&&be.data.length>0){const ke=be.data[0];d(ke.name),m(ke.cover_image),g(ke.description),y(ke.start_date),C(ke.end_date),A(ke.locality.name),T(ke.school.name),L(ke.school.name),$(ke.fees_per_delegate),I(ke.number_of_seats),ne(ke.website),Ee(ke.instagram),G(ke.locality.id),oe(ke.school.id),M(ke.school.area_id),Le({eventName:ke.name,eventDescription:ke.description,eventStartDate:ke.start_date,eventEndDate:ke.end_date,school:ke.school.name,locality:ke.locality.name,numberOfSeats:ke.number_of_seats,feesPerDelegate:ke.fees_per_delegate,website:ke.website,instagram:ke.instagram,coverImage:ke.cover_image}),at(ke.number_of_seats,ke.fees_per_delegate)}}else U.error(be.message)}catch(be){console.error("Error fetching events:",be),U.error(be.message)}})()},[r,n]);const $e=Oe=>{if(Pe&&l==="event-details"&&Oe!=="event-details"){me(Oe),lt(!0);return}o(Oe)},dt=(Oe,be)=>{he(Oe),De(be)},mt=(Oe,be)=>{switch(De(be),Me(!0),Oe){case"name":d(be);break;case"description":g(be);break;case"date":break;case"school_name":T(be);break;case"locality":A(be);break;case"number_of_seats":I(be),at(be,W);break;case"fees_per_delegate":$(be),at(F,be);break;case"website":ne(be);break;case"instagram":Ee(be);break}},ls=()=>{if(ee)switch(ee){case"name":d(c);break;case"description":g(p);break;case"date":break;case"school_name":T(_);break;case"locality":A(N);break;case"number_of_seats":I(F),at(F,W);break;case"fees_per_delegate":$(W),at(F,W);break;case"website":ne(de);break;case"instagram":Ee(ve);break}he(null),De(""),k(!1),Me(!1)},Kt=async Oe=>{try{const be=Oe.target.files;if(be){q(!0);const ke=await Mp(be?.[0]);ke.success?(U.success(ke.message),m(ke.imageUrl),Me(!0)):U.error(ke.message)}}catch(be){U.error(be.message)}finally{q(!1)}},Qt=(Oe,be)=>{y(Oe),C(be),Me(!0)},os=()=>{k(!se)},Mt=()=>{k(!1)},ut=Oe=>{O(Oe)},Ht=Oe=>{X(Oe)},Ar=(Oe,be)=>{we(Oe),De(be)},or=Oe=>{De(Oe)},Ds=()=>{Y&&Be(Oe=>Oe.map(be=>be.id===Y?{...be,title:ie}:be)),we(null),De("")},Dr=()=>{we(null),De("")},Ge=Oe=>{Be(be=>be.filter(ke=>ke.id!==Oe))},jt=()=>{const Oe={id:Math.max(...le.map(be=>be.id))+1,title:""};Be([...le,Oe]),we(Oe.id),De("")},Ct=(Oe,be)=>{re(Oe),De(be)},Ut=Oe=>{De(Oe)},Fs=()=>{Ce&&ze(Oe=>Oe.map(be=>be.id===Ce?{...be,name:ie}:be)),re(null),De("")},_t=()=>{re(null),De("")},Nt=Oe=>{ze(be=>be.filter(ke=>ke.id!==Oe))},St=Oe=>{const be={id:Math.max(...pe.map(ke=>ke.id))+1,name:Oe.name,file:Oe};ze([...pe,be]),U.success("Document uploaded successfully")},at=(Oe,be)=>{const ke=Number(Oe),Ft=Number(be);!isNaN(ke)&&!isNaN(Ft)&&ke>0&&Ft>0?z((ke*Ft).toString()):z("")},Rt=async()=>{try{He(!0),at(F,W);const Oe=await Ow(r||"",c,p,x,w,h,ye,P,j,F,W,J,de,ve);Oe.success?(U.success(Oe.message),Me(!1),Le({eventName:c,eventDescription:p,eventStartDate:x,eventEndDate:w,school:_,locality:N,numberOfSeats:F,feesPerDelegate:W,website:de,instagram:ve,coverImage:h})):U.error(Oe.message)}catch(Oe){U.error("Failed to update event: "+Oe.message)}finally{He(!1)}},Zs=()=>{lt(!1),me(null)},hs=()=>{d(je.eventName),g(je.eventDescription),y(je.eventStartDate),C(je.eventEndDate),T(je.school),A(je.locality),I(je.numberOfSeats),$(je.feesPerDelegate),ne(je.website),Ee(je.instagram),m(je.coverImage),at(je.numberOfSeats,je.feesPerDelegate),he(null),De(""),k(!1),Me(!1),lt(!1),fe&&(o(fe),me(null))},la=[{id:"dashboard",name:"Dashboard"},{id:"event-details",name:"Event Details"},{id:"leadership-roles",name:"Leadership Roles"},{id:"committees",name:"Committees"},{id:"agendas",name:"Agendas"},{id:"delegates",name:"Delegates"},{id:"general-documents",name:"General Documents"}],Ra=()=>s.jsx(J4,{}),Te=()=>s.jsx(sS,{}),_e=()=>s.jsx(rS,{activeCommitteeType:K,activeCommittee:xe,agendas:le,documents:pe,editingAgenda:Y,editingDocument:Ce,tempValue:ie,isSaving:Ne,onCommitteeTypeChange:ut,onCommitteeChange:Ht,onAgendaEdit:Ar,onAgendaChange:or,onAgendaSave:Ds,onAgendaCancel:Dr,onAgendaDelete:Ge,onAddAgenda:jt,onDocumentEdit:Ct,onDocumentChange:Ut,onDocumentSave:Fs,onDocumentCancel:_t,onDocumentDelete:Nt,onDocumentUpload:St}),Re=()=>s.jsx(V4,{eventName:c,eventStartDate:x,eventEndDate:w,locality:N,area:D,feesPerDelegate:W,numberOfSeats:F,totalRevenue:J}),Ie=()=>s.jsx(W4,{eventName:c,coverImage:h,eventDescription:p,eventStartDate:x,eventEndDate:w,school:_,locality:N,numberOfSeats:F,feesPerDelegate:W,totalRevenue:J,website:de,instagram:ve,isUploadingCoverImage:E,editingField:ee,tempValue:ie,showDatePicker:se,onFieldEdit:dt,onFieldChange:mt,onCancelEdit:ls,onCoverImageUpload:Kt,onDateRangeChange:Qt,onDatePickerToggle:os,onDatePickerClose:Mt,onUpdateEvent:Rt,isSaving:Ne}),it=()=>{switch(l){case"dashboard":return Re();case"event-details":return Ie();case"leadership-roles":return Ra();case"committees":return Te();case"agendas":return _e();case"delegates":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delegates"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Delegates management coming soon..."})]});case"general-documents":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"General Documents"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"General documents management coming soon..."})]});default:return Re()}};return s.jsxs(js,{loadingText:"Loading Organiser Dashboard...",children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{maxWidth:"max-w-[88rem]"}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-medium text-[#C2A46D] mb-6",children:["Organiser > ",la.find(Oe=>Oe.id===l)?.name||"Dashboard"]}),s.jsx(aS,{steps:la,activeStep:l,onStepChange:$e})]})}),it()]})]}),s.jsx(t4,{isOpen:Ze,onKeepEditing:Zs,onDiscardChanges:hs})]})},lS=({users:n,onAction:r,isSuperUser:l=!1})=>{const[o,c]=b.useState(null),[d,h]=b.useState(null),[m,p]=b.useState(""),[g,x]=b.useState(!1),[y,w]=b.useState(null),[C,N]=b.useState([]),[A,_]=b.useState(!1),[T,D]=b.useState(""),[L,W]=b.useState(""),{refreshUserData:$,allOrganisers:F}=qt(),I=b.useRef(null),de=j=>F.some(M=>M.userid===j),ne=j=>{switch(j?.toLowerCase()){case"active":return"text-green-600";case"flagged":return"text-yellow-600";case"blocked":return"text-red-600";case"deleted":return"text-red-600";default:return"text-gray-600"}};b.useEffect(()=>{if(!m.trim())N(n);else{const j=n.filter(M=>{const J=m.toLowerCase(),z=M?.username||"",E=M?.fullname||"",q=M?.school.code||"",se=M?.school?.name||"",k=M?.global_role||"";return z.toLowerCase().includes(J)||E.toLowerCase().includes(J)||q.toLowerCase().includes(J)||se.toLowerCase().includes(J)||k.toLowerCase().includes(J)});N(j)}},[m,n]),b.useEffect(()=>{const j=M=>{I.current&&!I.current.contains(M.target)&&c(null)};return o&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[o]);const ve=j=>{c(o===j?null:j)},Ee=async()=>{if(y)try{if(l)await P("delete",y.username,y.email);else{h(y.username);const j=await xg(y.username,"delete");j.success?(U.success(j.message),await $(),r("delete",y.username,y.email)):U.error(j.message)}}catch(j){console.error("Error deleting user:",j),U.error("Failed to delete user")}finally{h(null),x(!1),w(null)}},ye=()=>{x(!1),w(null)},G=async()=>{if(!T.trim()||!L.trim()){U.error("Please fill in both name and email fields");return}try{const j=await dw(T,L);j.success?(U.success(j.message),await $()):U.error(j.message),D(""),W(""),_(!1)}catch(j){console.error("Error sending invite:",j),U.error("Failed to send invitation")}},P=async(j,M,J)=>{c(null);try{if(j==="delete"){const z=await uw(M,J);z.success?(U.success(z.message),await $()):U.error(z.message)}r(j,M,J)}catch(z){console.error("Error updating user:",z),U.error("Failed to update user")}finally{h(null)}},oe=async(j,M,J)=>{try{if(j==="delete")w({username:M,email:J}),x(!0);else{h(M);const z=await xg(M,j);z.success?(U.success(z.message),await $(),r(j,M,J)):U.error(z.message)}c(null)}catch(z){console.error("Error updating user:",z),U.error("Failed to update user")}finally{h(null)}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search users...",value:m,onChange:j=>p(j.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("div",{className:`grid gap-2 mb-2 ${l?"grid-cols-12":"grid-cols-10"}`,children:(l?[{label:"UserID",span:"col-span-1"},{label:"Username",span:"col-span-1"},{label:"Name",span:"col-span-2"},{label:"Email",span:"col-span-3"},{label:"Global Role",span:"col-span-1"},{label:" ",span:"col-span-1"}]:[{label:"Student ID",span:"col-span-1"},{label:"Username",span:"col-span-1"},{label:"Name",span:"col-span-1"},{label:"Academic Level",span:"col-span-1"},{label:"School",span:"col-span-2"},{label:"MUN Experience",span:"col-span-1"},{label:"Global Role",span:"col-span-1"},{label:"User Status",span:"col-span-1"},{label:" ",span:"col-span-1"}]).map((j,M)=>j.label===" "?s.jsx("div",{className:j.span},j.label):s.jsxs("div",{className:`${j.span} px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${M<(l?4:7)?"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center justify-between":"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center"}`,children:[s.jsx("span",{children:j.label}),M<(l?4:7)&&s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},j.label))}),C.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:m?"No users found matching your search":"No users found"}):C.length>0?C.map(j=>s.jsxs("div",{className:`grid gap-2 mb-2 ${l?"grid-cols-12":"grid-cols-10"}`,children:[l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:j?.id?.split("-")[0]||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.username||"N/A"}),s.jsx("div",{className:"col-span-2 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.fullname||"N/A"}),s.jsx("div",{className:"col-span-3 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.email||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.global_role||"N/A"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:j?.student_id||j?.id?.split("-")[0]||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.username?`@${j.username}`:"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.fullname||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.academic_level||j?.grade||"N/A"}),s.jsx("div",{className:"col-span-2 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.school?.name||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.mun_experience||j?.years_of_experience||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.global_role==="superuser"?"Super User":"User"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("span",{className:`font-medium ${ne(j?.user_status||j?.status||"active")}`,children:j?.user_status||j?.status||"Active"})})]}),s.jsx("div",{className:"col-span-1 px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative flex items-center justify-left",children:[de(j?.id)&&s.jsx("div",{className:"ml-2",children:s.jsx("img",{src:ux,alt:"Organiser",className:"w-5 h-5",title:"This user is an organizer"})}),s.jsx("button",{onClick:()=>ve(j?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===j?.id&&s.jsx("div",{ref:I,className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-50 border-2",children:s.jsx("div",{className:"py-1",children:l?s.jsx("button",{onClick:()=>{c(null),w({username:j?.username||"",email:j?.email||""}),x(!0)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Remove Super User"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:async()=>{c(null);const M=await bw(j?.id);M.success?(U.success(M.message),await $(),r("assign-organiser",j?.id,j?.email),await $()):U.error(M.message)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Assign Organiser"}),(j?.user_status?.toLowerCase()==="flagged"||j?.user_status?.toLowerCase()==="blocked")&&s.jsx("button",{onClick:()=>{c(null),oe("active",j?.id,j?.email)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),j?.user_status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>{c(null),oe("flagged",j?.id,j?.email)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),j?.user_status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>{c(null),oe("blocked",j?.id,j?.email)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),s.jsx("button",{onClick:()=>{c(null),w({username:j?.username||"",email:j?.email||""}),x(!0)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"}),s.jsx("button",{onClick:()=>{c(null),oe("invite",j?.id,j?.email),console.log("Invite non-user:",j?.id)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Invite Non-user"})]})})})]})})]},j?.id||Math.random())):null,l&&s.jsxs("div",{className:"mt-6",children:[s.jsx("button",{onClick:()=>_(!A),className:"px-6 py-3 bg-[#C4A35A] hover:bg-[#B8973F] text-white font-medium rounded-[20px] transition-colors duration-200 shadow-md",children:"Invite a Superuser"}),A&&s.jsxs("div",{className:"mt-6 p-6 max-w-md flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"invite-name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Name"}),s.jsx("input",{id:"invite-name",type:"text",value:T,onChange:j=>D(j.target.value),placeholder:"E.g. Ivy Grace Turner",className:"w-full px-4 py-2 border border-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C4A35A] focus:border-transparent text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"invite-email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),s.jsx("input",{id:"invite-email",type:"email",value:L,onChange:j=>W(j.target.value),placeholder:"E.g. ivy.grace@example.com",className:"w-full px-4 py-2 border border-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C4A35A] focus:border-transparent text-gray-700"})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:G,className:"w-[150px] px-6 py-3 bg-[#7FB539] hover:bg-[#6FA329] text-white font-semibold rounded-[20px]",children:"Send Invite"})})]})]}),s.jsx(na,{isOpen:g,onClose:ye,onConfirm:Ee,title:"Confirm Delete",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},wi=({type:n="students",isSuperUser:r=!1})=>{const[l,o]=b.useState(""),{allUsers:c}=qt(),d=()=>{if(r){const p=c.filter(g=>g.global_role==="superuser")||[];switch(console.log("allUsers",c),console.log("superUsers",p),n){case"students":return p.filter(g=>g.role==="student")||[];case"teachers":return p.filter(g=>g.role==="teacher")||[];default:return p||[]}}else{const p=c.filter(g=>g.global_role==="user"||!g.global_role)||[];switch(n){case"students":return p.filter(g=>g.role==="student")||[];case"teachers":return p.filter(g=>g.role==="teacher")||[];default:return p||[]}}},h=b.useMemo(()=>{const p=d();if(!p||p.length===0)return[];if(!l.trim())return p;const g=l.toLowerCase();return p.filter(x=>{const y=x?.fullname?.toLowerCase()||"",w=x?.username?.toLowerCase()||"",C=x?.school?.name?.toLowerCase()||x?.school?.toLowerCase()||"",N=x?.id?.toString().toLowerCase()||"",A=x?.role?.toLowerCase()||"",_=x?.school_location?.toLowerCase()||"";return y.includes(g)||w.includes(g)||C.includes(g)||N.includes(g)||A.includes(g)||_.includes(g)})},[n,c,l]),m=p=>{};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:p=>o(p.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(lS,{users:h,onAction:m,userType:n,isSuperUser:r})]})},oS=["school","college","academy","international","private","high","primary","secondary","the","al","of","for","and","dubai"],iS={dubai:"DU","abu dhabi":"AD",sharjah:"SHJ",ajman:"AJM",rak:"RAK",fujairah:"FUJ","umm al quwain":"UAQ","al ain":"AAN"},cS={"al barsha":"ALB","al quoz":"ALQ","nad al sheba":"NAS","jebel ali":"JAL",mirdif:"MRD","umm suqeim":"UQS","al warqa":"ALW","al garhoud":"ALG","oud metha":"OMT"},dS=(n,r,l,o=[])=>{if(!n||!r||!l)return"";const c=r.name.toLowerCase().trim(),d=iS[c]||r.code||c.substring(0,3).toUpperCase(),h=uS(n),m=l.name.toLowerCase().trim(),p=cS[m]||l.code||m.replace(/\s+/g,"").substring(0,3).toUpperCase();let g=`${d}_${h}_${p}`,x=g,y=1;for(;o.includes(x);)x=`${g}_${y.toString().padStart(3,"0")}`,y++;return x},uS=n=>{if(!n)return"";const l=n.toLowerCase().trim().split(/\s+/).filter(c=>!oS.includes(c.replace(/[^\w]/g,"")));if(l.length===0)return n.replace(/[^\w]/g,"").substring(0,3).toUpperCase();let o=l[0].replace(/[^\w]/g,"");if(o.length>=3)return o.substring(0,3).toUpperCase();if(l.length>1){const c=l[1].replace(/[^\w]/g,"");return(o+c).substring(0,3).toUpperCase()}return o.padEnd(3,o[0]||"X").toUpperCase()},hS=({schools:n,onAction:r})=>{const[l,o]=b.useState(null),[c,d]=b.useState(null),[h,m]=b.useState(""),[p,g]=b.useState(!1),[x,y]=b.useState(null),[w,C]=b.useState([]),[N,A]=b.useState(!1),[_,T]=b.useState(!1),[D,L]=b.useState({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"}),[W,$]=b.useState(null),[F,I]=b.useState(null),[de,ne]=b.useState({}),[ve,Ee]=b.useState([]),[ye,G]=b.useState([]),{allSchools:P}=qt(),[oe,j]=b.useState(!1),[M,J]=b.useState([]),[z,E]=b.useState(null),[q,se]=b.useState([]),[k,ee]=b.useState(""),{refreshSchoolsData:he,allLocalities:ie,allAreas:De,refreshLocalitiesData:Ne,refreshAreasData:He}=qt(),Pe=b.useRef(null);b.useEffect(()=>{ie.length===0&&Ne(),De.length===0&&He()},[ie.length,De.length,Ne,He]),b.useEffect(()=>{if(N&&D.schoolName&&D.locality_id&&D.area_id){const Y=ie.find(Ce=>Ce.id===Number(D.locality_id)),we=ve.find(Ce=>Ce.id===Number(D.area_id));if(Y&&we){const Ce=P.map($e=>$e.code).filter(Boolean),re=dS(D.schoolName,Y,we,Ce);L($e=>({...$e,schoolCode:re}))}}},[D.schoolName,D.locality_id,D.area_id,ie,ve,P,N]);const Me=Y=>{if(!Y){Ee([]);return}const we=De.filter(Ce=>Ce.locality_id==Y);Ee(we)},Ze=Y=>{if(!Y){G([]);return}const we=De.filter(Ce=>Ce.locality_id==Y);G(we)};b.useEffect(()=>{if(!h.trim())C(n);else{const Y=n.filter(we=>{const Ce=h.toLowerCase(),re=we?.id?.toString()||"",$e=we?.code||"",dt=we?.name||"",mt=we?.locality?.name||"",ls=we?.area?.name||"",Kt=we?.status||"";return re.toLowerCase().includes(Ce)||$e.toLowerCase().includes(Ce)||dt.toLowerCase().includes(Ce)||mt.toLowerCase().includes(Ce)||ls.toLowerCase().includes(Ce)||Kt.toLowerCase().includes(Ce)});C(Y)}},[h,n]),b.useEffect(()=>{const Y=we=>{Pe.current&&!Pe.current.contains(we.target)&&o(null)};return l&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[l]),b.useEffect(()=>{const Y=we=>{const Ce=we.target;W&&!Ce.closest(".edit-row-container")&&!Ce.closest(".edit-buttons-container")&&le()};return W&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[W]);const lt=Y=>{o(l===Y?null:Y)},fe=()=>{x&&(je("delete",x),g(!1),y(null))},me=()=>{g(!1),y(null)},je=async(Y,we)=>{try{if(o(null),d(we),Y==="delete"){const Ce=await Cw(we);Ce.success?(U.success(Ce.message||"School deleted successfully"),await he(),r(Y,we)):U.error(Ce.message||"Failed to delete school")}else{const Ce=await Sw(we,Y);Ce.success?(U.success(Ce.message||`School ${Y} successfully`),await he(),r(Y,we)):U.error(Ce.message||"Failed to update school")}}catch(Ce){console.error("Error updating school:",Ce),U.error(Ce.message||"Failed to update school")}finally{d(null)}},Le=async()=>{try{if(!D.schoolCode.trim()||!D.schoolName.trim()||!D.locality_id.trim()||!D.area_id.trim()){U.error("Please fill in all required fields");return}const Y=await kw(D.schoolCode.trim(),D.schoolName.trim(),D.locality_id.trim(),D.area_id.trim());Y.success?(U.success("New school added successfully"),A(!1),T(!1),L({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"}),await he()):U.error(Y.message||"Failed to save new school")}catch(Y){console.error("Error saving new school:",Y),U.error(Y.message||"Failed to save new school")}},K=Y=>{if(!Y)return"text-gray-600";switch(Y.toLowerCase()){case"active":return"text-green-600";case"blocked":return"text-red-600";case"flagged":return"text-yellow-500";case"unlisted":return"text-red-500";default:return"text-gray-600"}},O=()=>{A(!0),T(!0),L({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"})},xe=Y=>{$(Y?.id),I({id:Y?.id,code:Y?.code||"",name:Y?.name||"",locality:Y?.locality?.name||"",locality_id:Y?.locality_id||"",area:Y?.area?.name||"",area_id:Y?.area_id||"",status:Y?.status||"Active"}),ne({}),o(null),Ze(Y?.locality_id||"")},X=async()=>{try{const Y=await Ew(F?.id,F?.code,F?.name,F?.locality_id,F?.area_id);Y.success?(U.success("School updated successfully"),$(null),I(null),ne({}),await he()):U.error(Y.message||"Failed to update school")}catch(Y){console.error("Error updating school:",Y),U.error(Y.message||"Failed to update school")}},le=()=>{$(null),I(null),ne({})},Be=()=>{oe?(j(!1),J([]),E(null),se([]),ee("")):(j(!0),J([]),E(null),se([]),ee(""))},pe=Y=>{if(q.includes(Y)){ee("Unlock to merge"),setTimeout(()=>ee(""),3e3);return}if(M.includes(Y))J(we=>we.filter(Ce=>Ce!==Y)),z===Y&&E(null);else{if(M.length>=2){U.warning("Merge happens one pair at a time.");return}J(we=>[...we,Y]),(M.length===0||!z)&&E(Y)}},ze=async()=>{if(M.length!==2||!z){U.warning("Please select exactly two schools and ensure primary is set.");return}try{const Y=M.find(re=>re!==z);let we=await _w(z||"",Y||"");we.success?U.success("Schools merged successfully"):U.error(we.message||"Failed to merge schools"),J([]),E(null),se([]),ee(""),await he(),window.confirm("Merge another duplicate?")||j(!1)}catch(Y){console.error("Error merging schools:",Y),U.error("Failed to merge schools")}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search schools...",value:h,onChange:Y=>m(Y.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"School ID"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"School Code"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"flex-1 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"School Name"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"w-28 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Locality"})}),s.jsx("div",{className:"w-28 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Area"})}),s.jsx("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Status"})}),s.jsx("div",{className:"w-16 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md flex items-center",children:s.jsx("span",{})}),oe&&s.jsx("div",{className:"w-8 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider",children:s.jsx("span",{})})]}),w.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:h?"No schools found matching your search":"No schools found"}):w.length>0?w.map(Y=>{const we=W===Y?.id;return s.jsxs("div",{className:`flex gap-2 mb-2 ${we?"edit-row-container":""}`,children:[s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:Y?.id?String(Y.id).split("-")[0]:"N/A"}),s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:we?s.jsx("div",{children:s.jsx("input",{type:"text",value:F?.code||"",className:"w-full text-sm text-gray-500 focus:outline-none border-0 p-0 bg-transparent cursor-not-allowed",placeholder:"Auto-generated",readOnly:!0,disabled:!0})}):Y?.code||"N/A"}),s.jsx("div",{className:"flex-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:we?s.jsxs("div",{children:[s.jsx("input",{type:"text",value:F?.name||"",onChange:Ce=>I({...F,name:Ce.target.value}),className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${de.name?"border-red-500":""}`,placeholder:"Enter school name"}),de.name&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:de.name})]}):Y?.name||"N/A"}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:we?s.jsxs("div",{children:[s.jsxs("select",{value:F?.locality_id||"",onChange:Ce=>{const re=ie.find($e=>$e.id===Ce.target.value);I({...F,locality_id:Ce.target.value,locality:re?.locality?.name||re?.name||"",area_id:"",area:""}),Ze(Ce.target.value)},className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${de.locality_id?"border-red-500":""}`,children:[s.jsx("option",{value:"",children:"Select locality"}),ie.map(Ce=>s.jsx("option",{value:Ce.id,children:Ce.locality?.name},Ce.id))]}),de.locality_id&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:de.locality_id})]}):Y?.locality?.name||"N/A"}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:we?s.jsxs("div",{children:[s.jsxs("select",{value:F?.area_id||"",onChange:Ce=>{const re=ye.find($e=>$e.id===Ce.target.value);I({...F,area_id:Ce.target.value,area:re?.area?.name||re?.name||""})},className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${de.area_id?"border-red-500":""}`,disabled:!F?.locality_id,children:[s.jsx("option",{value:"",children:"Select area"}),ye.map(Ce=>s.jsx("option",{value:Ce.id,children:Ce.area?.name||Ce.name},Ce.id))]}),de.area_id&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:de.area_id})]}):Y?.area?.code||"N/A"}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===Y?.id?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`font-medium ${K(Y.status)}`,children:Y.status})})}),oe&&s.jsx("div",{className:"w-8 px-3 py-2 text-sm font-medium text-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"checkbox",checked:M.includes(Y?.id),onChange:()=>pe(Y?.id),disabled:q.includes(Y?.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:q.includes(Y?.id)?"Unlock to merge":"Select for merge"}),z===Y?.id&&s.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium flex items-center justify-left",children:s.jsxs("div",{className:"relative flex items-center justify-left",children:[we?s.jsxs("div",{className:"flex space-x-1 edit-buttons-container",children:[s.jsx("button",{onClick:X,className:"text-green-600 hover:text-green-800 focus:outline-none",title:"Save changes",children:s.jsx("img",{src:_n})}),s.jsx("button",{onClick:le,className:"text-red-600 hover:text-red-800 focus:outline-none",title:"Cancel editing",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):s.jsx("button",{onClick:()=>lt(Y?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===Y?.id&&!we&&s.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-50 border-2",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>xe(Y),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Edit"}),s.jsx("button",{onClick:()=>{o(null),O()},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Add"}),s.jsx("button",{disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,onClick:()=>{je("active",Y?.id||"")},children:"List"}),s.jsx("button",{onClick:()=>{o(null),Be()},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:oe?"Cancel Merge":"Merge"}),Y?.status?.toLowerCase()!=="active"&&s.jsx("button",{onClick:()=>je("active",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),Y?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>je("flagged",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),Y?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>je("blocked",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),s.jsx("button",{onClick:()=>{y(Y?.id||""),g(!0)},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},Y?.id||Math.random())}):null,N&&s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("div",{className:"w-24 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:P.length+1}),s.jsx("div",{className:"w-32 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:D.schoolCode,readOnly:!0,placeholder:"Auto-generated",className:"w-full text-sm text-gray-500 focus:outline-none bg-transparent"})}),s.jsx("div",{className:"flex-1 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:D.schoolName,onChange:Y=>L({...D,schoolName:Y.target.value}),placeholder:"Enter school name",className:"w-full text-sm text-gray-900 focus:outline-none"})}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsxs("select",{value:D.locality_id||"",onChange:Y=>{const we=ie.find(Ce=>Ce.id===Y.target.value);L({...D,locality_id:Y.target.value,locality:we?.locality?.name||we?.name||"",area_id:"",area:""}),Me(Y.target.value)},className:"w-full text-sm text-gray-900 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select locality"}),ie.map(Y=>s.jsx("option",{value:Y.id,children:Y.name},Y.id))]})}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsxs("select",{value:D.area_id||"",onChange:Y=>{const we=ve.find(Ce=>Ce.id===Y.target.value);L({...D,area_id:Y.target.value,area:we?.area?.name||we?.name||""})},className:"w-full text-sm text-gray-900 focus:outline-none",disabled:!D.locality_id,children:[s.jsx("option",{value:"",children:"Select area"}),ve.map(Y=>s.jsx("option",{value:Y.id,children:Y.name},Y.id))]})}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:"Active",placeholder:"Enter status",className:"w-full text-sm text-gray-900 focus:outline-none",readOnly:!0})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium",children:s.jsx("span",{})}),oe&&s.jsx("div",{className:"w-8 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200 flex items-center justify-center",children:"-"})]}),oe&&k&&s.jsx("div",{className:"mt-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-yellow-800",children:k}),s.jsxs("div",{className:"flex justify-between items-center mt-6 mr-[110px]",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:O,disabled:_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:Le,disabled:!_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),oe&&s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>Be(),className:"bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 hover:bg-[#9a7849]",children:"Cancel"}),s.jsxs("button",{onClick:ze,disabled:M.length!==2||!z,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 flex items-center justify-center ${M.length!==2||!z?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Merge"]})]})]}),s.jsx(na,{isOpen:p,onClose:me,onConfirm:fe,title:"Confirm Delete",message:"Are you sure you want to delete this school? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},fS=({localities:n,onAction:r})=>{const[l,o]=b.useState(null),[c,d]=b.useState(null),[h,m]=b.useState(""),[p,g]=b.useState(!1),[x,y]=b.useState(null),[w,C]=b.useState([]),[N,A]=b.useState(!1),[_,T]=b.useState(!1),[D,L]=b.useState({localityCode:"",localityName:"",areaCode:"",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"}),[W,$]=b.useState(null),[F,I]=b.useState(null),[de,ne]=b.useState({}),[ve,Ee]=b.useState(!1),[ye,G]=b.useState([]),[P,oe]=b.useState(null),[j,M]=b.useState([]),[J,z]=b.useState(""),{refreshAreasData:E,refreshLocalitiesData:q,refreshSchoolsData:se}=qt();b.useEffect(()=>{const K=O=>{const xe=O.target;l&&!xe.closest(".dropdown-container")&&o(null)};return l&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[l]),b.useEffect(()=>{const K=O=>{const xe=O.target;W&&!xe.closest(".edit-row-container")&&!xe.closest(".edit-buttons-container")&&lt()};return W&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[W]),b.useEffect(()=>{if(!n||!Array.isArray(n)){C([]);return}if(!h.trim())C(n);else{const K=n.filter(O=>{const xe=h.toLowerCase(),X=O?.id?.toString()||"",le=O.locality?.code||"",Be=O.locality?.name||"",pe=O.area?.code||"",ze=O.area?.id||"",Y=O.area?.name||"",we=O?.linkedSchoolsCount?.toString()||"",Ce=O?.linkedStudentsCount?.toString()||"",re=O?.status||"";return X.toLowerCase().includes(xe)||le.toLowerCase().includes(xe)||Be.toLowerCase().includes(xe)||pe.toLowerCase().includes(xe)||ze.toLowerCase().includes(xe)||Y.toLowerCase().includes(xe)||we.includes(xe)||Ce.includes(xe)||re.toLowerCase().includes(xe)});C(K)}},[h,n]);const k=K=>{o(l===K?null:K)},ee=()=>{if(x){o(null);const K=w.find(O=>(O?.area?.id||O?.id)===x);K&&ie("delete",K?.id||"",K?.area?.id||""),g(!1),y(null)}},he=()=>{g(!1),y(null)},ie=async(K,O,xe)=>{try{if(o(null),d(xe||O),K==="delete"){const X=await Tw(xe),le=await jw(O);X.success&&le.success?(U.success(X.message||"Locality deleted successfully"),await Promise.all([E(),q(),se()]),r(K,O)):U.error(X.message||le.message||"Failed to delete locality")}else{const X=await Dw(xe,K);X.success?(U.success(X.message||`Locality ${K} successfully`),await Promise.all([E(),q(),se()]),r(K,O)):U.error(X.message||"Failed to update locality")}}catch(X){console.error("Error updating locality:",X),U.error(X.message||"Failed to update locality")}finally{d(null)}},De=()=>{A(!0),T(!0),L({localityCode:"Auto generated",localityName:"",areaCode:"Auto generated",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"})},Ne=()=>{De()},He=(K,O)=>{L(xe=>({...xe,[K]:O}))},Pe=async()=>{try{if(!D.localityName.trim()||!D.areaName.trim()){U.error("Please fill in all required fields");return}U.success("New area added successfully"),A(!1),T(!1),L({localityCode:"",localityName:"",areaCode:"",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"}),await Promise.all([E(),q(),se()])}catch(K){console.error("Error saving new row:",K),U.error("Failed to save new area")}},Me=()=>{Pe()},Ze=K=>{$(K?.area?.id||K?.id),I({id:K?.area?.id||K?.id,localityCode:K?.locality?.code||"",localityName:K?.locality?.name||"",areaCode:K?.area?.code||"",areaName:K?.area?.name||"",status:K?.status||"Active"}),ne({}),o(null)},lt=()=>{$(null),I(null),ne({})},fe=()=>{ve?(Ee(!1),G([]),oe(null),M([]),z("")):(Ee(!0),G([]),oe(null),M([]),z(""))},me=K=>{if(j.includes(K)){z("Unlock to merge"),setTimeout(()=>z(""),3e3);return}if(ye.includes(K))G(O=>O.filter(xe=>xe!==K)),P===K&&oe(null);else{if(ye.length>=2){U.warning("Merge happens one pair at a time.");return}G(O=>[...O,K]),(ye.length===0||!P)&&oe(K)}},je=async()=>{if(ye.length!==2||!P){z("Please select exactly two localities and ensure primary is set."),U.warning("Please select exactly two localities and ensure primary is set.");return}try{const K=ye.find(X=>X!==P);let O=await ww(P||"",K||"");O.success?U.success("Localities merged successfully"):U.error(O.message||"Failed to merge localities"),G([]),oe(null),M([]),z(""),await Promise.all([E(),q(),se()]),window.confirm("Merge another duplicate?")||Ee(!1)}catch(K){console.error("Error merging localities:",K),U.error("Failed to merge localities")}},Le=K=>{if(!K)return"text-gray-600";switch(K.toLowerCase()){case"active":return"text-green-600";case"blocked":return"text-red-600";case"flagged":return"text-yellow-500";default:return"text-gray-600"}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search localities...",value:h,onChange:K=>m(K.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Locality Code"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-40 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Locality Name"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Area Code"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-40 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Area Name"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-36 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Linked Schools (Area)"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-36 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Linked Students (Area)"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Status"})}),s.jsx("div",{className:"w-16 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md flex items-center",children:s.jsx("span",{})}),ve&&s.jsx("div",{className:"w-8 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider",children:s.jsx("span",{})})]}),!w||w.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:h?"No localities found matching your search":"No localities found"}):w.length>0?w.map(K=>{const O=W===(K?.area?.id||K?.id);return s.jsxs("div",{className:`flex gap-2 mb-2 ${O?"edit-row-container":""}`,children:[s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:K?.locality?.code||"N/A"}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:O?s.jsx("div",{children:s.jsx("input",{type:"text",value:F?.localityName||"",className:"w-full text-sm text-gray-500 focus:outline-none border-0 p-0 bg-transparent cursor-not-allowed",placeholder:"Read-only",readOnly:!0,disabled:!0})}):K?.locality?.name||"N/A"}),s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K?.area?.code||"N/A"}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:O?s.jsxs("div",{children:[s.jsx("input",{type:"text",value:F?.areaName||"",onChange:xe=>I({...F,areaName:xe.target.value}),className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${de.areaName?"border-red-500":""}`,placeholder:"Enter area name"}),de.areaName&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:de.areaName})]}):K?.area?.name||"N/A"}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K?.linkedSchoolsCount||"-"}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K?.linkedStudentsCount||"-"}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===(K?.area?.id||K?.id)?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`font-medium ${Le(K.status)}`,children:K.status})})}),ve&&s.jsx("div",{className:"w-8 px-3 py-2 text-sm font-medium text-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"checkbox",checked:ye.includes(K?.area?.id||K?.id),onChange:()=>me(K?.area?.id||K?.id),disabled:j.includes(K?.area?.id||K?.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:j.includes(K?.area?.id||K?.id)?"Unlock to merge":"Select for merge"}),P===(K?.area?.id||K?.id)&&s.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium flex items-center justify-left",children:s.jsxs("div",{className:"relative flex items-center justify-left dropdown-container",children:[O?s.jsx("div",{className:"flex space-x-1 edit-buttons-container",children:s.jsx("button",{onClick:lt,className:"text-red-600 hover:text-red-800 focus:outline-none",title:"Cancel editing",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}):s.jsx("button",{onClick:()=>k(K?.area?.id||K?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===(K?.area?.id||K?.id)&&!O&&s.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-[9999] border border-gray-300 dropdown-container",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>Ze(K),disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Edit"}),s.jsx("button",{disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Add"}),s.jsx("button",{disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"List"}),s.jsx("button",{onClick:()=>{o(null),fe()},disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:ve?"Cancel Merge":"Merge"}),K?.status?.toLowerCase()!=="active"&&s.jsx("button",{onClick:()=>ie("active",K?.id||"",K?.area?.id||""),disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),K?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>ie("flagged",K?.id||"",K?.area?.id||""),disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),K?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>ie("blocked",K?.id||"",K?.area?.id||""),disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),s.jsx("button",{onClick:()=>{y(K?.area?.id||K?.id||""),g(!0)},disabled:c===(K?.area?.id||K?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(K?.area?.id||K?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},K?.id||Math.random())}):null,N&&s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:D.localityCode}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:D.localityName,onChange:K=>He("localityName",K.target.value),placeholder:"Enter locality name",className:"w-full border-none outline-none text-gray-900"})}),s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:D.areaCode}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:D.areaName,onChange:K=>He("areaName",K.target.value),placeholder:"Add area",className:"w-full border-none outline-none text-gray-900"})}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:"-"}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:"-"}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsxs("select",{value:D.status,onChange:K=>He("status",K.target.value),className:"w-full border-none outline-none text-gray-900 bg-transparent",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"relative flex items-center justify-left",children:s.jsx("button",{className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})}),ve&&s.jsx("div",{className:"w-8 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200 flex items-center justify-center",children:"-"})]}),ve&&J&&s.jsx("div",{className:"mt-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-yellow-800",children:J}),s.jsxs("div",{className:"flex justify-between items-center mt-6 mr-[110px]",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:Ne,disabled:_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:Me,disabled:!_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),ve&&s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:fe,className:"bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 hover:bg-[#9a7849]",children:"Cancel"}),s.jsxs("button",{onClick:je,disabled:ye.length!==2||!P,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 flex items-center justify-center ${ye.length!==2||!P?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Merge"]})]})]}),s.jsx(na,{isOpen:p,onClose:he,onConfirm:ee,title:"Confirm Delete",message:"Are you sure you want to delete this locality? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},Yg=({type:n="schools",selectedLocality:r=0})=>{const[l,o]=b.useState(""),{allSchools:c,allLocalities:d,allUsers:h,refreshLocalitiesData:m,refreshAreasData:p}=qt(),g=["Dubai","Abu Dhabi","Al Ain","Sharjah","Ajman","Ras Al Khaimah","Umm Al Quwain","Other"];b.useEffect(()=>{m(),p()},[m,p]);const x=b.useMemo(()=>{let w=[];if(n==="localities"){if(c&&c.length>0){console.log(c);const _=new Map;c.forEach(T=>{const D=T?.locality?.name||"Unknown",L=T?.area_id||"Unknown",W=T?.area?.name||"Unknown",$=T?.locality?.code||D.substring(0,2).toUpperCase(),F=T?.area?.code||W.substring(0,3).toUpperCase(),I=T?.area?.status||"Active",de=`${D}-${W}`;_.has(de)||_.set(de,{id:de,locality:{code:$,name:D},area:{code:F,id:L,name:W},linkedSchoolsCount:0,linkedStudentsCount:0,status:I}),_.get(de).linkedSchoolsCount+=1}),w=Array.from(_.values()),h&&h.length>0&&w.forEach(T=>{const D=T.area.code,L=T.locality.code,W=T.status,$=c.filter(I=>I.area&&I.area.code===D&&I.locality&&I.locality.code===L),F=h.filter(I=>!I.school||typeof I.school!="object"?!1:$.some(de=>I.school.id===de.id&&I.school.area_id===de.area_id&&I.school.locality_id===de.locality_id)).length;T.linkedStudentsCount=F,T.status=W})}}else{if(!c||c.length===0)return[];w=c}const C=g[r];if(C&&C!=="Other")w=w.filter(_=>{const T=n==="localities"?_?.locality?.name:_?.locality?.name||"";return T&&T.toLowerCase()===C.toLowerCase()});else if(C==="Other"){const _=["Dubai","Abu Dhabi","Al Ain","Sharjah","Ajman","Ras Al Khaimah","Umm Al Quwain"];w=w.filter(T=>{const D=n==="localities"?T?.locality?.name:T?.locality?.name||"";return!_.some(W=>D&&D.toLowerCase()===W.toLowerCase())})}if(!l.trim())return w;const N=l.toLowerCase();return w.filter(_=>{if(n==="localities"){const T=_?.localityCode||_?.code||"",D=_?.localityName||_?.locality?.name||"",L=_?.areaCode||_?.area?.code||"",W=_?.areaName||_?.area?.name||"",$=_?.linkedSchools||_?.schoolsCount||"",F=_?.linkedStudents||_?.studentsCount||"",I=_?.status||"";return T&&T.toLowerCase().includes(N)||D&&D.toLowerCase().includes(N)||L&&L.toLowerCase().includes(N)||W&&W.toLowerCase().includes(N)||$.toString().includes(N)||F.toString().includes(N)||I&&I.toLowerCase().includes(N)}else{const T=_?.id?.toString()||"",D=_?.code||"",L=_?.name||"",W=_?.locality?.name||"",$=_?.area?.name||"",F=_?.status||"";return T&&T.toLowerCase().includes(N)||D&&D.toLowerCase().includes(N)||L&&L.toLowerCase().includes(N)||W&&W.toLowerCase().includes(N)||$&&$.toLowerCase().includes(N)||F&&F.toLowerCase().includes(N)}})},[n,c,d,l,r]),y=w=>{};return s.jsxs("div",{className:"w-[1000px] space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:w=>o(w.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),n==="localities"?s.jsx(fS,{localities:x,onAction:y,localityType:n}):s.jsx(hS,{schools:x,onAction:y,schoolType:n})]})},mS=()=>{const[n,r]=b.useState("dashboard"),[l,o]=b.useState(!0),[c,d]=b.useState(0),{allUsers:h,allOrganisers:m,allEvents:p,allSchools:g}=qt(),x=[{title:"Events Upcoming",value:p.filter(A=>A.status==="pending").length.toString()},{title:"Events Completed",value:p.filter(A=>A.status==="completed").length.toString()},{title:"Users",value:h.length.toString()},{title:"Organisers",value:m.filter(A=>A.status==="approved").length.toString()},{title:"Pending Approvals",value:m.filter(A=>A.status==="pending").length.toString()},{title:"Schools",value:g.length.toString()}],y=()=>{if(n==="users"&&l)return"Masterlists > Users Related > Users > Students";if(n==="users"&&!l)return"Masterlists > Users Related > Users > Teachers";if(n==="superusers"&&l)return"Masterlists > Users Related > Superusers > Students";if(n==="superusers"&&!l)return"Masterlists > Users Related > Superusers > Teachers";if(n==="schools"&&c===0)return"Masterlists > Schools Related > Schools > Dubai";if(n==="schools"&&c===1)return"Masterlists > Schools Related > Schools > Abu Dhabi";if(n==="schools"&&c===2)return"Masterlists > Schools Related > Schools > Al Ain";if(n==="schools"&&c===3)return"Masterlists > Schools Related > Schools > Sharjah";if(n==="schools"&&c===4)return"Masterlists > Schools Related > Schools > Ajman";if(n==="schools"&&c===5)return"Masterlists > Schools Related > Schools > Ras Al Khaimah";if(n==="schools"&&c===6)return"Masterlists > Schools Related > Schools > Umm Al Quwain";if(n==="schools"&&c===7)return"Masterlists > Schools Related > Schools > Other";if(n==="localities"&&c===0)return"Masterlists > Schools Related > Localities > Dubai";if(n==="localities"&&c===1)return"Masterlists > Schools Related > Localities > Abu Dhabi";if(n==="localities"&&c===2)return"Masterlists > Schools Related > Localities > Al Ain";if(n==="localities"&&c===3)return"Masterlists > Schools Related > Localities > Sharjah";if(n==="localities"&&c===4)return"Masterlists > Schools Related > Localities > Ajman";if(n==="localities"&&c===5)return"Masterlists > Schools Related > Localities > Ras Al Khaimah";if(n==="localities"&&c===6)return"Masterlists > Schools Related > Localities > Umm Al Quwain";if(n==="localities"&&c===7)return"Masterlists > Schools Related > Localities > Other";switch(n){case"dashboard":return"Dashboard";case"masterlists":return"Masterlists";case"events-related":return"Masterlists > Events Related";case"events":return"Masterlists > Events Related > Events";case"organisers":return"Masterlists > Events Related > Organisers";case"leadership-roles":return"Masterlists > Events Related > Leadership Roles";case"committees":return"Masterlists > Events Related > Committees";case"students":return"Masterlists > Events Related > Organisers > Students";case"teachers":return"Masterlists > Events Related > Organisers > Teachers";case"users-related":return"Masterlists > Users Related";case"users":return"Masterlists > Users Related > Users";case"superusers":return"Masterlists > Users Related > Superusers";case"schools-related":return"Masterlists > Schools Related";case"schools":return"Masterlists > Schools Related > Schools";case"localities":return"Masterlists > Schools Related > Localities";default:return"Dashboard"}},w=()=>s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"grid grid-cols-6 gap-6",children:x.map((A,_)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-[#607DA3] px-4 py-3",children:s.jsx("h3",{className:"text-white font-semibold text-sm text-center",children:A.title})}),s.jsx("div",{className:"bg-white px-4 py-6",children:s.jsx("div",{className:"text-3xl font-bold text-gray-900 text-center",children:A.value})})]},_))})}),C=()=>s.jsxs("div",{className:"space-y-6",children:[n==="events"&&s.jsx(m4,{}),n==="organisers"&&s.jsx(fu,{type:"students"}),n==="students"&&s.jsx(fu,{type:"students"}),n==="teachers"&&s.jsx(fu,{type:"teachers"}),n==="leadership-roles"&&s.jsx(x4,{}),n==="committees"&&s.jsx(b4,{})]}),N=()=>{if(n==="users"&&l)return s.jsx(wi,{type:"students",isSuperUser:!1});if(n==="users"&&!l)return s.jsx(wi,{type:"teachers",isSuperUser:!1});if(n==="superusers"&&l)return s.jsx(wi,{type:"students",isSuperUser:!0});if(n==="superusers"&&!l)return s.jsx(wi,{type:"teachers",isSuperUser:!0});if(n==="schools")return s.jsx(Yg,{type:"schools",selectedLocality:c});if(n==="localities")return s.jsx(Yg,{type:"localities",selectedLocality:c});switch(n){case"dashboard":return w();case"masterlists":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Masterlists"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Select a category to manage..."})]});case"events-related":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events Related"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Select a specific category to manage..."})]});case"users-related":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Users Related"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Users management coming soon..."})]});case"schools-related":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Schools Related"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Select a specific category to manage..."})]});case"events":case"organisers":case"students":case"teachers":case"leadership-roles":case"committees":return C();default:return w()}};return s.jsx(js,{loadingText:"Loading Super User Dashboard...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ts,{maxWidth:"max-w-[88rem]"}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsx("div",{className:"text-left mb-8",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:y()})}),s.jsx("div",{className:"flex justify-left mb-8",children:s.jsx(f4,{activeSection:n,onSectionChange:r,usersSubSection:l,setUsersSubSection:o,schoolsSubSection:c,setSchoolsSubSection:d})}),N()]})]})})};function gS(){return s.jsx(GN,{children:s.jsx(WN,{children:s.jsx(Fv,{children:s.jsxs("div",{className:"App",children:[s.jsxs(yv,{children:[s.jsx(vt,{path:"/",element:s.jsx(sp,{to:"/login",replace:!0})}),s.jsx(vt,{path:"/signup",element:s.jsx(v4,{})}),s.jsx(vt,{path:"/login",element:s.jsx(j4,{})}),s.jsx(vt,{path:"/email-verification",element:s.jsx(N4,{})}),s.jsx(vt,{path:"/home",element:s.jsx($t,{children:s.jsx(S4,{})})}),s.jsx(vt,{path:"/dashboard",element:s.jsx($t,{children:s.jsx(C4,{})})}),s.jsx(vt,{path:"/request-approval",element:s.jsx($t,{children:s.jsx(E4,{})})}),s.jsx(vt,{path:"/request-under-verification",element:s.jsx($t,{children:s.jsx(k4,{})})}),s.jsx(vt,{path:"/event-create",element:s.jsx($t,{children:s.jsx(_4,{})})}),s.jsx(vt,{path:"/event-create-success",element:s.jsx($t,{children:s.jsx(A4,{})})}),s.jsx(vt,{path:"/organiser",element:s.jsx($t,{children:s.jsx(D4,{})})}),s.jsx(vt,{path:"/event-dashboard/:eventId",element:s.jsx($t,{children:s.jsx(nS,{})})}),s.jsx(vt,{path:"/super-user",element:s.jsx($t,{children:s.jsx(mS,{})})}),s.jsx(vt,{path:"/student-profile",element:s.jsx($t,{children:s.jsx(O4,{})})}),s.jsx(vt,{path:"/student-profile-page",element:s.jsx($t,{children:s.jsx(M4,{})})}),s.jsx(vt,{path:"/student-home",element:s.jsx($t,{children:s.jsx(B4,{})})}),s.jsx(vt,{path:"/student-registration/:eventId",element:s.jsxs($t,{children:[s.jsx(P4,{})," "]})}),s.jsx(vt,{path:"/student-registration-success",element:s.jsx($t,{children:s.jsx(I4,{})})}),s.jsx(vt,{path:"/student-delegate-page/:eventId",element:s.jsx($t,{children:s.jsx(q4,{})})}),s.jsx(vt,{path:"/teacher-profile",element:s.jsx($t,{children:s.jsx(L4,{})})}),s.jsx(vt,{path:"/teacher-profile-page",element:s.jsx($t,{children:s.jsx(U4,{})})}),s.jsx(vt,{path:"/teacher-home",element:s.jsx($t,{children:s.jsx(z4,{})})}),s.jsx(vt,{path:"/teacher-registration/:eventId",element:s.jsx($t,{children:s.jsx(Y4,{})})}),s.jsx(vt,{path:"/teacher-registration-success",element:s.jsx($t,{children:s.jsx(G4,{})})}),s.jsx(vt,{path:"/profile-page",element:s.jsx($t,{children:s.jsx(eh,{userType:"student"})})})]}),s.jsx(C2,{position:"bottom-right",richColors:!0})]})})})})}_b.createRoot(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(gS,{})}));
