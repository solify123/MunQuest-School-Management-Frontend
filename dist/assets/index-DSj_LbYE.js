(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function Gu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Ob(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var o=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(l){var c=Object.getOwnPropertyDescriptor(a,l);Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:function(){return a[l]}})}),o}var au={exports:{}},Oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function Mb(){if(Q0)return Oo;Q0=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(l,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:a,type:l,key:h,ref:c!==void 0?c:null,props:d}}return Oo.Fragment=r,Oo.jsx=o,Oo.jsxs=o,Oo}var X0;function Ub(){return X0||(X0=1,au.exports=Mb()),au.exports}var t=Ub(),nu={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function Bb(){if(Z0)return it;Z0=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function j(v){return v===null||typeof v!="object"?null:(v=b&&v[b]||v["@@iterator"],typeof v=="function"?v:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function k(v,z,G){this.props=v,this.context=z,this.refs=_,this.updater=G||S}k.prototype.isReactComponent={},k.prototype.setState=function(v,z){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,z,"setState")},k.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function A(){}A.prototype=k.prototype;function D(v,z,G){this.props=v,this.context=z,this.refs=_,this.updater=G||S}var M=D.prototype=new A;M.constructor=D,N(M,k.prototype),M.isPureReactComponent=!0;var X=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function Q(v,z,G,P,L,ne){return G=ne.ref,{$$typeof:a,type:v,key:z,ref:G!==void 0?G:null,props:ne}}function ce(v,z){return Q(v.type,z,void 0,void 0,void 0,v.props)}function me(v){return typeof v=="object"&&v!==null&&v.$$typeof===a}function Se(v){var z={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(G){return z[G]})}var _e=/\/+/g;function be(v,z){return typeof v=="object"&&v!==null&&v.key!=null?Se(""+v.key):z.toString(36)}function de(){}function ee(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(de,de):(v.status="pending",v.then(function(z){v.status==="pending"&&(v.status="fulfilled",v.value=z)},function(z){v.status==="pending"&&(v.status="rejected",v.reason=z)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function he(v,z,G,P,L){var ne=typeof v;(ne==="undefined"||ne==="boolean")&&(v=null);var le=!1;if(v===null)le=!0;else switch(ne){case"bigint":case"string":case"number":le=!0;break;case"object":switch(v.$$typeof){case a:case r:le=!0;break;case p:return le=v._init,he(le(v._payload),z,G,P,L)}}if(le)return L=L(v),le=P===""?"."+be(v,0):P,X(L)?(G="",le!=null&&(G=le.replace(_e,"$&/")+"/"),he(L,z,G,"",function(ve){return ve})):L!=null&&(me(L)&&(L=ce(L,G+(L.key==null||v&&v.key===L.key?"":(""+L.key).replace(_e,"$&/")+"/")+le)),z.push(L)),1;le=0;var Te=P===""?".":P+":";if(X(v))for(var je=0;je<v.length;je++)P=v[je],ne=Te+be(P,je),le+=he(P,z,G,ne,L);else if(je=j(v),typeof je=="function")for(v=je.call(v),je=0;!(P=v.next()).done;)P=P.value,ne=Te+be(P,je++),le+=he(P,z,G,ne,L);else if(ne==="object"){if(typeof v.then=="function")return he(ee(v),z,G,P,L);throw z=String(v),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function R(v,z,G){if(v==null)return v;var P=[],L=0;return he(v,P,"","",function(ne){return z.call(G,ne,L++)}),P}function $(v){if(v._status===-1){var z=v._result;z=z(),z.then(function(G){(v._status===0||v._status===-1)&&(v._status=1,v._result=G)},function(G){(v._status===0||v._status===-1)&&(v._status=2,v._result=G)}),v._status===-1&&(v._status=0,v._result=z)}if(v._status===1)return v._result.default;throw v._result}var T=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function B(){}return it.Children={map:R,forEach:function(v,z,G){R(v,function(){z.apply(this,arguments)},G)},count:function(v){var z=0;return R(v,function(){z++}),z},toArray:function(v){return R(v,function(z){return z})||[]},only:function(v){if(!me(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},it.Component=k,it.Fragment=o,it.Profiler=c,it.PureComponent=D,it.StrictMode=l,it.Suspense=x,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,it.__COMPILER_RUNTIME={__proto__:null,c:function(v){return H.H.useMemoCache(v)}},it.cache=function(v){return function(){return v.apply(null,arguments)}},it.cloneElement=function(v,z,G){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var P=N({},v.props),L=v.key,ne=void 0;if(z!=null)for(le in z.ref!==void 0&&(ne=void 0),z.key!==void 0&&(L=""+z.key),z)!F.call(z,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&z.ref===void 0||(P[le]=z[le]);var le=arguments.length-2;if(le===1)P.children=G;else if(1<le){for(var Te=Array(le),je=0;je<le;je++)Te[je]=arguments[je+2];P.children=Te}return Q(v.type,L,void 0,void 0,ne,P)},it.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:d,_context:v},v},it.createElement=function(v,z,G){var P,L={},ne=null;if(z!=null)for(P in z.key!==void 0&&(ne=""+z.key),z)F.call(z,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(L[P]=z[P]);var le=arguments.length-2;if(le===1)L.children=G;else if(1<le){for(var Te=Array(le),je=0;je<le;je++)Te[je]=arguments[je+2];L.children=Te}if(v&&v.defaultProps)for(P in le=v.defaultProps,le)L[P]===void 0&&(L[P]=le[P]);return Q(v,ne,void 0,void 0,null,L)},it.createRef=function(){return{current:null}},it.forwardRef=function(v){return{$$typeof:g,render:v}},it.isValidElement=me,it.lazy=function(v){return{$$typeof:p,_payload:{_status:-1,_result:v},_init:$}},it.memo=function(v,z){return{$$typeof:m,type:v,compare:z===void 0?null:z}},it.startTransition=function(v){var z=H.T,G={};H.T=G;try{var P=v(),L=H.S;L!==null&&L(G,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(B,T)}catch(ne){T(ne)}finally{H.T=z}},it.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},it.use=function(v){return H.H.use(v)},it.useActionState=function(v,z,G){return H.H.useActionState(v,z,G)},it.useCallback=function(v,z){return H.H.useCallback(v,z)},it.useContext=function(v){return H.H.useContext(v)},it.useDebugValue=function(){},it.useDeferredValue=function(v,z){return H.H.useDeferredValue(v,z)},it.useEffect=function(v,z,G){var P=H.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(v,z)},it.useId=function(){return H.H.useId()},it.useImperativeHandle=function(v,z,G){return H.H.useImperativeHandle(v,z,G)},it.useInsertionEffect=function(v,z){return H.H.useInsertionEffect(v,z)},it.useLayoutEffect=function(v,z){return H.H.useLayoutEffect(v,z)},it.useMemo=function(v,z){return H.H.useMemo(v,z)},it.useOptimistic=function(v,z){return H.H.useOptimistic(v,z)},it.useReducer=function(v,z,G){return H.H.useReducer(v,z,G)},it.useRef=function(v){return H.H.useRef(v)},it.useState=function(v){return H.H.useState(v)},it.useSyncExternalStore=function(v,z,G){return H.H.useSyncExternalStore(v,z,G)},it.useTransition=function(){return H.H.useTransition()},it.version="19.1.1",it}var J0;function Wu(){return J0||(J0=1,nu.exports=Bb()),nu.exports}var y=Wu();const Re=Gu(y);var ou={exports:{}},Mo={},lu={exports:{}},iu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function zb(){return eg||(eg=1,(function(a){function r(R,$){var T=R.length;R.push($);e:for(;0<T;){var B=T-1>>>1,v=R[B];if(0<c(v,$))R[B]=$,R[T]=v,T=B;else break e}}function o(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var $=R[0],T=R.pop();if(T!==$){R[0]=T;e:for(var B=0,v=R.length,z=v>>>1;B<z;){var G=2*(B+1)-1,P=R[G],L=G+1,ne=R[L];if(0>c(P,T))L<v&&0>c(ne,P)?(R[B]=ne,R[L]=T,B=L):(R[B]=P,R[G]=T,B=G);else if(L<v&&0>c(ne,T))R[B]=ne,R[L]=T,B=L;else break e}}return $}function c(R,$){var T=R.sortIndex-$.sortIndex;return T!==0?T:R.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();a.unstable_now=function(){return h.now()-g}}var x=[],m=[],p=1,b=null,j=3,S=!1,N=!1,_=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function X(R){for(var $=o(m);$!==null;){if($.callback===null)l(m);else if($.startTime<=R)l(m),$.sortIndex=$.expirationTime,r(x,$);else break;$=o(m)}}function H(R){if(_=!1,X(R),!N)if(o(x)!==null)N=!0,F||(F=!0,be());else{var $=o(m);$!==null&&he(H,$.startTime-R)}}var F=!1,Q=-1,ce=5,me=-1;function Se(){return k?!0:!(a.unstable_now()-me<ce)}function _e(){if(k=!1,F){var R=a.unstable_now();me=R;var $=!0;try{e:{N=!1,_&&(_=!1,D(Q),Q=-1),S=!0;var T=j;try{t:{for(X(R),b=o(x);b!==null&&!(b.expirationTime>R&&Se());){var B=b.callback;if(typeof B=="function"){b.callback=null,j=b.priorityLevel;var v=B(b.expirationTime<=R);if(R=a.unstable_now(),typeof v=="function"){b.callback=v,X(R),$=!0;break t}b===o(x)&&l(x),X(R)}else l(x);b=o(x)}if(b!==null)$=!0;else{var z=o(m);z!==null&&he(H,z.startTime-R),$=!1}}break e}finally{b=null,j=T,S=!1}$=void 0}}finally{$?be():F=!1}}}var be;if(typeof M=="function")be=function(){M(_e)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ee=de.port2;de.port1.onmessage=_e,be=function(){ee.postMessage(null)}}else be=function(){A(_e,0)};function he(R,$){Q=A(function(){R(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(R){switch(j){case 1:case 2:case 3:var $=3;break;default:$=j}var T=j;j=$;try{return R()}finally{j=T}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=j;j=R;try{return $()}finally{j=T}},a.unstable_scheduleCallback=function(R,$,T){var B=a.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?B+T:B):T=B,R){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=T+v,R={id:p++,callback:$,priorityLevel:R,startTime:T,expirationTime:v,sortIndex:-1},T>B?(R.sortIndex=T,r(m,R),o(x)===null&&R===o(m)&&(_?(D(Q),Q=-1):_=!0,he(H,T-B))):(R.sortIndex=v,r(x,R),N||S||(N=!0,F||(F=!0,be()))),R},a.unstable_shouldYield=Se,a.unstable_wrapCallback=function(R){var $=j;return function(){var T=j;j=$;try{return R.apply(this,arguments)}finally{j=T}}}})(iu)),iu}var tg;function $b(){return tg||(tg=1,lu.exports=zb()),lu.exports}var cu={exports:{}},gs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Ib(){if(sg)return gs;sg=1;var a=Wu();function r(x){var m="https://react.dev/errors/"+x;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+x+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(x,m,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:x,containerInfo:m,implementation:p}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,m){if(x==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,gs.createPortal=function(x,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return d(x,m,null,p)},gs.flushSync=function(x){var m=h.T,p=l.p;try{if(h.T=null,l.p=2,x)return x()}finally{h.T=m,l.p=p,l.d.f()}},gs.preconnect=function(x,m){typeof x=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(x,m))},gs.prefetchDNS=function(x){typeof x=="string"&&l.d.D(x)},gs.preinit=function(x,m){if(typeof x=="string"&&m&&typeof m.as=="string"){var p=m.as,b=g(p,m.crossOrigin),j=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?l.d.S(x,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:j,fetchPriority:S}):p==="script"&&l.d.X(x,{crossOrigin:b,integrity:j,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gs.preinitModule=function(x,m){if(typeof x=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=g(m.as,m.crossOrigin);l.d.M(x,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(x)},gs.preload=function(x,m){if(typeof x=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,b=g(p,m.crossOrigin);l.d.L(x,p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gs.preloadModule=function(x,m){if(typeof x=="string")if(m){var p=g(m.as,m.crossOrigin);l.d.m(x,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(x)},gs.requestFormReset=function(x){l.d.r(x)},gs.unstable_batchedUpdates=function(x,m){return x(m)},gs.useFormState=function(x,m,p){return h.H.useFormState(x,m,p)},gs.useFormStatus=function(){return h.H.useHostTransitionStatus()},gs.version="19.1.1",gs}var rg;function ap(){if(rg)return cu.exports;rg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),cu.exports=Ib(),cu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Fb(){if(ag)return Mo;ag=1;var a=$b(),r=Wu(),o=ap();function l(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var s=e,n=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(n=s.return),e=s.return;while(e)}return s.tag===3?n:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function x(e){var s=e.alternate;if(!s){if(s=d(e),s===null)throw Error(l(188));return s!==e?null:e}for(var n=e,i=s;;){var u=n.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===n)return g(u),e;if(f===i)return g(u),s;f=f.sibling}throw Error(l(188))}if(n.return!==i.return)n=u,i=f;else{for(var w=!1,C=u.child;C;){if(C===n){w=!0,n=u,i=f;break}if(C===i){w=!0,i=u,n=f;break}C=C.sibling}if(!w){for(C=f.child;C;){if(C===n){w=!0,n=f,i=u;break}if(C===i){w=!0,i=f,n=u;break}C=C.sibling}if(!w)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:s}function m(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=m(e),s!==null)return s;e=e.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case H:return"Suspense";case F:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case M:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case X:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return s=e.displayName||null,s!==null?s:ee(e.type)||"Memo";case ce:s=e._payload,e=e._init;try{return ee(e(s))}catch{}}return null}var he=Array.isArray,R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},B=[],v=-1;function z(e){return{current:e}}function G(e){0>v||(e.current=B[v],B[v]=null,v--)}function P(e,s){v++,B[v]=e.current,e.current=s}var L=z(null),ne=z(null),le=z(null),Te=z(null);function je(e,s){switch(P(le,s),P(ne,e),P(L,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?S0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=S0(s),e=C0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(L),P(L,e)}function ve(){G(L),G(ne),G(le)}function Ae(e){e.memoizedState!==null&&P(Te,e);var s=L.current,n=C0(s,e.type);s!==n&&(P(ne,e),P(L,n))}function K(e){ne.current===e&&(G(L),G(ne)),Te.current===e&&(G(Te),Ao._currentValue=T)}var fe=Object.prototype.hasOwnProperty,ze=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,tt=a.unstable_requestPaint,rt=a.unstable_now,te=a.unstable_getCurrentPriorityLevel,O=a.unstable_ImmediatePriority,J=a.unstable_UserBlockingPriority,xe=a.unstable_NormalPriority,Le=a.unstable_LowPriority,Xe=a.unstable_IdlePriority,W=a.log,Ue=a.unstable_setDisableYieldValue,Y=null,Ce=null;function pe(e){if(typeof W=="function"&&Ue(e),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Y,e)}catch{}}var re=Math.clz32?Math.clz32:I,He=Math.log,ht=Math.LN2;function I(e){return e>>>=0,e===0?32:31-(He(e)/ht|0)|0}var q=256,ge=4194304;function ke(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oe(e,s,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var C=i&134217727;return C!==0?(i=C&~f,i!==0?u=ke(i):(w&=C,w!==0?u=ke(w):n||(n=C&~e,n!==0&&(u=ke(n))))):(C=i&~f,C!==0?u=ke(C):w!==0?u=ke(w):n||(n=i&~e,n!==0&&(u=ke(n)))),u===0?0:s!==0&&s!==u&&(s&f)===0&&(f=u&-u,n=s&-s,f>=n||f===32&&(n&4194048)!==0)?s:u}function $e(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function De(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qe(){var e=q;return q<<=1,(q&4194048)===0&&(q=256),e}function ct(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function We(e){for(var s=[],n=0;31>n;n++)s.push(e);return s}function Me(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _t(e,s,n,i,u,f){var w=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,U=e.expirationTimes,ae=e.hiddenUpdates;for(n=w&~n;0<n;){var ye=31-re(n),Ne=1<<ye;C[ye]=0,U[ye]=-1;var oe=ae[ye];if(oe!==null)for(ae[ye]=null,ye=0;ye<oe.length;ye++){var ie=oe[ye];ie!==null&&(ie.lane&=-536870913)}n&=~Ne}i!==0&&Ye(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(w&~s))}function Ye(e,s,n){e.pendingLanes|=s,e.suspendedLanes&=~s;var i=31-re(s);e.entangledLanes|=s,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function bt(e,s){var n=e.entangledLanes|=s;for(e=e.entanglements;n;){var i=31-re(n),u=1<<i;u&s|e[i]&s&&(e[i]|=s),n&=~u}}function Ot(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hr(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:q0(e.type))}function qt(e,s){var n=$.p;try{return $.p=e,s()}finally{$.p=n}}var zt=Math.random().toString(36).slice(2),$t="__reactFiber$"+zt,St="__reactProps$"+zt,Wt="__reactContainer$"+zt,Or="__reactEvents$"+zt,_s="__reactListeners$"+zt,nl="__reactHandles$"+zt,ol="__reactResources$"+zt,Ie="__reactMarker$"+zt;function Be(e){delete e[$t],delete e[St],delete e[Or],delete e[_s],delete e[nl]}function Fe(e){var s=e[$t];if(s)return s;for(var n=e.parentNode;n;){if(s=n[Wt]||n[$t]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(e=A0(e);e!==null;){if(n=e[$t])return n;e=A0(e)}return s}e=n,n=e.parentNode}return null}function Je(e){if(e=e[$t]||e[Wt]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function vt(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(l(33))}function Yt(e){var s=e[ol];return s||(s=e[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function et(e){e[Ie]=!0}var at=new Set,hs={};function nt(e,s){fs(e,s),fs(e+"Capture",s)}function fs(e,s){for(hs[e]=s,e=0;e<s.length;e++)at.add(s[e])}var mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},gh={};function Ex(e){return fe.call(gh,e)?!0:fe.call(ll,e)?!1:mh.test(e)?gh[e]=!0:(ll[e]=!0,!1)}function il(e,s,n){if(Ex(s))if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var i=s.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+n)}}function cl(e,s,n){if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+n)}}function fr(e,s,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(s,n,""+i)}}var Zi,ph;function Ba(e){if(Zi===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Zi=s&&s[1]||"",ph=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+e+ph}var Ji=!1;function ec(e,s){if(!e||Ji)return"";Ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(s){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ie){var oe=ie}Reflect.construct(e,[],Ne)}else{try{Ne.call()}catch(ie){oe=ie}e.call(Ne.prototype)}}else{try{throw Error()}catch(ie){oe=ie}(Ne=e())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ie){if(ie&&oe&&typeof ie.stack=="string")return[ie.stack,oe.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),w=f[0],C=f[1];if(w&&C){var U=w.split(`
`),ae=C.split(`
`);for(u=i=0;i<U.length&&!U[i].includes("DetermineComponentFrameRoot");)i++;for(;u<ae.length&&!ae[u].includes("DetermineComponentFrameRoot");)u++;if(i===U.length||u===ae.length)for(i=U.length-1,u=ae.length-1;1<=i&&0<=u&&U[i]!==ae[u];)u--;for(;1<=i&&0<=u;i--,u--)if(U[i]!==ae[u]){if(i!==1||u!==1)do if(i--,u--,0>u||U[i]!==ae[u]){var ye=`
`+U[i].replace(" at new "," at ");return e.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",e.displayName)),ye}while(1<=i&&0<=u);break}}}finally{Ji=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ba(n):""}function _x(e){switch(e.tag){case 26:case 27:case 5:return Ba(e.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return ec(e.type,!1);case 11:return ec(e.type.render,!1);case 1:return ec(e.type,!0);case 31:return Ba("Activity");default:return""}}function xh(e){try{var s="";do s+=_x(e),e=e.return;while(e);return s}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Us(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yh(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ax(e){var s=yh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),i=""+e[s];if(!e.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,f=n.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return u.call(this)},set:function(w){i=""+w,f.call(this,w)}}),Object.defineProperty(e,s,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function dl(e){e._valueTracker||(e._valueTracker=Ax(e))}function bh(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var n=s.getValue(),i="";return e&&(i=yh(e)?e.checked?"true":"false":e.value),e=i,e!==n?(s.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dx=/[\n"\\]/g;function Bs(e){return e.replace(Dx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tc(e,s,n,i,u,f,w,C){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),s!=null?w==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Us(s)):e.value!==""+Us(s)&&(e.value=""+Us(s)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),s!=null?sc(e,w,Us(s)):n!=null?sc(e,w,Us(n)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Us(C):e.removeAttribute("name")}function vh(e,s,n,i,u,f,w,C){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),s!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;n=n!=null?""+Us(n):"",s=s!=null?""+Us(s):n,C||s===e.value||(e.value=s),e.defaultValue=s}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=C?e.checked:!!i,e.defaultChecked=!!i,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function sc(e,s,n){s==="number"&&ul(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,s,n,i){if(e=e.options,s){s={};for(var u=0;u<n.length;u++)s["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=s.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Us(n),s=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}s!==null||e[u].disabled||(s=e[u])}s!==null&&(s.selected=!0)}}function wh(e,s,n){if(s!=null&&(s=""+Us(s),s!==e.value&&(e.value=s),n==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=n!=null?""+Us(n):""}function jh(e,s,n,i){if(s==null){if(i!=null){if(n!=null)throw Error(l(92));if(he(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),s=n}n=Us(s),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function $a(e,s){if(s){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=s;return}}e.textContent=s}var Tx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(e,s,n){var i=s.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":i?e.setProperty(s,n):typeof n!="number"||n===0||Tx.has(s)?s==="float"?e.cssFloat=n:e[s]=(""+n).trim():e[s]=n+"px"}function Sh(e,s,n){if(s!=null&&typeof s!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||s!=null&&s.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in s)i=s[u],s.hasOwnProperty(u)&&n[u]!==i&&Nh(e,u,i)}else for(var f in s)s.hasOwnProperty(f)&&Nh(e,f,s[f])}function rc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return Lx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ac=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Fa=null;function Ch(e){var s=Je(e);if(s&&(e=s.stateNode)){var n=e[St]||null;e:switch(e=s.stateNode,s.type){case"input":if(tc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),s=n.name,n.type==="radio"&&s!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bs(""+s)+'"][type="radio"]'),s=0;s<n.length;s++){var i=n[s];if(i!==e&&i.form===e.form){var u=i[St]||null;if(!u)throw Error(l(90));tc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(s=0;s<n.length;s++)i=n[s],i.form===e.form&&bh(i)}break e;case"textarea":wh(e,n.value,n.defaultValue);break e;case"select":s=n.value,s!=null&&za(e,!!n.multiple,s,!1)}}}var oc=!1;function kh(e,s,n){if(oc)return e(s,n);oc=!0;try{var i=e(s);return i}finally{if(oc=!1,(Ia!==null||Fa!==null)&&(Xl(),Ia&&(s=Ia,e=Fa,Fa=Ia=null,Ch(s),e)))for(s=0;s<e.length;s++)Ch(e[s])}}function Fn(e,s){var n=e.stateNode;if(n===null)return null;var i=n[St]||null;if(i===null)return null;n=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,s,typeof n));return n}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(mr)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{lc=!1}var Mr=null,ic=null,fl=null;function Eh(){if(fl)return fl;var e,s=ic,n=s.length,i,u="value"in Mr?Mr.value:Mr.textContent,f=u.length;for(e=0;e<n&&s[e]===u[e];e++);var w=n-e;for(i=1;i<=w&&s[n-i]===u[f-i];i++);return fl=u.slice(e,1<i?1-i:void 0)}function ml(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function _h(){return!1}function ws(e){function s(n,i,u,f,w){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(f):f[C]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gl:_h,this.isPropagationStopped=_h,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),s}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=ws(da),Pn=p({},da,{view:0,detail:0}),Ox=ws(Pn),cc,dc,qn,xl=p({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(cc=e.screenX-qn.screenX,dc=e.screenY-qn.screenY):dc=cc=0,qn=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),Ah=ws(xl),Mx=p({},xl,{dataTransfer:0}),Ux=ws(Mx),Bx=p({},Pn,{relatedTarget:0}),uc=ws(Bx),zx=p({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),$x=ws(zx),Ix=p({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fx=ws(Ix),Hx=p({},da,{data:0}),Dh=ws(Hx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Yx[e])?!!s[e]:!1}function hc(){return Vx}var Gx=p({},Pn,{key:function(e){if(e.key){var s=Px[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wx=ws(Gx),Kx=p({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=ws(Kx),Qx=p({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),Xx=ws(Qx),Zx=p({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=ws(Zx),ey=p({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ty=ws(ey),sy=p({},da,{newState:0,oldState:0}),ry=ws(sy),ay=[9,13,27,32],fc=mr&&"CompositionEvent"in window,Yn=null;mr&&"documentMode"in document&&(Yn=document.documentMode);var ny=mr&&"TextEvent"in window&&!Yn,Rh=mr&&(!fc||Yn&&8<Yn&&11>=Yn),Lh=" ",Oh=!1;function Mh(e,s){switch(e){case"keyup":return ay.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function oy(e,s){switch(e){case"compositionend":return Uh(s);case"keypress":return s.which!==32?null:(Oh=!0,Lh);case"textInput":return e=s.data,e===Lh&&Oh?null:e;default:return null}}function ly(e,s){if(Ha)return e==="compositionend"||!fc&&Mh(e,s)?(e=Eh(),fl=ic=Mr=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rh&&s.locale!=="ko"?null:s.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!iy[e.type]:s==="textarea"}function zh(e,s,n,i){Ia?Fa?Fa.push(i):Fa=[i]:Ia=i,s=ri(s,"onChange"),0<s.length&&(n=new pl("onChange","change",null,n,i),e.push({event:n,listeners:s}))}var Vn=null,Gn=null;function cy(e){b0(e,0)}function yl(e){var s=vt(e);if(bh(s))return e}function $h(e,s){if(e==="change")return s}var Ih=!1;if(mr){var mc;if(mr){var gc="oninput"in document;if(!gc){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),gc=typeof Fh.oninput=="function"}mc=gc}else mc=!1;Ih=mc&&(!document.documentMode||9<document.documentMode)}function Hh(){Vn&&(Vn.detachEvent("onpropertychange",Ph),Gn=Vn=null)}function Ph(e){if(e.propertyName==="value"&&yl(Gn)){var s=[];zh(s,Gn,e,nc(e)),kh(cy,s)}}function dy(e,s,n){e==="focusin"?(Hh(),Vn=s,Gn=n,Vn.attachEvent("onpropertychange",Ph)):e==="focusout"&&Hh()}function uy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(Gn)}function hy(e,s){if(e==="click")return yl(s)}function fy(e,s){if(e==="input"||e==="change")return yl(s)}function my(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var As=typeof Object.is=="function"?Object.is:my;function Wn(e,s){if(As(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var n=Object.keys(e),i=Object.keys(s);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!fe.call(s,u)||!As(e[u],s[u]))return!1}return!0}function qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yh(e,s){var n=qh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=s&&i>=s)return{node:n,offset:s-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qh(n)}}function Vh(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Vh(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Gh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=ul(e.document);s instanceof e.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)e=s.contentWindow;else break;s=ul(e.document)}return s}function pc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var gy=mr&&"documentMode"in document&&11>=document.documentMode,Pa=null,xc=null,Kn=null,yc=!1;function Wh(e,s,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yc||Pa==null||Pa!==ul(i)||(i=Pa,"selectionStart"in i&&pc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Kn&&Wn(Kn,i)||(Kn=i,i=ri(xc,"onSelect"),0<i.length&&(s=new pl("onSelect","select",null,s,n),e.push({event:s,listeners:i}),s.target=Pa)))}function ua(e,s){var n={};return n[e.toLowerCase()]=s.toLowerCase(),n["Webkit"+e]="webkit"+s,n["Moz"+e]="moz"+s,n}var qa={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},bc={},Kh={};mr&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function ha(e){if(bc[e])return bc[e];if(!qa[e])return e;var s=qa[e],n;for(n in s)if(s.hasOwnProperty(n)&&n in Kh)return bc[e]=s[n];return e}var Qh=ha("animationend"),Xh=ha("animationiteration"),Zh=ha("animationstart"),py=ha("transitionrun"),xy=ha("transitionstart"),yy=ha("transitioncancel"),Jh=ha("transitionend"),ef=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function Gs(e,s){ef.set(e,s),nt(s,[e])}var tf=new WeakMap;function zs(e,s){if(typeof e=="object"&&e!==null){var n=tf.get(e);return n!==void 0?n:(s={value:e,source:s,stack:xh(s)},tf.set(e,s),s)}return{value:e,source:s,stack:xh(s)}}var $s=[],Ya=0,wc=0;function bl(){for(var e=Ya,s=wc=Ya=0;s<e;){var n=$s[s];$s[s++]=null;var i=$s[s];$s[s++]=null;var u=$s[s];$s[s++]=null;var f=$s[s];if($s[s++]=null,i!==null&&u!==null){var w=i.pending;w===null?u.next=u:(u.next=w.next,w.next=u),i.pending=u}f!==0&&sf(n,u,f)}}function vl(e,s,n,i){$s[Ya++]=e,$s[Ya++]=s,$s[Ya++]=n,$s[Ya++]=i,wc|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function jc(e,s,n,i){return vl(e,s,n,i),wl(e)}function Va(e,s){return vl(e,null,null,s),wl(e)}function sf(e,s,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,f=e.return;f!==null;)f.childLanes|=n,i=f.alternate,i!==null&&(i.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&s!==null&&(u=31-re(n),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[s]:i.push(s),s.lane=n|536870912),f):null}function wl(e){if(50<wo)throw wo=0,_d=null,Error(l(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ga={};function by(e,s,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(e,s,n,i){return new by(e,s,n,i)}function Nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gr(e,s){var n=e.alternate;return n===null?(n=Ds(e.tag,s,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=s,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,s=e.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rf(e,s){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,s=n.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function jl(e,s,n,i,u,f){var w=0;if(i=e,typeof e=="function")Nc(e)&&(w=1);else if(typeof e=="string")w=wb(e,n,L.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=Ds(31,n,s,u),e.elementType=me,e.lanes=f,e;case N:return fa(n.children,u,f,s);case _:w=8,u|=24;break;case k:return e=Ds(12,n,s,u|2),e.elementType=k,e.lanes=f,e;case H:return e=Ds(13,n,s,u),e.elementType=H,e.lanes=f,e;case F:return e=Ds(19,n,s,u),e.elementType=F,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case M:w=10;break e;case D:w=9;break e;case X:w=11;break e;case Q:w=14;break e;case ce:w=16,i=null;break e}w=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return s=Ds(w,n,s,u),s.elementType=e,s.type=i,s.lanes=f,s}function fa(e,s,n,i){return e=Ds(7,e,i,s),e.lanes=n,e}function Sc(e,s,n){return e=Ds(6,e,null,s),e.lanes=n,e}function Cc(e,s,n){return s=Ds(4,e.children!==null?e.children:[],e.key,s),s.lanes=n,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Wa=[],Ka=0,Nl=null,Sl=0,Is=[],Fs=0,ma=null,pr=1,xr="";function ga(e,s){Wa[Ka++]=Sl,Wa[Ka++]=Nl,Nl=e,Sl=s}function af(e,s,n){Is[Fs++]=pr,Is[Fs++]=xr,Is[Fs++]=ma,ma=e;var i=pr;e=xr;var u=32-re(i)-1;i&=~(1<<u),n+=1;var f=32-re(s)+u;if(30<f){var w=u-u%5;f=(i&(1<<w)-1).toString(32),i>>=w,u-=w,pr=1<<32-re(s)+u|n<<u|i,xr=f+e}else pr=1<<f|n<<u|i,xr=e}function kc(e){e.return!==null&&(ga(e,1),af(e,1,0))}function Ec(e){for(;e===Nl;)Nl=Wa[--Ka],Wa[Ka]=null,Sl=Wa[--Ka],Wa[Ka]=null;for(;e===ma;)ma=Is[--Fs],Is[Fs]=null,xr=Is[--Fs],Is[Fs]=null,pr=Is[--Fs],Is[Fs]=null}var bs=null,Ht=null,yt=!1,pa=null,rr=!1,_c=Error(l(519));function xa(e){var s=Error(l(418,""));throw Zn(zs(s,e)),_c}function nf(e){var s=e.stateNode,n=e.type,i=e.memoizedProps;switch(s[$t]=e,s[St]=i,n){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(n=0;n<No.length;n++)mt(No[n],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),vh(s,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dl(s);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),jh(s,i.value,i.defaultValue,i.children),dl(s)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||s.textContent===""+n||i.suppressHydrationWarning===!0||N0(s.textContent,n)?(i.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),i.onScroll!=null&&mt("scroll",s),i.onScrollEnd!=null&&mt("scrollend",s),i.onClick!=null&&(s.onclick=ai),s=!0):s=!1,s||xa(e)}function of(e){for(bs=e.return;bs;)switch(bs.tag){case 5:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:bs=bs.return}}function Qn(e){if(e!==bs)return!1;if(!yt)return of(e),yt=!0,!1;var s=e.tag,n;if((n=s!==3&&s!==27)&&((n=s===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qd(e.type,e.memoizedProps)),n=!n),n&&Ht&&xa(e),of(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(s===0){Ht=Ks(e.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++;e=e.nextSibling}Ht=null}}else s===27?(s=Ht,Xr(e.type)?(e=Wd,Wd=null,Ht=e):Ht=s):Ht=bs?Ks(e.stateNode.nextSibling):null;return!0}function Xn(){Ht=bs=null,yt=!1}function lf(){var e=pa;return e!==null&&(Ss===null?Ss=e:Ss.push.apply(Ss,e),pa=null),e}function Zn(e){pa===null?pa=[e]:pa.push(e)}var Ac=z(null),ya=null,yr=null;function Ur(e,s,n){P(Ac,s._currentValue),s._currentValue=n}function br(e){e._currentValue=Ac.current,G(Ac)}function Dc(e,s,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),e===n)break;e=e.return}}function Tc(e,s,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var w=u.child;f=f.firstContext;e:for(;f!==null;){var C=f;f=u;for(var U=0;U<s.length;U++)if(C.context===s[U]){f.lanes|=n,C=f.alternate,C!==null&&(C.lanes|=n),Dc(f.return,n,e),i||(w=null);break e}f=C.next}}else if(u.tag===18){if(w=u.return,w===null)throw Error(l(341));w.lanes|=n,f=w.alternate,f!==null&&(f.lanes|=n),Dc(w,n,e),w=null}else w=u.child;if(w!==null)w.return=u;else for(w=u;w!==null;){if(w===e){w=null;break}if(u=w.sibling,u!==null){u.return=w.return,w=u;break}w=w.return}u=w}}function Jn(e,s,n,i){e=null;for(var u=s,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var w=u.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var C=u.type;As(u.pendingProps.value,w.value)||(e!==null?e.push(C):e=[C])}}else if(u===Te.current){if(w=u.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ao):e=[Ao])}u=u.return}e!==null&&Tc(s,e,n,i),s.flags|=262144}function Cl(e){for(e=e.firstContext;e!==null;){if(!As(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){ya=e,yr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ms(e){return cf(ya,e)}function kl(e,s){return ya===null&&ba(e),cf(e,s)}function cf(e,s){var n=s._currentValue;if(s={context:s,memoizedValue:n,next:null},yr===null){if(e===null)throw Error(l(308));yr=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else yr=yr.next=s;return n}var vy=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){s.aborted=!0,e.forEach(function(n){return n()})}},wy=a.unstable_scheduleCallback,jy=a.unstable_NormalPriority,Jt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new vy,data:new Map,refCount:0}}function eo(e){e.refCount--,e.refCount===0&&wy(jy,function(){e.controller.abort()})}var to=null,Lc=0,Qa=0,Xa=null;function Ny(e,s){if(to===null){var n=to=[];Lc=0,Qa=Md(),Xa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Lc++,s.then(df,df),s}function df(){if(--Lc===0&&to!==null){Xa!==null&&(Xa.status="fulfilled");var e=to;to=null,Qa=0,Xa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Sy(e,s){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=s;for(var u=0;u<n.length;u++)(0,n[u])(s)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var uf=R.S;R.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ny(e,s),uf!==null&&uf(e,s)};var va=z(null);function Oc(){var e=va.current;return e!==null?e:Tt.pooledCache}function El(e,s){s===null?P(va,va.current):P(va,s.pool)}function hf(){var e=Oc();return e===null?null:{parent:Jt._currentValue,pool:e}}var so=Error(l(460)),ff=Error(l(474)),_l=Error(l(542)),Mc={then:function(){}};function mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Al(){}function gf(e,s,n){switch(n=e[n],n===void 0?e.push(s):n!==s&&(s.then(Al,Al),s=n),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,xf(e),e;default:if(typeof s.status=="string")s.then(Al,Al);else{if(e=Tt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=s,e.status="pending",e.then(function(i){if(s.status==="pending"){var u=s;u.status="fulfilled",u.value=i}},function(i){if(s.status==="pending"){var u=s;u.status="rejected",u.reason=i}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,xf(e),e}throw ro=s,so}}var ro=null;function pf(){if(ro===null)throw Error(l(459));var e=ro;return ro=null,e}function xf(e){if(e===so||e===_l)throw Error(l(483))}var Br=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $r(e,s,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(wt&2)!==0){var u=i.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s,s=wl(e),sf(e,null,n),s}return vl(e,i,s,n),wl(e)}function ao(e,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194048)!==0)){var i=s.lanes;i&=e.pendingLanes,n|=i,s.lanes=n,bt(e,n)}}function zc(e,s){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?u=f=w:f=f.next=w,n=n.next}while(n!==null);f===null?u=f=s:f=f.next=s}else u=f=s;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=s:e.next=s,n.lastBaseUpdate=s}var $c=!1;function no(){if($c){var e=Xa;if(e!==null)throw e}}function oo(e,s,n,i){$c=!1;var u=e.updateQueue;Br=!1;var f=u.firstBaseUpdate,w=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var U=C,ae=U.next;U.next=null,w===null?f=ae:w.next=ae,w=U;var ye=e.alternate;ye!==null&&(ye=ye.updateQueue,C=ye.lastBaseUpdate,C!==w&&(C===null?ye.firstBaseUpdate=ae:C.next=ae,ye.lastBaseUpdate=U))}if(f!==null){var Ne=u.baseState;w=0,ye=ae=U=null,C=f;do{var oe=C.lane&-536870913,ie=oe!==C.lane;if(ie?(pt&oe)===oe:(i&oe)===oe){oe!==0&&oe===Qa&&($c=!0),ye!==null&&(ye=ye.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var st=e,Qe=C;oe=s;var Et=n;switch(Qe.tag){case 1:if(st=Qe.payload,typeof st=="function"){Ne=st.call(Et,Ne,oe);break e}Ne=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Qe.payload,oe=typeof st=="function"?st.call(Et,Ne,oe):st,oe==null)break e;Ne=p({},Ne,oe);break e;case 2:Br=!0}}oe=C.callback,oe!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[oe]:ie.push(oe))}else ie={lane:oe,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ye===null?(ae=ye=ie,U=Ne):ye=ye.next=ie,w|=oe;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);ye===null&&(U=Ne),u.baseState=U,u.firstBaseUpdate=ae,u.lastBaseUpdate=ye,f===null&&(u.shared.lanes=0),Gr|=w,e.lanes=w,e.memoizedState=Ne}}function yf(e,s){if(typeof e!="function")throw Error(l(191,e));e.call(s)}function bf(e,s){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)yf(n[e],s)}var Za=z(null),Dl=z(0);function vf(e,s){e=kr,P(Dl,e),P(Za,s),kr=e|s.baseLanes}function Ic(){P(Dl,kr),P(Za,Za.current)}function Fc(){kr=Dl.current,G(Za),G(Dl)}var Ir=0,dt=null,Ct=null,Kt=null,Tl=!1,Ja=!1,wa=!1,Rl=0,lo=0,en=null,Cy=0;function Vt(){throw Error(l(321))}function Hc(e,s){if(s===null)return!1;for(var n=0;n<s.length&&n<e.length;n++)if(!As(e[n],s[n]))return!1;return!0}function Pc(e,s,n,i,u,f){return Ir=f,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=e===null||e.memoizedState===null?rm:am,wa=!1,f=n(i,u),wa=!1,Ja&&(f=jf(s,n,i,u)),wf(e),f}function wf(e){R.H=zl;var s=Ct!==null&&Ct.next!==null;if(Ir=0,Kt=Ct=dt=null,Tl=!1,lo=0,en=null,s)throw Error(l(300));e===null||rs||(e=e.dependencies,e!==null&&Cl(e)&&(rs=!0))}function jf(e,s,n,i){dt=e;var u=0;do{if(Ja&&(en=null),lo=0,Ja=!1,25<=u)throw Error(l(301));if(u+=1,Kt=Ct=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}R.H=Ry,f=s(n,i)}while(Ja);return f}function ky(){var e=R.H,s=e.useState()[0];return s=typeof s.then=="function"?io(s):s,e=e.useState()[0],(Ct!==null?Ct.memoizedState:null)!==e&&(dt.flags|=1024),s}function qc(){var e=Rl!==0;return Rl=0,e}function Yc(e,s,n){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n}function Vc(e){if(Tl){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Tl=!1}Ir=0,Kt=Ct=dt=null,Ja=!1,lo=Rl=0,en=null}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?dt.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Qt(){if(Ct===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var s=Kt===null?dt.memoizedState:Kt.next;if(s!==null)Kt=s,Ct=e;else{if(e===null)throw dt.alternate===null?Error(l(467)):Error(l(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Kt===null?dt.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(e){var s=lo;return lo+=1,en===null&&(en=[]),e=gf(en,e,s),s=dt,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?rm:am),e}function Ll(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return io(e);if(e.$$typeof===M)return ms(e)}throw Error(l(438,String(e)))}function Wc(e){var s=null,n=dt.updateQueue;if(n!==null&&(s=n.memoCache),s==null){var i=dt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(s={data:i.data.map(function(u){return u.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),n===null&&(n=Gc(),dt.updateQueue=n),n.memoCache=s,n=s.data[s.index],n===void 0)for(n=s.data[s.index]=Array(e),i=0;i<e;i++)n[i]=Se;return s.index++,n}function vr(e,s){return typeof s=="function"?s(e):s}function Ol(e){var s=Qt();return Kc(s,Ct,e)}function Kc(e,s,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var w=u.next;u.next=f.next,f.next=w}s.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{s=u.next;var C=w=null,U=null,ae=s,ye=!1;do{var Ne=ae.lane&-536870913;if(Ne!==ae.lane?(pt&Ne)===Ne:(Ir&Ne)===Ne){var oe=ae.revertLane;if(oe===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),Ne===Qa&&(ye=!0);else if((Ir&oe)===oe){ae=ae.next,oe===Qa&&(ye=!0);continue}else Ne={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},U===null?(C=U=Ne,w=f):U=U.next=Ne,dt.lanes|=oe,Gr|=oe;Ne=ae.action,wa&&n(f,Ne),f=ae.hasEagerState?ae.eagerState:n(f,Ne)}else oe={lane:Ne,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},U===null?(C=U=oe,w=f):U=U.next=oe,dt.lanes|=Ne,Gr|=Ne;ae=ae.next}while(ae!==null&&ae!==s);if(U===null?w=f:U.next=C,!As(f,e.memoizedState)&&(rs=!0,ye&&(n=Xa,n!==null)))throw n;e.memoizedState=f,e.baseState=w,e.baseQueue=U,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Qc(e){var s=Qt(),n=s.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,f=s.memoizedState;if(u!==null){n.pending=null;var w=u=u.next;do f=e(f,w.action),w=w.next;while(w!==u);As(f,s.memoizedState)||(rs=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),n.lastRenderedState=f}return[f,i]}function Nf(e,s,n){var i=dt,u=Qt(),f=yt;if(f){if(n===void 0)throw Error(l(407));n=n()}else n=s();var w=!As((Ct||u).memoizedState,n);w&&(u.memoizedState=n,rs=!0),u=u.queue;var C=kf.bind(null,i,u,e);if(co(2048,8,C,[e]),u.getSnapshot!==s||w||Kt!==null&&Kt.memoizedState.tag&1){if(i.flags|=2048,tn(9,Ml(),Cf.bind(null,i,u,n,s),null),Tt===null)throw Error(l(349));f||(Ir&124)!==0||Sf(i,s,n)}return n}function Sf(e,s,n){e.flags|=16384,e={getSnapshot:s,value:n},s=dt.updateQueue,s===null?(s=Gc(),dt.updateQueue=s,s.stores=[e]):(n=s.stores,n===null?s.stores=[e]:n.push(e))}function Cf(e,s,n,i){s.value=n,s.getSnapshot=i,Ef(s)&&_f(e)}function kf(e,s,n){return n(function(){Ef(s)&&_f(e)})}function Ef(e){var s=e.getSnapshot;e=e.value;try{var n=s();return!As(e,n)}catch{return!0}}function _f(e){var s=Va(e,2);s!==null&&Ms(s,e,2)}function Xc(e){var s=js();if(typeof e=="function"){var n=e;if(e=n(),wa){pe(!0);try{n()}finally{pe(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},s}function Af(e,s,n,i){return e.baseState=n,Kc(e,Ct,typeof i=="function"?i:vr)}function Ey(e,s,n,i,u){if(Bl(e))throw Error(l(485));if(e=s.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};R.T!==null?n(!0):f.isTransition=!1,i(f),n=s.pending,n===null?(f.next=s.pending=f,Df(s,f)):(f.next=n.next,s.pending=n.next=f)}}function Df(e,s){var n=s.action,i=s.payload,u=e.state;if(s.isTransition){var f=R.T,w={};R.T=w;try{var C=n(u,i),U=R.S;U!==null&&U(w,C),Tf(e,s,C)}catch(ae){Zc(e,s,ae)}finally{R.T=f}}else try{f=n(u,i),Tf(e,s,f)}catch(ae){Zc(e,s,ae)}}function Tf(e,s,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Rf(e,s,i)},function(i){return Zc(e,s,i)}):Rf(e,s,n)}function Rf(e,s,n){s.status="fulfilled",s.value=n,Lf(s),e.state=n,s=e.pending,s!==null&&(n=s.next,n===s?e.pending=null:(n=n.next,s.next=n,Df(e,n)))}function Zc(e,s,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do s.status="rejected",s.reason=n,Lf(s),s=s.next;while(s!==i)}e.action=null}function Lf(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Of(e,s){return s}function Mf(e,s){if(yt){var n=Tt.formState;if(n!==null){e:{var i=dt;if(yt){if(Ht){t:{for(var u=Ht,f=rr;u.nodeType!==8;){if(!f){u=null;break t}if(u=Ks(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ht=Ks(u.nextSibling),i=u.data==="F!";break e}}xa(i)}i=!1}i&&(s=n[0])}}return n=js(),n.memoizedState=n.baseState=s,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:s},n.queue=i,n=em.bind(null,dt,i),i.dispatch=n,i=Xc(!1),f=rd.bind(null,dt,!1,i.queue),i=js(),u={state:s,dispatch:null,action:e,pending:null},i.queue=u,n=Ey.bind(null,dt,u,f,n),u.dispatch=n,i.memoizedState=e,[s,n,!1]}function Uf(e){var s=Qt();return Bf(s,Ct,e)}function Bf(e,s,n){if(s=Kc(e,s,Of)[0],e=Ol(vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var i=io(s)}catch(w){throw w===so?_l:w}else i=s;s=Qt();var u=s.queue,f=u.dispatch;return n!==s.memoizedState&&(dt.flags|=2048,tn(9,Ml(),_y.bind(null,u,n),null)),[i,f,e]}function _y(e,s){e.action=s}function zf(e){var s=Qt(),n=Ct;if(n!==null)return Bf(s,n,e);Qt(),s=s.memoizedState,n=Qt();var i=n.queue.dispatch;return n.memoizedState=e,[s,i,!1]}function tn(e,s,n,i){return e={tag:e,create:n,deps:i,inst:s,next:null},s=dt.updateQueue,s===null&&(s=Gc(),dt.updateQueue=s),n=s.lastEffect,n===null?s.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,s.lastEffect=e),e}function Ml(){return{destroy:void 0,resource:void 0}}function $f(){return Qt().memoizedState}function Ul(e,s,n,i){var u=js();i=i===void 0?null:i,dt.flags|=e,u.memoizedState=tn(1|s,Ml(),n,i)}function co(e,s,n,i){var u=Qt();i=i===void 0?null:i;var f=u.memoizedState.inst;Ct!==null&&i!==null&&Hc(i,Ct.memoizedState.deps)?u.memoizedState=tn(s,f,n,i):(dt.flags|=e,u.memoizedState=tn(1|s,f,n,i))}function If(e,s){Ul(8390656,8,e,s)}function Ff(e,s){co(2048,8,e,s)}function Hf(e,s){return co(4,2,e,s)}function Pf(e,s){return co(4,4,e,s)}function qf(e,s){if(typeof s=="function"){e=e();var n=s(e);return function(){typeof n=="function"?n():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Yf(e,s,n){n=n!=null?n.concat([e]):null,co(4,4,qf.bind(null,s,e),n)}function Jc(){}function Vf(e,s){var n=Qt();s=s===void 0?null:s;var i=n.memoizedState;return s!==null&&Hc(s,i[1])?i[0]:(n.memoizedState=[e,s],e)}function Gf(e,s){var n=Qt();s=s===void 0?null:s;var i=n.memoizedState;if(s!==null&&Hc(s,i[1]))return i[0];if(i=e(),wa){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[i,s],i}function ed(e,s,n){return n===void 0||(Ir&1073741824)!==0?e.memoizedState=s:(e.memoizedState=n,e=Qm(),dt.lanes|=e,Gr|=e,n)}function Wf(e,s,n,i){return As(n,s)?n:Za.current!==null?(e=ed(e,n,i),As(e,s)||(rs=!0),e):(Ir&42)===0?(rs=!0,e.memoizedState=n):(e=Qm(),dt.lanes|=e,Gr|=e,s)}function Kf(e,s,n,i,u){var f=$.p;$.p=f!==0&&8>f?f:8;var w=R.T,C={};R.T=C,rd(e,!1,s,n);try{var U=u(),ae=R.S;if(ae!==null&&ae(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ye=Sy(U,i);uo(e,s,ye,Os(e))}else uo(e,s,i,Os(e))}catch(Ne){uo(e,s,{then:function(){},status:"rejected",reason:Ne},Os())}finally{$.p=f,R.T=w}}function Ay(){}function td(e,s,n,i){if(e.tag!==5)throw Error(l(476));var u=Qf(e).queue;Kf(e,u,s,T,n===null?Ay:function(){return Xf(e),n(i)})}function Qf(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:T},next:null};var n={};return s.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:n},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Xf(e){var s=Qf(e).next.queue;uo(e,s,{},Os())}function sd(){return ms(Ao)}function Zf(){return Qt().memoizedState}function Jf(){return Qt().memoizedState}function Dy(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var n=Os();e=zr(n);var i=$r(s,e,n);i!==null&&(Ms(i,s,n),ao(i,s,n)),s={cache:Rc()},e.payload=s;return}s=s.return}}function Ty(e,s,n){var i=Os();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bl(e)?tm(s,n):(n=jc(e,s,n,i),n!==null&&(Ms(n,e,i),sm(n,s,i)))}function em(e,s,n){var i=Os();uo(e,s,n,i)}function uo(e,s,n,i){var u={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bl(e))tm(s,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var w=s.lastRenderedState,C=f(w,n);if(u.hasEagerState=!0,u.eagerState=C,As(C,w))return vl(e,s,u,0),Tt===null&&bl(),!1}catch{}finally{}if(n=jc(e,s,u,i),n!==null)return Ms(n,e,i),sm(n,s,i),!0}return!1}function rd(e,s,n,i){if(i={lane:2,revertLane:Md(),action:i,hasEagerState:!1,eagerState:null,next:null},Bl(e)){if(s)throw Error(l(479))}else s=jc(e,n,i,2),s!==null&&Ms(s,e,2)}function Bl(e){var s=e.alternate;return e===dt||s!==null&&s===dt}function tm(e,s){Ja=Tl=!0;var n=e.pending;n===null?s.next=s:(s.next=n.next,n.next=s),e.pending=s}function sm(e,s,n){if((n&4194048)!==0){var i=s.lanes;i&=e.pendingLanes,n|=i,s.lanes=n,bt(e,n)}}var zl={readContext:ms,use:Ll,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},rm={readContext:ms,use:Ll,useCallback:function(e,s){return js().memoizedState=[e,s===void 0?null:s],e},useContext:ms,useEffect:If,useImperativeHandle:function(e,s,n){n=n!=null?n.concat([e]):null,Ul(4194308,4,qf.bind(null,s,e),n)},useLayoutEffect:function(e,s){return Ul(4194308,4,e,s)},useInsertionEffect:function(e,s){Ul(4,2,e,s)},useMemo:function(e,s){var n=js();s=s===void 0?null:s;var i=e();if(wa){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[i,s],i},useReducer:function(e,s,n){var i=js();if(n!==void 0){var u=n(s);if(wa){pe(!0);try{n(s)}finally{pe(!1)}}}else u=s;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Ty.bind(null,dt,e),[i.memoizedState,e]},useRef:function(e){var s=js();return e={current:e},s.memoizedState=e},useState:function(e){e=Xc(e);var s=e.queue,n=em.bind(null,dt,s);return s.dispatch=n,[e.memoizedState,n]},useDebugValue:Jc,useDeferredValue:function(e,s){var n=js();return ed(n,e,s)},useTransition:function(){var e=Xc(!1);return e=Kf.bind(null,dt,e.queue,!0,!1),js().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,n){var i=dt,u=js();if(yt){if(n===void 0)throw Error(l(407));n=n()}else{if(n=s(),Tt===null)throw Error(l(349));(pt&124)!==0||Sf(i,s,n)}u.memoizedState=n;var f={value:n,getSnapshot:s};return u.queue=f,If(kf.bind(null,i,f,e),[e]),i.flags|=2048,tn(9,Ml(),Cf.bind(null,i,f,n,s),null),n},useId:function(){var e=js(),s=Tt.identifierPrefix;if(yt){var n=xr,i=pr;n=(i&~(1<<32-re(i)-1)).toString(32)+n,s=""+s+"R"+n,n=Rl++,0<n&&(s+="H"+n.toString(32)),s+=""}else n=Cy++,s=""+s+"r"+n.toString(32)+"";return e.memoizedState=s},useHostTransitionStatus:sd,useFormState:Mf,useActionState:Mf,useOptimistic:function(e){var s=js();s.memoizedState=s.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=n,s=rd.bind(null,dt,!0,n),n.dispatch=s,[e,s]},useMemoCache:Wc,useCacheRefresh:function(){return js().memoizedState=Dy.bind(null,dt)}},am={readContext:ms,use:Ll,useCallback:Vf,useContext:ms,useEffect:Ff,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Pf,useMemo:Gf,useReducer:Ol,useRef:$f,useState:function(){return Ol(vr)},useDebugValue:Jc,useDeferredValue:function(e,s){var n=Qt();return Wf(n,Ct.memoizedState,e,s)},useTransition:function(){var e=Ol(vr)[0],s=Qt().memoizedState;return[typeof e=="boolean"?e:io(e),s]},useSyncExternalStore:Nf,useId:Zf,useHostTransitionStatus:sd,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,s){var n=Qt();return Af(n,Ct,e,s)},useMemoCache:Wc,useCacheRefresh:Jf},Ry={readContext:ms,use:Ll,useCallback:Vf,useContext:ms,useEffect:Ff,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Pf,useMemo:Gf,useReducer:Qc,useRef:$f,useState:function(){return Qc(vr)},useDebugValue:Jc,useDeferredValue:function(e,s){var n=Qt();return Ct===null?ed(n,e,s):Wf(n,Ct.memoizedState,e,s)},useTransition:function(){var e=Qc(vr)[0],s=Qt().memoizedState;return[typeof e=="boolean"?e:io(e),s]},useSyncExternalStore:Nf,useId:Zf,useHostTransitionStatus:sd,useFormState:zf,useActionState:zf,useOptimistic:function(e,s){var n=Qt();return Ct!==null?Af(n,Ct,e,s):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:Jf},sn=null,ho=0;function $l(e){var s=ho;return ho+=1,sn===null&&(sn=[]),gf(sn,e,s)}function fo(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Il(e,s){throw s.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(s),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function nm(e){var s=e._init;return s(e._payload)}function om(e){function s(Z,V){if(e){var se=Z.deletions;se===null?(Z.deletions=[V],Z.flags|=16):se.push(V)}}function n(Z,V){if(!e)return null;for(;V!==null;)s(Z,V),V=V.sibling;return null}function i(Z){for(var V=new Map;Z!==null;)Z.key!==null?V.set(Z.key,Z):V.set(Z.index,Z),Z=Z.sibling;return V}function u(Z,V){return Z=gr(Z,V),Z.index=0,Z.sibling=null,Z}function f(Z,V,se){return Z.index=se,e?(se=Z.alternate,se!==null?(se=se.index,se<V?(Z.flags|=67108866,V):se):(Z.flags|=67108866,V)):(Z.flags|=1048576,V)}function w(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,V,se,we){return V===null||V.tag!==6?(V=Sc(se,Z.mode,we),V.return=Z,V):(V=u(V,se),V.return=Z,V)}function U(Z,V,se,we){var Pe=se.type;return Pe===N?ye(Z,V,se.props.children,we,se.key):V!==null&&(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ce&&nm(Pe)===V.type)?(V=u(V,se.props),fo(V,se),V.return=Z,V):(V=jl(se.type,se.key,se.props,null,Z.mode,we),fo(V,se),V.return=Z,V)}function ae(Z,V,se,we){return V===null||V.tag!==4||V.stateNode.containerInfo!==se.containerInfo||V.stateNode.implementation!==se.implementation?(V=Cc(se,Z.mode,we),V.return=Z,V):(V=u(V,se.children||[]),V.return=Z,V)}function ye(Z,V,se,we,Pe){return V===null||V.tag!==7?(V=fa(se,Z.mode,we,Pe),V.return=Z,V):(V=u(V,se),V.return=Z,V)}function Ne(Z,V,se){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sc(""+V,Z.mode,se),V.return=Z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return se=jl(V.type,V.key,V.props,null,Z.mode,se),fo(se,V),se.return=Z,se;case S:return V=Cc(V,Z.mode,se),V.return=Z,V;case ce:var we=V._init;return V=we(V._payload),Ne(Z,V,se)}if(he(V)||be(V))return V=fa(V,Z.mode,se,null),V.return=Z,V;if(typeof V.then=="function")return Ne(Z,$l(V),se);if(V.$$typeof===M)return Ne(Z,kl(Z,V),se);Il(Z,V)}return null}function oe(Z,V,se,we){var Pe=V!==null?V.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Pe!==null?null:C(Z,V,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return se.key===Pe?U(Z,V,se,we):null;case S:return se.key===Pe?ae(Z,V,se,we):null;case ce:return Pe=se._init,se=Pe(se._payload),oe(Z,V,se,we)}if(he(se)||be(se))return Pe!==null?null:ye(Z,V,se,we,null);if(typeof se.then=="function")return oe(Z,V,$l(se),we);if(se.$$typeof===M)return oe(Z,V,kl(Z,se),we);Il(Z,se)}return null}function ie(Z,V,se,we,Pe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Z=Z.get(se)||null,C(V,Z,""+we,Pe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case j:return Z=Z.get(we.key===null?se:we.key)||null,U(V,Z,we,Pe);case S:return Z=Z.get(we.key===null?se:we.key)||null,ae(V,Z,we,Pe);case ce:var ut=we._init;return we=ut(we._payload),ie(Z,V,se,we,Pe)}if(he(we)||be(we))return Z=Z.get(se)||null,ye(V,Z,we,Pe,null);if(typeof we.then=="function")return ie(Z,V,se,$l(we),Pe);if(we.$$typeof===M)return ie(Z,V,se,kl(V,we),Pe);Il(V,we)}return null}function st(Z,V,se,we){for(var Pe=null,ut=null,Ve=V,Ze=V=0,ns=null;Ve!==null&&Ze<se.length;Ze++){Ve.index>Ze?(ns=Ve,Ve=null):ns=Ve.sibling;var xt=oe(Z,Ve,se[Ze],we);if(xt===null){Ve===null&&(Ve=ns);break}e&&Ve&&xt.alternate===null&&s(Z,Ve),V=f(xt,V,Ze),ut===null?Pe=xt:ut.sibling=xt,ut=xt,Ve=ns}if(Ze===se.length)return n(Z,Ve),yt&&ga(Z,Ze),Pe;if(Ve===null){for(;Ze<se.length;Ze++)Ve=Ne(Z,se[Ze],we),Ve!==null&&(V=f(Ve,V,Ze),ut===null?Pe=Ve:ut.sibling=Ve,ut=Ve);return yt&&ga(Z,Ze),Pe}for(Ve=i(Ve);Ze<se.length;Ze++)ns=ie(Ve,Z,Ze,se[Ze],we),ns!==null&&(e&&ns.alternate!==null&&Ve.delete(ns.key===null?Ze:ns.key),V=f(ns,V,Ze),ut===null?Pe=ns:ut.sibling=ns,ut=ns);return e&&Ve.forEach(function(sa){return s(Z,sa)}),yt&&ga(Z,Ze),Pe}function Qe(Z,V,se,we){if(se==null)throw Error(l(151));for(var Pe=null,ut=null,Ve=V,Ze=V=0,ns=null,xt=se.next();Ve!==null&&!xt.done;Ze++,xt=se.next()){Ve.index>Ze?(ns=Ve,Ve=null):ns=Ve.sibling;var sa=oe(Z,Ve,xt.value,we);if(sa===null){Ve===null&&(Ve=ns);break}e&&Ve&&sa.alternate===null&&s(Z,Ve),V=f(sa,V,Ze),ut===null?Pe=sa:ut.sibling=sa,ut=sa,Ve=ns}if(xt.done)return n(Z,Ve),yt&&ga(Z,Ze),Pe;if(Ve===null){for(;!xt.done;Ze++,xt=se.next())xt=Ne(Z,xt.value,we),xt!==null&&(V=f(xt,V,Ze),ut===null?Pe=xt:ut.sibling=xt,ut=xt);return yt&&ga(Z,Ze),Pe}for(Ve=i(Ve);!xt.done;Ze++,xt=se.next())xt=ie(Ve,Z,Ze,xt.value,we),xt!==null&&(e&&xt.alternate!==null&&Ve.delete(xt.key===null?Ze:xt.key),V=f(xt,V,Ze),ut===null?Pe=xt:ut.sibling=xt,ut=xt);return e&&Ve.forEach(function(Lb){return s(Z,Lb)}),yt&&ga(Z,Ze),Pe}function Et(Z,V,se,we){if(typeof se=="object"&&se!==null&&se.type===N&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case j:e:{for(var Pe=se.key;V!==null;){if(V.key===Pe){if(Pe=se.type,Pe===N){if(V.tag===7){n(Z,V.sibling),we=u(V,se.props.children),we.return=Z,Z=we;break e}}else if(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ce&&nm(Pe)===V.type){n(Z,V.sibling),we=u(V,se.props),fo(we,se),we.return=Z,Z=we;break e}n(Z,V);break}else s(Z,V);V=V.sibling}se.type===N?(we=fa(se.props.children,Z.mode,we,se.key),we.return=Z,Z=we):(we=jl(se.type,se.key,se.props,null,Z.mode,we),fo(we,se),we.return=Z,Z=we)}return w(Z);case S:e:{for(Pe=se.key;V!==null;){if(V.key===Pe)if(V.tag===4&&V.stateNode.containerInfo===se.containerInfo&&V.stateNode.implementation===se.implementation){n(Z,V.sibling),we=u(V,se.children||[]),we.return=Z,Z=we;break e}else{n(Z,V);break}else s(Z,V);V=V.sibling}we=Cc(se,Z.mode,we),we.return=Z,Z=we}return w(Z);case ce:return Pe=se._init,se=Pe(se._payload),Et(Z,V,se,we)}if(he(se))return st(Z,V,se,we);if(be(se)){if(Pe=be(se),typeof Pe!="function")throw Error(l(150));return se=Pe.call(se),Qe(Z,V,se,we)}if(typeof se.then=="function")return Et(Z,V,$l(se),we);if(se.$$typeof===M)return Et(Z,V,kl(Z,se),we);Il(Z,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,V!==null&&V.tag===6?(n(Z,V.sibling),we=u(V,se),we.return=Z,Z=we):(n(Z,V),we=Sc(se,Z.mode,we),we.return=Z,Z=we),w(Z)):n(Z,V)}return function(Z,V,se,we){try{ho=0;var Pe=Et(Z,V,se,we);return sn=null,Pe}catch(Ve){if(Ve===so||Ve===_l)throw Ve;var ut=Ds(29,Ve,null,Z.mode);return ut.lanes=we,ut.return=Z,ut}finally{}}}var rn=om(!0),lm=om(!1),Hs=z(null),ar=null;function Fr(e){var s=e.alternate;P(es,es.current&1),P(Hs,e),ar===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(ar=e)}function im(e){if(e.tag===22){if(P(es,es.current),P(Hs,e),ar===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(ar=e)}}else Hr()}function Hr(){P(es,es.current),P(Hs,Hs.current)}function wr(e){G(Hs),ar===e&&(ar=null),G(es)}var es=z(0);function Fl(e){for(var s=e;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Gd(n)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ad(e,s,n,i){s=e.memoizedState,n=n(i,s),n=n==null?s:p({},s,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nd={enqueueSetState:function(e,s,n){e=e._reactInternals;var i=Os(),u=zr(i);u.payload=s,n!=null&&(u.callback=n),s=$r(e,u,i),s!==null&&(Ms(s,e,i),ao(s,e,i))},enqueueReplaceState:function(e,s,n){e=e._reactInternals;var i=Os(),u=zr(i);u.tag=1,u.payload=s,n!=null&&(u.callback=n),s=$r(e,u,i),s!==null&&(Ms(s,e,i),ao(s,e,i))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var n=Os(),i=zr(n);i.tag=2,s!=null&&(i.callback=s),s=$r(e,i,n),s!==null&&(Ms(s,e,n),ao(s,e,n))}};function cm(e,s,n,i,u,f,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,w):s.prototype&&s.prototype.isPureReactComponent?!Wn(n,i)||!Wn(u,f):!0}function dm(e,s,n,i){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,i),s.state!==e&&nd.enqueueReplaceState(s,s.state,null)}function ja(e,s){var n=s;if("ref"in s){n={};for(var i in s)i!=="ref"&&(n[i]=s[i])}if(e=e.defaultProps){n===s&&(n=p({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}var Hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function um(e){Hl(e)}function hm(e){console.error(e)}function fm(e){Hl(e)}function Pl(e,s){try{var n=e.onUncaughtError;n(s.value,{componentStack:s.stack})}catch(i){setTimeout(function(){throw i})}}function mm(e,s,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function od(e,s,n){return n=zr(n),n.tag=3,n.payload={element:null},n.callback=function(){Pl(e,s)},n}function gm(e){return e=zr(e),e.tag=3,e}function pm(e,s,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){mm(s,n,i)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){mm(s,n,i),typeof u!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})})}function Ly(e,s,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(s=n.alternate,s!==null&&Jn(s,n,u,!0),n=Hs.current,n!==null){switch(n.tag){case 13:return ar===null?Dd():n.alternate===null&&Pt===0&&(Pt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Mc?n.flags|=16384:(s=n.updateQueue,s===null?n.updateQueue=new Set([i]):s.add(i),Rd(e,i,u)),!1;case 22:return n.flags|=65536,i===Mc?n.flags|=16384:(s=n.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=s):(n=s.retryQueue,n===null?s.retryQueue=new Set([i]):n.add(i)),Rd(e,i,u)),!1}throw Error(l(435,n.tag))}return Rd(e,i,u),Dd(),!1}if(yt)return s=Hs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=u,i!==_c&&(e=Error(l(422),{cause:i}),Zn(zs(e,n)))):(i!==_c&&(s=Error(l(423),{cause:i}),Zn(zs(s,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=zs(i,n),u=od(e.stateNode,i,u),zc(e,u),Pt!==4&&(Pt=2)),!1;var f=Error(l(520),{cause:i});if(f=zs(f,n),vo===null?vo=[f]:vo.push(f),Pt!==4&&(Pt=2),s===null)return!0;i=zs(i,n),n=s;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=od(n.stateNode,i,e),zc(n,e),!1;case 1:if(s=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wr===null||!Wr.has(f))))return n.flags|=65536,u&=-u,n.lanes|=u,u=gm(u),pm(u,e,n,i),zc(n,u),!1}n=n.return}while(n!==null);return!1}var xm=Error(l(461)),rs=!1;function ls(e,s,n,i){s.child=e===null?lm(s,null,n,i):rn(s,e.child,n,i)}function ym(e,s,n,i,u){n=n.render;var f=s.ref;if("ref"in i){var w={};for(var C in i)C!=="ref"&&(w[C]=i[C])}else w=i;return ba(s),i=Pc(e,s,n,w,f,u),C=qc(),e!==null&&!rs?(Yc(e,s,u),jr(e,s,u)):(yt&&C&&kc(s),s.flags|=1,ls(e,s,i,u),s.child)}function bm(e,s,n,i,u){if(e===null){var f=n.type;return typeof f=="function"&&!Nc(f)&&f.defaultProps===void 0&&n.compare===null?(s.tag=15,s.type=f,vm(e,s,f,i,u)):(e=jl(n.type,null,i,s,s.mode,u),e.ref=s.ref,e.return=s,s.child=e)}if(f=e.child,!md(e,u)){var w=f.memoizedProps;if(n=n.compare,n=n!==null?n:Wn,n(w,i)&&e.ref===s.ref)return jr(e,s,u)}return s.flags|=1,e=gr(f,i),e.ref=s.ref,e.return=s,s.child=e}function vm(e,s,n,i,u){if(e!==null){var f=e.memoizedProps;if(Wn(f,i)&&e.ref===s.ref)if(rs=!1,s.pendingProps=i=f,md(e,u))(e.flags&131072)!==0&&(rs=!0);else return s.lanes=e.lanes,jr(e,s,u)}return ld(e,s,n,i,u)}function wm(e,s,n){var i=s.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((s.flags&128)!==0){if(i=f!==null?f.baseLanes|n:n,e!==null){for(u=s.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;s.childLanes=f&~i}else s.childLanes=0,s.child=null;return jm(e,s,i,n)}if((n&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(s,f!==null?f.cachePool:null),f!==null?vf(s,f):Ic(),im(s);else return s.lanes=s.childLanes=536870912,jm(e,s,f!==null?f.baseLanes|n:n,n)}else f!==null?(El(s,f.cachePool),vf(s,f),Hr(),s.memoizedState=null):(e!==null&&El(s,null),Ic(),Hr());return ls(e,s,u,n),s.child}function jm(e,s,n,i){var u=Oc();return u=u===null?null:{parent:Jt._currentValue,pool:u},s.memoizedState={baseLanes:n,cachePool:u},e!==null&&El(s,null),Ic(),im(s),e!==null&&Jn(e,s,i,!0),null}function ql(e,s){var n=s.ref;if(n===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(s.flags|=4194816)}}function ld(e,s,n,i,u){return ba(s),n=Pc(e,s,n,i,void 0,u),i=qc(),e!==null&&!rs?(Yc(e,s,u),jr(e,s,u)):(yt&&i&&kc(s),s.flags|=1,ls(e,s,n,u),s.child)}function Nm(e,s,n,i,u,f){return ba(s),s.updateQueue=null,n=jf(s,i,n,u),wf(e),i=qc(),e!==null&&!rs?(Yc(e,s,f),jr(e,s,f)):(yt&&i&&kc(s),s.flags|=1,ls(e,s,n,f),s.child)}function Sm(e,s,n,i,u){if(ba(s),s.stateNode===null){var f=Ga,w=n.contextType;typeof w=="object"&&w!==null&&(f=ms(w)),f=new n(i,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nd,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=i,f.state=s.memoizedState,f.refs={},Uc(s),w=n.contextType,f.context=typeof w=="object"&&w!==null?ms(w):Ga,f.state=s.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(ad(s,n,w,i),f.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&nd.enqueueReplaceState(f,f.state,null),oo(s,i,f,u),no(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),i=!0}else if(e===null){f=s.stateNode;var C=s.memoizedProps,U=ja(n,C);f.props=U;var ae=f.context,ye=n.contextType;w=Ga,typeof ye=="object"&&ye!==null&&(w=ms(ye));var Ne=n.getDerivedStateFromProps;ye=typeof Ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ye||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(C||ae!==w)&&dm(s,f,i,w),Br=!1;var oe=s.memoizedState;f.state=oe,oo(s,i,f,u),no(),ae=s.memoizedState,C||oe!==ae||Br?(typeof Ne=="function"&&(ad(s,n,Ne,i),ae=s.memoizedState),(U=Br||cm(s,n,U,i,oe,ae,w))?(ye||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=ae),f.props=i,f.state=ae,f.context=w,i=U):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{f=s.stateNode,Bc(e,s),w=s.memoizedProps,ye=ja(n,w),f.props=ye,Ne=s.pendingProps,oe=f.context,ae=n.contextType,U=Ga,typeof ae=="object"&&ae!==null&&(U=ms(ae)),C=n.getDerivedStateFromProps,(ae=typeof C=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==Ne||oe!==U)&&dm(s,f,i,U),Br=!1,oe=s.memoizedState,f.state=oe,oo(s,i,f,u),no();var ie=s.memoizedState;w!==Ne||oe!==ie||Br||e!==null&&e.dependencies!==null&&Cl(e.dependencies)?(typeof C=="function"&&(ad(s,n,C,i),ie=s.memoizedState),(ye=Br||cm(s,n,ye,i,oe,ie,U)||e!==null&&e.dependencies!==null&&Cl(e.dependencies))?(ae||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,ie,U),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,ie,U)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=ie),f.props=i,f.state=ie,f.context=U,i=ye):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&oe===e.memoizedState||(s.flags|=1024),i=!1)}return f=i,ql(e,s),i=(s.flags&128)!==0,f||i?(f=s.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,e!==null&&i?(s.child=rn(s,e.child,null,u),s.child=rn(s,null,n,u)):ls(e,s,n,u),s.memoizedState=f.state,e=s.child):e=jr(e,s,u),e}function Cm(e,s,n,i){return Xn(),s.flags|=256,ls(e,s,n,i),s.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:hf()}}function dd(e,s,n){return e=e!==null?e.childLanes&~n:0,s&&(e|=Ps),e}function km(e,s,n){var i=s.pendingProps,u=!1,f=(s.flags&128)!==0,w;if((w=f)||(w=e!==null&&e.memoizedState===null?!1:(es.current&2)!==0),w&&(u=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,e===null){if(yt){if(u?Fr(s):Hr(),yt){var C=Ht,U;if(U=C){e:{for(U=C,C=rr;U.nodeType!==8;){if(!C){C=null;break e}if(U=Ks(U.nextSibling),U===null){C=null;break e}}C=U}C!==null?(s.memoizedState={dehydrated:C,treeContext:ma!==null?{id:pr,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},U=Ds(18,null,null,0),U.stateNode=C,U.return=s,s.child=U,bs=s,Ht=null,U=!0):U=!1}U||xa(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Gd(C)?s.lanes=32:s.lanes=536870912,null;wr(s)}return C=i.children,i=i.fallback,u?(Hr(),u=s.mode,C=Yl({mode:"hidden",children:C},u),i=fa(i,u,n,null),C.return=s,i.return=s,C.sibling=i,s.child=C,u=s.child,u.memoizedState=cd(n),u.childLanes=dd(e,w,n),s.memoizedState=id,i):(Fr(s),ud(s,C))}if(U=e.memoizedState,U!==null&&(C=U.dehydrated,C!==null)){if(f)s.flags&256?(Fr(s),s.flags&=-257,s=hd(e,s,n)):s.memoizedState!==null?(Hr(),s.child=e.child,s.flags|=128,s=null):(Hr(),u=i.fallback,C=s.mode,i=Yl({mode:"visible",children:i.children},C),u=fa(u,C,n,null),u.flags|=2,i.return=s,u.return=s,i.sibling=u,s.child=i,rn(s,e.child,null,n),i=s.child,i.memoizedState=cd(n),i.childLanes=dd(e,w,n),s.memoizedState=id,s=u);else if(Fr(s),Gd(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var ae=w.dgst;w=ae,i=Error(l(419)),i.stack="",i.digest=w,Zn({value:i,source:null,stack:null}),s=hd(e,s,n)}else if(rs||Jn(e,s,n,!1),w=(n&e.childLanes)!==0,rs||w){if(w=Tt,w!==null&&(i=n&-n,i=(i&42)!==0?1:Ot(i),i=(i&(w.suspendedLanes|n))!==0?0:i,i!==0&&i!==U.retryLane))throw U.retryLane=i,Va(e,i),Ms(w,e,i),xm;C.data==="$?"||Dd(),s=hd(e,s,n)}else C.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=U.treeContext,Ht=Ks(C.nextSibling),bs=s,yt=!0,pa=null,rr=!1,e!==null&&(Is[Fs++]=pr,Is[Fs++]=xr,Is[Fs++]=ma,pr=e.id,xr=e.overflow,ma=s),s=ud(s,i.children),s.flags|=4096);return s}return u?(Hr(),u=i.fallback,C=s.mode,U=e.child,ae=U.sibling,i=gr(U,{mode:"hidden",children:i.children}),i.subtreeFlags=U.subtreeFlags&65011712,ae!==null?u=gr(ae,u):(u=fa(u,C,n,null),u.flags|=2),u.return=s,i.return=s,i.sibling=u,s.child=i,i=u,u=s.child,C=e.child.memoizedState,C===null?C=cd(n):(U=C.cachePool,U!==null?(ae=Jt._currentValue,U=U.parent!==ae?{parent:ae,pool:ae}:U):U=hf(),C={baseLanes:C.baseLanes|n,cachePool:U}),u.memoizedState=C,u.childLanes=dd(e,w,n),s.memoizedState=id,i):(Fr(s),n=e.child,e=n.sibling,n=gr(n,{mode:"visible",children:i.children}),n.return=s,n.sibling=null,e!==null&&(w=s.deletions,w===null?(s.deletions=[e],s.flags|=16):w.push(e)),s.child=n,s.memoizedState=null,n)}function ud(e,s){return s=Yl({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Yl(e,s){return e=Ds(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hd(e,s,n){return rn(s,e.child,null,n),e=ud(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Em(e,s,n){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s),Dc(e.return,s,n)}function fd(e,s,n,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=u)}function _m(e,s,n){var i=s.pendingProps,u=i.revealOrder,f=i.tail;if(ls(e,s,i.children,n),i=es.current,(i&2)!==0)i=i&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Em(e,n,s);else if(e.tag===19)Em(e,n,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(P(es,i),u){case"forwards":for(n=s.child,u=null;n!==null;)e=n.alternate,e!==null&&Fl(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=s.child,s.child=null):(u=n.sibling,n.sibling=null),fd(s,!1,u,n,f);break;case"backwards":for(n=null,u=s.child,s.child=null;u!==null;){if(e=u.alternate,e!==null&&Fl(e)===null){s.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}fd(s,!0,n,null,f);break;case"together":fd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jr(e,s,n){if(e!==null&&(s.dependencies=e.dependencies),Gr|=s.lanes,(n&s.childLanes)===0)if(e!==null){if(Jn(e,s,n,!1),(n&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(l(153));if(s.child!==null){for(e=s.child,n=gr(e,e.pendingProps),s.child=n,n.return=s;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=s;n.sibling=null}return s.child}function md(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Cl(e)))}function Oy(e,s,n){switch(s.tag){case 3:je(s,s.stateNode.containerInfo),Ur(s,Jt,e.memoizedState.cache),Xn();break;case 27:case 5:Ae(s);break;case 4:je(s,s.stateNode.containerInfo);break;case 10:Ur(s,s.type,s.memoizedProps.value);break;case 13:var i=s.memoizedState;if(i!==null)return i.dehydrated!==null?(Fr(s),s.flags|=128,null):(n&s.child.childLanes)!==0?km(e,s,n):(Fr(s),e=jr(e,s,n),e!==null?e.sibling:null);Fr(s);break;case 19:var u=(e.flags&128)!==0;if(i=(n&s.childLanes)!==0,i||(Jn(e,s,n,!1),i=(n&s.childLanes)!==0),u){if(i)return _m(e,s,n);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),P(es,es.current),i)break;return null;case 22:case 23:return s.lanes=0,wm(e,s,n);case 24:Ur(s,Jt,e.memoizedState.cache)}return jr(e,s,n)}function Am(e,s,n){if(e!==null)if(e.memoizedProps!==s.pendingProps)rs=!0;else{if(!md(e,n)&&(s.flags&128)===0)return rs=!1,Oy(e,s,n);rs=(e.flags&131072)!==0}else rs=!1,yt&&(s.flags&1048576)!==0&&af(s,Sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{e=s.pendingProps;var i=s.elementType,u=i._init;if(i=u(i._payload),s.type=i,typeof i=="function")Nc(i)?(e=ja(i,e),s.tag=1,s=Sm(null,s,i,e,n)):(s.tag=0,s=ld(null,s,i,e,n));else{if(i!=null){if(u=i.$$typeof,u===X){s.tag=11,s=ym(null,s,i,e,n);break e}else if(u===Q){s.tag=14,s=bm(null,s,i,e,n);break e}}throw s=ee(i)||i,Error(l(306,s,""))}}return s;case 0:return ld(e,s,s.type,s.pendingProps,n);case 1:return i=s.type,u=ja(i,s.pendingProps),Sm(e,s,i,u,n);case 3:e:{if(je(s,s.stateNode.containerInfo),e===null)throw Error(l(387));i=s.pendingProps;var f=s.memoizedState;u=f.element,Bc(e,s),oo(s,i,null,n);var w=s.memoizedState;if(i=w.cache,Ur(s,Jt,i),i!==f.cache&&Tc(s,[Jt],n,!0),no(),i=w.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Cm(e,s,i,n);break e}else if(i!==u){u=zs(Error(l(424)),s),Zn(u),s=Cm(e,s,i,n);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ht=Ks(e.firstChild),bs=s,yt=!0,pa=null,rr=!0,n=lm(s,null,i,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Xn(),i===u){s=jr(e,s,n);break e}ls(e,s,i,n)}s=s.child}return s;case 26:return ql(e,s),e===null?(n=L0(s.type,null,s.pendingProps,null))?s.memoizedState=n:yt||(n=s.type,e=s.pendingProps,i=ni(le.current).createElement(n),i[$t]=s,i[St]=e,cs(i,n,e),et(i),s.stateNode=i):s.memoizedState=L0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ae(s),e===null&&yt&&(i=s.stateNode=D0(s.type,s.pendingProps,le.current),bs=s,rr=!0,u=Ht,Xr(s.type)?(Wd=u,Ht=Ks(i.firstChild)):Ht=u),ls(e,s,s.pendingProps.children,n),ql(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&yt&&((u=i=Ht)&&(i=ib(i,s.type,s.pendingProps,rr),i!==null?(s.stateNode=i,bs=s,Ht=Ks(i.firstChild),rr=!1,u=!0):u=!1),u||xa(s)),Ae(s),u=s.type,f=s.pendingProps,w=e!==null?e.memoizedProps:null,i=f.children,qd(u,f)?i=null:w!==null&&qd(u,w)&&(s.flags|=32),s.memoizedState!==null&&(u=Pc(e,s,ky,null,null,n),Ao._currentValue=u),ql(e,s),ls(e,s,i,n),s.child;case 6:return e===null&&yt&&((e=n=Ht)&&(n=cb(n,s.pendingProps,rr),n!==null?(s.stateNode=n,bs=s,Ht=null,e=!0):e=!1),e||xa(s)),null;case 13:return km(e,s,n);case 4:return je(s,s.stateNode.containerInfo),i=s.pendingProps,e===null?s.child=rn(s,null,i,n):ls(e,s,i,n),s.child;case 11:return ym(e,s,s.type,s.pendingProps,n);case 7:return ls(e,s,s.pendingProps,n),s.child;case 8:return ls(e,s,s.pendingProps.children,n),s.child;case 12:return ls(e,s,s.pendingProps.children,n),s.child;case 10:return i=s.pendingProps,Ur(s,s.type,i.value),ls(e,s,i.children,n),s.child;case 9:return u=s.type._context,i=s.pendingProps.children,ba(s),u=ms(u),i=i(u),s.flags|=1,ls(e,s,i,n),s.child;case 14:return bm(e,s,s.type,s.pendingProps,n);case 15:return vm(e,s,s.type,s.pendingProps,n);case 19:return _m(e,s,n);case 31:return i=s.pendingProps,n=s.mode,i={mode:i.mode,children:i.children},e===null?(n=Yl(i,n),n.ref=s.ref,s.child=n,n.return=s,s=n):(n=gr(e.child,i),n.ref=s.ref,s.child=n,n.return=s,s=n),s;case 22:return wm(e,s,n);case 24:return ba(s),i=ms(Jt),e===null?(u=Oc(),u===null&&(u=Tt,f=Rc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=n),u=f),s.memoizedState={parent:i,cache:u},Uc(s),Ur(s,Jt,u)):((e.lanes&n)!==0&&(Bc(e,s),oo(s,null,null,n),no()),u=e.memoizedState,f=s.memoizedState,u.parent!==i?(u={parent:i,cache:i},s.memoizedState=u,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=u),Ur(s,Jt,i)):(i=f.cache,Ur(s,Jt,i),i!==u.cache&&Tc(s,[Jt],n,!0))),ls(e,s,s.pendingProps.children,n),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function Nr(e){e.flags|=4}function Dm(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z0(s)){if(s=Hs.current,s!==null&&((pt&4194048)===pt?ar!==null:(pt&62914560)!==pt&&(pt&536870912)===0||s!==ar))throw ro=Mc,ff;e.flags|=8192}}function Vl(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?ct():536870912,e.lanes|=s,ln|=s)}function mo(e,s){if(!yt)switch(e.tailMode){case"hidden":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function It(e){var s=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(s)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,s}function My(e,s,n){var i=s.pendingProps;switch(Ec(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return n=s.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),br(Jt),ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qn(s)?Nr(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lf())),It(s),null;case 26:return n=s.memoizedState,e===null?(Nr(s),n!==null?(It(s),Dm(s,n)):(It(s),s.flags&=-16777217)):n?n!==e.memoizedState?(Nr(s),It(s),Dm(s,n)):(It(s),s.flags&=-16777217):(e.memoizedProps!==i&&Nr(s),It(s),s.flags&=-16777217),null;case 27:K(s),n=le.current;var u=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==i&&Nr(s);else{if(!i){if(s.stateNode===null)throw Error(l(166));return It(s),null}e=L.current,Qn(s)?nf(s):(e=D0(u,i,n),s.stateNode=e,Nr(s))}return It(s),null;case 5:if(K(s),n=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==i&&Nr(s);else{if(!i){if(s.stateNode===null)throw Error(l(166));return It(s),null}if(e=L.current,Qn(s))nf(s);else{switch(u=ni(le.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(n,{is:i.is}):u.createElement(n)}}e[$t]=s,e[St]=i;e:for(u=s.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s.stateNode=e;e:switch(cs(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Nr(s)}}return It(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==i&&Nr(s);else{if(typeof i!="string"&&s.stateNode===null)throw Error(l(166));if(e=le.current,Qn(s)){if(e=s.stateNode,n=s.memoizedProps,i=null,u=bs,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[$t]=s,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||N0(e.nodeValue,n)),e||xa(s)}else e=ni(e).createTextNode(i),e[$t]=s,s.stateNode=e}return It(s),null;case 13:if(i=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Qn(s),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[$t]=s}else Xn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),u=!1}else u=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return s.flags&256?(wr(s),s):(wr(s),null)}if(wr(s),(s.flags&128)!==0)return s.lanes=n,s;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=s.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return n!==e&&n&&(s.child.flags|=8192),Vl(s,s.updateQueue),It(s),null;case 4:return ve(),e===null&&$d(s.stateNode.containerInfo),It(s),null;case 10:return br(s.type),It(s),null;case 19:if(G(es),u=s.memoizedState,u===null)return It(s),null;if(i=(s.flags&128)!==0,f=u.rendering,f===null)if(i)mo(u,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(f=Fl(e),f!==null){for(s.flags|=128,mo(u,!1),e=f.updateQueue,s.updateQueue=e,Vl(s,e),s.subtreeFlags=0,e=n,n=s.child;n!==null;)rf(n,e),n=n.sibling;return P(es,es.current&1|2),s.child}e=e.sibling}u.tail!==null&&rt()>Kl&&(s.flags|=128,i=!0,mo(u,!1),s.lanes=4194304)}else{if(!i)if(e=Fl(f),e!==null){if(s.flags|=128,i=!0,e=e.updateQueue,s.updateQueue=e,Vl(s,e),mo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!yt)return It(s),null}else 2*rt()-u.renderingStartTime>Kl&&n!==536870912&&(s.flags|=128,i=!0,mo(u,!1),s.lanes=4194304);u.isBackwards?(f.sibling=s.child,s.child=f):(e=u.last,e!==null?e.sibling=f:s.child=f,u.last=f)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=rt(),s.sibling=null,e=es.current,P(es,i?e&1|2:e&1),s):(It(s),null);case 22:case 23:return wr(s),Fc(),i=s.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(s.flags|=8192):i&&(s.flags|=8192),i?(n&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),n=s.updateQueue,n!==null&&Vl(s,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048),e!==null&&G(va),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),s.memoizedState.cache!==n&&(s.flags|=2048),br(Jt),It(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function Uy(e,s){switch(Ec(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return br(Jt),ve(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return K(s),null;case 13:if(wr(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(l(340));Xn()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return G(es),null;case 4:return ve(),null;case 10:return br(s.type),null;case 22:case 23:return wr(s),Fc(),e!==null&&G(va),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return br(Jt),null;case 25:return null;default:return null}}function Tm(e,s){switch(Ec(s),s.tag){case 3:br(Jt),ve();break;case 26:case 27:case 5:K(s);break;case 4:ve();break;case 13:wr(s);break;case 19:G(es);break;case 10:br(s.type);break;case 22:case 23:wr(s),Fc(),e!==null&&G(va);break;case 24:br(Jt)}}function go(e,s){try{var n=s.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var f=n.create,w=n.inst;i=f(),w.destroy=i}n=n.next}while(n!==u)}}catch(C){At(s,s.return,C)}}function Pr(e,s,n){try{var i=s.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var w=i.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,u=s;var U=n,ae=C;try{ae()}catch(ye){At(u,U,ye)}}}i=i.next}while(i!==f)}}catch(ye){At(s,s.return,ye)}}function Rm(e){var s=e.updateQueue;if(s!==null){var n=e.stateNode;try{bf(s,n)}catch(i){At(e,e.return,i)}}}function Lm(e,s,n){n.props=ja(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){At(e,s,i)}}function po(e,s){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){At(e,s,u)}}function nr(e,s){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){At(e,s,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){At(e,s,u)}else n.current=null}function Om(e){var s=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){At(e,e.return,u)}}function gd(e,s,n){try{var i=e.stateNode;rb(i,e.type,n,s),i[St]=s}catch(u){At(e,e.return,u)}}function Mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xr(e.type)||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,s,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,s?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,s):(s=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.appendChild(e),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=ai));else if(i!==4&&(i===27&&Xr(e.type)&&(n=e.stateNode,s=null),e=e.child,e!==null))for(xd(e,s,n),e=e.sibling;e!==null;)xd(e,s,n),e=e.sibling}function Gl(e,s,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,s?n.insertBefore(e,s):n.appendChild(e);else if(i!==4&&(i===27&&Xr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gl(e,s,n),e=e.sibling;e!==null;)Gl(e,s,n),e=e.sibling}function Um(e){var s=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);cs(s,i,n),s[$t]=e,s[St]=n}catch(f){At(e,e.return,f)}}var Sr=!1,Gt=!1,yd=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,as=null;function By(e,s){if(e=e.containerInfo,Hd=ui,e=Gh(e),pc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var w=0,C=-1,U=-1,ae=0,ye=0,Ne=e,oe=null;t:for(;;){for(var ie;Ne!==n||u!==0&&Ne.nodeType!==3||(C=w+u),Ne!==f||i!==0&&Ne.nodeType!==3||(U=w+i),Ne.nodeType===3&&(w+=Ne.nodeValue.length),(ie=Ne.firstChild)!==null;)oe=Ne,Ne=ie;for(;;){if(Ne===e)break t;if(oe===n&&++ae===u&&(C=w),oe===f&&++ye===i&&(U=w),(ie=Ne.nextSibling)!==null)break;Ne=oe,oe=Ne.parentNode}Ne=ie}n=C===-1||U===-1?null:{start:C,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pd={focusedElem:e,selectionRange:n},ui=!1,as=s;as!==null;)if(s=as,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,as=e;else for(;as!==null;){switch(s=as,f=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=s,u=f.memoizedProps,f=f.memoizedState,i=n.stateNode;try{var st=ja(n.type,u,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(st,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){At(n,n.return,Qe)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,n=e.nodeType,n===9)Vd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=s.sibling,e!==null){e.return=s.return,as=e;break}as=s.return}}function zm(e,s,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:qr(e,n),i&4&&go(5,n);break;case 1:if(qr(e,n),i&4)if(e=n.stateNode,s===null)try{e.componentDidMount()}catch(w){At(n,n.return,w)}else{var u=ja(n.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(u,s,e.__reactInternalSnapshotBeforeUpdate)}catch(w){At(n,n.return,w)}}i&64&&Rm(n),i&512&&po(n,n.return);break;case 3:if(qr(e,n),i&64&&(e=n.updateQueue,e!==null)){if(s=null,n.child!==null)switch(n.child.tag){case 27:case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}try{bf(e,s)}catch(w){At(n,n.return,w)}}break;case 27:s===null&&i&4&&Um(n);case 26:case 5:qr(e,n),s===null&&i&4&&Om(n),i&512&&po(n,n.return);break;case 12:qr(e,n);break;case 13:qr(e,n),i&4&&Fm(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Vy.bind(null,n),db(e,n))));break;case 22:if(i=n.memoizedState!==null||Sr,!i){s=s!==null&&s.memoizedState!==null||Gt,u=Sr;var f=Gt;Sr=i,(Gt=s)&&!f?Yr(e,n,(n.subtreeFlags&8772)!==0):qr(e,n),Sr=u,Gt=f}break;case 30:break;default:qr(e,n)}}function $m(e){var s=e.alternate;s!==null&&(e.alternate=null,$m(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Be(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Ns=!1;function Cr(e,s,n){for(n=n.child;n!==null;)Im(e,s,n),n=n.sibling}function Im(e,s,n){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Y,n)}catch{}switch(n.tag){case 26:Gt||nr(n,s),Cr(e,s,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||nr(n,s);var i=Mt,u=Ns;Xr(n.type)&&(Mt=n.stateNode,Ns=!1),Cr(e,s,n),Co(n.stateNode),Mt=i,Ns=u;break;case 5:Gt||nr(n,s);case 6:if(i=Mt,u=Ns,Mt=null,Cr(e,s,n),Mt=i,Ns=u,Mt!==null)if(Ns)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(f){At(n,s,f)}else try{Mt.removeChild(n.stateNode)}catch(f){At(n,s,f)}break;case 18:Mt!==null&&(Ns?(e=Mt,_0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Lo(e)):_0(Mt,n.stateNode));break;case 4:i=Mt,u=Ns,Mt=n.stateNode.containerInfo,Ns=!0,Cr(e,s,n),Mt=i,Ns=u;break;case 0:case 11:case 14:case 15:Gt||Pr(2,n,s),Gt||Pr(4,n,s),Cr(e,s,n);break;case 1:Gt||(nr(n,s),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Lm(n,s,i)),Cr(e,s,n);break;case 21:Cr(e,s,n);break;case 22:Gt=(i=Gt)||n.memoizedState!==null,Cr(e,s,n),Gt=i;break;default:Cr(e,s,n)}}function Fm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Lo(e)}catch(n){At(s,s.return,n)}}function zy(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Bm),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Bm),s;default:throw Error(l(435,e.tag))}}function bd(e,s){var n=zy(e);s.forEach(function(i){var u=Gy.bind(null,e,i);n.has(i)||(n.add(i),i.then(u,u))})}function Ts(e,s){var n=s.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],f=e,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(Xr(C.type)){Mt=C.stateNode,Ns=!1;break e}break;case 5:Mt=C.stateNode,Ns=!1;break e;case 3:case 4:Mt=C.stateNode.containerInfo,Ns=!0;break e}C=C.return}if(Mt===null)throw Error(l(160));Im(f,w,u),Mt=null,Ns=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Hm(s,e),s=s.sibling}var Ws=null;function Hm(e,s){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ts(s,e),Rs(e),i&4&&(Pr(3,e,e.return),go(3,e),Pr(5,e,e.return));break;case 1:Ts(s,e),Rs(e),i&512&&(Gt||n===null||nr(n,n.return)),i&64&&Sr&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=Ws;if(Ts(s,e),Rs(e),i&512&&(Gt||n===null||nr(n,n.return)),i&4){var f=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ie]||f[$t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),cs(f,i,n),f[$t]=e,et(f),i=f;break e;case"link":var w=U0("link","href",u).get(i+(n.href||""));if(w){for(var C=0;C<w.length;C++)if(f=w[C],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(C,1);break t}}f=u.createElement(i),cs(f,i,n),u.head.appendChild(f);break;case"meta":if(w=U0("meta","content",u).get(i+(n.content||""))){for(C=0;C<w.length;C++)if(f=w[C],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(C,1);break t}}f=u.createElement(i),cs(f,i,n),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[$t]=e,et(f),i=f}e.stateNode=i}else B0(u,e.type,e.stateNode);else e.stateNode=M0(u,i,e.memoizedProps);else f!==i?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,i===null?B0(u,e.type,e.stateNode):M0(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&gd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ts(s,e),Rs(e),i&512&&(Gt||n===null||nr(n,n.return)),n!==null&&i&4&&gd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ts(s,e),Rs(e),i&512&&(Gt||n===null||nr(n,n.return)),e.flags&32){u=e.stateNode;try{$a(u,"")}catch(ie){At(e,e.return,ie)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,gd(e,u,n!==null?n.memoizedProps:u)),i&1024&&(yd=!0);break;case 6:if(Ts(s,e),Rs(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(ie){At(e,e.return,ie)}}break;case 3:if(ii=null,u=Ws,Ws=oi(s.containerInfo),Ts(s,e),Ws=u,Rs(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(s.containerInfo)}catch(ie){At(e,e.return,ie)}yd&&(yd=!1,Pm(e));break;case 4:i=Ws,Ws=oi(e.stateNode.containerInfo),Ts(s,e),Rs(e),Ws=i;break;case 12:Ts(s,e),Rs(e);break;case 13:Ts(s,e),Rs(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cd=rt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bd(e,i)));break;case 22:u=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,ae=Sr,ye=Gt;if(Sr=ae||u,Gt=ye||U,Ts(s,e),Gt=ye,Sr=ae,Rs(e),i&8192)e:for(s=e.stateNode,s._visibility=u?s._visibility&-2:s._visibility|1,u&&(n===null||U||Sr||Gt||Na(e)),n=null,s=e;;){if(s.tag===5||s.tag===26){if(n===null){U=n=s;try{if(f=U.stateNode,u)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=U.stateNode;var Ne=U.memoizedProps.style,oe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;C.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ie){At(U,U.return,ie)}}}else if(s.tag===6){if(n===null){U=s;try{U.stateNode.nodeValue=u?"":U.memoizedProps}catch(ie){At(U,U.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;n===s&&(n=null),s=s.return}n===s&&(n=null),s.sibling.return=s.return,s=s.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,bd(e,n))));break;case 19:Ts(s,e),Rs(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bd(e,i)));break;case 30:break;case 21:break;default:Ts(s,e),Rs(e)}}function Rs(e){var s=e.flags;if(s&2){try{for(var n,i=e.return;i!==null;){if(Mm(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var u=n.stateNode,f=pd(e);Gl(e,f,u);break;case 5:var w=n.stateNode;n.flags&32&&($a(w,""),n.flags&=-33);var C=pd(e);Gl(e,C,w);break;case 3:case 4:var U=n.stateNode.containerInfo,ae=pd(e);xd(e,ae,U);break;default:throw Error(l(161))}}catch(ye){At(e,e.return,ye)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Pm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Pm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function qr(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zm(e,s.alternate,s),s=s.sibling}function Na(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Pr(4,s,s.return),Na(s);break;case 1:nr(s,s.return);var n=s.stateNode;typeof n.componentWillUnmount=="function"&&Lm(s,s.return,n),Na(s);break;case 27:Co(s.stateNode);case 26:case 5:nr(s,s.return),Na(s);break;case 22:s.memoizedState===null&&Na(s);break;case 30:Na(s);break;default:Na(s)}e=e.sibling}}function Yr(e,s,n){for(n=n&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var i=s.alternate,u=e,f=s,w=f.flags;switch(f.tag){case 0:case 11:case 15:Yr(u,f,n),go(4,f);break;case 1:if(Yr(u,f,n),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ae){At(i,i.return,ae)}if(i=f,u=i.updateQueue,u!==null){var C=i.stateNode;try{var U=u.shared.hiddenCallbacks;if(U!==null)for(u.shared.hiddenCallbacks=null,u=0;u<U.length;u++)yf(U[u],C)}catch(ae){At(i,i.return,ae)}}n&&w&64&&Rm(f),po(f,f.return);break;case 27:Um(f);case 26:case 5:Yr(u,f,n),n&&i===null&&w&4&&Om(f),po(f,f.return);break;case 12:Yr(u,f,n);break;case 13:Yr(u,f,n),n&&w&4&&Fm(u,f);break;case 22:f.memoizedState===null&&Yr(u,f,n),po(f,f.return);break;case 30:break;default:Yr(u,f,n)}s=s.sibling}}function vd(e,s){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&eo(n))}function wd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&eo(e))}function or(e,s,n,i){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qm(e,s,n,i),s=s.sibling}function qm(e,s,n,i){var u=s.flags;switch(s.tag){case 0:case 11:case 15:or(e,s,n,i),u&2048&&go(9,s);break;case 1:or(e,s,n,i);break;case 3:or(e,s,n,i),u&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&eo(e)));break;case 12:if(u&2048){or(e,s,n,i),e=s.stateNode;try{var f=s.memoizedProps,w=f.id,C=f.onPostCommit;typeof C=="function"&&C(w,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){At(s,s.return,U)}}else or(e,s,n,i);break;case 13:or(e,s,n,i);break;case 23:break;case 22:f=s.stateNode,w=s.alternate,s.memoizedState!==null?f._visibility&2?or(e,s,n,i):xo(e,s):f._visibility&2?or(e,s,n,i):(f._visibility|=2,an(e,s,n,i,(s.subtreeFlags&10256)!==0)),u&2048&&vd(w,s);break;case 24:or(e,s,n,i),u&2048&&wd(s.alternate,s);break;default:or(e,s,n,i)}}function an(e,s,n,i,u){for(u=u&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=e,w=s,C=n,U=i,ae=w.flags;switch(w.tag){case 0:case 11:case 15:an(f,w,C,U,u),go(8,w);break;case 23:break;case 22:var ye=w.stateNode;w.memoizedState!==null?ye._visibility&2?an(f,w,C,U,u):xo(f,w):(ye._visibility|=2,an(f,w,C,U,u)),u&&ae&2048&&vd(w.alternate,w);break;case 24:an(f,w,C,U,u),u&&ae&2048&&wd(w.alternate,w);break;default:an(f,w,C,U,u)}s=s.sibling}}function xo(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var n=e,i=s,u=i.flags;switch(i.tag){case 22:xo(n,i),u&2048&&vd(i.alternate,i);break;case 24:xo(n,i),u&2048&&wd(i.alternate,i);break;default:xo(n,i)}s=s.sibling}}var yo=8192;function nn(e){if(e.subtreeFlags&yo)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 26:nn(e),e.flags&yo&&e.memoizedState!==null&&Nb(Ws,e.memoizedState,e.memoizedProps);break;case 5:nn(e);break;case 3:case 4:var s=Ws;Ws=oi(e.stateNode.containerInfo),nn(e),Ws=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=yo,yo=16777216,nn(e),yo=s):nn(e));break;default:nn(e)}}function Vm(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function bo(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];as=i,Wm(i,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gm(e),e=e.sibling}function Gm(e){switch(e.tag){case 0:case 11:case 15:bo(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:bo(e);break;case 12:bo(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Wl(e)):bo(e);break;default:bo(e)}}function Wl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];as=i,Wm(i,e)}Vm(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Pr(8,s,s.return),Wl(s);break;case 22:n=s.stateNode,n._visibility&2&&(n._visibility&=-3,Wl(s));break;default:Wl(s)}e=e.sibling}}function Wm(e,s){for(;as!==null;){var n=as;switch(n.tag){case 0:case 11:case 15:Pr(8,n,s);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:eo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,as=i;else e:for(n=e;as!==null;){i=as;var u=i.sibling,f=i.return;if($m(i),i===n){as=null;break e}if(u!==null){u.return=f,as=u;break e}as=f}}}var $y={getCacheForType:function(e){var s=ms(Jt),n=s.data.get(e);return n===void 0&&(n=e(),s.data.set(e,n)),n}},Iy=typeof WeakMap=="function"?WeakMap:Map,wt=0,Tt=null,ft=null,pt=0,jt=0,Ls=null,Vr=!1,on=!1,jd=!1,kr=0,Pt=0,Gr=0,Sa=0,Nd=0,Ps=0,ln=0,vo=null,Ss=null,Sd=!1,Cd=0,Kl=1/0,Ql=null,Wr=null,is=0,Kr=null,cn=null,dn=0,kd=0,Ed=null,Km=null,wo=0,_d=null;function Os(){if((wt&2)!==0&&pt!==0)return pt&-pt;if(R.T!==null){var e=Qa;return e!==0?e:Md()}return hr()}function Qm(){Ps===0&&(Ps=(pt&536870912)===0||yt?qe():536870912);var e=Hs.current;return e!==null&&(e.flags|=32),Ps}function Ms(e,s,n){(e===Tt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(un(e,0),Qr(e,pt,Ps,!1)),Me(e,n),((wt&2)===0||e!==Tt)&&(e===Tt&&((wt&2)===0&&(Sa|=n),Pt===4&&Qr(e,pt,Ps,!1)),lr(e))}function Xm(e,s,n){if((wt&6)!==0)throw Error(l(327));var i=!n&&(s&124)===0&&(s&e.expiredLanes)===0||$e(e,s),u=i?Py(e,s):Td(e,s,!0),f=i;do{if(u===0){on&&!i&&Qr(e,s,0,!1);break}else{if(n=e.current.alternate,f&&!Fy(n)){u=Td(e,s,!1),f=!1;continue}if(u===2){if(f=s,e.errorRecoveryDisabledLanes&f)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var C=e;u=vo;var U=C.current.memoizedState.isDehydrated;if(U&&(un(C,w).flags|=256),w=Td(C,w,!1),w!==2){if(jd&&!U){C.errorRecoveryDisabledLanes|=f,Sa|=f,u=4;break e}f=Ss,Ss=u,f!==null&&(Ss===null?Ss=f:Ss.push.apply(Ss,f))}u=w}if(f=!1,u!==2)continue}}if(u===1){un(e,0),Qr(e,s,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:Qr(i,s,Ps,!Vr);break e;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(u=Cd+300-rt(),10<u)){if(Qr(i,s,Ps,!Vr),Oe(i,0,!0)!==0)break e;i.timeoutHandle=k0(Zm.bind(null,i,n,Ss,Ql,Sd,s,Ps,Sa,ln,Vr,f,2,-0,0),u);break e}Zm(i,n,Ss,Ql,Sd,s,Ps,Sa,ln,Vr,f,0,-0,0)}}break}while(!0);lr(e)}function Zm(e,s,n,i,u,f,w,C,U,ae,ye,Ne,oe,ie){if(e.timeoutHandle=-1,Ne=s.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(_o={stylesheets:null,count:0,unsuspend:jb},Ym(s),Ne=Sb(),Ne!==null)){e.cancelPendingCommit=Ne(n0.bind(null,e,s,f,n,i,u,w,C,U,ye,1,oe,ie)),Qr(e,f,w,!ae);return}n0(e,s,f,n,i,u,w,C,U)}function Fy(e){for(var s=e;;){var n=s.tag;if((n===0||n===11||n===15)&&s.flags&16384&&(n=s.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],f=u.getSnapshot;u=u.value;try{if(!As(f(),u))return!1}catch{return!1}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qr(e,s,n,i){s&=~Nd,s&=~Sa,e.suspendedLanes|=s,e.pingedLanes&=~s,i&&(e.warmLanes|=s),i=e.expirationTimes;for(var u=s;0<u;){var f=31-re(u),w=1<<f;i[f]=-1,u&=~w}n!==0&&Ye(e,n,s)}function Xl(){return(wt&6)===0?(jo(0),!1):!0}function Ad(){if(ft!==null){if(jt===0)var e=ft.return;else e=ft,yr=ya=null,Vc(e),sn=null,ho=0,e=ft;for(;e!==null;)Tm(e.alternate,e),e=e.return;ft=null}}function un(e,s){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,nb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ad(),Tt=e,ft=n=gr(e.current,null),pt=s,jt=0,Ls=null,Vr=!1,on=$e(e,s),jd=!1,ln=Ps=Nd=Sa=Gr=Pt=0,Ss=vo=null,Sd=!1,(s&8)!==0&&(s|=s&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=s;0<i;){var u=31-re(i),f=1<<u;s|=e[u],i&=~f}return kr=s,bl(),n}function Jm(e,s){dt=null,R.H=zl,s===so||s===_l?(s=pf(),jt=3):s===ff?(s=pf(),jt=4):jt=s===xm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ls=s,ft===null&&(Pt=1,Pl(e,zs(s,e.current)))}function e0(){var e=R.H;return R.H=zl,e===null?zl:e}function t0(){var e=R.A;return R.A=$y,e}function Dd(){Pt=4,Vr||(pt&4194048)!==pt&&Hs.current!==null||(on=!0),(Gr&134217727)===0&&(Sa&134217727)===0||Tt===null||Qr(Tt,pt,Ps,!1)}function Td(e,s,n){var i=wt;wt|=2;var u=e0(),f=t0();(Tt!==e||pt!==s)&&(Ql=null,un(e,s)),s=!1;var w=Pt;e:do try{if(jt!==0&&ft!==null){var C=ft,U=Ls;switch(jt){case 8:Ad(),w=6;break e;case 3:case 2:case 9:case 6:Hs.current===null&&(s=!0);var ae=jt;if(jt=0,Ls=null,hn(e,C,U,ae),n&&on){w=0;break e}break;default:ae=jt,jt=0,Ls=null,hn(e,C,U,ae)}}Hy(),w=Pt;break}catch(ye){Jm(e,ye)}while(!0);return s&&e.shellSuspendCounter++,yr=ya=null,wt=i,R.H=u,R.A=f,ft===null&&(Tt=null,pt=0,bl()),w}function Hy(){for(;ft!==null;)s0(ft)}function Py(e,s){var n=wt;wt|=2;var i=e0(),u=t0();Tt!==e||pt!==s?(Ql=null,Kl=rt()+500,un(e,s)):on=$e(e,s);e:do try{if(jt!==0&&ft!==null){s=ft;var f=Ls;t:switch(jt){case 1:jt=0,Ls=null,hn(e,s,f,1);break;case 2:case 9:if(mf(f)){jt=0,Ls=null,r0(s);break}s=function(){jt!==2&&jt!==9||Tt!==e||(jt=7),lr(e)},f.then(s,s);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:mf(f)?(jt=0,Ls=null,r0(s)):(jt=0,Ls=null,hn(e,s,f,7));break;case 5:var w=null;switch(ft.tag){case 26:w=ft.memoizedState;case 5:case 27:var C=ft;if(!w||z0(w)){jt=0,Ls=null;var U=C.sibling;if(U!==null)ft=U;else{var ae=C.return;ae!==null?(ft=ae,Zl(ae)):ft=null}break t}}jt=0,Ls=null,hn(e,s,f,5);break;case 6:jt=0,Ls=null,hn(e,s,f,6);break;case 8:Ad(),Pt=6;break e;default:throw Error(l(462))}}qy();break}catch(ye){Jm(e,ye)}while(!0);return yr=ya=null,R.H=i,R.A=u,wt=n,ft!==null?0:(Tt=null,pt=0,bl(),Pt)}function qy(){for(;ft!==null&&!Ke();)s0(ft)}function s0(e){var s=Am(e.alternate,e,kr);e.memoizedProps=e.pendingProps,s===null?Zl(e):ft=s}function r0(e){var s=e,n=s.alternate;switch(s.tag){case 15:case 0:s=Nm(n,s,s.pendingProps,s.type,void 0,pt);break;case 11:s=Nm(n,s,s.pendingProps,s.type.render,s.ref,pt);break;case 5:Vc(s);default:Tm(n,s),s=ft=rf(s,kr),s=Am(n,s,kr)}e.memoizedProps=e.pendingProps,s===null?Zl(e):ft=s}function hn(e,s,n,i){yr=ya=null,Vc(s),sn=null,ho=0;var u=s.return;try{if(Ly(e,u,s,n,pt)){Pt=1,Pl(e,zs(n,e.current)),ft=null;return}}catch(f){if(u!==null)throw ft=u,f;Pt=1,Pl(e,zs(n,e.current)),ft=null;return}s.flags&32768?(yt||i===1?e=!0:on||(pt&536870912)!==0?e=!1:(Vr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Hs.current,i!==null&&i.tag===13&&(i.flags|=16384))),a0(s,e)):Zl(s)}function Zl(e){var s=e;do{if((s.flags&32768)!==0){a0(s,Vr);return}e=s.return;var n=My(s.alternate,s,kr);if(n!==null){ft=n;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=e}while(s!==null);Pt===0&&(Pt=5)}function a0(e,s){do{var n=Uy(e.alternate,e);if(n!==null){n.flags&=32767,ft=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!s&&(e=e.sibling,e!==null)){ft=e;return}ft=e=n}while(e!==null);Pt=6,ft=null}function n0(e,s,n,i,u,f,w,C,U){e.cancelPendingCommit=null;do Jl();while(is!==0);if((wt&6)!==0)throw Error(l(327));if(s!==null){if(s===e.current)throw Error(l(177));if(f=s.lanes|s.childLanes,f|=wc,_t(e,n,f,w,C,U),e===Tt&&(ft=Tt=null,pt=0),cn=s,Kr=e,dn=n,kd=f,Ed=u,Km=i,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wy(xe,function(){return d0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||i){i=R.T,R.T=null,u=$.p,$.p=2,w=wt,wt|=4;try{By(e,s,n)}finally{wt=w,$.p=u,R.T=i}}is=1,o0(),l0(),i0()}}function o0(){if(is===1){is=0;var e=Kr,s=cn,n=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var i=$.p;$.p=2;var u=wt;wt|=4;try{Hm(s,e);var f=Pd,w=Gh(e.containerInfo),C=f.focusedElem,U=f.selectionRange;if(w!==C&&C&&C.ownerDocument&&Vh(C.ownerDocument.documentElement,C)){if(U!==null&&pc(C)){var ae=U.start,ye=U.end;if(ye===void 0&&(ye=ae),"selectionStart"in C)C.selectionStart=ae,C.selectionEnd=Math.min(ye,C.value.length);else{var Ne=C.ownerDocument||document,oe=Ne&&Ne.defaultView||window;if(oe.getSelection){var ie=oe.getSelection(),st=C.textContent.length,Qe=Math.min(U.start,st),Et=U.end===void 0?Qe:Math.min(U.end,st);!ie.extend&&Qe>Et&&(w=Et,Et=Qe,Qe=w);var Z=Yh(C,Qe),V=Yh(C,Et);if(Z&&V&&(ie.rangeCount!==1||ie.anchorNode!==Z.node||ie.anchorOffset!==Z.offset||ie.focusNode!==V.node||ie.focusOffset!==V.offset)){var se=Ne.createRange();se.setStart(Z.node,Z.offset),ie.removeAllRanges(),Qe>Et?(ie.addRange(se),ie.extend(V.node,V.offset)):(se.setEnd(V.node,V.offset),ie.addRange(se))}}}}for(Ne=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&Ne.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Ne.length;C++){var we=Ne[C];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}ui=!!Hd,Pd=Hd=null}finally{wt=u,$.p=i,R.T=n}}e.current=s,is=2}}function l0(){if(is===2){is=0;var e=Kr,s=cn,n=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var i=$.p;$.p=2;var u=wt;wt|=4;try{zm(e,s.alternate,s)}finally{wt=u,$.p=i,R.T=n}}is=3}}function i0(){if(is===4||is===3){is=0,tt();var e=Kr,s=cn,n=dn,i=Km;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?is=5:(is=0,cn=Kr=null,c0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Wr=null),Zt(n),s=s.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Y,s,void 0,(s.current.flags&128)===128)}catch{}if(i!==null){s=R.T,u=$.p,$.p=2,R.T=null;try{for(var f=e.onRecoverableError,w=0;w<i.length;w++){var C=i[w];f(C.value,{componentStack:C.stack})}}finally{R.T=s,$.p=u}}(dn&3)!==0&&Jl(),lr(e),u=e.pendingLanes,(n&4194090)!==0&&(u&42)!==0?e===_d?wo++:(wo=0,_d=e):wo=0,jo(0)}}function c0(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,eo(s)))}function Jl(e){return o0(),l0(),i0(),d0()}function d0(){if(is!==5)return!1;var e=Kr,s=kd;kd=0;var n=Zt(dn),i=R.T,u=$.p;try{$.p=32>n?32:n,R.T=null,n=Ed,Ed=null;var f=Kr,w=dn;if(is=0,cn=Kr=null,dn=0,(wt&6)!==0)throw Error(l(331));var C=wt;if(wt|=4,Gm(f.current),qm(f,f.current,w,n),wt=C,jo(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Y,f)}catch{}return!0}finally{$.p=u,R.T=i,c0(e,s)}}function u0(e,s,n){s=zs(n,s),s=od(e.stateNode,s,2),e=$r(e,s,2),e!==null&&(Me(e,2),lr(e))}function At(e,s,n){if(e.tag===3)u0(e,e,n);else for(;s!==null;){if(s.tag===3){u0(s,e,n);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wr===null||!Wr.has(i))){e=zs(n,e),n=gm(2),i=$r(s,n,2),i!==null&&(pm(n,i,s,e),Me(i,2),lr(i));break}}s=s.return}}function Rd(e,s,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Iy;var u=new Set;i.set(s,u)}else u=i.get(s),u===void 0&&(u=new Set,i.set(s,u));u.has(n)||(jd=!0,u.add(n),e=Yy.bind(null,e,s,n),s.then(e,e))}function Yy(e,s,n){var i=e.pingCache;i!==null&&i.delete(s),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Tt===e&&(pt&n)===n&&(Pt===4||Pt===3&&(pt&62914560)===pt&&300>rt()-Cd?(wt&2)===0&&un(e,0):Nd|=n,ln===pt&&(ln=0)),lr(e)}function h0(e,s){s===0&&(s=ct()),e=Va(e,s),e!==null&&(Me(e,s),lr(e))}function Vy(e){var s=e.memoizedState,n=0;s!==null&&(n=s.retryLane),h0(e,n)}function Gy(e,s){var n=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(s),h0(e,n)}function Wy(e,s){return ze(e,s)}var ei=null,fn=null,Ld=!1,ti=!1,Od=!1,Ca=0;function lr(e){e!==fn&&e.next===null&&(fn===null?ei=fn=e:fn=fn.next=e),ti=!0,Ld||(Ld=!0,Qy())}function jo(e,s){if(!Od&&ti){Od=!0;do for(var n=!1,i=ei;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var w=i.suspendedLanes,C=i.pingedLanes;f=(1<<31-re(42|e)+1)-1,f&=u&~(w&~C),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,p0(i,f))}else f=pt,f=Oe(i,i===Tt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||$e(i,f)||(n=!0,p0(i,f));i=i.next}while(n);Od=!1}}function Ky(){f0()}function f0(){ti=Ld=!1;var e=0;Ca!==0&&(ab()&&(e=Ca),Ca=0);for(var s=rt(),n=null,i=ei;i!==null;){var u=i.next,f=m0(i,s);f===0?(i.next=null,n===null?ei=u:n.next=u,u===null&&(fn=n)):(n=i,(e!==0||(f&3)!==0)&&(ti=!0)),i=u}jo(e)}function m0(e,s){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var w=31-re(f),C=1<<w,U=u[w];U===-1?((C&n)===0||(C&i)!==0)&&(u[w]=De(C,s)):U<=s&&(e.expiredLanes|=C),f&=~C}if(s=Tt,n=pt,n=Oe(e,e===s?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===s&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ge(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||$e(e,n)){if(s=n&-n,s===e.callbackPriority)return s;switch(i!==null&&Ge(i),Zt(n)){case 2:case 8:n=J;break;case 32:n=xe;break;case 268435456:n=Xe;break;default:n=xe}return i=g0.bind(null,e),n=ze(n,i),e.callbackPriority=s,e.callbackNode=n,s}return i!==null&&i!==null&&Ge(i),e.callbackPriority=2,e.callbackNode=null,2}function g0(e,s){if(is!==0&&is!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Jl()&&e.callbackNode!==n)return null;var i=pt;return i=Oe(e,e===Tt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Xm(e,i,s),m0(e,rt()),e.callbackNode!=null&&e.callbackNode===n?g0.bind(null,e):null)}function p0(e,s){if(Jl())return null;Xm(e,s,!0)}function Qy(){ob(function(){(wt&6)!==0?ze(O,Ky):f0()})}function Md(){return Ca===0&&(Ca=qe()),Ca}function x0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function y0(e,s){var n=s.ownerDocument.createElement("input");return n.name=s.name,n.value=s.value,e.id&&n.setAttribute("form",e.id),s.parentNode.insertBefore(n,s),e=new FormData(e),n.parentNode.removeChild(n),e}function Xy(e,s,n,i,u){if(s==="submit"&&n&&n.stateNode===u){var f=x0((u[St]||null).action),w=i.submitter;w&&(s=(s=w[St]||null)?x0(s.formAction):w.getAttribute("formAction"),s!==null&&(f=s,w=null));var C=new pl("action","action",null,i,u);e.push({event:C,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ca!==0){var U=w?y0(u,w):new FormData(u);td(n,{pending:!0,data:U,method:u.method,action:f},null,U)}}else typeof f=="function"&&(C.preventDefault(),U=w?y0(u,w):new FormData(u),td(n,{pending:!0,data:U,method:u.method,action:f},f,U))},currentTarget:u}]})}}for(var Ud=0;Ud<vc.length;Ud++){var Bd=vc[Ud],Zy=Bd.toLowerCase(),Jy=Bd[0].toUpperCase()+Bd.slice(1);Gs(Zy,"on"+Jy)}Gs(Qh,"onAnimationEnd"),Gs(Xh,"onAnimationIteration"),Gs(Zh,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(py,"onTransitionRun"),Gs(xy,"onTransitionStart"),Gs(yy,"onTransitionCancel"),Gs(Jh,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function b0(e,s){s=(s&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var f=void 0;if(s)for(var w=i.length-1;0<=w;w--){var C=i[w],U=C.instance,ae=C.currentTarget;if(C=C.listener,U!==f&&u.isPropagationStopped())break e;f=C,u.currentTarget=ae;try{f(u)}catch(ye){Hl(ye)}u.currentTarget=null,f=U}else for(w=0;w<i.length;w++){if(C=i[w],U=C.instance,ae=C.currentTarget,C=C.listener,U!==f&&u.isPropagationStopped())break e;f=C,u.currentTarget=ae;try{f(u)}catch(ye){Hl(ye)}u.currentTarget=null,f=U}}}}function mt(e,s){var n=s[Or];n===void 0&&(n=s[Or]=new Set);var i=e+"__bubble";n.has(i)||(v0(s,e,2,!1),n.add(i))}function zd(e,s,n){var i=0;s&&(i|=4),v0(n,e,i,s)}var si="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[si]){e[si]=!0,at.forEach(function(n){n!=="selectionchange"&&(eb.has(n)||zd(n,!1,e),zd(n,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[si]||(s[si]=!0,zd("selectionchange",!1,s))}}function v0(e,s,n,i){switch(q0(s)){case 2:var u=Eb;break;case 8:u=_b;break;default:u=Jd}n=u.bind(null,s,n,e),u=void 0,!lc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(s,n,{capture:!0,passive:u}):e.addEventListener(s,n,!0):u!==void 0?e.addEventListener(s,n,{passive:u}):e.addEventListener(s,n,!1)}function Id(e,s,n,i,u){var f=i;if((s&1)===0&&(s&2)===0&&i!==null)e:for(;;){if(i===null)return;var w=i.tag;if(w===3||w===4){var C=i.stateNode.containerInfo;if(C===u)break;if(w===4)for(w=i.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===u)return;w=w.return}for(;C!==null;){if(w=Fe(C),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){i=f=w;continue e}C=C.parentNode}}i=i.return}kh(function(){var ae=f,ye=nc(n),Ne=[];e:{var oe=ef.get(e);if(oe!==void 0){var ie=pl,st=e;switch(e){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":ie=Wx;break;case"focusin":st="focus",ie=uc;break;case"focusout":st="blur",ie=uc;break;case"beforeblur":case"afterblur":ie=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Xx;break;case Qh:case Xh:case Zh:ie=$x;break;case Jh:ie=Jx;break;case"scroll":case"scrollend":ie=Ox;break;case"wheel":ie=ty;break;case"copy":case"cut":case"paste":ie=Fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Th;break;case"toggle":case"beforetoggle":ie=ry}var Qe=(s&4)!==0,Et=!Qe&&(e==="scroll"||e==="scrollend"),Z=Qe?oe!==null?oe+"Capture":null:oe;Qe=[];for(var V=ae,se;V!==null;){var we=V;if(se=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||se===null||Z===null||(we=Fn(V,Z),we!=null&&Qe.push(So(V,we,se))),Et)break;V=V.return}0<Qe.length&&(oe=new ie(oe,st,null,n,ye),Ne.push({event:oe,listeners:Qe}))}}if((s&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",oe&&n!==ac&&(st=n.relatedTarget||n.fromElement)&&(Fe(st)||st[Wt]))break e;if((ie||oe)&&(oe=ye.window===ye?ye:(oe=ye.ownerDocument)?oe.defaultView||oe.parentWindow:window,ie?(st=n.relatedTarget||n.toElement,ie=ae,st=st?Fe(st):null,st!==null&&(Et=d(st),Qe=st.tag,st!==Et||Qe!==5&&Qe!==27&&Qe!==6)&&(st=null)):(ie=null,st=ae),ie!==st)){if(Qe=Ah,we="onMouseLeave",Z="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=Th,we="onPointerLeave",Z="onPointerEnter",V="pointer"),Et=ie==null?oe:vt(ie),se=st==null?oe:vt(st),oe=new Qe(we,V+"leave",ie,n,ye),oe.target=Et,oe.relatedTarget=se,we=null,Fe(ye)===ae&&(Qe=new Qe(Z,V+"enter",st,n,ye),Qe.target=se,Qe.relatedTarget=Et,we=Qe),Et=we,ie&&st)t:{for(Qe=ie,Z=st,V=0,se=Qe;se;se=mn(se))V++;for(se=0,we=Z;we;we=mn(we))se++;for(;0<V-se;)Qe=mn(Qe),V--;for(;0<se-V;)Z=mn(Z),se--;for(;V--;){if(Qe===Z||Z!==null&&Qe===Z.alternate)break t;Qe=mn(Qe),Z=mn(Z)}Qe=null}else Qe=null;ie!==null&&w0(Ne,oe,ie,Qe,!1),st!==null&&Et!==null&&w0(Ne,Et,st,Qe,!0)}}e:{if(oe=ae?vt(ae):window,ie=oe.nodeName&&oe.nodeName.toLowerCase(),ie==="select"||ie==="input"&&oe.type==="file")var Pe=$h;else if(Bh(oe))if(Ih)Pe=fy;else{Pe=uy;var ut=dy}else ie=oe.nodeName,!ie||ie.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&rc(ae.elementType)&&(Pe=$h):Pe=hy;if(Pe&&(Pe=Pe(e,ae))){zh(Ne,Pe,n,ye);break e}ut&&ut(e,oe,ae),e==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&sc(oe,"number",oe.value)}switch(ut=ae?vt(ae):window,e){case"focusin":(Bh(ut)||ut.contentEditable==="true")&&(Pa=ut,xc=ae,Kn=null);break;case"focusout":Kn=xc=Pa=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Wh(Ne,n,ye);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":Wh(Ne,n,ye)}var Ve;if(fc)e:{switch(e){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ha?Mh(e,n)&&(Ze="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ze="onCompositionStart");Ze&&(Rh&&n.locale!=="ko"&&(Ha||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ha&&(Ve=Eh()):(Mr=ye,ic="value"in Mr?Mr.value:Mr.textContent,Ha=!0)),ut=ri(ae,Ze),0<ut.length&&(Ze=new Dh(Ze,e,null,n,ye),Ne.push({event:Ze,listeners:ut}),Ve?Ze.data=Ve:(Ve=Uh(n),Ve!==null&&(Ze.data=Ve)))),(Ve=ny?oy(e,n):ly(e,n))&&(Ze=ri(ae,"onBeforeInput"),0<Ze.length&&(ut=new Dh("onBeforeInput","beforeinput",null,n,ye),Ne.push({event:ut,listeners:Ze}),ut.data=Ve)),Xy(Ne,e,ae,n,ye)}b0(Ne,s)})}function So(e,s,n){return{instance:e,listener:s,currentTarget:n}}function ri(e,s){for(var n=s+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Fn(e,n),u!=null&&i.unshift(So(e,u,f)),u=Fn(e,s),u!=null&&i.push(So(e,u,f))),e.tag===3)return i;e=e.return}return[]}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w0(e,s,n,i,u){for(var f=s._reactName,w=[];n!==null&&n!==i;){var C=n,U=C.alternate,ae=C.stateNode;if(C=C.tag,U!==null&&U===i)break;C!==5&&C!==26&&C!==27||ae===null||(U=ae,u?(ae=Fn(n,f),ae!=null&&w.unshift(So(n,ae,U))):u||(ae=Fn(n,f),ae!=null&&w.push(So(n,ae,U)))),n=n.return}w.length!==0&&e.push({event:s,listeners:w})}var tb=/\r\n?/g,sb=/\u0000|\uFFFD/g;function j0(e){return(typeof e=="string"?e:""+e).replace(tb,`
`).replace(sb,"")}function N0(e,s){return s=j0(s),j0(e)===s}function ai(){}function kt(e,s,n,i,u,f){switch(n){case"children":typeof i=="string"?s==="body"||s==="textarea"&&i===""||$a(e,i):(typeof i=="number"||typeof i=="bigint")&&s!=="body"&&$a(e,""+i);break;case"className":cl(e,"class",i);break;case"tabIndex":cl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":cl(e,n,i);break;case"style":Sh(e,i,f);break;case"data":if(s!=="object"){cl(e,"data",i);break}case"src":case"href":if(i===""&&(s!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=hl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(s!=="input"&&kt(e,s,"name",u.name,u,null),kt(e,s,"formEncType",u.formEncType,u,null),kt(e,s,"formMethod",u.formMethod,u,null),kt(e,s,"formTarget",u.formTarget,u,null)):(kt(e,s,"encType",u.encType,u,null),kt(e,s,"method",u.method,u,null),kt(e,s,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=hl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ai);break;case"onScroll":i!=null&&mt("scroll",e);break;case"onScrollEnd":i!=null&&mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=hl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":mt("beforetoggle",e),mt("toggle",e),il(e,"popover",i);break;case"xlinkActuate":fr(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":fr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":fr(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":fr(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":fr(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":fr(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":fr(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":fr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":fr(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":il(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Rx.get(n)||n,il(e,n,i))}}function Fd(e,s,n,i,u,f){switch(n){case"style":Sh(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?$a(e,i):(typeof i=="number"||typeof i=="bigint")&&$a(e,""+i);break;case"onScroll":i!=null&&mt("scroll",e);break;case"onScrollEnd":i!=null&&mt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),s=n.slice(2,u?n.length-7:void 0),f=e[St]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(s,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(s,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):il(e,n,i)}}}function cs(e,s,n){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",e),mt("load",e);var i=!1,u=!1,f;for(f in n)if(n.hasOwnProperty(f)){var w=n[f];if(w!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:kt(e,s,f,w,n,null)}}u&&kt(e,s,"srcSet",n.srcSet,n,null),i&&kt(e,s,"src",n.src,n,null);return;case"input":mt("invalid",e);var C=f=w=u=null,U=null,ae=null;for(i in n)if(n.hasOwnProperty(i)){var ye=n[i];if(ye!=null)switch(i){case"name":u=ye;break;case"type":w=ye;break;case"checked":U=ye;break;case"defaultChecked":ae=ye;break;case"value":f=ye;break;case"defaultValue":C=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(l(137,s));break;default:kt(e,s,i,ye,n,null)}}vh(e,f,C,U,ae,w,u,!1),dl(e);return;case"select":mt("invalid",e),i=w=f=null;for(u in n)if(n.hasOwnProperty(u)&&(C=n[u],C!=null))switch(u){case"value":f=C;break;case"defaultValue":w=C;break;case"multiple":i=C;default:kt(e,s,u,C,n,null)}s=f,n=w,e.multiple=!!i,s!=null?za(e,!!i,s,!1):n!=null&&za(e,!!i,n,!0);return;case"textarea":mt("invalid",e),f=u=i=null;for(w in n)if(n.hasOwnProperty(w)&&(C=n[w],C!=null))switch(w){case"value":i=C;break;case"defaultValue":u=C;break;case"children":f=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:kt(e,s,w,C,n,null)}jh(e,i,u,f),dl(e);return;case"option":for(U in n)if(n.hasOwnProperty(U)&&(i=n[U],i!=null))switch(U){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:kt(e,s,U,i,n,null)}return;case"dialog":mt("beforetoggle",e),mt("toggle",e),mt("cancel",e),mt("close",e);break;case"iframe":case"object":mt("load",e);break;case"video":case"audio":for(i=0;i<No.length;i++)mt(No[i],e);break;case"image":mt("error",e),mt("load",e);break;case"details":mt("toggle",e);break;case"embed":case"source":case"link":mt("error",e),mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in n)if(n.hasOwnProperty(ae)&&(i=n[ae],i!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:kt(e,s,ae,i,n,null)}return;default:if(rc(s)){for(ye in n)n.hasOwnProperty(ye)&&(i=n[ye],i!==void 0&&Fd(e,s,ye,i,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(i=n[C],i!=null&&kt(e,s,C,i,n,null))}function rb(e,s,n,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,w=null,C=null,U=null,ae=null,ye=null;for(ie in n){var Ne=n[ie];if(n.hasOwnProperty(ie)&&Ne!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=Ne;default:i.hasOwnProperty(ie)||kt(e,s,ie,null,i,Ne)}}for(var oe in i){var ie=i[oe];if(Ne=n[oe],i.hasOwnProperty(oe)&&(ie!=null||Ne!=null))switch(oe){case"type":f=ie;break;case"name":u=ie;break;case"checked":ae=ie;break;case"defaultChecked":ye=ie;break;case"value":w=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(l(137,s));break;default:ie!==Ne&&kt(e,s,oe,ie,i,Ne)}}tc(e,w,C,U,ae,ye,f,u);return;case"select":ie=w=C=oe=null;for(f in n)if(U=n[f],n.hasOwnProperty(f)&&U!=null)switch(f){case"value":break;case"multiple":ie=U;default:i.hasOwnProperty(f)||kt(e,s,f,null,i,U)}for(u in i)if(f=i[u],U=n[u],i.hasOwnProperty(u)&&(f!=null||U!=null))switch(u){case"value":oe=f;break;case"defaultValue":C=f;break;case"multiple":w=f;default:f!==U&&kt(e,s,u,f,i,U)}s=C,n=w,i=ie,oe!=null?za(e,!!n,oe,!1):!!i!=!!n&&(s!=null?za(e,!!n,s,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":ie=oe=null;for(C in n)if(u=n[C],n.hasOwnProperty(C)&&u!=null&&!i.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:kt(e,s,C,null,i,u)}for(w in i)if(u=i[w],f=n[w],i.hasOwnProperty(w)&&(u!=null||f!=null))switch(w){case"value":oe=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&kt(e,s,w,u,i,f)}wh(e,oe,ie);return;case"option":for(var st in n)if(oe=n[st],n.hasOwnProperty(st)&&oe!=null&&!i.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:kt(e,s,st,null,i,oe)}for(U in i)if(oe=i[U],ie=n[U],i.hasOwnProperty(U)&&oe!==ie&&(oe!=null||ie!=null))switch(U){case"selected":e.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:kt(e,s,U,oe,i,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in n)oe=n[Qe],n.hasOwnProperty(Qe)&&oe!=null&&!i.hasOwnProperty(Qe)&&kt(e,s,Qe,null,i,oe);for(ae in i)if(oe=i[ae],ie=n[ae],i.hasOwnProperty(ae)&&oe!==ie&&(oe!=null||ie!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(l(137,s));break;default:kt(e,s,ae,oe,i,ie)}return;default:if(rc(s)){for(var Et in n)oe=n[Et],n.hasOwnProperty(Et)&&oe!==void 0&&!i.hasOwnProperty(Et)&&Fd(e,s,Et,void 0,i,oe);for(ye in i)oe=i[ye],ie=n[ye],!i.hasOwnProperty(ye)||oe===ie||oe===void 0&&ie===void 0||Fd(e,s,ye,oe,i,ie);return}}for(var Z in n)oe=n[Z],n.hasOwnProperty(Z)&&oe!=null&&!i.hasOwnProperty(Z)&&kt(e,s,Z,null,i,oe);for(Ne in i)oe=i[Ne],ie=n[Ne],!i.hasOwnProperty(Ne)||oe===ie||oe==null&&ie==null||kt(e,s,Ne,oe,i,ie)}var Hd=null,Pd=null;function ni(e){return e.nodeType===9?e:e.ownerDocument}function S0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function qd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yd=null;function ab(){var e=window.event;return e&&e.type==="popstate"?e===Yd?!1:(Yd=e,!0):(Yd=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(e){return E0.resolve(null).then(e).catch(lb)}:k0;function lb(e){setTimeout(function(){throw e})}function Xr(e){return e==="head"}function _0(e,s){var n=s,i=0,u=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(0<i&&8>i){n=i;var w=e.ownerDocument;if(n&1&&Co(w.documentElement),n&2&&Co(w.body),n&4)for(n=w.head,Co(n),w=n.firstChild;w;){var C=w.nextSibling,U=w.nodeName;w[Ie]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||n.removeChild(w),w=C}}if(u===0){e.removeChild(f),Lo(s);return}u--}else n==="$"||n==="$?"||n==="$!"?u++:i=n.charCodeAt(0)-48;else i=0;n=f}while(n);Lo(s)}function Vd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var n=s;switch(s=s.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ib(e,s,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ie])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ks(e.nextSibling),e===null)break}return null}function cb(e,s,n){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ks(e.nextSibling),e===null))return null;return e}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function db(e,s){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")s();else{var i=function(){s(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ks(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Wd=null;function A0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return e;s--}else n==="/$"&&s++}e=e.previousSibling}return null}function D0(e,s,n){switch(s=ni(n),e){case"html":if(e=s.documentElement,!e)throw Error(l(452));return e;case"head":if(e=s.head,!e)throw Error(l(453));return e;case"body":if(e=s.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Co(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Be(e)}var qs=new Map,T0=new Set;function oi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=$.d;$.d={f:ub,r:hb,D:fb,C:mb,L:gb,m:pb,X:yb,S:xb,M:bb};function ub(){var e=Er.f(),s=Xl();return e||s}function hb(e){var s=Je(e);s!==null&&s.tag===5&&s.type==="form"?Xf(s):Er.r(e)}var gn=typeof document>"u"?null:document;function R0(e,s,n){var i=gn;if(i&&typeof s=="string"&&s){var u=Bs(s);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),T0.has(u)||(T0.add(u),e={rel:e,crossOrigin:n,href:s},i.querySelector(u)===null&&(s=i.createElement("link"),cs(s,"link",e),et(s),i.head.appendChild(s)))}}function fb(e){Er.D(e),R0("dns-prefetch",e,null)}function mb(e,s){Er.C(e,s),R0("preconnect",e,s)}function gb(e,s,n){Er.L(e,s,n);var i=gn;if(i&&e&&s){var u='link[rel="preload"][as="'+Bs(s)+'"]';s==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Bs(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Bs(n.imageSizes)+'"]')):u+='[href="'+Bs(e)+'"]';var f=u;switch(s){case"style":f=pn(e);break;case"script":f=xn(e)}qs.has(f)||(e=p({rel:"preload",href:s==="image"&&n&&n.imageSrcSet?void 0:e,as:s},n),qs.set(f,e),i.querySelector(u)!==null||s==="style"&&i.querySelector(ko(f))||s==="script"&&i.querySelector(Eo(f))||(s=i.createElement("link"),cs(s,"link",e),et(s),i.head.appendChild(s)))}}function pb(e,s){Er.m(e,s);var n=gn;if(n&&e){var i=s&&typeof s.as=="string"?s.as:"script",u='link[rel="modulepreload"][as="'+Bs(i)+'"][href="'+Bs(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xn(e)}if(!qs.has(f)&&(e=p({rel:"modulepreload",href:e},s),qs.set(f,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Eo(f)))return}i=n.createElement("link"),cs(i,"link",e),et(i),n.head.appendChild(i)}}}function xb(e,s,n){Er.S(e,s,n);var i=gn;if(i&&e){var u=Yt(i).hoistableStyles,f=pn(e);s=s||"default";var w=u.get(f);if(!w){var C={loading:0,preload:null};if(w=i.querySelector(ko(f)))C.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":s},n),(n=qs.get(f))&&Kd(e,n);var U=w=i.createElement("link");et(U),cs(U,"link",e),U._p=new Promise(function(ae,ye){U.onload=ae,U.onerror=ye}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,li(w,s,i)}w={type:"stylesheet",instance:w,count:1,state:C},u.set(f,w)}}}function yb(e,s){Er.X(e,s);var n=gn;if(n&&e){var i=Yt(n).hoistableScripts,u=xn(e),f=i.get(u);f||(f=n.querySelector(Eo(u)),f||(e=p({src:e,async:!0},s),(s=qs.get(u))&&Qd(e,s),f=n.createElement("script"),et(f),cs(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function bb(e,s){Er.M(e,s);var n=gn;if(n&&e){var i=Yt(n).hoistableScripts,u=xn(e),f=i.get(u);f||(f=n.querySelector(Eo(u)),f||(e=p({src:e,async:!0,type:"module"},s),(s=qs.get(u))&&Qd(e,s),f=n.createElement("script"),et(f),cs(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function L0(e,s,n,i){var u=(u=le.current)?oi(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(s=pn(n.href),n=Yt(u).hoistableStyles,i=n.get(s),i||(i={type:"style",instance:null,count:0,state:null},n.set(s,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pn(n.href);var f=Yt(u).hoistableStyles,w=f.get(e);if(w||(u=u.ownerDocument||u,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,w),(f=u.querySelector(ko(e)))&&!f._p&&(w.instance=f,w.state.loading=5),qs.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qs.set(e,n),f||vb(u,e,n,w.state))),s&&i===null)throw Error(l(528,""));return w}if(s&&i!==null)throw Error(l(529,""));return null;case"script":return s=n.async,n=n.src,typeof n=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xn(n),n=Yt(u).hoistableScripts,i=n.get(s),i||(i={type:"script",instance:null,count:0,state:null},n.set(s,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function pn(e){return'href="'+Bs(e)+'"'}function ko(e){return'link[rel="stylesheet"]['+e+"]"}function O0(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function vb(e,s,n,i){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=e.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),cs(s,"link",n),et(s),e.head.appendChild(s))}function xn(e){return'[src="'+Bs(e)+'"]'}function Eo(e){return"script[async]"+e}function M0(e,s,n){if(s.count++,s.instance===null)switch(s.type){case"style":var i=e.querySelector('style[data-href~="'+Bs(n.href)+'"]');if(i)return s.instance=i,et(i),i;var u=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),et(i),cs(i,"style",u),li(i,n.precedence,e),s.instance=i;case"stylesheet":u=pn(n.href);var f=e.querySelector(ko(u));if(f)return s.state.loading|=4,s.instance=f,et(f),f;i=O0(n),(u=qs.get(u))&&Kd(i,u),f=(e.ownerDocument||e).createElement("link"),et(f);var w=f;return w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),cs(f,"link",i),s.state.loading|=4,li(f,n.precedence,e),s.instance=f;case"script":return f=xn(n.src),(u=e.querySelector(Eo(f)))?(s.instance=u,et(u),u):(i=n,(u=qs.get(f))&&(i=p({},n),Qd(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),cs(u,"link",i),e.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(i=s.instance,s.state.loading|=4,li(i,n.precedence,e));return s.instance}function li(e,s,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,w=0;w<i.length;w++){var C=i[w];if(C.dataset.precedence===s)f=C;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(s=n.nodeType===9?n.head:n,s.insertBefore(e,s.firstChild))}function Kd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Qd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var ii=null;function U0(e,s,n){if(ii===null){var i=new Map,u=ii=new Map;u.set(n,i)}else u=ii,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var f=n[u];if(!(f[Ie]||f[$t]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(s)||"";w=e+w;var C=i.get(w);C?C.push(f):i.set(w,[f])}}return i}function B0(e,s,n){e=e.ownerDocument||e,e.head.insertBefore(n,s==="title"?e.querySelector("head > title"):null)}function wb(e,s,n){if(n===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function z0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _o=null;function jb(){}function Nb(e,s,n){if(_o===null)throw Error(l(475));var i=_o;if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=pn(n.href),f=e.querySelector(ko(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=ci.bind(i),e.then(i,i)),s.state.loading|=4,s.instance=f,et(f);return}f=e.ownerDocument||e,n=O0(n),(u=qs.get(u))&&Kd(n,u),f=f.createElement("link"),et(f);var w=f;w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),cs(f,"link",n),s.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(i.count++,s=ci.bind(i),e.addEventListener("load",s),e.addEventListener("error",s))}}function Sb(){if(_o===null)throw Error(l(475));var e=_o;return e.stylesheets&&e.count===0&&Xd(e,e.stylesheets),0<e.count?function(s){var n=setTimeout(function(){if(e.stylesheets&&Xd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ci(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var di=null;function Xd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,di=new Map,s.forEach(Cb,e),di=null,ci.call(e))}function Cb(e,s){if(!(s.state.loading&4)){var n=di.get(e);if(n)var i=n.get(null);else{n=new Map,di.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var w=u[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),i=w)}i&&n.set(null,i)}u=s.instance,w=u.getAttribute("data-precedence"),f=n.get(w)||i,f===i&&n.set(null,u),n.set(w,u),this.count++,i=ci.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),s.state.loading|=4}}var Ao={$$typeof:M,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function kb(e,s,n,i,u,f,w,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function $0(e,s,n,i,u,f,w,C,U,ae,ye,Ne){return e=new kb(e,s,n,w,C,U,ae,Ne),s=1,f===!0&&(s|=24),f=Ds(3,null,null,s),e.current=f,f.stateNode=e,s=Rc(),s.refCount++,e.pooledCache=s,s.refCount++,f.memoizedState={element:i,isDehydrated:n,cache:s},Uc(f),e}function I0(e){return e?(e=Ga,e):Ga}function F0(e,s,n,i,u,f){u=I0(u),i.context===null?i.context=u:i.pendingContext=u,i=zr(s),i.payload={element:n},f=f===void 0?null:f,f!==null&&(i.callback=f),n=$r(e,i,s),n!==null&&(Ms(n,e,s),ao(n,e,s))}function H0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<s?n:s}}function Zd(e,s){H0(e,s),(e=e.alternate)&&H0(e,s)}function P0(e){if(e.tag===13){var s=Va(e,67108864);s!==null&&Ms(s,e,67108864),Zd(e,67108864)}}var ui=!0;function Eb(e,s,n,i){var u=R.T;R.T=null;var f=$.p;try{$.p=2,Jd(e,s,n,i)}finally{$.p=f,R.T=u}}function _b(e,s,n,i){var u=R.T;R.T=null;var f=$.p;try{$.p=8,Jd(e,s,n,i)}finally{$.p=f,R.T=u}}function Jd(e,s,n,i){if(ui){var u=eu(i);if(u===null)Id(e,s,i,hi,n),Y0(e,i);else if(Db(u,e,s,n,i))i.stopPropagation();else if(Y0(e,i),s&4&&-1<Ab.indexOf(e)){for(;u!==null;){var f=Je(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=ke(f.pendingLanes);if(w!==0){var C=f;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var U=1<<31-re(w);C.entanglements[1]|=U,w&=~U}lr(f),(wt&6)===0&&(Kl=rt()+500,jo(0))}}break;case 13:C=Va(f,2),C!==null&&Ms(C,f,2),Xl(),Zd(f,2)}if(f=eu(i),f===null&&Id(e,s,i,hi,n),f===u)break;u=f}u!==null&&i.stopPropagation()}else Id(e,s,i,null,n)}}function eu(e){return e=nc(e),tu(e)}var hi=null;function tu(e){if(hi=null,e=Fe(e),e!==null){var s=d(e);if(s===null)e=null;else{var n=s.tag;if(n===13){if(e=h(s),e!==null)return e;e=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return hi=e,null}function q0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case O:return 2;case J:return 8;case xe:case Le:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var su=!1,Zr=null,Jr=null,ea=null,Do=new Map,To=new Map,ta=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(e,s){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Do.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(s.pointerId)}}function Ro(e,s,n,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:s,domEventName:n,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},s!==null&&(s=Je(s),s!==null&&P0(s)),e):(e.eventSystemFlags|=i,s=e.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),e)}function Db(e,s,n,i,u){switch(s){case"focusin":return Zr=Ro(Zr,e,s,n,i,u),!0;case"dragenter":return Jr=Ro(Jr,e,s,n,i,u),!0;case"mouseover":return ea=Ro(ea,e,s,n,i,u),!0;case"pointerover":var f=u.pointerId;return Do.set(f,Ro(Do.get(f)||null,e,s,n,i,u)),!0;case"gotpointercapture":return f=u.pointerId,To.set(f,Ro(To.get(f)||null,e,s,n,i,u)),!0}return!1}function V0(e){var s=Fe(e.target);if(s!==null){var n=d(s);if(n!==null){if(s=n.tag,s===13){if(s=h(n),s!==null){e.blockedOn=s,qt(e.priority,function(){if(n.tag===13){var i=Os();i=Ot(i);var u=Va(n,i);u!==null&&Ms(u,n,i),Zd(n,i)}});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fi(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var n=eu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ac=i,n.target.dispatchEvent(i),ac=null}else return s=Je(n),s!==null&&P0(s),e.blockedOn=n,!1;s.shift()}return!0}function G0(e,s,n){fi(e)&&n.delete(s)}function Tb(){su=!1,Zr!==null&&fi(Zr)&&(Zr=null),Jr!==null&&fi(Jr)&&(Jr=null),ea!==null&&fi(ea)&&(ea=null),Do.forEach(G0),To.forEach(G0)}function mi(e,s){e.blockedOn===s&&(e.blockedOn=null,su||(su=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Tb)))}var gi=null;function W0(e){gi!==e&&(gi=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){gi===e&&(gi=null);for(var s=0;s<e.length;s+=3){var n=e[s],i=e[s+1],u=e[s+2];if(typeof i!="function"){if(tu(i||n)===null)continue;break}var f=Je(n);f!==null&&(e.splice(s,3),s-=3,td(f,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function Lo(e){function s(U){return mi(U,e)}Zr!==null&&mi(Zr,e),Jr!==null&&mi(Jr,e),ea!==null&&mi(ea,e),Do.forEach(s),To.forEach(s);for(var n=0;n<ta.length;n++){var i=ta[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ta.length&&(n=ta[0],n.blockedOn===null);)V0(n),n.blockedOn===null&&ta.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],f=n[i+1],w=u[St]||null;if(typeof f=="function")w||W0(n);else if(w){var C=null;if(f&&f.hasAttribute("formAction")){if(u=f,w=f[St]||null)C=w.formAction;else if(tu(u)!==null)continue}else C=w.action;typeof C=="function"?n[i+1]=C:(n.splice(i,3),i-=3),W0(n)}}}function ru(e){this._internalRoot=e}pi.prototype.render=ru.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(l(409));var n=s.current,i=Os();F0(n,i,e,s,null,null)},pi.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;F0(e.current,2,null,e,null,null),Xl(),s[Wt]=null}};function pi(e){this._internalRoot=e}pi.prototype.unstable_scheduleHydration=function(e){if(e){var s=hr();e={blockedOn:null,target:e,priority:s};for(var n=0;n<ta.length&&s!==0&&s<ta[n].priority;n++);ta.splice(n,0,e),n===0&&V0(e)}};var K0=r.version;if(K0!=="19.1.1")throw Error(l(527,K0,"19.1.1"));$.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=x(s),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Rb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{Y=xi.inject(Rb),Ce=xi}catch{}}return Mo.createRoot=function(e,s){if(!c(e))throw Error(l(299));var n=!1,i="",u=um,f=hm,w=fm,C=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=$0(e,1,!1,null,null,n,i,u,f,w,C,null),e[Wt]=s.current,$d(e),new ru(s)},Mo.hydrateRoot=function(e,s,n){if(!c(e))throw Error(l(299));var i=!1,u="",f=um,w=hm,C=fm,U=null,ae=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(U=n.unstable_transitionCallbacks),n.formState!==void 0&&(ae=n.formState)),s=$0(e,1,!0,s,n??null,i,u,f,w,C,U,ae),s.context=I0(null),n=s.current,i=Os(),i=Ot(i),u=zr(i),u.callback=null,$r(n,u,i),n=i,s.current.lanes=n,Me(s,n),lr(s),e[Wt]=s.current,$d(e),new pi(s)},Mo.version="19.1.1",Mo}var ng;function Hb(){if(ng)return ou.exports;ng=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),ou.exports=Fb(),ou.exports}var Pb=Hb();/**
 * react-router v7.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var og="popstate";function qb(a={}){function r(l,c){let{pathname:d,search:h,hash:g}=l.location;return ku("",{pathname:d,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(l,c){return typeof c=="string"?c:qo(c)}return Vb(r,o,null,a)}function Bt(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function Zs(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Yb(){return Math.random().toString(36).substring(2,10)}function lg(a,r){return{usr:a.state,key:a.key,idx:r}}function ku(a,r,o=null,l){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof r=="string"?Ln(r):r,state:o,key:r&&r.key||l||Yb()}}function qo({pathname:a="/",search:r="",hash:o=""}){return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function Ln(a){let r={};if(a){let o=a.indexOf("#");o>=0&&(r.hash=a.substring(o),a=a.substring(0,o));let l=a.indexOf("?");l>=0&&(r.search=a.substring(l),a=a.substring(0,l)),a&&(r.pathname=a)}return r}function Vb(a,r,o,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,h=c.history,g="POP",x=null,m=p();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function p(){return(h.state||{idx:null}).idx}function b(){g="POP";let k=p(),A=k==null?null:k-m;m=k,x&&x({action:g,location:_.location,delta:A})}function j(k,A){g="PUSH";let D=ku(_.location,k,A);m=p()+1;let M=lg(D,m),X=_.createHref(D);try{h.pushState(M,"",X)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;c.location.assign(X)}d&&x&&x({action:g,location:_.location,delta:1})}function S(k,A){g="REPLACE";let D=ku(_.location,k,A);m=p();let M=lg(D,m),X=_.createHref(D);h.replaceState(M,"",X),d&&x&&x({action:g,location:_.location,delta:0})}function N(k){return Gb(k)}let _={get action(){return g},get location(){return a(c,h)},listen(k){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(og,b),x=k,()=>{c.removeEventListener(og,b),x=null}},createHref(k){return r(c,k)},createURL:N,encodeLocation(k){let A=N(k);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:j,replace:S,go(k){return h.go(k)}};return _}function Gb(a,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(o,"No window.location.(origin|href) available to create URL");let l=typeof a=="string"?a:qo(a);return l=l.replace(/ $/,"%20"),!r&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function np(a,r,o="/"){return Wb(a,r,o,!1)}function Wb(a,r,o,l){let c=typeof r=="string"?Ln(r):r,d=Tr(c.pathname||"/",o);if(d==null)return null;let h=op(a);Kb(h);let g=null;for(let x=0;g==null&&x<h.length;++x){let m=ov(d);g=av(h[x],m,l)}return g}function op(a,r=[],o=[],l="",c=!1){let d=(h,g,x=c,m)=>{let p={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(l)&&x)return;Bt(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length)}let b=Dr([l,p.relativePath]),j=o.concat(p);h.children&&h.children.length>0&&(Bt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),op(h.children,r,j,b,x)),!(h.path==null&&!h.index)&&r.push({path:b,score:sv(b,h.index),routesMeta:j})};return a.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))d(h,g);else for(let x of lp(h.path))d(h,g,!0,x)}),r}function lp(a){let r=a.split("/");if(r.length===0)return[];let[o,...l]=r,c=o.endsWith("?"),d=o.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let h=lp(l.join("/")),g=[];return g.push(...h.map(x=>x===""?d:[d,x].join("/"))),c&&g.push(...h),g.map(x=>a.startsWith("/")&&x===""?"/":x)}function Kb(a){a.sort((r,o)=>r.score!==o.score?o.score-r.score:rv(r.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var Qb=/^:[\w-]+$/,Xb=3,Zb=2,Jb=1,ev=10,tv=-2,ig=a=>a==="*";function sv(a,r){let o=a.split("/"),l=o.length;return o.some(ig)&&(l+=tv),r&&(l+=Zb),o.filter(c=>!ig(c)).reduce((c,d)=>c+(Qb.test(d)?Xb:d===""?Jb:ev),l)}function rv(a,r){return a.length===r.length&&a.slice(0,-1).every((l,c)=>l===r[c])?a[a.length-1]-r[r.length-1]:0}function av(a,r,o=!1){let{routesMeta:l}=a,c={},d="/",h=[];for(let g=0;g<l.length;++g){let x=l[g],m=g===l.length-1,p=d==="/"?r:r.slice(d.length)||"/",b=Oi({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},p),j=x.route;if(!b&&m&&o&&!l[l.length-1].route.index&&(b=Oi({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},p)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:Dr([d,b.pathname]),pathnameBase:dv(Dr([d,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(d=Dr([d,b.pathnameBase]))}return h}function Oi(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,l]=nv(a.path,a.caseSensitive,a.end),c=r.match(o);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:l.reduce((m,{paramName:p,isOptional:b},j)=>{if(p==="*"){let N=g[j]||"";h=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const S=g[j];return b&&!S?m[p]=void 0:m[p]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:h,pattern:a}}function nv(a,r=!1,o=!0){Zs(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let l=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,x)=>(l.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(l.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),l]}function ov(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Zs(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),a}}function Tr(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,l=a.charAt(o);return l&&l!=="/"?null:a.slice(o)||"/"}function lv(a,r="/"){let{pathname:o,search:l="",hash:c=""}=typeof a=="string"?Ln(a):a;return{pathname:o?o.startsWith("/")?o:iv(o,r):r,search:uv(l),hash:hv(c)}}function iv(a,r){let o=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function du(a,r,o,l){return`Cannot include a '${a}' character in a manually specified \`to.${r}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cv(a){return a.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Ku(a){let r=cv(a);return r.map((o,l)=>l===r.length-1?o.pathname:o.pathnameBase)}function Qu(a,r,o,l=!1){let c;typeof a=="string"?c=Ln(a):(c={...a},Bt(!c.pathname||!c.pathname.includes("?"),du("?","pathname","search",c)),Bt(!c.pathname||!c.pathname.includes("#"),du("#","pathname","hash",c)),Bt(!c.search||!c.search.includes("#"),du("#","search","hash",c)));let d=a===""||c.pathname==="",h=d?"/":c.pathname,g;if(h==null)g=o;else{let b=r.length-1;if(!l&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),b-=1;c.pathname=j.join("/")}g=b>=0?r[b]:"/"}let x=lv(c,g),m=h&&h!=="/"&&h.endsWith("/"),p=(d||h===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(m||p)&&(x.pathname+="/"),x}var Dr=a=>a.join("/").replace(/\/\/+/g,"/"),dv=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),uv=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,hv=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function fv(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var ip=["POST","PUT","PATCH","DELETE"];new Set(ip);var mv=["GET",...ip];new Set(mv);var On=y.createContext(null);On.displayName="DataRouter";var Fi=y.createContext(null);Fi.displayName="DataRouterState";y.createContext(!1);var cp=y.createContext({isTransitioning:!1});cp.displayName="ViewTransition";var gv=y.createContext(new Map);gv.displayName="Fetchers";var pv=y.createContext(null);pv.displayName="Await";var Js=y.createContext(null);Js.displayName="Navigation";var Wo=y.createContext(null);Wo.displayName="Location";var er=y.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Xu=y.createContext(null);Xu.displayName="RouteError";function xv(a,{relative:r}={}){Bt(Mn(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=y.useContext(Js),{hash:c,pathname:d,search:h}=Ko(a,{relative:r}),g=d;return o!=="/"&&(g=d==="/"?o:Dr([o,d])),l.createHref({pathname:g,search:h,hash:c})}function Mn(){return y.useContext(Wo)!=null}function tr(){return Bt(Mn(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Wo).location}var dp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function up(a){y.useContext(Js).static||y.useLayoutEffect(a)}function Dt(){let{isDataRoute:a}=y.useContext(er);return a?Dv():yv()}function yv(){Bt(Mn(),"useNavigate() may be used only in the context of a <Router> component.");let a=y.useContext(On),{basename:r,navigator:o}=y.useContext(Js),{matches:l}=y.useContext(er),{pathname:c}=tr(),d=JSON.stringify(Ku(l)),h=y.useRef(!1);return up(()=>{h.current=!0}),y.useCallback((x,m={})=>{if(Zs(h.current,dp),!h.current)return;if(typeof x=="number"){o.go(x);return}let p=Qu(x,JSON.parse(d),c,m.relative==="path");a==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:Dr([r,p.pathname])),(m.replace?o.replace:o.push)(p,m.state,m)},[r,o,d,c,a])}y.createContext(null);function xs(){let{matches:a}=y.useContext(er),r=a[a.length-1];return r?r.params:{}}function Ko(a,{relative:r}={}){let{matches:o}=y.useContext(er),{pathname:l}=tr(),c=JSON.stringify(Ku(o));return y.useMemo(()=>Qu(a,JSON.parse(c),l,r==="path"),[a,c,l,r])}function bv(a,r){return hp(a,r)}function hp(a,r,o,l,c){Bt(Mn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=y.useContext(Js),{matches:h}=y.useContext(er),g=h[h.length-1],x=g?g.params:{},m=g?g.pathname:"/",p=g?g.pathnameBase:"/",b=g&&g.route;{let D=b&&b.path||"";fp(m,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let j=tr(),S;if(r){let D=typeof r=="string"?Ln(r):r;Bt(p==="/"||D.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=j;let N=S.pathname||"/",_=N;if(p!=="/"){let D=p.replace(/^\//,"").split("/");_="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=np(a,{pathname:_});Zs(b||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Sv(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:Dr([p,d.encodeLocation?d.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Dr([p,d.encodeLocation?d.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,o,l,c);return r&&A?y.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},A):A}function vv(){let a=Av(),r=fv(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:d},"ErrorBoundary")," or"," ",y.createElement("code",{style:d},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),o?y.createElement("pre",{style:c},o):null,h)}var wv=y.createElement(vv,null),jv=class extends y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){this.props.unstable_onError?this.props.unstable_onError(a,r):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?y.createElement(er.Provider,{value:this.props.routeContext},y.createElement(Xu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nv({routeContext:a,match:r,children:o}){let l=y.useContext(On);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(er.Provider,{value:a},o)}function Sv(a,r=[],o=null,l=null,c=null){if(a==null){if(!o)return null;if(o.errors)a=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)a=o.matches;else return null}let d=a,h=o?.errors;if(h!=null){let m=d.findIndex(p=>p.route.id&&h?.[p.route.id]!==void 0);Bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,m+1))}let g=!1,x=-1;if(o)for(let m=0;m<d.length;m++){let p=d[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(x=m),p.route.id){let{loaderData:b,errors:j}=o,S=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!j||j[p.route.id]===void 0);if(p.route.lazy||S){g=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((m,p,b)=>{let j,S=!1,N=null,_=null;o&&(j=h&&p.route.id?h[p.route.id]:void 0,N=p.route.errorElement||wv,g&&(x<0&&b===0?(fp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):x===b&&(S=!0,_=p.route.hydrateFallbackElement||null)));let k=r.concat(d.slice(0,b+1)),A=()=>{let D;return j?D=N:S?D=_:p.route.Component?D=y.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=m,y.createElement(Nv,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:o!=null},children:D})};return o&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?y.createElement(jv,{location:o.location,revalidation:o.revalidation,component:N,error:j,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:l}):A()},null)}function Zu(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cv(a){let r=y.useContext(On);return Bt(r,Zu(a)),r}function kv(a){let r=y.useContext(Fi);return Bt(r,Zu(a)),r}function Ev(a){let r=y.useContext(er);return Bt(r,Zu(a)),r}function Ju(a){let r=Ev(a),o=r.matches[r.matches.length-1];return Bt(o.route.id,`${a} can only be used on routes that contain a unique "id"`),o.route.id}function _v(){return Ju("useRouteId")}function Av(){let a=y.useContext(Xu),r=kv("useRouteError"),o=Ju("useRouteError");return a!==void 0?a:r.errors?.[o]}function Dv(){let{router:a}=Cv("useNavigate"),r=Ju("useNavigate"),o=y.useRef(!1);return up(()=>{o.current=!0}),y.useCallback(async(c,d={})=>{Zs(o.current,dp),o.current&&(typeof c=="number"?a.navigate(c):await a.navigate(c,{fromRouteId:r,...d}))},[a,r])}var cg={};function fp(a,r,o){!r&&!cg[a]&&(cg[a]=!0,Zs(!1,o))}y.memo(Tv);function Tv({routes:a,future:r,state:o,unstable_onError:l}){return hp(a,void 0,o,l,r)}function mp({to:a,replace:r,state:o,relative:l}){Bt(Mn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=y.useContext(Js);Zs(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=y.useContext(er),{pathname:h}=tr(),g=Dt(),x=Qu(a,Ku(d),h,l==="path"),m=JSON.stringify(x);return y.useEffect(()=>{g(JSON.parse(m),{replace:r,state:o,relative:l})},[g,m,l,r,o]),null}function Nt(a){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rv({basename:a="/",children:r=null,location:o,navigationType:l="POP",navigator:c,static:d=!1}){Bt(!Mn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),g=y.useMemo(()=>({basename:h,navigator:c,static:d,future:{}}),[h,c,d]);typeof o=="string"&&(o=Ln(o));let{pathname:x="/",search:m="",hash:p="",state:b=null,key:j="default"}=o,S=y.useMemo(()=>{let N=Tr(x,h);return N==null?null:{location:{pathname:N,search:m,hash:p,state:b,key:j},navigationType:l}},[h,x,m,p,b,j,l]);return Zs(S!=null,`<Router basename="${h}"> is not able to match the URL "${x}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:y.createElement(Js.Provider,{value:g},y.createElement(Wo.Provider,{children:r,value:S}))}function Lv({children:a,location:r}){return bv(Eu(a),r)}function Eu(a,r=[]){let o=[];return y.Children.forEach(a,(l,c)=>{if(!y.isValidElement(l))return;let d=[...r,c];if(l.type===y.Fragment){o.push.apply(o,Eu(l.props.children,d));return}Bt(l.type===Nt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Eu(l.props.children,d)),o.push(h)}),o}var Ai="get",Di="application/x-www-form-urlencoded";function Hi(a){return a!=null&&typeof a.tagName=="string"}function Ov(a){return Hi(a)&&a.tagName.toLowerCase()==="button"}function Mv(a){return Hi(a)&&a.tagName.toLowerCase()==="form"}function Uv(a){return Hi(a)&&a.tagName.toLowerCase()==="input"}function Bv(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function zv(a,r){return a.button===0&&(!r||r==="_self")&&!Bv(a)}var yi=null;function $v(){if(yi===null)try{new FormData(document.createElement("form"),0),yi=!1}catch{yi=!0}return yi}var Iv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uu(a){return a!=null&&!Iv.has(a)?(Zs(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Di}"`),null):a}function Fv(a,r){let o,l,c,d,h;if(Mv(a)){let g=a.getAttribute("action");l=g?Tr(g,r):null,o=a.getAttribute("method")||Ai,c=uu(a.getAttribute("enctype"))||Di,d=new FormData(a)}else if(Ov(a)||Uv(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=a.getAttribute("formaction")||g.getAttribute("action");if(l=x?Tr(x,r):null,o=a.getAttribute("formmethod")||g.getAttribute("method")||Ai,c=uu(a.getAttribute("formenctype"))||uu(g.getAttribute("enctype"))||Di,d=new FormData(g,a),!$v()){let{name:m,type:p,value:b}=a;if(p==="image"){let j=m?`${m}.`:"";d.append(`${j}x`,"0"),d.append(`${j}y`,"0")}else m&&d.append(m,b)}}else{if(Hi(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ai,l=null,c=Di,h=a}return d&&c==="text/plain"&&(h=d,d=void 0),{action:l,method:o.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eh(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function Hv(a,r,o){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return l.pathname==="/"?l.pathname=`_root.${o}`:r&&Tr(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function Pv(a,r){if(a.id in r)return r[a.id];try{let o=await import(a.module);return r[a.id]=o,o}catch(o){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qv(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Yv(a,r,o){let l=await Promise.all(a.map(async c=>{let d=r.routes[c.route.id];if(d){let h=await Pv(d,o);return h.links?h.links():[]}return[]}));return Kv(l.flat(1).filter(qv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function dg(a,r,o,l,c,d){let h=(x,m)=>o[m]?x.route.id!==o[m].route.id:!0,g=(x,m)=>o[m].pathname!==x.pathname||o[m].route.path?.endsWith("*")&&o[m].params["*"]!==x.params["*"];return d==="assets"?r.filter((x,m)=>h(x,m)||g(x,m)):d==="data"?r.filter((x,m)=>{let p=l.routes[x.route.id];if(!p||!p.hasLoader)return!1;if(h(x,m)||g(x,m))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Vv(a,r,{includeHydrateFallback:o}={}){return Gv(a.map(l=>{let c=r.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),o&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Gv(a){return[...new Set(a)]}function Wv(a){let r={},o=Object.keys(a).sort();for(let l of o)r[l]=a[l];return r}function Kv(a,r){let o=new Set;return new Set(r),a.reduce((l,c)=>{let d=JSON.stringify(Wv(c));return o.has(d)||(o.add(d),l.push({key:d,link:c})),l},[])}function gp(){let a=y.useContext(On);return eh(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Qv(){let a=y.useContext(Fi);return eh(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var th=y.createContext(void 0);th.displayName="FrameworkContext";function pp(){let a=y.useContext(th);return eh(a,"You must render this element inside a <HydratedRouter> element"),a}function Xv(a,r){let o=y.useContext(th),[l,c]=y.useState(!1),[d,h]=y.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:m,onMouseLeave:p,onTouchStart:b}=r,j=y.useRef(null);y.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let _=A=>{A.forEach(D=>{h(D.isIntersecting)})},k=new IntersectionObserver(_,{threshold:.5});return j.current&&k.observe(j.current),()=>{k.disconnect()}}},[a]),y.useEffect(()=>{if(l){let _=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(_)}}},[l]);let S=()=>{c(!0)},N=()=>{c(!1),h(!1)};return o?a!=="intent"?[d,j,{}]:[d,j,{onFocus:Uo(g,S),onBlur:Uo(x,N),onMouseEnter:Uo(m,S),onMouseLeave:Uo(p,N),onTouchStart:Uo(b,S)}]:[!1,j,{}]}function Uo(a,r){return o=>{a&&a(o),o.defaultPrevented||r(o)}}function Zv({page:a,...r}){let{router:o}=gp(),l=y.useMemo(()=>np(o.routes,a,o.basename),[o.routes,a,o.basename]);return l?y.createElement(e2,{page:a,matches:l,...r}):null}function Jv(a){let{manifest:r,routeModules:o}=pp(),[l,c]=y.useState([]);return y.useEffect(()=>{let d=!1;return Yv(a,r,o).then(h=>{d||c(h)}),()=>{d=!0}},[a,r,o]),l}function e2({page:a,matches:r,...o}){let l=tr(),{manifest:c,routeModules:d}=pp(),{basename:h}=gp(),{loaderData:g,matches:x}=Qv(),m=y.useMemo(()=>dg(a,r,x,c,l,"data"),[a,r,x,c,l]),p=y.useMemo(()=>dg(a,r,x,c,l,"assets"),[a,r,x,c,l]),b=y.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let N=new Set,_=!1;if(r.forEach(A=>{let D=c.routes[A.route.id];!D||!D.hasLoader||(!m.some(M=>M.route.id===A.route.id)&&A.route.id in g&&d[A.route.id]?.shouldRevalidate||D.hasClientLoader?_=!0:N.add(A.route.id))}),N.size===0)return[];let k=Hv(a,h,"data");return _&&N.size>0&&k.searchParams.set("_routes",r.filter(A=>N.has(A.route.id)).map(A=>A.route.id).join(",")),[k.pathname+k.search]},[h,g,l,c,m,r,a,d]),j=y.useMemo(()=>Vv(p,c),[p,c]),S=Jv(p);return y.createElement(y.Fragment,null,b.map(N=>y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...o})),j.map(N=>y.createElement("link",{key:N,rel:"modulepreload",href:N,...o})),S.map(({key:N,link:_})=>y.createElement("link",{key:N,nonce:o.nonce,..._})))}function t2(...a){return r=>{a.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xp&&(window.__reactRouterVersion="7.9.0")}catch{}function s2({basename:a,children:r,window:o}){let l=y.useRef();l.current==null&&(l.current=qb({window:o,v5Compat:!0}));let c=l.current,[d,h]=y.useState({action:c.action,location:c.location}),g=y.useCallback(x=>{y.startTransition(()=>h(x))},[h]);return y.useLayoutEffect(()=>c.listen(g),[c,g]),y.createElement(Rv,{basename:a,children:r,location:d.location,navigationType:d.action,navigator:c})}var yp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qo=y.forwardRef(function({onClick:r,discover:o="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:g,target:x,to:m,preventScrollReset:p,viewTransition:b,...j},S){let{basename:N}=y.useContext(Js),_=typeof m=="string"&&yp.test(m),k,A=!1;if(typeof m=="string"&&_&&(k=m,xp))try{let me=new URL(window.location.href),Se=m.startsWith("//")?new URL(me.protocol+m):new URL(m),_e=Tr(Se.pathname,N);Se.origin===me.origin&&_e!=null?m=_e+Se.search+Se.hash:A=!0}catch{Zs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=xv(m,{relative:c}),[M,X,H]=Xv(l,j),F=o2(m,{replace:h,state:g,target:x,preventScrollReset:p,relative:c,viewTransition:b});function Q(me){r&&r(me),me.defaultPrevented||F(me)}let ce=y.createElement("a",{...j,...H,href:k||D,onClick:A||d?r:Q,ref:t2(S,X),target:x,"data-discover":!_&&o==="render"?"true":void 0});return M&&!_?y.createElement(y.Fragment,null,ce,y.createElement(Zv,{page:D})):ce});Qo.displayName="Link";var r2=y.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:l="",end:c=!1,style:d,to:h,viewTransition:g,children:x,...m},p){let b=Ko(h,{relative:m.relative}),j=tr(),S=y.useContext(Fi),{navigator:N,basename:_}=y.useContext(Js),k=S!=null&&u2(b)&&g===!0,A=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,D=j.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;o||(D=D.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&_&&(M=Tr(M,_)||M);const X=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=D===A||!c&&D.startsWith(A)&&D.charAt(X)==="/",F=M!=null&&(M===A||!c&&M.startsWith(A)&&M.charAt(A.length)==="/"),Q={isActive:H,isPending:F,isTransitioning:k},ce=H?r:void 0,me;typeof l=="function"?me=l(Q):me=[l,H?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Se=typeof d=="function"?d(Q):d;return y.createElement(Qo,{...m,"aria-current":ce,className:me,ref:p,style:Se,to:h,viewTransition:g},typeof x=="function"?x(Q):x)});r2.displayName="NavLink";var a2=y.forwardRef(({discover:a="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:c,state:d,method:h=Ai,action:g,onSubmit:x,relative:m,preventScrollReset:p,viewTransition:b,...j},S)=>{let N=c2(),_=d2(g,{relative:m}),k=h.toLowerCase()==="get"?"get":"post",A=typeof g=="string"&&yp.test(g),D=M=>{if(x&&x(M),M.defaultPrevented)return;M.preventDefault();let X=M.nativeEvent.submitter,H=X?.getAttribute("formmethod")||h;N(X||M.currentTarget,{fetcherKey:r,method:H,navigate:o,replace:c,state:d,relative:m,preventScrollReset:p,viewTransition:b})};return y.createElement("form",{ref:S,method:k,action:_,onSubmit:l?x:D,...j,"data-discover":!A&&a==="render"?"true":void 0})});a2.displayName="Form";function n2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bp(a){let r=y.useContext(On);return Bt(r,n2(a)),r}function o2(a,{target:r,replace:o,state:l,preventScrollReset:c,relative:d,viewTransition:h}={}){let g=Dt(),x=tr(),m=Ko(a,{relative:d});return y.useCallback(p=>{if(zv(p,r)){p.preventDefault();let b=o!==void 0?o:qo(x)===qo(m);g(a,{replace:b,state:l,preventScrollReset:c,relative:d,viewTransition:h})}},[x,g,m,o,l,r,a,c,d,h])}var l2=0,i2=()=>`__${String(++l2)}__`;function c2(){let{router:a}=bp("useSubmit"),{basename:r}=y.useContext(Js),o=_v();return y.useCallback(async(l,c={})=>{let{action:d,method:h,encType:g,formData:x,body:m}=Fv(l,r);if(c.navigate===!1){let p=c.fetcherKey||i2();await a.fetch(p,o,c.action||d,{preventScrollReset:c.preventScrollReset,formData:x,body:m,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await a.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:x,body:m,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,r,o])}function d2(a,{relative:r}={}){let{basename:o}=y.useContext(Js),l=y.useContext(er);Bt(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Ko(a||".",{relative:r})},h=tr();if(a==null){d.search=h.search;let g=new URLSearchParams(d.search),x=g.getAll("index");if(x.some(p=>p==="")){g.delete("index"),x.filter(b=>b).forEach(b=>g.append("index",b));let p=g.toString();d.search=p?`?${p}`:""}}return(!a||a===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(d.pathname=d.pathname==="/"?o:Dr([o,d.pathname])),qo(d)}function u2(a,{relative:r}={}){let o=y.useContext(cp);Bt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=bp("useViewTransitionState"),c=Ko(a,{relative:r});if(!o.isTransitioning)return!1;let d=Tr(o.currentLocation.pathname,l)||o.currentLocation.pathname,h=Tr(o.nextLocation.pathname,l)||o.nextLocation.pathname;return Oi(c.pathname,h)!=null||Oi(c.pathname,d)!=null}var h2=ap();const f2=Gu(h2);function m2(a){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r.appendChild(o),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a))}const g2=a=>{switch(a){case"success":return y2;case"info":return v2;case"warning":return b2;case"error":return w2;default:return null}},p2=Array(12).fill(0),x2=({visible:a,className:r})=>Re.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":a},Re.createElement("div",{className:"sonner-spinner"},p2.map((o,l)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${l}`})))),y2=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b2=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),v2=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),w2=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j2=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),N2=()=>{const[a,r]=Re.useState(document.hidden);return Re.useEffect(()=>{const o=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),a};let _u=1;class S2{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const o=this.subscribers.indexOf(r);this.subscribers.splice(o,1)}),this.publish=r=>{this.subscribers.forEach(o=>o(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var o;const{message:l,...c}=r,d=typeof r?.id=="number"||((o=r.id)==null?void 0:o.length)>0?r.id:_u++,h=this.toasts.find(x=>x.id===d),g=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),h?this.toasts=this.toasts.map(x=>x.id===d?(this.publish({...x,...r,id:d,title:l}),{...x,...r,id:d,dismissible:g,title:l}):x):this.addToast({title:l,...c,dismissible:g,id:d}),d},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(o=>o({id:r,dismiss:!0})))):this.toasts.forEach(o=>{this.subscribers.forEach(l=>l({id:o.id,dismiss:!0}))}),r),this.message=(r,o)=>this.create({...o,message:r}),this.error=(r,o)=>this.create({...o,message:r,type:"error"}),this.success=(r,o)=>this.create({...o,type:"success",message:r}),this.info=(r,o)=>this.create({...o,type:"info",message:r}),this.warning=(r,o)=>this.create({...o,type:"warning",message:r}),this.loading=(r,o)=>this.create({...o,type:"loading",message:r}),this.promise=(r,o)=>{if(!o)return;let l;o.loading!==void 0&&(l=this.create({...o,promise:r,type:"loading",message:o.loading,description:typeof o.description!="function"?o.description:void 0}));const c=Promise.resolve(r instanceof Function?r():r);let d=l!==void 0,h;const g=c.then(async m=>{if(h=["resolve",m],Re.isValidElement(m))d=!1,this.create({id:l,type:"default",message:m});else if(k2(m)&&!m.ok){d=!1;const b=typeof o.error=="function"?await o.error(`HTTP error! status: ${m.status}`):o.error,j=typeof o.description=="function"?await o.description(`HTTP error! status: ${m.status}`):o.description,N=typeof b=="object"&&!Re.isValidElement(b)?b:{message:b};this.create({id:l,type:"error",description:j,...N})}else if(m instanceof Error){d=!1;const b=typeof o.error=="function"?await o.error(m):o.error,j=typeof o.description=="function"?await o.description(m):o.description,N=typeof b=="object"&&!Re.isValidElement(b)?b:{message:b};this.create({id:l,type:"error",description:j,...N})}else if(o.success!==void 0){d=!1;const b=typeof o.success=="function"?await o.success(m):o.success,j=typeof o.description=="function"?await o.description(m):o.description,N=typeof b=="object"&&!Re.isValidElement(b)?b:{message:b};this.create({id:l,type:"success",description:j,...N})}}).catch(async m=>{if(h=["reject",m],o.error!==void 0){d=!1;const p=typeof o.error=="function"?await o.error(m):o.error,b=typeof o.description=="function"?await o.description(m):o.description,S=typeof p=="object"&&!Re.isValidElement(p)?p:{message:p};this.create({id:l,type:"error",description:b,...S})}}).finally(()=>{d&&(this.dismiss(l),l=void 0),o.finally==null||o.finally.call(o)}),x=()=>new Promise((m,p)=>g.then(()=>h[0]==="reject"?p(h[1]):m(h[1])).catch(p));return typeof l!="string"&&typeof l!="number"?{unwrap:x}:Object.assign(l,{unwrap:x})},this.custom=(r,o)=>{const l=o?.id||_u++;return this.create({jsx:r(l),id:l,...o}),l},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cs=new S2,C2=(a,r)=>{const o=r?.id||_u++;return Cs.addToast({title:a,...r,id:o}),o},k2=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",E2=C2,_2=()=>Cs.toasts,A2=()=>Cs.getActiveToasts(),E=Object.assign(E2,{success:Cs.success,info:Cs.info,warning:Cs.warning,error:Cs.error,custom:Cs.custom,message:Cs.message,promise:Cs.promise,dismiss:Cs.dismiss,loading:Cs.loading},{getHistory:_2,getToasts:A2});m2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bi(a){return a.label!==void 0}const D2=3,T2="24px",R2="16px",ug=4e3,L2=356,O2=14,M2=45,U2=200;function ir(...a){return a.filter(Boolean).join(" ")}function B2(a){const[r,o]=a.split("-"),l=[];return r&&l.push(r),o&&l.push(o),l}const z2=a=>{var r,o,l,c,d,h,g,x,m;const{invert:p,toast:b,unstyled:j,interacting:S,setHeights:N,visibleToasts:_,heights:k,index:A,toasts:D,expanded:M,removeToast:X,defaultRichColors:H,closeButton:F,style:Q,cancelButtonStyle:ce,actionButtonStyle:me,className:Se="",descriptionClassName:_e="",duration:be,position:de,gap:ee,expandByDefault:he,classNames:R,icons:$,closeButtonAriaLabel:T="Close toast"}=a,[B,v]=Re.useState(null),[z,G]=Re.useState(null),[P,L]=Re.useState(!1),[ne,le]=Re.useState(!1),[Te,je]=Re.useState(!1),[ve,Ae]=Re.useState(!1),[K,fe]=Re.useState(!1),[ze,Ge]=Re.useState(0),[Ke,tt]=Re.useState(0),rt=Re.useRef(b.duration||be||ug),te=Re.useRef(null),O=Re.useRef(null),J=A===0,xe=A+1<=_,Le=b.type,Xe=b.dismissible!==!1,W=b.className||"",Ue=b.descriptionClassName||"",Y=Re.useMemo(()=>k.findIndex(Ye=>Ye.toastId===b.id)||0,[k,b.id]),Ce=Re.useMemo(()=>{var Ye;return(Ye=b.closeButton)!=null?Ye:F},[b.closeButton,F]),pe=Re.useMemo(()=>b.duration||be||ug,[b.duration,be]),re=Re.useRef(0),He=Re.useRef(0),ht=Re.useRef(0),I=Re.useRef(null),[q,ge]=de.split("-"),ke=Re.useMemo(()=>k.reduce((Ye,bt,Ot)=>Ot>=Y?Ye:Ye+bt.height,0),[k,Y]),Oe=N2(),$e=b.invert||p,De=Le==="loading";He.current=Re.useMemo(()=>Y*ee+ke,[Y,ke]),Re.useEffect(()=>{rt.current=pe},[pe]),Re.useEffect(()=>{L(!0)},[]),Re.useEffect(()=>{const Ye=O.current;if(Ye){const bt=Ye.getBoundingClientRect().height;return tt(bt),N(Ot=>[{toastId:b.id,height:bt,position:b.position},...Ot]),()=>N(Ot=>Ot.filter(Zt=>Zt.toastId!==b.id))}},[N,b.id]),Re.useLayoutEffect(()=>{if(!P)return;const Ye=O.current,bt=Ye.style.height;Ye.style.height="auto";const Ot=Ye.getBoundingClientRect().height;Ye.style.height=bt,tt(Ot),N(Zt=>Zt.find(qt=>qt.toastId===b.id)?Zt.map(qt=>qt.toastId===b.id?{...qt,height:Ot}:qt):[{toastId:b.id,height:Ot,position:b.position},...Zt])},[P,b.title,b.description,N,b.id,b.jsx,b.action,b.cancel]);const qe=Re.useCallback(()=>{le(!0),Ge(He.current),N(Ye=>Ye.filter(bt=>bt.toastId!==b.id)),setTimeout(()=>{X(b)},U2)},[b,X,N,He]);Re.useEffect(()=>{if(b.promise&&Le==="loading"||b.duration===1/0||b.type==="loading")return;let Ye;return M||S||Oe?(()=>{if(ht.current<re.current){const Zt=new Date().getTime()-re.current;rt.current=rt.current-Zt}ht.current=new Date().getTime()})():(()=>{rt.current!==1/0&&(re.current=new Date().getTime(),Ye=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),qe()},rt.current))})(),()=>clearTimeout(Ye)},[M,S,b,Le,Oe,qe]),Re.useEffect(()=>{b.delete&&(qe(),b.onDismiss==null||b.onDismiss.call(b,b))},[qe,b.delete]);function ct(){var Ye;if($?.loading){var bt;return Re.createElement("div",{className:ir(R?.loader,b==null||(bt=b.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":Le==="loading"},$.loading)}return Re.createElement(x2,{className:ir(R?.loader,b==null||(Ye=b.classNames)==null?void 0:Ye.loader),visible:Le==="loading"})}const We=b.icon||$?.[Le]||g2(Le);var Me,_t;return Re.createElement("li",{tabIndex:0,ref:O,className:ir(Se,W,R?.toast,b==null||(r=b.classNames)==null?void 0:r.toast,R?.default,R?.[Le],b==null||(o=b.classNames)==null?void 0:o[Le]),"data-sonner-toast":"","data-rich-colors":(Me=b.richColors)!=null?Me:H,"data-styled":!(b.jsx||b.unstyled||j),"data-mounted":P,"data-promise":!!b.promise,"data-swiped":K,"data-removed":ne,"data-visible":xe,"data-y-position":q,"data-x-position":ge,"data-index":A,"data-front":J,"data-swiping":Te,"data-dismissible":Xe,"data-type":Le,"data-invert":$e,"data-swipe-out":ve,"data-swipe-direction":z,"data-expanded":!!(M||he&&P),"data-testid":b.testId,style:{"--index":A,"--toasts-before":A,"--z-index":D.length-A,"--offset":`${ne?ze:He.current}px`,"--initial-height":he?"auto":`${Ke}px`,...Q,...b.style},onDragEnd:()=>{je(!1),v(null),I.current=null},onPointerDown:Ye=>{Ye.button!==2&&(De||!Xe||(te.current=new Date,Ge(He.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(je(!0),I.current={x:Ye.clientX,y:Ye.clientY})))},onPointerUp:()=>{var Ye,bt,Ot;if(ve||!Xe)return;I.current=null;const Zt=Number(((Ye=O.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),hr=Number(((bt=O.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((Ot=te.current)==null?void 0:Ot.getTime()),zt=B==="x"?Zt:hr,$t=Math.abs(zt)/qt;if(Math.abs(zt)>=M2||$t>.11){Ge(He.current),b.onDismiss==null||b.onDismiss.call(b,b),G(B==="x"?Zt>0?"right":"left":hr>0?"down":"up"),qe(),Ae(!0);return}else{var St,Wt;(St=O.current)==null||St.style.setProperty("--swipe-amount-x","0px"),(Wt=O.current)==null||Wt.style.setProperty("--swipe-amount-y","0px")}fe(!1),je(!1),v(null)},onPointerMove:Ye=>{var bt,Ot,Zt;if(!I.current||!Xe||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const qt=Ye.clientY-I.current.y,zt=Ye.clientX-I.current.x;var $t;const St=($t=a.swipeDirections)!=null?$t:B2(de);!B&&(Math.abs(zt)>1||Math.abs(qt)>1)&&v(Math.abs(zt)>Math.abs(qt)?"x":"y");let Wt={x:0,y:0};const Or=_s=>1/(1.5+Math.abs(_s)/20);if(B==="y"){if(St.includes("top")||St.includes("bottom"))if(St.includes("top")&&qt<0||St.includes("bottom")&&qt>0)Wt.y=qt;else{const _s=qt*Or(qt);Wt.y=Math.abs(_s)<Math.abs(qt)?_s:qt}}else if(B==="x"&&(St.includes("left")||St.includes("right")))if(St.includes("left")&&zt<0||St.includes("right")&&zt>0)Wt.x=zt;else{const _s=zt*Or(zt);Wt.x=Math.abs(_s)<Math.abs(zt)?_s:zt}(Math.abs(Wt.x)>0||Math.abs(Wt.y)>0)&&fe(!0),(Ot=O.current)==null||Ot.style.setProperty("--swipe-amount-x",`${Wt.x}px`),(Zt=O.current)==null||Zt.style.setProperty("--swipe-amount-y",`${Wt.y}px`)}},Ce&&!b.jsx&&Le!=="loading"?Re.createElement("button",{"aria-label":T,"data-disabled":De,"data-close-button":!0,onClick:De||!Xe?()=>{}:()=>{qe(),b.onDismiss==null||b.onDismiss.call(b,b)},className:ir(R?.closeButton,b==null||(l=b.classNames)==null?void 0:l.closeButton)},(_t=$?.close)!=null?_t:j2):null,(Le||b.icon||b.promise)&&b.icon!==null&&($?.[Le]!==null||b.icon)?Re.createElement("div",{"data-icon":"",className:ir(R?.icon,b==null||(c=b.classNames)==null?void 0:c.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||ct():null,b.type!=="loading"?We:null):null,Re.createElement("div",{"data-content":"",className:ir(R?.content,b==null||(d=b.classNames)==null?void 0:d.content)},Re.createElement("div",{"data-title":"",className:ir(R?.title,b==null||(h=b.classNames)==null?void 0:h.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?Re.createElement("div",{"data-description":"",className:ir(_e,Ue,R?.description,b==null||(g=b.classNames)==null?void 0:g.description)},typeof b.description=="function"?b.description():b.description):null),Re.isValidElement(b.cancel)?b.cancel:b.cancel&&bi(b.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||ce,onClick:Ye=>{bi(b.cancel)&&Xe&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,Ye),qe())},className:ir(R?.cancelButton,b==null||(x=b.classNames)==null?void 0:x.cancelButton)},b.cancel.label):null,Re.isValidElement(b.action)?b.action:b.action&&bi(b.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||me,onClick:Ye=>{bi(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,Ye),!Ye.defaultPrevented&&qe())},className:ir(R?.actionButton,b==null||(m=b.classNames)==null?void 0:m.actionButton)},b.action.label):null)};function hg(){if(typeof window>"u"||typeof document>"u")return"ltr";const a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function $2(a,r){const o={};return[a,r].forEach((l,c)=>{const d=c===1,h=d?"--mobile-offset":"--offset",g=d?R2:T2;function x(m){["top","right","bottom","left"].forEach(p=>{o[`${h}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof l=="number"||typeof l=="string"?x(l):typeof l=="object"?["top","right","bottom","left"].forEach(m=>{l[m]===void 0?o[`${h}-${m}`]=g:o[`${h}-${m}`]=typeof l[m]=="number"?`${l[m]}px`:l[m]}):x(g)}),o}const I2=Re.forwardRef(function(r,o){const{id:l,invert:c,position:d="bottom-right",hotkey:h=["altKey","KeyT"],expand:g,closeButton:x,className:m,offset:p,mobileOffset:b,theme:j="light",richColors:S,duration:N,style:_,visibleToasts:k=D2,toastOptions:A,dir:D=hg(),gap:M=O2,icons:X,containerAriaLabel:H="Notifications"}=r,[F,Q]=Re.useState([]),ce=Re.useMemo(()=>l?F.filter(P=>P.toasterId===l):F.filter(P=>!P.toasterId),[F,l]),me=Re.useMemo(()=>Array.from(new Set([d].concat(ce.filter(P=>P.position).map(P=>P.position)))),[ce,d]),[Se,_e]=Re.useState([]),[be,de]=Re.useState(!1),[ee,he]=Re.useState(!1),[R,$]=Re.useState(j!=="system"?j:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=Re.useRef(null),B=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=Re.useRef(null),z=Re.useRef(!1),G=Re.useCallback(P=>{Q(L=>{var ne;return(ne=L.find(le=>le.id===P.id))!=null&&ne.delete||Cs.dismiss(P.id),L.filter(({id:le})=>le!==P.id)})},[]);return Re.useEffect(()=>Cs.subscribe(P=>{if(P.dismiss){requestAnimationFrame(()=>{Q(L=>L.map(ne=>ne.id===P.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{f2.flushSync(()=>{Q(L=>{const ne=L.findIndex(le=>le.id===P.id);return ne!==-1?[...L.slice(0,ne),{...L[ne],...P},...L.slice(ne+1)]:[P,...L]})})})}),[F]),Re.useEffect(()=>{if(j!=="system"){$(j);return}if(j==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:L})=>{$(L?"dark":"light")})}catch{P.addListener(({matches:ne})=>{try{$(ne?"dark":"light")}catch(le){console.error(le)}})}},[j]),Re.useEffect(()=>{F.length<=1&&de(!1)},[F]),Re.useEffect(()=>{const P=L=>{var ne;if(h.every(je=>L[je]||L.code===je)){var Te;de(!0),(Te=T.current)==null||Te.focus()}L.code==="Escape"&&(document.activeElement===T.current||(ne=T.current)!=null&&ne.contains(document.activeElement))&&de(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[h]),Re.useEffect(()=>{if(T.current)return()=>{v.current&&(v.current.focus({preventScroll:!0}),v.current=null,z.current=!1)}},[T.current]),Re.createElement("section",{ref:o,"aria-label":`${H} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},me.map((P,L)=>{var ne;const[le,Te]=P.split("-");return ce.length?Re.createElement("ol",{key:P,dir:D==="auto"?hg():D,tabIndex:-1,ref:T,className:m,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":le,"data-x-position":Te,style:{"--front-toast-height":`${((ne=Se[0])==null?void 0:ne.height)||0}px`,"--width":`${L2}px`,"--gap":`${M}px`,..._,...$2(p,b)},onBlur:je=>{z.current&&!je.currentTarget.contains(je.relatedTarget)&&(z.current=!1,v.current&&(v.current.focus({preventScroll:!0}),v.current=null))},onFocus:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||z.current||(z.current=!0,v.current=je.relatedTarget)},onMouseEnter:()=>de(!0),onMouseMove:()=>de(!0),onMouseLeave:()=>{ee||de(!1)},onDragEnd:()=>de(!1),onPointerDown:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},ce.filter(je=>!je.position&&L===0||je.position===P).map((je,ve)=>{var Ae,K;return Re.createElement(z2,{key:je.id,icons:X,index:ve,toast:je,defaultRichColors:S,duration:(Ae=A?.duration)!=null?Ae:N,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:c,visibleToasts:k,closeButton:(K=A?.closeButton)!=null?K:x,interacting:ee,position:P,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:G,toasts:ce.filter(fe=>fe.position==je.position),heights:Se.filter(fe=>fe.position==je.position),setHeights:_e,expandByDefault:g,gap:M,expanded:be,swipeDirections:r.swipeDirections})})):null}))}),Ut=({children:a})=>{const r=tr();return localStorage.getItem("token")?t.jsx(t.Fragment,{children:a}):t.jsx(mp,{to:"/login",state:{from:r},replace:!0})};function vp(a,r){return function(){return a.apply(r,arguments)}}const{toString:F2}=Object.prototype,{getPrototypeOf:sh}=Object,{iterator:Pi,toStringTag:wp}=Symbol,qi=(a=>r=>{const o=F2.call(r);return a[o]||(a[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),sr=a=>(a=a.toLowerCase(),r=>qi(r)===a),Yi=a=>r=>typeof r===a,{isArray:Un}=Array,Dn=Yi("undefined");function Xo(a){return a!==null&&!Dn(a)&&a.constructor!==null&&!Dn(a.constructor)&&ks(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const jp=sr("ArrayBuffer");function H2(a){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(a):r=a&&a.buffer&&jp(a.buffer),r}const P2=Yi("string"),ks=Yi("function"),Np=Yi("number"),Zo=a=>a!==null&&typeof a=="object",q2=a=>a===!0||a===!1,Ti=a=>{if(qi(a)!=="object")return!1;const r=sh(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(wp in a)&&!(Pi in a)},Y2=a=>{if(!Zo(a)||Xo(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},V2=sr("Date"),G2=sr("File"),W2=sr("Blob"),K2=sr("FileList"),Q2=a=>Zo(a)&&ks(a.pipe),X2=a=>{let r;return a&&(typeof FormData=="function"&&a instanceof FormData||ks(a.append)&&((r=qi(a))==="formdata"||r==="object"&&ks(a.toString)&&a.toString()==="[object FormData]"))},Z2=sr("URLSearchParams"),[J2,e1,t1,s1]=["ReadableStream","Request","Response","Headers"].map(sr),r1=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jo(a,r,{allOwnKeys:o=!1}={}){if(a===null||typeof a>"u")return;let l,c;if(typeof a!="object"&&(a=[a]),Un(a))for(l=0,c=a.length;l<c;l++)r.call(null,a[l],l,a);else{if(Xo(a))return;const d=o?Object.getOwnPropertyNames(a):Object.keys(a),h=d.length;let g;for(l=0;l<h;l++)g=d[l],r.call(null,a[g],g,a)}}function Sp(a,r){if(Xo(a))return null;r=r.toLowerCase();const o=Object.keys(a);let l=o.length,c;for(;l-- >0;)if(c=o[l],r===c.toLowerCase())return c;return null}const Ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cp=a=>!Dn(a)&&a!==Ta;function Au(){const{caseless:a,skipUndefined:r}=Cp(this)&&this||{},o={},l=(c,d)=>{const h=a&&Sp(o,d)||d;Ti(o[h])&&Ti(c)?o[h]=Au(o[h],c):Ti(c)?o[h]=Au({},c):Un(c)?o[h]=c.slice():(!r||!Dn(c))&&(o[h]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Jo(arguments[c],l);return o}const a1=(a,r,o,{allOwnKeys:l}={})=>(Jo(r,(c,d)=>{o&&ks(c)?a[d]=vp(c,o):a[d]=c},{allOwnKeys:l}),a),n1=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),o1=(a,r,o,l)=>{a.prototype=Object.create(r.prototype,l),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:r.prototype}),o&&Object.assign(a.prototype,o)},l1=(a,r,o,l)=>{let c,d,h;const g={};if(r=r||{},a==null)return r;do{for(c=Object.getOwnPropertyNames(a),d=c.length;d-- >0;)h=c[d],(!l||l(h,a,r))&&!g[h]&&(r[h]=a[h],g[h]=!0);a=o!==!1&&sh(a)}while(a&&(!o||o(a,r))&&a!==Object.prototype);return r},i1=(a,r,o)=>{a=String(a),(o===void 0||o>a.length)&&(o=a.length),o-=r.length;const l=a.indexOf(r,o);return l!==-1&&l===o},c1=a=>{if(!a)return null;if(Un(a))return a;let r=a.length;if(!Np(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=a[r];return o},d1=(a=>r=>a&&r instanceof a)(typeof Uint8Array<"u"&&sh(Uint8Array)),u1=(a,r)=>{const l=(a&&a[Pi]).call(a);let c;for(;(c=l.next())&&!c.done;){const d=c.value;r.call(a,d[0],d[1])}},h1=(a,r)=>{let o;const l=[];for(;(o=a.exec(r))!==null;)l.push(o);return l},f1=sr("HTMLFormElement"),m1=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,l,c){return l.toUpperCase()+c}),fg=(({hasOwnProperty:a})=>(r,o)=>a.call(r,o))(Object.prototype),g1=sr("RegExp"),kp=(a,r)=>{const o=Object.getOwnPropertyDescriptors(a),l={};Jo(o,(c,d)=>{let h;(h=r(c,d,a))!==!1&&(l[d]=h||c)}),Object.defineProperties(a,l)},p1=a=>{kp(a,(r,o)=>{if(ks(a)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const l=a[o];if(ks(l)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},x1=(a,r)=>{const o={},l=c=>{c.forEach(d=>{o[d]=!0})};return Un(a)?l(a):l(String(a).split(r)),o},y1=()=>{},b1=(a,r)=>a!=null&&Number.isFinite(a=+a)?a:r;function v1(a){return!!(a&&ks(a.append)&&a[wp]==="FormData"&&a[Pi])}const w1=a=>{const r=new Array(10),o=(l,c)=>{if(Zo(l)){if(r.indexOf(l)>=0)return;if(Xo(l))return l;if(!("toJSON"in l)){r[c]=l;const d=Un(l)?[]:{};return Jo(l,(h,g)=>{const x=o(h,c+1);!Dn(x)&&(d[g]=x)}),r[c]=void 0,d}}return l};return o(a,0)},j1=sr("AsyncFunction"),N1=a=>a&&(Zo(a)||ks(a))&&ks(a.then)&&ks(a.catch),Ep=((a,r)=>a?setImmediate:r?((o,l)=>(Ta.addEventListener("message",({source:c,data:d})=>{c===Ta&&d===o&&l.length&&l.shift()()},!1),c=>{l.push(c),Ta.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",ks(Ta.postMessage)),S1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ta):typeof process<"u"&&process.nextTick||Ep,C1=a=>a!=null&&ks(a[Pi]),ue={isArray:Un,isArrayBuffer:jp,isBuffer:Xo,isFormData:X2,isArrayBufferView:H2,isString:P2,isNumber:Np,isBoolean:q2,isObject:Zo,isPlainObject:Ti,isEmptyObject:Y2,isReadableStream:J2,isRequest:e1,isResponse:t1,isHeaders:s1,isUndefined:Dn,isDate:V2,isFile:G2,isBlob:W2,isRegExp:g1,isFunction:ks,isStream:Q2,isURLSearchParams:Z2,isTypedArray:d1,isFileList:K2,forEach:Jo,merge:Au,extend:a1,trim:r1,stripBOM:n1,inherits:o1,toFlatObject:l1,kindOf:qi,kindOfTest:sr,endsWith:i1,toArray:c1,forEachEntry:u1,matchAll:h1,isHTMLForm:f1,hasOwnProperty:fg,hasOwnProp:fg,reduceDescriptors:kp,freezeMethods:p1,toObjectSet:x1,toCamelCase:m1,noop:y1,toFiniteNumber:b1,findKey:Sp,global:Ta,isContextDefined:Cp,isSpecCompliantForm:v1,toJSONObject:w1,isAsyncFn:j1,isThenable:N1,setImmediate:Ep,asap:S1,isIterable:C1};function lt(a,r,o,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",r&&(this.code=r),o&&(this.config=o),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}ue.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const _p=lt.prototype,Ap={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Ap[a]={value:a}});Object.defineProperties(lt,Ap);Object.defineProperty(_p,"isAxiosError",{value:!0});lt.from=(a,r,o,l,c,d)=>{const h=Object.create(_p);ue.toFlatObject(a,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const g=a&&a.message?a.message:"Error",x=r==null&&a?a.code:r;return lt.call(h,g,x,o,l,c),a&&h.cause==null&&Object.defineProperty(h,"cause",{value:a,configurable:!0}),h.name=a&&a.name||"Error",d&&Object.assign(h,d),h};const k1=null;function Du(a){return ue.isPlainObject(a)||ue.isArray(a)}function Dp(a){return ue.endsWith(a,"[]")?a.slice(0,-2):a}function mg(a,r,o){return a?a.concat(r).map(function(c,d){return c=Dp(c),!o&&d?"["+c+"]":c}).join(o?".":""):r}function E1(a){return ue.isArray(a)&&!a.some(Du)}const _1=ue.toFlatObject(ue,{},null,function(r){return/^is[A-Z]/.test(r)});function Vi(a,r,o){if(!ue.isObject(a))throw new TypeError("target must be an object");r=r||new FormData,o=ue.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!ue.isUndefined(k[_])});const l=o.metaTokens,c=o.visitor||p,d=o.dots,h=o.indexes,x=(o.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(r);if(!ue.isFunction(c))throw new TypeError("visitor must be a function");function m(N){if(N===null)return"";if(ue.isDate(N))return N.toISOString();if(ue.isBoolean(N))return N.toString();if(!x&&ue.isBlob(N))throw new lt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(N)||ue.isTypedArray(N)?x&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,_,k){let A=N;if(N&&!k&&typeof N=="object"){if(ue.endsWith(_,"{}"))_=l?_:_.slice(0,-2),N=JSON.stringify(N);else if(ue.isArray(N)&&E1(N)||(ue.isFileList(N)||ue.endsWith(_,"[]"))&&(A=ue.toArray(N)))return _=Dp(_),A.forEach(function(M,X){!(ue.isUndefined(M)||M===null)&&r.append(h===!0?mg([_],X,d):h===null?_:_+"[]",m(M))}),!1}return Du(N)?!0:(r.append(mg(k,_,d),m(N)),!1)}const b=[],j=Object.assign(_1,{defaultVisitor:p,convertValue:m,isVisitable:Du});function S(N,_){if(!ue.isUndefined(N)){if(b.indexOf(N)!==-1)throw Error("Circular reference detected in "+_.join("."));b.push(N),ue.forEach(N,function(A,D){(!(ue.isUndefined(A)||A===null)&&c.call(r,A,ue.isString(D)?D.trim():D,_,j))===!0&&S(A,_?_.concat(D):[D])}),b.pop()}}if(!ue.isObject(a))throw new TypeError("data must be an object");return S(a),r}function gg(a){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(l){return r[l]})}function rh(a,r){this._pairs=[],a&&Vi(a,this,r)}const Tp=rh.prototype;Tp.append=function(r,o){this._pairs.push([r,o])};Tp.toString=function(r){const o=r?function(l){return r.call(this,l,gg)}:gg;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function A1(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rp(a,r,o){if(!r)return a;const l=o&&o.encode||A1;ue.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let d;if(c?d=c(r,o):d=ue.isURLSearchParams(r)?r.toString():new rh(r,o).toString(l),d){const h=a.indexOf("#");h!==-1&&(a=a.slice(0,h)),a+=(a.indexOf("?")===-1?"?":"&")+d}return a}class pg{constructor(){this.handlers=[]}use(r,o,l){return this.handlers.push({fulfilled:r,rejected:o,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ue.forEach(this.handlers,function(l){l!==null&&r(l)})}}const Lp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D1=typeof URLSearchParams<"u"?URLSearchParams:rh,T1=typeof FormData<"u"?FormData:null,R1=typeof Blob<"u"?Blob:null,L1={isBrowser:!0,classes:{URLSearchParams:D1,FormData:T1,Blob:R1},protocols:["http","https","file","blob","url","data"]},ah=typeof window<"u"&&typeof document<"u",Tu=typeof navigator=="object"&&navigator||void 0,O1=ah&&(!Tu||["ReactNative","NativeScript","NS"].indexOf(Tu.product)<0),M1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U1=ah&&window.location.href||"http://localhost",B1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ah,hasStandardBrowserEnv:O1,hasStandardBrowserWebWorkerEnv:M1,navigator:Tu,origin:U1},Symbol.toStringTag,{value:"Module"})),ps={...B1,...L1};function z1(a,r){return Vi(a,new ps.classes.URLSearchParams,{visitor:function(o,l,c,d){return ps.isNode&&ue.isBuffer(o)?(this.append(l,o.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...r})}function $1(a){return ue.matchAll(/\w+|\[(\w*)]/g,a).map(r=>r[0]==="[]"?"":r[1]||r[0])}function I1(a){const r={},o=Object.keys(a);let l;const c=o.length;let d;for(l=0;l<c;l++)d=o[l],r[d]=a[d];return r}function Op(a){function r(o,l,c,d){let h=o[d++];if(h==="__proto__")return!0;const g=Number.isFinite(+h),x=d>=o.length;return h=!h&&ue.isArray(c)?c.length:h,x?(ue.hasOwnProp(c,h)?c[h]=[c[h],l]:c[h]=l,!g):((!c[h]||!ue.isObject(c[h]))&&(c[h]=[]),r(o,l,c[h],d)&&ue.isArray(c[h])&&(c[h]=I1(c[h])),!g)}if(ue.isFormData(a)&&ue.isFunction(a.entries)){const o={};return ue.forEachEntry(a,(l,c)=>{r($1(l),c,o,0)}),o}return null}function F1(a,r,o){if(ue.isString(a))try{return(r||JSON.parse)(a),ue.trim(a)}catch(l){if(l.name!=="SyntaxError")throw l}return(o||JSON.stringify)(a)}const el={transitional:Lp,adapter:["xhr","http","fetch"],transformRequest:[function(r,o){const l=o.getContentType()||"",c=l.indexOf("application/json")>-1,d=ue.isObject(r);if(d&&ue.isHTMLForm(r)&&(r=new FormData(r)),ue.isFormData(r))return c?JSON.stringify(Op(r)):r;if(ue.isArrayBuffer(r)||ue.isBuffer(r)||ue.isStream(r)||ue.isFile(r)||ue.isBlob(r)||ue.isReadableStream(r))return r;if(ue.isArrayBufferView(r))return r.buffer;if(ue.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let g;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return z1(r,this.formSerializer).toString();if((g=ue.isFileList(r))||l.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Vi(g?{"files[]":r}:r,x&&new x,this.formSerializer)}}return d||c?(o.setContentType("application/json",!1),F1(r)):r}],transformResponse:[function(r){const o=this.transitional||el.transitional,l=o&&o.forcedJSONParsing,c=this.responseType==="json";if(ue.isResponse(r)||ue.isReadableStream(r))return r;if(r&&ue.isString(r)&&(l&&!this.responseType||c)){const h=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(r,this.parseReviver)}catch(g){if(h)throw g.name==="SyntaxError"?lt.from(g,lt.ERR_BAD_RESPONSE,this,null,this.response):g}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ps.classes.FormData,Blob:ps.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],a=>{el.headers[a]={}});const H1=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P1=a=>{const r={};let o,l,c;return a&&a.split(`
`).forEach(function(h){c=h.indexOf(":"),o=h.substring(0,c).trim().toLowerCase(),l=h.substring(c+1).trim(),!(!o||r[o]&&H1[o])&&(o==="set-cookie"?r[o]?r[o].push(l):r[o]=[l]:r[o]=r[o]?r[o]+", "+l:l)}),r},xg=Symbol("internals");function Bo(a){return a&&String(a).trim().toLowerCase()}function Ri(a){return a===!1||a==null?a:ue.isArray(a)?a.map(Ri):String(a)}function q1(a){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=o.exec(a);)r[l[1]]=l[2];return r}const Y1=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function hu(a,r,o,l,c){if(ue.isFunction(l))return l.call(this,r,o);if(c&&(r=o),!!ue.isString(r)){if(ue.isString(l))return r.indexOf(l)!==-1;if(ue.isRegExp(l))return l.test(r)}}function V1(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,l)=>o.toUpperCase()+l)}function G1(a,r){const o=ue.toCamelCase(" "+r);["get","set","has"].forEach(l=>{Object.defineProperty(a,l+o,{value:function(c,d,h){return this[l].call(this,r,c,d,h)},configurable:!0})})}let Es=class{constructor(r){r&&this.set(r)}set(r,o,l){const c=this;function d(g,x,m){const p=Bo(x);if(!p)throw new Error("header name must be a non-empty string");const b=ue.findKey(c,p);(!b||c[b]===void 0||m===!0||m===void 0&&c[b]!==!1)&&(c[b||x]=Ri(g))}const h=(g,x)=>ue.forEach(g,(m,p)=>d(m,p,x));if(ue.isPlainObject(r)||r instanceof this.constructor)h(r,o);else if(ue.isString(r)&&(r=r.trim())&&!Y1(r))h(P1(r),o);else if(ue.isObject(r)&&ue.isIterable(r)){let g={},x,m;for(const p of r){if(!ue.isArray(p))throw TypeError("Object iterator must return a key-value pair");g[m=p[0]]=(x=g[m])?ue.isArray(x)?[...x,p[1]]:[x,p[1]]:p[1]}h(g,o)}else r!=null&&d(o,r,l);return this}get(r,o){if(r=Bo(r),r){const l=ue.findKey(this,r);if(l){const c=this[l];if(!o)return c;if(o===!0)return q1(c);if(ue.isFunction(o))return o.call(this,c,l);if(ue.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=Bo(r),r){const l=ue.findKey(this,r);return!!(l&&this[l]!==void 0&&(!o||hu(this,this[l],l,o)))}return!1}delete(r,o){const l=this;let c=!1;function d(h){if(h=Bo(h),h){const g=ue.findKey(l,h);g&&(!o||hu(l,l[g],g,o))&&(delete l[g],c=!0)}}return ue.isArray(r)?r.forEach(d):d(r),c}clear(r){const o=Object.keys(this);let l=o.length,c=!1;for(;l--;){const d=o[l];(!r||hu(this,this[d],d,r,!0))&&(delete this[d],c=!0)}return c}normalize(r){const o=this,l={};return ue.forEach(this,(c,d)=>{const h=ue.findKey(l,d);if(h){o[h]=Ri(c),delete o[d];return}const g=r?V1(d):String(d).trim();g!==d&&delete o[d],o[g]=Ri(c),l[g]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return ue.forEach(this,(l,c)=>{l!=null&&l!==!1&&(o[c]=r&&ue.isArray(l)?l.join(", "):l)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const l=new this(r);return o.forEach(c=>l.set(c)),l}static accessor(r){const l=(this[xg]=this[xg]={accessors:{}}).accessors,c=this.prototype;function d(h){const g=Bo(h);l[g]||(G1(c,h),l[g]=!0)}return ue.isArray(r)?r.forEach(d):d(r),this}};Es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Es.prototype,({value:a},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>a,set(l){this[o]=l}}});ue.freezeMethods(Es);function fu(a,r){const o=this||el,l=r||o,c=Es.from(l.headers);let d=l.data;return ue.forEach(a,function(g){d=g.call(o,d,c.normalize(),r?r.status:void 0)}),c.normalize(),d}function Mp(a){return!!(a&&a.__CANCEL__)}function Bn(a,r,o){lt.call(this,a??"canceled",lt.ERR_CANCELED,r,o),this.name="CanceledError"}ue.inherits(Bn,lt,{__CANCEL__:!0});function Up(a,r,o){const l=o.config.validateStatus;!o.status||!l||l(o.status)?a(o):r(new lt("Request failed with status code "+o.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function W1(a){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return r&&r[1]||""}function K1(a,r){a=a||10;const o=new Array(a),l=new Array(a);let c=0,d=0,h;return r=r!==void 0?r:1e3,function(x){const m=Date.now(),p=l[d];h||(h=m),o[c]=x,l[c]=m;let b=d,j=0;for(;b!==c;)j+=o[b++],b=b%a;if(c=(c+1)%a,c===d&&(d=(d+1)%a),m-h<r)return;const S=p&&m-p;return S?Math.round(j*1e3/S):void 0}}function Q1(a,r){let o=0,l=1e3/r,c,d;const h=(m,p=Date.now())=>{o=p,c=null,d&&(clearTimeout(d),d=null),a(...m)};return[(...m)=>{const p=Date.now(),b=p-o;b>=l?h(m,p):(c=m,d||(d=setTimeout(()=>{d=null,h(c)},l-b)))},()=>c&&h(c)]}const Mi=(a,r,o=3)=>{let l=0;const c=K1(50,250);return Q1(d=>{const h=d.loaded,g=d.lengthComputable?d.total:void 0,x=h-l,m=c(x),p=h<=g;l=h;const b={loaded:h,total:g,progress:g?h/g:void 0,bytes:x,rate:m||void 0,estimated:m&&g&&p?(g-h)/m:void 0,event:d,lengthComputable:g!=null,[r?"download":"upload"]:!0};a(b)},o)},yg=(a,r)=>{const o=a!=null;return[l=>r[0]({lengthComputable:o,total:a,loaded:l}),r[1]]},bg=a=>(...r)=>ue.asap(()=>a(...r)),X1=ps.hasStandardBrowserEnv?((a,r)=>o=>(o=new URL(o,ps.origin),a.protocol===o.protocol&&a.host===o.host&&(r||a.port===o.port)))(new URL(ps.origin),ps.navigator&&/(msie|trident)/i.test(ps.navigator.userAgent)):()=>!0,Z1=ps.hasStandardBrowserEnv?{write(a,r,o,l,c,d){const h=[a+"="+encodeURIComponent(r)];ue.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),ue.isString(l)&&h.push("path="+l),ue.isString(c)&&h.push("domain="+c),d===!0&&h.push("secure"),document.cookie=h.join("; ")},read(a){const r=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function J1(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function ew(a,r){return r?a.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):a}function Bp(a,r,o){let l=!J1(r);return a&&(l||o==!1)?ew(a,r):r}const vg=a=>a instanceof Es?{...a}:a;function La(a,r){r=r||{};const o={};function l(m,p,b,j){return ue.isPlainObject(m)&&ue.isPlainObject(p)?ue.merge.call({caseless:j},m,p):ue.isPlainObject(p)?ue.merge({},p):ue.isArray(p)?p.slice():p}function c(m,p,b,j){if(ue.isUndefined(p)){if(!ue.isUndefined(m))return l(void 0,m,b,j)}else return l(m,p,b,j)}function d(m,p){if(!ue.isUndefined(p))return l(void 0,p)}function h(m,p){if(ue.isUndefined(p)){if(!ue.isUndefined(m))return l(void 0,m)}else return l(void 0,p)}function g(m,p,b){if(b in r)return l(m,p);if(b in a)return l(void 0,m)}const x={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:g,headers:(m,p,b)=>c(vg(m),vg(p),b,!0)};return ue.forEach(Object.keys({...a,...r}),function(p){const b=x[p]||c,j=b(a[p],r[p],p);ue.isUndefined(j)&&b!==g||(o[p]=j)}),o}const zp=a=>{const r=La({},a);let{data:o,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:h,auth:g}=r;if(r.headers=h=Es.from(h),r.url=Rp(Bp(r.baseURL,r.url,r.allowAbsoluteUrls),a.params,a.paramsSerializer),g&&h.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),ue.isFormData(o)){if(ps.hasStandardBrowserEnv||ps.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(ue.isFunction(o.getHeaders)){const x=o.getHeaders(),m=["content-type","content-length"];Object.entries(x).forEach(([p,b])=>{m.includes(p.toLowerCase())&&h.set(p,b)})}}if(ps.hasStandardBrowserEnv&&(l&&ue.isFunction(l)&&(l=l(r)),l||l!==!1&&X1(r.url))){const x=c&&d&&Z1.read(d);x&&h.set(c,x)}return r},tw=typeof XMLHttpRequest<"u",sw=tw&&function(a){return new Promise(function(o,l){const c=zp(a);let d=c.data;const h=Es.from(c.headers).normalize();let{responseType:g,onUploadProgress:x,onDownloadProgress:m}=c,p,b,j,S,N;function _(){S&&S(),N&&N(),c.cancelToken&&c.cancelToken.unsubscribe(p),c.signal&&c.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(c.method.toUpperCase(),c.url,!0),k.timeout=c.timeout;function A(){if(!k)return;const M=Es.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),H={data:!g||g==="text"||g==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:M,config:a,request:k};Up(function(Q){o(Q),_()},function(Q){l(Q),_()},H),k=null}"onloadend"in k?k.onloadend=A:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(A)},k.onabort=function(){k&&(l(new lt("Request aborted",lt.ECONNABORTED,a,k)),k=null)},k.onerror=function(X){const H=X&&X.message?X.message:"Network Error",F=new lt(H,lt.ERR_NETWORK,a,k);F.event=X||null,l(F),k=null},k.ontimeout=function(){let X=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const H=c.transitional||Lp;c.timeoutErrorMessage&&(X=c.timeoutErrorMessage),l(new lt(X,H.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,a,k)),k=null},d===void 0&&h.setContentType(null),"setRequestHeader"in k&&ue.forEach(h.toJSON(),function(X,H){k.setRequestHeader(H,X)}),ue.isUndefined(c.withCredentials)||(k.withCredentials=!!c.withCredentials),g&&g!=="json"&&(k.responseType=c.responseType),m&&([j,N]=Mi(m,!0),k.addEventListener("progress",j)),x&&k.upload&&([b,S]=Mi(x),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",S)),(c.cancelToken||c.signal)&&(p=M=>{k&&(l(!M||M.type?new Bn(null,a,k):M),k.abort(),k=null)},c.cancelToken&&c.cancelToken.subscribe(p),c.signal&&(c.signal.aborted?p():c.signal.addEventListener("abort",p)));const D=W1(c.url);if(D&&ps.protocols.indexOf(D)===-1){l(new lt("Unsupported protocol "+D+":",lt.ERR_BAD_REQUEST,a));return}k.send(d||null)})},rw=(a,r)=>{const{length:o}=a=a?a.filter(Boolean):[];if(r||o){let l=new AbortController,c;const d=function(m){if(!c){c=!0,g();const p=m instanceof Error?m:this.reason;l.abort(p instanceof lt?p:new Bn(p instanceof Error?p.message:p))}};let h=r&&setTimeout(()=>{h=null,d(new lt(`timeout ${r} of ms exceeded`,lt.ETIMEDOUT))},r);const g=()=>{a&&(h&&clearTimeout(h),h=null,a.forEach(m=>{m.unsubscribe?m.unsubscribe(d):m.removeEventListener("abort",d)}),a=null)};a.forEach(m=>m.addEventListener("abort",d));const{signal:x}=l;return x.unsubscribe=()=>ue.asap(g),x}},aw=function*(a,r){let o=a.byteLength;if(o<r){yield a;return}let l=0,c;for(;l<o;)c=l+r,yield a.slice(l,c),l=c},nw=async function*(a,r){for await(const o of ow(a))yield*aw(o,r)},ow=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const r=a.getReader();try{for(;;){const{done:o,value:l}=await r.read();if(o)break;yield l}}finally{await r.cancel()}},wg=(a,r,o,l)=>{const c=nw(a,r);let d=0,h,g=x=>{h||(h=!0,l&&l(x))};return new ReadableStream({async pull(x){try{const{done:m,value:p}=await c.next();if(m){g(),x.close();return}let b=p.byteLength;if(o){let j=d+=b;o(j)}x.enqueue(new Uint8Array(p))}catch(m){throw g(m),m}},cancel(x){return g(x),c.return()}},{highWaterMark:2})},jg=64*1024,{isFunction:vi}=ue,$p=(({fetch:a,Request:r,Response:o})=>({fetch:a,Request:r,Response:o}))(ue.global),{ReadableStream:Ng,TextEncoder:Sg}=ue.global,Cg=(a,...r)=>{try{return!!a(...r)}catch{return!1}},lw=a=>{const{fetch:r,Request:o,Response:l}=Object.assign({},$p,a),c=vi(r),d=vi(o),h=vi(l);if(!c)return!1;const g=c&&vi(Ng),x=c&&(typeof Sg=="function"?(N=>_=>N.encode(_))(new Sg):async N=>new Uint8Array(await new o(N).arrayBuffer())),m=d&&g&&Cg(()=>{let N=!1;const _=new o(ps.origin,{body:new Ng,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!_}),p=h&&g&&Cg(()=>ue.isReadableStream(new l("").body)),b={stream:p&&(N=>N.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!b[N]&&(b[N]=(_,k)=>{let A=_&&_[N];if(A)return A.call(_);throw new lt(`Response type '${N}' is not supported`,lt.ERR_NOT_SUPPORT,k)})});const j=async N=>{if(N==null)return 0;if(ue.isBlob(N))return N.size;if(ue.isSpecCompliantForm(N))return(await new o(ps.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(N)||ue.isArrayBuffer(N))return N.byteLength;if(ue.isURLSearchParams(N)&&(N=N+""),ue.isString(N))return(await x(N)).byteLength},S=async(N,_)=>{const k=ue.toFiniteNumber(N.getContentLength());return k??j(_)};return async N=>{let{url:_,method:k,data:A,signal:D,cancelToken:M,timeout:X,onDownloadProgress:H,onUploadProgress:F,responseType:Q,headers:ce,withCredentials:me="same-origin",fetchOptions:Se}=zp(N);Q=Q?(Q+"").toLowerCase():"text";let _e=rw([D,M&&M.toAbortSignal()],X),be=null;const de=_e&&_e.unsubscribe&&(()=>{_e.unsubscribe()});let ee;try{if(F&&m&&k!=="get"&&k!=="head"&&(ee=await S(ce,A))!==0){let v=new o(_,{method:"POST",body:A,duplex:"half"}),z;if(ue.isFormData(A)&&(z=v.headers.get("content-type"))&&ce.setContentType(z),v.body){const[G,P]=yg(ee,Mi(bg(F)));A=wg(v.body,jg,G,P)}}ue.isString(me)||(me=me?"include":"omit");const he=d&&"credentials"in o.prototype,R={...Se,signal:_e,method:k.toUpperCase(),headers:ce.normalize().toJSON(),body:A,duplex:"half",credentials:he?me:void 0};be=d&&new o(_,R);let $=await(d?r(be,Se):r(_,R));const T=p&&(Q==="stream"||Q==="response");if(p&&(H||T&&de)){const v={};["status","statusText","headers"].forEach(L=>{v[L]=$[L]});const z=ue.toFiniteNumber($.headers.get("content-length")),[G,P]=H&&yg(z,Mi(bg(H),!0))||[];$=new l(wg($.body,jg,G,()=>{P&&P(),de&&de()}),v)}Q=Q||"text";let B=await b[ue.findKey(b,Q)||"text"]($,N);return!T&&de&&de(),await new Promise((v,z)=>{Up(v,z,{data:B,headers:Es.from($.headers),status:$.status,statusText:$.statusText,config:N,request:be})})}catch(he){throw de&&de(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,N,be),{cause:he.cause||he}):lt.from(he,he&&he.code,N,be)}}},iw=new Map,Ip=a=>{let r=ue.merge.call({skipUndefined:!0},$p,a?a.env:null);const{fetch:o,Request:l,Response:c}=r,d=[l,c,o];let h=d.length,g=h,x,m,p=iw;for(;g--;)x=d[g],m=p.get(x),m===void 0&&p.set(x,m=g?new Map:lw(r)),p=m;return m};Ip();const Ru={http:k1,xhr:sw,fetch:{get:Ip}};ue.forEach(Ru,(a,r)=>{if(a){try{Object.defineProperty(a,"name",{value:r})}catch{}Object.defineProperty(a,"adapterName",{value:r})}});const kg=a=>`- ${a}`,cw=a=>ue.isFunction(a)||a===null||a===!1,Fp={getAdapter:(a,r)=>{a=ue.isArray(a)?a:[a];const{length:o}=a;let l,c;const d={};for(let h=0;h<o;h++){l=a[h];let g;if(c=l,!cw(l)&&(c=Ru[(g=String(l)).toLowerCase()],c===void 0))throw new lt(`Unknown adapter '${g}'`);if(c&&(ue.isFunction(c)||(c=c.get(r))))break;d[g||"#"+h]=c}if(!c){const h=Object.entries(d).map(([x,m])=>`adapter ${x} `+(m===!1?"is not supported by the environment":"is not available in the build"));let g=o?h.length>1?`since :
`+h.map(kg).join(`
`):" "+kg(h[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return c},adapters:Ru};function mu(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Bn(null,a)}function Eg(a){return mu(a),a.headers=Es.from(a.headers),a.data=fu.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Fp.getAdapter(a.adapter||el.adapter,a)(a).then(function(l){return mu(a),l.data=fu.call(a,a.transformResponse,l),l.headers=Es.from(l.headers),l},function(l){return Mp(l)||(mu(a),l&&l.response&&(l.response.data=fu.call(a,a.transformResponse,l.response),l.response.headers=Es.from(l.response.headers))),Promise.reject(l)})}const Hp="1.12.1",Gi={};["object","boolean","number","function","string","symbol"].forEach((a,r)=>{Gi[a]=function(l){return typeof l===a||"a"+(r<1?"n ":" ")+a}});const _g={};Gi.transitional=function(r,o,l){function c(d,h){return"[Axios v"+Hp+"] Transitional option '"+d+"'"+h+(l?". "+l:"")}return(d,h,g)=>{if(r===!1)throw new lt(c(h," has been removed"+(o?" in "+o:"")),lt.ERR_DEPRECATED);return o&&!_g[h]&&(_g[h]=!0,console.warn(c(h," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(d,h,g):!0}};Gi.spelling=function(r){return(o,l)=>(console.warn(`${l} is likely a misspelling of ${r}`),!0)};function dw(a,r,o){if(typeof a!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const l=Object.keys(a);let c=l.length;for(;c-- >0;){const d=l[c],h=r[d];if(h){const g=a[d],x=g===void 0||h(g,d,a);if(x!==!0)throw new lt("option "+d+" must be "+x,lt.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new lt("Unknown option "+d,lt.ERR_BAD_OPTION)}}const Li={assertOptions:dw,validators:Gi},cr=Li.validators;let Ra=class{constructor(r){this.defaults=r||{},this.interceptors={request:new pg,response:new pg}}async request(r,o){try{return await this._request(r,o)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=La(this.defaults,o);const{transitional:l,paramsSerializer:c,headers:d}=o;l!==void 0&&Li.assertOptions(l,{silentJSONParsing:cr.transitional(cr.boolean),forcedJSONParsing:cr.transitional(cr.boolean),clarifyTimeoutError:cr.transitional(cr.boolean)},!1),c!=null&&(ue.isFunction(c)?o.paramsSerializer={serialize:c}:Li.assertOptions(c,{encode:cr.function,serialize:cr.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Li.assertOptions(o,{baseUrl:cr.spelling("baseURL"),withXsrfToken:cr.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=d&&ue.merge(d.common,d[o.method]);d&&ue.forEach(["delete","get","head","post","put","patch","common"],N=>{delete d[N]}),o.headers=Es.concat(h,d);const g=[];let x=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(o)===!1||(x=x&&_.synchronous,g.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let p,b=0,j;if(!x){const N=[Eg.bind(this),void 0];for(N.unshift(...g),N.push(...m),j=N.length,p=Promise.resolve(o);b<j;)p=p.then(N[b++],N[b++]);return p}j=g.length;let S=o;for(b=0;b<j;){const N=g[b++],_=g[b++];try{S=N(S)}catch(k){_.call(this,k);break}}try{p=Eg.call(this,S)}catch(N){return Promise.reject(N)}for(b=0,j=m.length;b<j;)p=p.then(m[b++],m[b++]);return p}getUri(r){r=La(this.defaults,r);const o=Bp(r.baseURL,r.url,r.allowAbsoluteUrls);return Rp(o,r.params,r.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(r){Ra.prototype[r]=function(o,l){return this.request(La(l||{},{method:r,url:o,data:(l||{}).data}))}});ue.forEach(["post","put","patch"],function(r){function o(l){return function(d,h,g){return this.request(La(g||{},{method:r,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Ra.prototype[r]=o(),Ra.prototype[r+"Form"]=o(!0)});let uw=class Pp{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(d){o=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const h=new Promise(g=>{l.subscribe(g),d=g}).then(c);return h.cancel=function(){l.unsubscribe(d)},h},r(function(d,h,g){l.reason||(l.reason=new Bn(d,h,g),o(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const r=new AbortController,o=l=>{r.abort(l)};return this.subscribe(o),r.signal.unsubscribe=()=>this.unsubscribe(o),r.signal}static source(){let r;return{token:new Pp(function(c){r=c}),cancel:r}}};function hw(a){return function(o){return a.apply(null,o)}}function fw(a){return ue.isObject(a)&&a.isAxiosError===!0}const Lu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lu).forEach(([a,r])=>{Lu[r]=a});function qp(a){const r=new Ra(a),o=vp(Ra.prototype.request,r);return ue.extend(o,Ra.prototype,r,{allOwnKeys:!0}),ue.extend(o,r,null,{allOwnKeys:!0}),o.create=function(c){return qp(La(a,c))},o}const Ee=qp(el);Ee.Axios=Ra;Ee.CanceledError=Bn;Ee.CancelToken=uw;Ee.isCancel=Mp;Ee.VERSION=Hp;Ee.toFormData=Vi;Ee.AxiosError=lt;Ee.Cancel=Ee.CanceledError;Ee.all=function(r){return Promise.all(r)};Ee.spread=hw;Ee.isAxiosError=fw;Ee.mergeConfig=La;Ee.AxiosHeaders=Es;Ee.formToJSON=a=>Op(ue.isHTMLForm(a)?new FormData(a):a);Ee.getAdapter=Fp.getAdapter;Ee.HttpStatusCode=Lu;Ee.default=Ee;const{Axios:cC,AxiosError:dC,CanceledError:uC,isCancel:hC,CancelToken:fC,VERSION:mC,all:gC,Cancel:pC,isAxiosError:xC,spread:yC,toFormData:bC,AxiosHeaders:vC,HttpStatusCode:wC,formToJSON:jC,getAdapter:NC,mergeConfig:SC}=Ee,us="http://localhost:1000",mw=async(a,r)=>{try{return(await Ee.post(`${us}/api/v1/users/register`,{email:a,role:r})).data}catch(o){throw new Error(o.response.data.message)}},gw=async a=>{try{return(await Ee.post(`${us}/api/v1/users/get-userid-by-email`,{email:a})).data}catch(r){throw new Error(r.response.data.message)}},pw=async()=>{try{const a=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ee.delete(`${us}/api/v1/users/delete-account/${r}`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},xw=async(a,r,o,l,c,d,h,g)=>{try{const x=localStorage.getItem("token"),m=localStorage.getItem("userId");if(!x)throw new Error("Authentication token not found. Please login again.");if(!m)throw new Error("User ID not found. Please login again.");return(await Ee.patch(`${us}/api/v1/users/teacher-profile/${m}`,{fullname:a,username:r,birthday:o,gender:l,school_id:c,yearsOfExperience:d,phone:h,phone_e164:g},{headers:{Authorization:`Bearer ${x}`}})).data}catch(x){throw console.error("Teacher profile API error:",x),x.response?.data?.message?new Error(x.response.data.message):x.message?new Error(x.message):new Error("Failed to create teacher profile. Please try again.")}},yw=async(a,r,o,l,c,d,h,g)=>{try{const x=localStorage.getItem("token"),m=localStorage.getItem("userId");if(!x)throw new Error("Authentication token not found. Please login again.");if(!m)throw new Error("User ID not found. Please login again.");return(await Ee.patch(`${us}/api/v1/users/student-profile/${m}`,{fullname:a,username:r,birthday:o,gender:l,school_id:c,grade:d,phone:h,phone_e164:g},{headers:{Authorization:`Bearer ${x}`}})).data}catch(x){throw console.error("Student profile API error:",x),x.response?.data?.message?new Error(x.response.data.message):x.message?new Error(x.message):new Error("Failed to create student profile. Please try again.")}},Oa=async()=>{try{const a=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ee.get(`${us}/api/v1/users/user-profile/${r}`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},bw=async(a,r,o,l,c,d,h,g,x,m,p)=>{try{const b=localStorage.getItem("token"),j=localStorage.getItem("userId");return(await Ee.patch(`${us}/api/v1/users/student-profile-update/${j}`,{fullname:a,username:r,birthday:o,gender:l,school_id:c,grade:d,yearsOfExperience:h,phone:g,email:x,avatar:m,phone_e164:p},{headers:{Authorization:`Bearer ${b}`}})).data}catch(b){throw new Error(b.response.data.message)}},vw=async(a,r,o,l,c,d,h,g,x,m)=>{try{const p=localStorage.getItem("token"),b=localStorage.getItem("userId");return(await Ee.patch(`${us}/api/v1/users/teacher-profile-update/${b}`,{fullname:a,username:r,birthday:o,gender:l,school_id:c,yearsOfExperience:d,phone:h,email:g,avatar:x,phone_e164:m},{headers:{Authorization:`Bearer ${p}`}})).data}catch(p){throw new Error(p.response.data.message)}},ww=async a=>{try{const r=localStorage.getItem("token"),o=localStorage.getItem("userId"),l=new FormData;return l.append("avatar",a),(await Ee.post(`${us}/api/v1/users/upload-avatar/${o}`,l,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},jw=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${us}/api/v1/users/all-users`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},Ag=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${us}/api/v1/users/update-user-status/${a}`,{status:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},Yp=async(a,r,o,l,c,d,h,g,x,m,p)=>{try{const b=localStorage.getItem("token"),j=localStorage.getItem("userId");return(await Ee.patch(`${us}/api/v1/users/teacher-profile-and-custom-locality/${j}`,{fullname:a,username:r,birthday:o,gender:l,custom_locality_name:c,custom_school_name:d,yearsOfExperience:h,phone:g,email:x,avatar:m,phone_e164:p},{headers:{Authorization:`Bearer ${b}`}})).data}catch(b){throw new Error(b.response.data.message)}},Nw=async(a,r,o,l,c,d,h,g,x)=>{try{const m=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ee.patch(`${us}/api/v1/users/teacher-profile-custom-school-name/${p}`,{fullname:a,username:r,birthday:o,gender:l,locality:c,custom_school_name:d,yearsOfExperience:h,phone:g,phone_e164:x},{headers:{Authorization:`Bearer ${m}`}})).data}catch(m){throw new Error(m.response.data.message)}},Vp=async(a,r,o,l,c,d,h,g,x)=>{try{const m=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ee.patch(`${us}/api/v1/users/student-profile-and-custom-locality/${p}`,{fullname:a,username:r,birthday:o,gender:l,custom_locality_name:c,custom_school_name:d,grade:h,phone:g,phone_e164:x},{headers:{Authorization:`Bearer ${m}`}})).data}catch(m){throw new Error(m.response.data.message)}},Sw=async(a,r,o,l,c,d,h,g,x)=>{try{const m=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ee.patch(`${us}/api/v1/users/student-profile-custom-school-name/${p}`,{fullname:a,username:r,birthday:o,gender:l,locality:c,custom_school_name:d,grade:h,phone:g,phone_e164:x},{headers:{Authorization:`Bearer ${m}`}})).data}catch(m){throw new Error(m.response.data.message)}},Cw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${us}/api/v1/users/send-superuser-invite`,{userame:a,email:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},kw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${us}/api/v1/users/remove-superuser-invite`,{username:a,email:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},la="http://localhost:1000",Ew=async a=>{try{const r=localStorage.getItem("token"),o=new FormData;return o.append("file",a),(await Ee.post(`${la}/api/v1/organisers/organiser-approval-edvince-upload`,o,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},_w=async(a,r,o,l)=>{try{const c=localStorage.getItem("token"),d=localStorage.getItem("userId");return(await Ee.post(`${la}/api/v1/organisers/organiser-approval-request/${d}`,{school_id:a,locality_id:r,role:o,evidenceDocs:l},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response.data.message)}},Aw=async()=>{try{const a=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ee.get(`${la}/api/v1/organisers/verify-organiser/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},Dw=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${la}/api/v1/organisers/all-organisers`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},Tw=async(a,r)=>{try{const o=localStorage.getItem("token"),l=localStorage.getItem("userId");return(await Ee.patch(`${la}/api/v1/organisers/update-organiser-status/${a}`,{status:r,userId:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},Rw=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${la}/api/v1/organisers/delete-organiser/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Lw=async(a,r,o,l,c,d,h)=>{try{const g=localStorage.getItem("token");return(await Ee.post(`${la}/api/v1/organisers/add-organiser-by-super-user`,{user_id:a,school_id:r,locality_id:o,role:l,evidence:c,status:d,actioned_by_user_id:h},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},Ow=async a=>{try{const r=localStorage.getItem("token");return(await Ee.post(`${la}/api/v1/organisers/assign-organiser-to-school`,{userId:a},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},nh="http://localhost:1000",Mw=async()=>{try{const a=localStorage.getItem("token");if(!a)throw new Error("Authentication token not found. Please login again.");return(await Ee.get(`${nh}/api/v1/localities/all-localities`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw console.error("Get localities API error:",a),a.response?.data?.message?new Error(a.response.data.message):a.message?new Error(a.message):new Error("Failed to load localities. Please try again.")}},Uw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.post(`${nh}/api/v1/localities/merge-localities`,{primaryLocalityId:a,secondaryLocalityId:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},Bw=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${nh}/api/v1/localities/delete-locality/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},zn="http://localhost:1000",zw=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${zn}/api/v1/schools/all-schools`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw console.error("Get schools API error:",a),a.response?.data?.message?new Error(a.response.data.message):a.message?new Error(a.message):new Error("Failed to load schools. Please try again.")}},$w=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${zn}/api/v1/schools/update-school-status/${a}`,{status:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},Iw=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${zn}/api/v1/schools/delete-school/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Fw=async(a,r,o,l,c)=>{try{const d=localStorage.getItem("token");return(await Ee.patch(`${zn}/api/v1/schools/update-school/${a}`,{code:r,name:o,locality_id:l,area_id:c},{headers:{Authorization:`Bearer ${d}`}})).data}catch(d){throw new Error(d.response.data.message)}},Hw=async(a,r,o,l)=>{try{const c=localStorage.getItem("token");return(await Ee.post(`${zn}/api/v1/schools/create-school`,{code:a,name:r,locality_id:o,area_id:l},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response.data.message)}},Pw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.post(`${zn}/api/v1/schools/merge-schools`,{primarySchoolId:a,secondarySchoolId:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},oh="http://localhost:1000",qw=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${oh}/api/v1/areas/all-areas`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw console.error("Get areas API error:",a),new Error(a.response.data.message)}},Yw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${oh}/api/v1/areas/update-area-status/${a}`,{status:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},Vw=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${oh}/api/v1/areas/delete-area/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Lr="http://localhost:1000",Gp=async a=>{try{const r=localStorage.getItem("token"),o=new FormData;return o.append("file",a),(await Ee.post(`${Lr}/api/v1/events/create-event-images-upload`,o,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},Gw=async(a,r,o,l,c,d,h,g,x,m,p,b,j,S,N)=>{try{const _=localStorage.getItem("token"),k=localStorage.getItem("organiserId");return(await Ee.post(`${Lr}/api/v1/events/create-event/${k}`,{name:a,description:r,start_date:o,end_date:l,cover_image:c,logo_image:d,locality_id:h,school_id:g,area_id:x,number_of_seats:m,fees_per_delegate:p,total_revenue:b,website:j,instagram:S,organiser_id:N},{headers:{Authorization:`Bearer ${_}`}})).data}catch(_){throw new Error(_.response.data.message)}},Wp=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${Lr}/api/v1/events/get-events`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},Kp=async()=>{try{const a=localStorage.getItem("token"),r=localStorage.getItem("organiserId");return(await Ee.get(`${Lr}/api/v1/events/get-events-of-organiser/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},lh=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${Lr}/api/v1/events/get-event-by-id/${a}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Ww=async(a,r,o,l,c,d,h,g,x,m,p,b,j,S)=>{try{const N=localStorage.getItem("token");return(await Ee.patch(`${Lr}/api/v1/events/update-event/${a}`,{name:r,description:o,start_date:l,end_date:c,cover_image:d,locality_id:h,school_id:g,area_id:x,number_of_seats:m,fees_per_delegate:p,total_revenue:b,website:j,instagram:S},{headers:{Authorization:`Bearer ${N}`}})).data}catch(N){throw new Error(N.response.data.message)}},Kw=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${Lr}/api/v1/events/all-events`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},Qw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${Lr}/api/v1/events/update-event-status/${a}`,{status:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},Xw=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${Lr}/api/v1/events/delete-event/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Wi="http://localhost:1000",Dg=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${Wi}/api/v1/leadership-roles/all-leadership-roles`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response?.data?.message||"Failed to fetch leadership roles")}},Zw=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.post(`${Wi}/api/v1/leadership-roles/add-leadership-role`,{abbr:a,leadership_role:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to create leadership role")}},Jw=async(a,r,o)=>{try{const l=localStorage.getItem("token");return(await Ee.patch(`${Wi}/api/v1/leadership-roles/update-leadership-role/${a}`,{abbr:r,leadership_role:o},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to update leadership role")}},ej=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${Wi}/api/v1/leadership-roles/delete-leadership-role/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete leadership role")}},tj="modulepreload",sj=function(a){return"/"+a},Tg={},tl=function(r,o,l){let c=Promise.resolve();if(o&&o.length>0){let m=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var h=m;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),x=g?.nonce||g?.getAttribute("nonce");c=m(o.map(p=>{if(p=sj(p),p in Tg)return;Tg[p]=!0;const b=p.endsWith(".css"),j=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${j}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":tj,b||(S.as="script"),S.crossOrigin="",S.href=p,x&&S.setAttribute("nonce",x),document.head.appendChild(S),b)return new Promise((N,_)=>{S.addEventListener("load",N),S.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(g){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=g,window.dispatchEvent(x),!x.defaultPrevented)throw g}return c.then(g=>{for(const x of g||[])x.status==="rejected"&&d(x.reason);return r().catch(d)})},rj=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...o)=>tl(async()=>{const{default:l}=await Promise.resolve().then(()=>$n);return{default:l}},[]).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)};class ih extends Error{constructor(r,o="FunctionsError",l){super(r),this.name=o,this.context=l}}class aj extends ih{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Rg extends ih{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Lg extends ih{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ou;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Ou||(Ou={}));var nj=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};class oj{constructor(r,{headers:o={},customFetch:l,region:c=Ou.Any}={}){this.url=r,this.headers=o,this.region=c,this.fetch=rj(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,o={}){var l;return nj(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=o;let g={},{region:x}=o;x||(x=this.region);const m=new URL(`${this.url}/${r}`);x&&x!=="any"&&(g["x-region"]=x,m.searchParams.set("forceFunctionRegion",x));let p;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(g["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(g["Content-Type"]="application/json",p=JSON.stringify(h)));const b=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:p}).catch(_=>{throw new aj(_)}),j=b.headers.get("x-relay-error");if(j&&j==="true")throw new Rg(b);if(!b.ok)throw new Lg(b);let S=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),N;return S==="application/json"?N=yield b.json():S==="application/octet-stream"?N=yield b.blob():S==="text/event-stream"?N=b:S==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof Lg||c instanceof Rg?c.context:void 0}}})}}var os={},yn={},bn={},vn={},wn={},jn={},lj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tn=lj();const ij=Tn.fetch,Qp=Tn.fetch.bind(Tn),Xp=Tn.Headers,cj=Tn.Request,dj=Tn.Response,$n=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xp,Request:cj,Response:dj,default:Qp,fetch:ij},Symbol.toStringTag,{value:"Module"})),uj=Ob($n);var wi={},Og;function Zp(){if(Og)return wi;Og=1,Object.defineProperty(wi,"__esModule",{value:!0});class a extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return wi.default=a,wi}var Mg;function Jp(){if(Mg)return jn;Mg=1;var a=jn&&jn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(jn,"__esModule",{value:!0});const r=a(uj),o=a(Zp());class l{constructor(d){var h,g;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(g=d.isMaybeSingle)!==null&&g!==void 0?g:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let x=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,b,j,S;let N=null,_=null,k=null,A=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const F=await m.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=F:_=JSON.parse(F))}const X=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),H=(j=m.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");X&&H&&H.length>1&&(k=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(N={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,A=406,D="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const X=await m.text();try{N=JSON.parse(X),Array.isArray(N)&&m.status===404&&(_=[],N=null,A=200,D="OK")}catch{m.status===404&&X===""?(A=204,D="No Content"):N={message:X}}if(N&&this.isMaybeSingle&&(!((S=N?.details)===null||S===void 0)&&S.includes("0 rows"))&&(N=null,A=200,D="OK"),N&&this.shouldThrowOnError)throw new o.default(N)}return{error:N,data:_,count:k,status:A,statusText:D}});return this.shouldThrowOnError||(x=x.catch(m=>{var p,b,j;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(b=m?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(j=m?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),x.then(d,h)}returns(){return this}overrideTypes(){return this}}return jn.default=l,jn}var Ug;function ex(){if(Ug)return wn;Ug=1;var a=wn&&wn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(wn,"__esModule",{value:!0});const r=a(Jp());class o extends r.default{select(c){let d=!1;const h=(c??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:g,referencedTable:x=g}={}){const m=x?`${x}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:g=h}={}){const x=typeof g>"u"?"offset":`${g}.offset`,m=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(x,`${c}`),this.url.searchParams.set(m,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:g=!1,wal:x=!1,format:m="text"}={}){var p;const b=[c?"analyze":null,d?"verbose":null,h?"settings":null,g?"buffers":null,x?"wal":null].filter(Boolean).join("|"),j=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${j}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return wn.default=o,wn}var Bg;function ch(){if(Bg)return vn;Bg=1;var a=vn&&vn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vn,"__esModule",{value:!0});const r=a(ex());class o extends r.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:g}={}){let x="";g==="plain"?x="pl":g==="phrase"?x="ph":g==="websearch"&&(x="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${x}fts${m}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return vn.default=o,vn}var zg;function tx(){if(zg)return bn;zg=1;var a=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(bn,"__esModule",{value:!0});const r=a(ch());class o{constructor(c,{headers:d={},schema:h,fetch:g}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=g}select(c,{head:d=!1,count:h}={}){const g=d?"HEAD":"GET";let x=!1;const m=(c??"*").split("").map(p=>/\s/.test(p)&&!x?"":(p==='"'&&(x=!x),p)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var g;const x="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const m=c.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(m.length>0){const p=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:g,defaultToNull:x=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),x||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((j,S)=>j.concat(Object.keys(S)),[]);if(b.length>0){const j=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",j.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(c,{count:d}={}){var h;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return bn.default=o,bn}var $g;function hj(){if($g)return yn;$g=1;var a=yn&&yn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(yn,"__esModule",{value:!0});const r=a(tx()),o=a(ch());class l{constructor(d,{headers:h={},schema:g,fetch:x}={}){this.url=d,this.headers=new Headers(h),this.schemaName=g,this.fetch=x}from(d){const h=new URL(`${this.url}/${d}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:g=!1,get:x=!1,count:m}={}){var p;let b;const j=new URL(`${this.url}/rpc/${d}`);let S;g||x?(b=g?"HEAD":"GET",Object.entries(h).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{j.searchParams.append(_,k)})):(b="POST",S=h);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new o.default({method:b,url:j,headers:N,schema:this.schemaName,body:S,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return yn.default=l,yn}var Ig;function fj(){if(Ig)return os;Ig=1;var a=os&&os.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(os,"__esModule",{value:!0}),os.PostgrestError=os.PostgrestBuilder=os.PostgrestTransformBuilder=os.PostgrestFilterBuilder=os.PostgrestQueryBuilder=os.PostgrestClient=void 0;const r=a(hj());os.PostgrestClient=r.default;const o=a(tx());os.PostgrestQueryBuilder=o.default;const l=a(ch());os.PostgrestFilterBuilder=l.default;const c=a(ex());os.PostgrestTransformBuilder=c.default;const d=a(Jp());os.PostgrestBuilder=d.default;const h=a(Zp());return os.PostgrestError=h.default,os.default={PostgrestClient:r.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},os}var mj=fj();const gj=Gu(mj),{PostgrestClient:pj,PostgrestQueryBuilder:CC,PostgrestFilterBuilder:kC,PostgrestTransformBuilder:EC,PostgrestBuilder:_C,PostgrestError:AC}=gj;class xj{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const l=o.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let o=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(o+=`

Suggested solution: ${r.workaround}`),new Error(o)}static createWebSocket(r,o){const l=this.getWebSocketConstructor();return new l(r,o)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const yj="2.15.5",bj=`realtime-js/${yj}`,vj="1.0.0",Mu=1e4,wj=1e3,jj=100;var Io;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Io||(Io={}));var ts;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(ts||(ts={}));var Xs;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Xs||(Xs={}));var Uu;(function(a){a.websocket="websocket"})(Uu||(Uu={}));var Aa;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Aa||(Aa={}));class Nj{constructor(){this.HEADER_LENGTH=1}decode(r,o){return r.constructor===ArrayBuffer?o(this._binaryDecode(r)):o(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const o=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,o,l)}_decodeBroadcast(r,o,l){const c=o.getUint8(1),d=o.getUint8(2);let h=this.HEADER_LENGTH+2;const g=l.decode(r.slice(h,h+c));h=h+c;const x=l.decode(r.slice(h,h+d));h=h+d;const m=JSON.parse(l.decode(r.slice(h,r.byteLength)));return{ref:null,topic:g,event:x,payload:m}}}class sx{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Rt||(Rt={}));const Fg=(a,r,o={})=>{var l;const c=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((d,h)=>(d[h]=Sj(h,a,r,c),d),{})},Sj=(a,r,o,l)=>{const c=r.find(g=>g.name===a),d=c?.type,h=o[a];return d&&!l.includes(d)?rx(d,h):Bu(h)},rx=(a,r)=>{if(a.charAt(0)==="_"){const o=a.slice(1,a.length);return _j(r,o)}switch(a){case Rt.bool:return Cj(r);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return kj(r);case Rt.json:case Rt.jsonb:return Ej(r);case Rt.timestamp:return Aj(r);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return Bu(r);default:return Bu(r)}},Bu=a=>a,Cj=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},kj=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},Ej=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(r){return console.log(`JSON parse error: ${r}`),a}return a},_j=(a,r)=>{if(typeof a!="string")return a;const o=a.length-1,l=a[o];if(a[0]==="{"&&l==="}"){let d;const h=a.slice(1,o);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>rx(r,g))}return a},Aj=a=>typeof a=="string"?a.replace(" ","T"):a,ax=a=>{let r=a;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class gu{constructor(r,o,l={},c=Mu){this.channel=r,this.event=o,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var l;return this._hasReceived(r)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Hg;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Hg||(Hg={}));class Fo{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fo.syncState(this.state,c,d,h),this.pendingDiffs.forEach(x=>{this.state=Fo.syncDiff(this.state,x,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Fo.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,l,c){const d=this.cloneDeep(r),h=this.transformState(o),g={},x={};return this.map(d,(m,p)=>{h[m]||(x[m]=p)}),this.map(h,(m,p)=>{const b=d[m];if(b){const j=p.map(k=>k.presence_ref),S=b.map(k=>k.presence_ref),N=p.filter(k=>S.indexOf(k.presence_ref)<0),_=b.filter(k=>j.indexOf(k.presence_ref)<0);N.length>0&&(g[m]=N),_.length>0&&(x[m]=_)}else g[m]=p}),this.syncDiff(d,{joins:g,leaves:x},l,c)}static syncDiff(r,o,l,c){const{joins:d,leaves:h}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(g,x)=>{var m;const p=(m=r[g])!==null&&m!==void 0?m:[];if(r[g]=this.cloneDeep(x),p.length>0){const b=r[g].map(S=>S.presence_ref),j=p.filter(S=>b.indexOf(S.presence_ref)<0);r[g].unshift(...j)}l(g,p,x)}),this.map(h,(g,x)=>{let m=r[g];if(!m)return;const p=x.map(b=>b.presence_ref);m=m.filter(b=>p.indexOf(b.presence_ref)<0),r[g]=m,c(g,m,x),m.length===0&&delete r[g]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(l=>o(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,l)=>{const c=r[l];return"metas"in c?o[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):o[l]=c,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pg;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Pg||(Pg={}));var Ho;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Ho||(Ho={}));var Ar;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Ar||(Ar={}));class dh{constructor(r,o={config:{}},l){this.topic=r,this.params=o,this.socket=l,this.bindings={},this.state=ts.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,Xs.join,this.params,this.timeout),this.rejoinTimer=new sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ts.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ts.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ts.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ts.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ts.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xs.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Fo(this),this.broadcastEndpointURL=ax(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,o=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ts.closed){const{config:{broadcast:h,presence:g,private:x}}=this.params,m=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},j={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:p}),postgres_changes:m,private:x};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>r?.(Ar.CHANNEL_ERROR,S)),this._onClose(()=>r?.(Ar.CLOSED)),this.updateJoinPayload(Object.assign({config:j},b)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:S})=>{var N;if(this.socket.setAuth(),S===void 0){r?.(Ar.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(N=_?.length)!==null&&N!==void 0?N:0,A=[];for(let D=0;D<k;D++){const M=_[D],{filter:{event:X,schema:H,table:F,filter:Q}}=M,ce=S&&S[D];if(ce&&ce.event===X&&ce.schema===H&&ce.table===F&&ce.filter===Q)A.push(Object.assign(Object.assign({},M),{id:ce.id}));else{this.unsubscribe(),this.state=ts.errored,r?.(Ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(Ar.SUBSCRIBED);return}}).receive("error",S=>{this.state=ts.errored,r?.(Ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r?.(Ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,l){return this.state===ts.joined&&r===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,o,l)}async send(r,o={}){var l,c;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:h}=r,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=m.body)===null||c===void 0?void 0:c.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,x;const m=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((x=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||x===void 0)&&x.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ts.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xs.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new gu(this,Xs.leave,{},r),l.receive("ok",()=>{o(),c("ok")}).receive("timeout",()=>{o(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ts.closed,this.bindings={}}async _fetchWithTimeout(r,o,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:c.signal}));return clearTimeout(d),h}_push(r,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new gu(this,r,o,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>jj){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(r,o,l){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,l){var c,d;const h=r.toLocaleLowerCase(),{close:g,error:x,leave:m,join:p}=Xs;if(l&&[g,x,m,p].indexOf(h)>=0&&l!==this._joinRef())return;let j=this._onMessage(h,o,l);if(o&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var N,_,k;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(_=S.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===h}).map(S=>S.callback(j,l)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var N,_,k,A,D,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const X=S.id,H=(N=S.filter)===null||N===void 0?void 0:N.event;return X&&((_=o.ids)===null||_===void 0?void 0:_.includes(X))&&(H==="*"||H?.toLocaleLowerCase()===((k=o.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const X=(D=(A=S?.filter)===null||A===void 0?void 0:A.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return X==="*"||X===((M=o?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof j=="object"&&"ids"in j){const N=j.data,{schema:_,table:k,commit_timestamp:A,type:D,errors:M}=N;j=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:A,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(N))}S.callback(j,l)})}_isClosed(){return this.state===ts.closed}_isJoined(){return this.state===ts.joined}_isJoining(){return this.state===ts.joining}_isLeaving(){return this.state===ts.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,l){const c=r.toLocaleLowerCase(),d={type:c,filter:o,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(r,o){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&dh.isEqual(c.filter,o))})),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(r[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Xs.close,{},r)}_onError(r){this._on(Xs.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ts.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=Fg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=Fg(r.columns,r.old_record)),o}}const pu=()=>{},ji={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dj=[1e3,2e3,5e3,1e4],Tj=1e4,Rj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lj{constructor(r,o){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mu,this.transport=null,this.heartbeatIntervalMs=ji.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pu,this.ref=0,this.reconnectTimer=null,this.logger=pu,this.conn=null,this.sendBuffer=[],this.serializer=new Nj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>tl(async()=>{const{default:g}=await Promise.resolve().then(()=>$n);return{default:g}},void 0).then(({default:g})=>g(...h)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((l=o?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${r}/${Uu.websocket}`,this.httpEndpoint=ax(r),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xj.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const o=r.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vj}))}disconnect(r,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},r?this.conn.close(r,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,l){this.logger(r,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Io.connecting:return Aa.Connecting;case Io.open:return Aa.Open;case Io.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,o={config:{}}){const l=`realtime:${r}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new dh(`realtime:${r}`,o,this);return this.channels.push(d),d}}push(r){const{topic:o,event:l,payload:c,ref:d}=r,h=()=>{this.encode(r,g=>{var x;(x=this.conn)===null||x===void 0||x.send(g)})};this.log("push",`${o} ${l} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(wj,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},ji.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply")try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:h}=o,g=h?`(${h})`:"",x=d.status||"";this.log("receive",`${x} ${l} ${c} ${g}`.trim(),d),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(c,d,h)),this._triggerStateCallbacks("message",o)})}_clearTimer(r){var o;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var o;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Xs.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const l=r.match(/\?/)?"&":"?",c=new URLSearchParams(o);return`${r}${l}${c}`}_workerObjectUrl(r){let o;if(r)o=r;else{const l=new Blob([Rj],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}_setConnectionState(r,o=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(r=null){let o;r?o=r:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(l=>{const c={access_token:o,version:bj};o&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Xs.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${r}`,o)})}_triggerStateCallbacks(r,o){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(o)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ji.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var o,l,c,d,h,g,x,m,p;if(this.transport=(o=r?.transport)!==null&&o!==void 0?o:null,this.timeout=(l=r?.timeout)!==null&&l!==void 0?l:Mu,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:ji.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=r?.heartbeatCallback)!==null&&g!==void 0?g:pu,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=r?.reconnectAfterMs)!==null&&x!==void 0?x:(b=>Dj[b-1]||Tj),this.encode=(m=r?.encode)!==null&&m!==void 0?m:((b,j)=>j(JSON.stringify(b))),this.decode=(p=r?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class uh extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function ss(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Oj extends uh{constructor(r,o,l){super(r),this.name="StorageApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zu extends uh{constructor(r,o){super(r),this.name="StorageUnknownError",this.originalError=o}}var Mj=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};const nx=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...o)=>tl(async()=>{const{default:l}=await Promise.resolve().then(()=>$n);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},Uj=()=>Mj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tl(()=>Promise.resolve().then(()=>$n),void 0)).Response:Response}),$u=a=>{if(Array.isArray(a))return a.map(o=>$u(o));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([o,l])=>{const c=o.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[c]=$u(l)}),r},Bj=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Ma=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};const xu=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),zj=(a,r,o)=>Ma(void 0,void 0,void 0,function*(){const l=yield Uj();a instanceof l&&!o?.noResolveJson?a.json().then(c=>{const d=a.status||500,h=c?.statusCode||d+"";r(new Oj(xu(c),d,h))}).catch(c=>{r(new zu(xu(c),c))}):r(new zu(xu(a),a))}),$j=(a,r,o,l)=>{const c={method:a,headers:r?.headers||{}};return a==="GET"||!l?c:(Bj(l)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(l)):c.body=l,r?.duplex&&(c.duplex=r.duplex),Object.assign(Object.assign({},c),o))};function sl(a,r,o,l,c,d){return Ma(this,void 0,void 0,function*(){return new Promise((h,g)=>{a(o,$j(r,l,c,d)).then(x=>{if(!x.ok)throw x;return l?.noResolveJson?x:x.json()}).then(x=>h(x)).catch(x=>zj(x,g,l))})})}function Ui(a,r,o,l){return Ma(this,void 0,void 0,function*(){return sl(a,"GET",r,o,l)})}function dr(a,r,o,l,c){return Ma(this,void 0,void 0,function*(){return sl(a,"POST",r,l,c,o)})}function Iu(a,r,o,l,c){return Ma(this,void 0,void 0,function*(){return sl(a,"PUT",r,l,c,o)})}function Ij(a,r,o,l){return Ma(this,void 0,void 0,function*(){return sl(a,"HEAD",r,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}function ox(a,r,o,l,c){return Ma(this,void 0,void 0,function*(){return sl(a,"DELETE",r,l,c,o)})}var vs=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};const Fj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hj{constructor(r,o={},l,c){this.shouldThrowOnError=!1,this.url=r,this.headers=o,this.bucketId=l,this.fetch=nx(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,o,l,c){return vs(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},qg),c);let g=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const x=h.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),x&&d.append("metadata",this.encodeMetadata(x)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",h.cacheControl),x&&d.append("metadata",this.encodeMetadata(x))):(d=l,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,x&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),c?.headers&&(g=Object.assign(Object.assign({},g),c.headers));const m=this._removeEmptyFolders(o),p=this._getFinalPath(m),b=yield(r=="PUT"?Iu:dr)(this.fetch,`${this.url}/object/${p}`,d,Object.assign({headers:g},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ss(d))return{data:null,error:d};throw d}})}upload(r,o,l){return vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,o,l)})}uploadToSignedUrl(r,o,l,c){return vs(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",o);try{let x;const m=Object.assign({upsert:qg.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&l instanceof Blob?(x=new FormData,x.append("cacheControl",m.cacheControl),x.append("",l)):typeof FormData<"u"&&l instanceof FormData?(x=l,x.append("cacheControl",m.cacheControl)):(x=l,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const b=yield Iu(this.fetch,g.toString(),x,{headers:p});return{data:{path:d,fullPath:b.Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(ss(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(r,o){return vs(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const c=Object.assign({},this.headers);o?.upsert&&(c["x-upsert"]="true");const d=yield dr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(this.url+d.url),g=h.searchParams.get("token");if(!g)throw new uh("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:g},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ss(l))return{data:null,error:l};throw l}})}update(r,o,l){return vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,o,l)})}move(r,o,l){return vs(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ss(c))return{data:null,error:c};throw c}})}copy(r,o,l){return vs(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ss(c))return{data:null,error:c};throw c}})}createSignedUrl(r,o,l){return vs(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),d=yield dr(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ss(c))return{data:null,error:c};throw c}})}createSignedUrls(r,o,l){return vs(this,void 0,void 0,function*(){try{const c=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:r},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ss(c))return{data:null,error:c};throw c}})}download(r,o){return vs(this,void 0,void 0,function*(){const c=typeof o?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(o?.transform||{}),h=d?`?${d}`:"";try{const g=this._getFinalPath(r);return{data:yield(yield Ui(this.fetch,`${this.url}/${c}/${g}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ss(g))return{data:null,error:g};throw g}})}info(r){return vs(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{const l=yield Ui(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:$u(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ss(l))return{data:null,error:l};throw l}})}exists(r){return vs(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{return yield Ij(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ss(l)&&l instanceof zu){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,o){const l=this._getFinalPath(r),c=[],d=o?.download?`download=${o.download===!0?"":o.download}`:"";d!==""&&c.push(d);const g=typeof o?.transform<"u"?"render/image":"object",x=this.transformOptsToQueryString(o?.transform||{});x!==""&&c.push(x);let m=c.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${l}${m}`)}}}remove(r){return vs(this,void 0,void 0,function*(){try{return{data:yield ox(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ss(o))return{data:null,error:o};throw o}})}list(r,o,l){return vs(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Fj),o),{prefix:r||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ss(c))return{data:null,error:c};throw c}})}listV2(r,o){return vs(this,void 0,void 0,function*(){try{const l=Object.assign({},r);return{data:yield dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ss(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const o=[];return r.width&&o.push(`width=${r.width}`),r.height&&o.push(`height=${r.height}`),r.resize&&o.push(`resize=${r.resize}`),r.format&&o.push(`format=${r.format}`),r.quality&&o.push(`quality=${r.quality}`),o.join("&")}}const Pj="2.12.1",qj={"X-Client-Info":`storage-js/${Pj}`};var Nn=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};class Yj{constructor(r,o={},l,c){this.shouldThrowOnError=!1;const d=new URL(r);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},qj),o),this.fetch=nx(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Nn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}})}getBucket(r){return Nn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ss(o))return{data:null,error:o};throw o}})}createBucket(r,o={public:!1}){return Nn(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ss(l))return{data:null,error:l};throw l}})}updateBucket(r,o){return Nn(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ss(l))return{data:null,error:l};throw l}})}emptyBucket(r){return Nn(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ss(o))return{data:null,error:o};throw o}})}deleteBucket(r){return Nn(this,void 0,void 0,function*(){try{return{data:yield ox(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ss(o))return{data:null,error:o};throw o}})}}class Vj extends Yj{constructor(r,o={},l,c){super(r,o,l,c)}from(r){return new Hj(this.url,this.headers,r,this.fetch)}}const Gj="2.57.4";let zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";const Wj={"X-Client-Info":`supabase-js-${zo}/${Gj}`},Kj={headers:Wj},Qj={schema:"public"},Xj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zj={};var Jj=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};const eN=a=>{let r;return a?r=a:typeof fetch>"u"?r=Qp:r=fetch,(...o)=>r(...o)},tN=()=>typeof Headers>"u"?Xp:Headers,sN=(a,r,o)=>{const l=eN(o),c=tN();return(d,h)=>Jj(void 0,void 0,void 0,function*(){var g;const x=(g=yield r())!==null&&g!==void 0?g:a;let m=new c(h?.headers);return m.has("apikey")||m.set("apikey",a),m.has("Authorization")||m.set("Authorization",`Bearer ${x}`),l(d,Object.assign(Object.assign({},h),{headers:m}))})};var rN=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};function aN(a){return a.endsWith("/")?a:a+"/"}function nN(a,r){var o,l;const{db:c,auth:d,realtime:h,global:g}=a,{db:x,auth:m,realtime:p,global:b}=r,j={db:Object.assign(Object.assign({},x),c),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},p),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),g),{headers:Object.assign(Object.assign({},(o=b?.headers)!==null&&o!==void 0?o:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>rN(this,void 0,void 0,function*(){return""})};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function oN(a){const r=a?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aN(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lx="2.71.1",_n=30*1e3,Fu=3,yu=Fu*_n,lN="http://localhost:9999",iN="supabase.auth.token",cN={"X-Client-Info":`gotrue-js/${lx}`},Hu="X-Supabase-Api-Version",ix={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uN=600*1e3;class hh extends Error{constructor(r,o,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function ot(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class hN extends hh{constructor(r,o,l){super(r,o,l),this.name="AuthApiError",this.status=o,this.code=l}}function fN(a){return ot(a)&&a.name==="AuthApiError"}class cx extends hh{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class ia extends hh{constructor(r,o,l,c){super(r,l,c),this.name=o,this.status=l}}class aa extends ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mN(a){return ot(a)&&a.name==="AuthSessionMissingError"}class Ni extends ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Si extends ia{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ci extends ia{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gN(a){return ot(a)&&a.name==="AuthImplicitGrantRedirectError"}class Yg extends ia{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pu extends ia{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function bu(a){return ot(a)&&a.name==="AuthRetryableFetchError"}class Vg extends ia{constructor(r,o,l){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class qu extends ia{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gg=` 	
\r=`.split(""),pN=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<Gg.length;r+=1)a[Gg[r].charCodeAt(0)]=-2;for(let r=0;r<Bi.length;r+=1)a[Bi[r].charCodeAt(0)]=r;return a})();function Wg(a,r,o){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(Bi[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(Bi[l]),r.queuedBits-=6}}function dx(a,r,o){const l=pN[a];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Kg(a){const r=[],o=h=>{r.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{bN(h,l,o)};for(let h=0;h<a.length;h+=1)dx(a.charCodeAt(h),c,d);return r.join("")}function xN(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function yN(a,r){for(let o=0;o<a.length;o+=1){let l=a.charCodeAt(o);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(a.charCodeAt(o+1)-56320&65535|c)+65536,o+=1}xN(l,r)}}function bN(a,r,o){if(r.utf8seq===0){if(a<=127){o(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function vN(a){const r=[],o={queue:0,queuedBits:0},l=c=>{r.push(c)};for(let c=0;c<a.length;c+=1)dx(a.charCodeAt(c),o,l);return new Uint8Array(r)}function wN(a){const r=[];return yN(a,o=>r.push(o)),new Uint8Array(r)}function jN(a){const r=[],o={queue:0,queuedBits:0},l=c=>{r.push(c)};return a.forEach(c=>Wg(c,o,l)),Wg(null,o,l),r.join("")}function NN(a){return Math.round(Date.now()/1e3)+a}function SN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const r=Math.random()*16|0;return(a=="x"?r:r&3|8).toString(16)})}const Qs=()=>typeof window<"u"&&typeof document<"u",ka={tested:!1,writable:!1},ux=()=>{if(!Qs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ka.tested)return ka.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ka.tested=!0,ka.writable=!0}catch{ka.tested=!0,ka.writable=!1}return ka.writable};function CN(a){const r={},o=new URL(a);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((c,d)=>{r[d]=c})}catch{}return o.searchParams.forEach((l,c)=>{r[c]=l}),r}const hx=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...o)=>tl(async()=>{const{default:l}=await Promise.resolve().then(()=>$n);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},kN=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",An=async(a,r,o)=>{await a.setItem(r,JSON.stringify(o))},Ea=async(a,r)=>{const o=await a.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},ra=async(a,r)=>{await a.removeItem(r)};class Ki{constructor(){this.promise=new Ki.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}Ki.promiseConstructor=Promise;function vu(a){const r=a.split(".");if(r.length!==3)throw new qu("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!dN.test(r[l]))throw new qu("JWT not in base64url format");return{header:JSON.parse(Kg(r[0])),payload:JSON.parse(Kg(r[1])),signature:vN(r[2]),raw:{header:r[0],payload:r[1]}}}async function EN(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function _N(a,r){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await a(d);if(!r(d,null,h)){l(h);return}}catch(h){if(!r(d,h)){c(h);return}}})()})}function AN(a){return("0"+a.toString(16)).substr(-2)}function DN(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let c="";for(let d=0;d<56;d++)c+=o.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(r),Array.from(r,AN).join("")}async function TN(a){const o=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",o),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function RN(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const o=await TN(a);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sn(a,r,o=!1){const l=DN();let c=l;o&&(c+="/PASSWORD_RECOVERY"),await An(a,`${r}-code-verifier`,c);const d=await RN(l);return[d,l===d?"plain":"s256"]}const LN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ON(a){const r=a.headers.get(Hu);if(!r||!r.match(LN))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function MN(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function UN(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cn(a){if(!BN.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wu(){const a={};return new Proxy(a,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qg(a){return JSON.parse(JSON.stringify(a))}var zN=function(a,r){var o={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.indexOf(l)<0&&(o[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(a);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(o[l[c]]=a[l[c]]);return o};const _a=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),$N=[502,503,504];async function Xg(a){var r;if(!kN(a))throw new Pu(_a(a),0);if($N.includes(a.status))throw new Pu(_a(a),a.status);let o;try{o=await a.json()}catch(d){throw new cx(_a(d),d)}let l;const c=ON(a);if(c&&c.getTime()>=ix["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?l=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(l=o.error_code),l){if(l==="weak_password")throw new Vg(_a(o),a.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new aa}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Vg(_a(o),a.status,o.weak_password.reasons);throw new hN(_a(o),a.status||500,l)}const IN=(a,r,o,l)=>{const c={method:a,headers:r?.headers||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),o))};async function gt(a,r,o,l){var c;const d=Object.assign({},l?.headers);d[Hu]||(d[Hu]=ix["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",x=await FN(a,r,o+g,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(x):{data:Object.assign({},x),error:null}}async function FN(a,r,o,l,c,d){const h=IN(r,l,c,d);let g;try{g=await a(o,Object.assign({},h))}catch(x){throw console.error(x),new Pu(_a(x),0)}if(g.ok||await Xg(g),l?.noResolveJson)return g;try{return await g.json()}catch(x){await Xg(x)}}function _r(a){var r;let o=null;YN(a)&&(o=Object.assign({},a),a.expires_at||(o.expires_at=NN(a.expires_in)));const l=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:o,user:l},error:null}}function Zg(a){const r=_r(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0)&&(r.data.weak_password=a.weak_password),r}function na(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function HN(a){return{data:a,error:null}}function PN(a){const{action_link:r,email_otp:o,hashed_token:l,redirect_to:c,verification_type:d}=a,h=zN(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:r,email_otp:o,hashed_token:l,redirect_to:c,verification_type:d},x=Object.assign({},h);return{data:{properties:g,user:x},error:null}}function qN(a){return a}function YN(a){return a.access_token&&a.refresh_token&&a.expires_in}const ju=["global","local","others"];var VN=function(a,r){var o={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.indexOf(l)<0&&(o[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(a);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(o[l[c]]=a[l[c]]);return o};class GN{constructor({url:r="",headers:o={},fetch:l}){this.url=r,this.headers=o,this.fetch=hx(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,o=ju[0]){if(ju.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ju.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ot(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,o={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:na})}catch(l){if(ot(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:o}=r,l=VN(r,["options"]),c=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:PN,redirectTo:o?.redirectTo})}catch(o){if(ot(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:na})}catch(o){if(ot(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,l,c,d,h,g,x;try{const m={nextPage:null,lastPage:0,total:0},p=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=r?.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:qN});if(p.error)throw p.error;const b=await p.json(),j=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(x=(g=p.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&x!==void 0?x:[];return S.length>0&&(S.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);m[`${k}Page`]=_}),m.total=parseInt(j)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ot(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){Cn(r);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:na})}catch(o){if(ot(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){Cn(r);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:na})}catch(l){if(ot(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,o=!1){Cn(r);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:na})}catch(l){if(ot(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Cn(r.userId);try{const{data:o,error:l}=await gt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:o,error:l}}catch(o){if(ot(o))return{data:null,error:o};throw o}}async _deleteFactor(r){Cn(r.userId),Cn(r.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}}}function Jg(a={}){return{getItem:r=>a[r]||null,setItem:(r,o)=>{a[r]=o},removeItem:r=>{delete a[r]}}}function WN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kn={debug:!!(globalThis&&ux()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fx extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class KN extends fx{}async function QN(a,r,o){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await o()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(r===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new KN(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(kn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}WN();const XN={url:lN,storageKey:iN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ep(a,r,o){return await o()}const En={};class Yo{constructor(r){var o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yo.nextInstanceID,Yo.nextInstanceID+=1,this.instanceID>0&&Qs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},XN),r);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new GN({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=hx(c.fetch),this.lock=c.lock||ep,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Qs()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=QN:this.lock=ep,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:ux()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),Qs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,o;return(o=(r=En[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=En[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lx}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const o=CN(window.location.href);let l="none";if(this._isImplicitGrantCallback(o)?l="implicit":await this._isPKCECallback(o)&&(l="pkce"),Qs()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(o,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),gN(d)){const x=(r=d.details)===null||r===void 0?void 0:r.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return ot(o)?{error:o}:{error:new cx("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,l,c;try{const d=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(o=r?.options)===null||o===void 0?void 0:o.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:_r}),{data:h,error:g}=d;if(g||!h)return{data:{user:null,session:null},error:g};const x=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:m,session:x},error:null}}catch(d){if(ot(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var o,l,c;try{let d;if("email"in r){const{email:p,password:b,options:j}=r;let S=null,N=null;this.flowType==="pkce"&&([S,N]=await Sn(this.storage,this.storageKey)),d=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:p,password:b,data:(o=j?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:S,code_challenge_method:N},xform:_r})}else if("phone"in r){const{phone:p,password:b,options:j}=r;d=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(l=j?.data)!==null&&l!==void 0?l:{},channel:(c=j?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:_r})}else throw new Si("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return{data:{user:null,session:null},error:g};const x=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:m,session:x},error:null}}catch(d){if(ot(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let o;if("email"in r){const{email:d,password:h,options:g}=r;o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Zg})}else if("phone"in r){const{phone:d,password:h,options:g}=r;o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Zg})}else throw new Si("You must provide either an email or phone number and a password");const{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ni}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(r){var o,l,c,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;if(o==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(r){var o,l,c,d,h,g,x,m,p,b,j,S;let N,_;if("message"in r)N=r.message,_=r.signature;else{const{chain:k,wallet:A,statement:D,options:M}=r;let X;if(Qs())if(typeof A=="object")X=A;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))X=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=A}const H=new URL((o=M?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in X&&X.signIn){const F=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),D?{statement:D}:null));let Q;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")Q=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)Q=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)N=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),_=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${H.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(c=(l=M?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=M?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((x=M?.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(p=M?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const F=await X.signMessage(new TextEncoder().encode(N),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=F}}try{const{data:k,error:A}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:jN(_)},!((j=r.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:_r});if(A)throw A;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Ni}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:A})}catch(k){if(ot(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(r){const o=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(o??"").split("/");try{const{data:d,error:h}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:_r});if(await ra(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Ni}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(ot(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:o,provider:l,token:c,access_token:d,nonce:h}=r,g=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:_r}),{data:x,error:m}=g;return m?{data:{user:null,session:null},error:m}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ni}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:m})}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(r){var o,l,c,d,h;try{if("email"in r){const{email:g,options:x}=r;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Sn(this.storage,this.storageKey));const{error:b}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(o=x?.data)!==null&&o!==void 0?o:{},create_user:(l=x?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in r){const{phone:g,options:x}=r,{data:m,error:p}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=x?.data)!==null&&c!==void 0?c:{},create_user:(d=x?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},channel:(h=x?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:p}}throw new Si("You must provide either an email or phone number.")}catch(g){if(ot(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(r){var o,l;try{let c,d;"options"in r&&(c=(o=r.options)===null||o===void 0?void 0:o.redirectTo,d=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:g}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:_r});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const x=h.session,m=h.user;return x?.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:m,session:x},error:null}}catch(c){if(ot(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(r){var o,l,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await Sn(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:HN})}catch(d){if(ot(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)throw l;if(!o)throw new aa;const{error:c}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:c}})}catch(r){if(ot(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:l,type:c,options:d}=r,{error:h}=await gt(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:l,type:c,options:d}=r,{data:h,error:g}=await gt(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:g}}throw new Si("You must provide either an email or phone number and a type")}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<yu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const h=await Ea(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=wu()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(x,m,p)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,m,p))})}return{data:{session:r},error:null}}const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:na}):await this._useSession(async o=>{var l,c,d;const{data:h,error:g}=o;if(g)throw g;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:na})})}catch(o){if(ot(o))return mN(o)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new aa;const h=c.session;let g=null,x=null;this.flowType==="pkce"&&r.email!=null&&([g,x]=await Sn(this.storage,this.storageKey));const{data:m,error:p}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:g,code_challenge_method:x}),jwt:h.access_token,xform:na});if(p)throw p;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(ot(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new aa;const o=Date.now()/1e3;let l=o,c=!0,d=null;const{payload:h}=vu(r.access_token);if(h.exp&&(l=h.exp,c=l<=o),c){const{session:g,error:x}=await this._callRefreshToken(r.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:x}=await this._getUser(r.access_token);if(x)throw x;d={access_token:r.access_token,refresh_token:r.refresh_token,user:g.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(o){if(ot(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var l;if(!r){const{data:h,error:g}=o;if(g)throw g;r=(l=h.session)!==null&&l!==void 0?l:void 0}if(!r?.refresh_token)throw new aa;const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(r,o){try{if(!Qs())throw new Ci("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ci(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ci("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Yg("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(r.code);if(M)throw M;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:x,token_type:m}=r;if(!d||!g||!h||!m)throw new Ci("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(g);let j=p+b;x&&(j=parseInt(x));const S=j-p;S*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const N=j-b;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,j,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,j,p);const{data:_,error:k}=await this._getUser(d);if(k)throw k;const A={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:b,expires_at:j,refresh_token:h,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:r.type},error:null}}catch(l){if(ot(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:c,error:d}=o;if(d)return{error:d};const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:g}=await this.admin.signOut(h,r);if(g&&!(fN(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return r!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const o=SN(),l={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async o=>{var l,c;try{const{data:{session:d},error:h}=o;if(h)throw h;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,o={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Sn(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(d){if(ot(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:o,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(o){if(ot(o))return{data:null,error:o};throw o}}async linkIdentity(r){var o;try{const{data:l,error:c}=await this._useSession(async d=>{var h,g,x,m,p;const{data:b,error:j}=d;if(j)throw j;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=r.options)===null||g===void 0?void 0:g.scopes,queryParams:(x=r.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",S,{headers:this.headers,jwt:(p=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return Qs()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:r.provider,url:l?.url},error:null}}catch(l){if(ot(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async o=>{var l,c;const{data:d,error:h}=o;if(h)throw h;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await _N(async c=>(c>0&&await EN(200*Math.pow(2,c-1)),this._debug(o,"refreshing attempt",c),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:_r})),(c,d)=>{const h=200*Math.pow(2,c);return d&&bu(d)&&Date.now()+h-l<_n})}catch(l){if(this._debug(o,"error",l),ot(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",l),Qs()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,o;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ea(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await An(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h?.user)!==null&&r!==void 0?r:wu()}else if(c&&!c.user&&!c.user){const h=await Ea(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await ra(this.storage,this.storageKey+"-user"),await An(this.storage,this.storageKey,c)):c.user=wu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((o=c.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<yu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${yu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),bu(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var o,l;if(!r)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ki;const{data:d,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!d.session)throw new aa;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={session:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),ot(d)){const h={session:null,error:d};return bu(d)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,o,l=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:o});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(r,o)}catch(x){d.push(x)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const o=Object.assign({},r),l=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&o.user&&await An(this.userStorage,this.storageKey+"-user",{user:o.user});const c=Object.assign({},o);delete c.user;const d=Qg(c);await An(this.storage,this.storageKey,d)}else{const c=Qg(o);await An(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await ra(this.storage,this.storageKey+"-code-verifier"),await ra(this.storage,this.storageKey+"-user"),this.userStorage&&await ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Qs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-r)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_n}ms, refresh threshold is ${Fu} ticks`),c<=Fu&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof fx)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,l){const c=[`provider=${encodeURIComponent(o)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await Sn(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var l;const{data:c,error:d}=o;return d?{data:null,error:d}:await gt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async _enroll(r){try{return await this._useSession(async o=>{var l,c;const{data:d,error:h}=o;if(h)return{data:null,error:h};const g=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:x,error:m}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((c=x?.totp)===null||c===void 0)&&c.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:c,error:d}=o;if(d)return{data:null,error:d};const{data:h,error:g}=await gt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:g})})}catch(o){if(ot(o))return{data:null,error:o};throw o}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:c,error:d}=o;return d?{data:null,error:d}:await gt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if(ot(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(r){const{data:o,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=r?.factors||[],c=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var o,l;const{data:{session:c},error:d}=r;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=vu(c.access_token);let g=null;h.aal&&(g=h.aal);let x=g;((l=(o=c.user.factors)===null||o===void 0?void 0:o.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(x="aal2");const p=h.amr||[];return{data:{currentLevel:g,nextLevel:x,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(r,o={keys:[]}){let l=o.keys.find(g=>g.kid===r);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(g=>g.kid===r),l&&this.jwks_cached_at+uN>c)return l;const{data:d,error:h}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(g=>g.kid===r),!l)?null:l}async getClaims(r,o={}){try{let l=r;if(!l){const{data:S,error:N}=await this.getSession();if(N||!S.session)return{data:null,error:N};l=S.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:x}}=vu(l);o?.allowExpired||MN(d.exp);const m=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!m){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:c,signature:h},error:null}}const p=UN(c.alg),b=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,h,wN(`${g}.${x}`)))throw new qu("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(l){if(ot(l))return{data:null,error:l};throw l}}}Yo.nextInstanceID=0;const ZN=Yo;class JN extends ZN{constructor(r){super(r)}}var e4=function(a,r,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(p){try{m(l.next(p))}catch(b){h(b)}}function x(p){try{m(l.throw(p))}catch(b){h(b)}}function m(p){p.done?d(p.value):c(p.value).then(g,x)}m((l=l.apply(a,r||[])).next())})};class t4{constructor(r,o,l){var c,d,h;this.supabaseUrl=r,this.supabaseKey=o;const g=oN(r);if(!o)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const x=`sb-${g.hostname.split(".")[0]}-auth-token`,m={db:Qj,realtime:Zj,auth:Object.assign(Object.assign({},Xj),{storageKey:x}),global:Kj},p=nN(l??{},m);this.storageKey=(c=p.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=p.global.headers)!==null&&d!==void 0?d:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch),this.fetch=sN(o,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new pj(new URL("rest/v1",g).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Vj(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new oj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,o={},l={}){return this.rest.rpc(r,o,l)}channel(r,o={config:{}}){return this.realtime.channel(r,o)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,o;return e4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:c,userStorage:d,storageKey:h,flowType:g,lock:x,debug:m},p,b){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JN({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),p),storageKey:h,autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:c,userStorage:d,flowType:g,lock:x,debug:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Lj(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(r,o,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const s4=(a,r,o)=>new t4(a,r,o);function r4(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}r4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a4="https://nmarfwjjsmnnxjmcvubr.supabase.co",n4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tYXJmd2pqc21ubnhqbWN2dWJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3MjEyMTQsImV4cCI6MjA3MzI5NzIxNH0.SptKmkp2qsWK7AQnqzfOxNW4EO88G_UKqTcpZQhAEVg",oa=s4(a4,n4),mx=y.createContext(void 0),o4=()=>{const a=y.useContext(mx);if(a===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return a},l4=({children:a})=>{const[r,o]=y.useState(null),[l,c]=y.useState(null),[d,h]=y.useState(!0);y.useEffect(()=>{oa.auth.getSession().then(({data:{session:p}})=>{c(p),o(p?.user??null),p?.access_token?localStorage.setItem("token",p.access_token):localStorage.removeItem("token"),h(!1)});const{data:{subscription:m}}=oa.auth.onAuthStateChange((p,b)=>{c(b),o(b?.user??null),b?.access_token?localStorage.setItem("token",b.access_token):localStorage.removeItem("token"),h(!1)});return()=>m.unsubscribe()},[]);const x={user:r,session:l,loading:d,signOut:async()=>{await oa.auth.signOut()}};return t.jsx(mx.Provider,{value:x,children:a})},Qi="http://localhost:1000",gx=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${Qi}/api/v1/committees/all-committees`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response?.data?.message||"Failed to fetch committees")}},i4=async(a,r,o)=>{try{const l=localStorage.getItem("token");return console.log("abbr",a),console.log("committee",r),console.log("category",o),(await Ee.post(`${Qi}/api/v1/committees/add-committee`,{abbr:a,committee:r,category:o},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to create committee")}},c4=async(a,r,o,l)=>{try{const c=localStorage.getItem("token");return(await Ee.patch(`${Qi}/api/v1/committees/update-committee/${a}`,{abbr:r,committee:o,category:l},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to update committee")}},d4=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${Qi}/api/v1/committees/delete-committee/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete committee")}},ur="http://localhost:1000",px=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${ur}/api/v1/registerations/get-registrations/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},u4=async(a,r,o)=>{try{const l=localStorage.getItem("token"),c=localStorage.getItem("userId");return(await Ee.post(`${ur}/api/v1/registerations/event-registration-teacher/${c}`,{eventId:a,foodPreference:r,foodAllergies:o},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},h4=async(a,r,o,l,c,d,h,g,x)=>{try{const m=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ee.post(`${ur}/api/v1/registerations/event-registration-student/${p}`,{eventId:a,mun_experience:r,pref_committee_1_id:o,pref_committee_2_id:l,pref_committee_3_id:c,food_pref:d,food_allergies:h,emergency_name:g,emergency_phone:x},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}})).data}catch(m){throw new Error(m.response.data.message)}},xx=async a=>{try{const r=localStorage.getItem("token"),o=localStorage.getItem("userId");return(await Ee.get(`${ur}/api/v1/registerations/get-registration-info-by-eventId-and-userId/${a}/${o}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},yx=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${ur}/api/v1/registerations/delete-registration-by-registrationId/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to cancel registration")}},f4=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${ur}/api/v1/registerations/delete-delegate/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},bx=async(a,r,o)=>{try{const l=localStorage.getItem("token");return(await Ee.post(`${ur}/api/v1/registerations/assign-delegate`,{delegateId:a,committeeId:r,countryId:o},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to assign delegate")}},vx=async a=>{try{const r=localStorage.getItem("token");return(await Ee.post(`${ur}/api/v1/registerations/unassign-delegate`,{delegateId:a},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to unassign delegate")}},m4=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.post(`${ur}/api/v1/registerations/toggle-delegate-flag`,{delegateId:a,flag:r},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to toggle delegate flag")}},g4=async a=>{try{const r=localStorage.getItem("token");return(await Ee.post(`${ur}/api/v1/registerations/merge-delegates`,{selectedDelegates:a},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to merge delegates")}},p4="http://localhost:1000",x4=async()=>{try{const a=localStorage.getItem("token");return(await Ee.get(`${p4}/api/v1/countries/all-countries`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw new Error(a.response.data.message)}},wx=y.createContext(void 0),y4=({children:a})=>{const{user:r,session:o,loading:l}=o4(),[c,d]=y.useState(null),[h,g]=y.useState(!1),[x,m]=y.useState(!0),[p,b]=y.useState(!1),[j,S]=y.useState([]),[N,_]=y.useState([]),[k,A]=y.useState([]),[D,M]=y.useState([]),[X,H]=y.useState([]),[F,Q]=y.useState([]),[ce,me]=y.useState([]),[Se,_e]=y.useState([]),[be,de]=y.useState([]),[ee,he]=y.useState([]),[R,$]=y.useState({eventsUpcoming:5,eventsCompleted:5,users:900,organisers:80,pendingApprovals:3,schools:70}),T=y.useCallback(async()=>{try{m(!0);const ve=!!(r&&o?.access_token);if(b(ve),r?.user_metadata?.role?d(r.user_metadata.role):d("student"),o?.access_token){const Ae=await jw();Ae.success?S(Ae.data):E.error(Ae.message);const K=await Dw();_(K.data);const fe=await Dg();me(fe.data)}}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}finally{m(!1)}},[r,o,p]),B=y.useCallback(async()=>{try{const ve=await Kw();ve.success?A(ve.data):E.error(ve.message)}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),v=y.useCallback(async()=>{try{const ve=await Mw();ve.success?M(ve.data):E.error(ve.message)}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),z=y.useCallback(async()=>{try{const ve=await zw();ve.success?H(ve.data):E.error(ve.message)}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),G=y.useCallback(async()=>{try{const ve=await qw();ve.success?Q(ve.data):E.error(ve.message)}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),P=y.useCallback(async()=>{try{const ve=await Dg();ve.success?me(ve.data):E.error(ve.message),me(ve.data||[])}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),L=y.useCallback(async()=>{try{const ve=await gx();ve.success?_e(ve.data):E.error(ve.message)}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),ne=y.useCallback(async ve=>{try{if(!ve){console.log("No eventId provided to refreshRegistrationsData");return}const Ae=await px(ve);Ae.success?he(Ae.data||[]):(console.error("API response not successful:",Ae.message),E.error(Ae.message))}catch(Ae){console.error("Error in refreshRegistrationsData:",Ae);let K=localStorage.getItem("token");p&&K&&E.error("JWT token is expired. Please login again.")}},[p]),le=y.useCallback(async()=>{try{const ve=await x4();ve.success?de(ve.data):E.error(ve.message)}catch{let Ae=localStorage.getItem("token");p&&Ae&&E.error("JWT token is expired. Please login again.")}},[p]),Te=ve=>{$(Ae=>({...Ae,...ve}))};y.useEffect(()=>{l||(T(),B(),P(),z(),v(),G(),L(),le())},[r,o,l,T,B,P,z,v,G]);const je={userType:c,isOrganiser:h,isLoading:x,loginStatus:p,dashboardStats:R,allUsers:j,allEvents:k,allLocalities:D,allSchools:X,allAreas:F,allLeadershipRoles:ce,allCommittees:Se,allRegistrations:ee,setAllEvents:A,setAllLocalities:M,setAllSchools:H,setAllAreas:Q,setAllLeadershipRoles:me,setAllUsers:S,setAllOrganisers:_,setAllRegistrations:he,allOrganisers:N,setUserType:d,setIsOrganiser:g,setLoginStatus:b,updateDashboardStats:Te,refreshUserData:T,refreshEventsData:B,refreshLocalitiesData:v,refreshSchoolsData:z,refreshAreasData:G,refreshLeadershipRolesData:P,refreshCommitteesData:L,refreshRegistrationsData:ne,allCountries:be,setAllCountries:de,refreshCountriesData:le};return t.jsx(wx.Provider,{value:je,children:a})},Lt=()=>{const a=y.useContext(wx);return a===void 0?(console.error("useApp - Context is undefined, this should not happen if component is wrapped in AppProvider"),console.error("Stack trace:",new Error().stack),{userType:null,isOrganiser:!1,isLoading:!0,loginStatus:!1,allUsers:[],allOrganisers:[],allEvents:[],allLocalities:[],allSchools:[],allAreas:[],allLeadershipRoles:[],allCommittees:[],allRegistrations:[],dashboardStats:{eventsUpcoming:0,eventsCompleted:0,users:0,organisers:0,pendingApprovals:0,schools:0},setUserType:()=>{},setIsOrganiser:()=>{},setLoginStatus:()=>{},updateDashboardStats:()=>{},refreshUserData:async()=>{},setAllUsers:()=>{},setAllOrganisers:()=>{},setAllEvents:()=>{},setAllLocalities:()=>{},setAllSchools:()=>{},setAllAreas:()=>{},setAllLeadershipRoles:()=>{},refreshEventsData:async()=>{},refreshLocalitiesData:async()=>{},refreshSchoolsData:async()=>{},refreshAreasData:async()=>{},refreshLeadershipRolesData:async()=>{},refreshCommitteesData:async()=>{},setAllRegistrations:()=>{},refreshRegistrationsData:async r=>{},allCountries:[],setAllCountries:()=>{},refreshCountriesData:async()=>{}}):a},Po=({variant:a="primary",size:r="medium",children:o,className:l="",...c})=>{const d="btn font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",h={primary:"bg-[#A88554] hover:bg-[#9a7849] text-white focus:ring-[#A88554] shadow-lg",secondary:"bg-[#1E395D] hover:bg-[#1a324f] text-white focus:ring-[#1E395D]",outline:"bg-white border border-gray-300 hover:border-gray-400 text-gray-700 focus:ring-gray-300","role-select":"bg-white border border-gray-300 hover:border-gray-400 text-gray-700 focus:ring-gray-300","role-select-active":"bg-[#C7A87D] hover:bg-[#b89a6a] text-white border border-[#C7A87D] focus:ring-[#C7A87D] shadow-lg"},g={small:"px-3 py-1 text-xs",medium:"px-5 py-2 text-sm",large:"px-6 py-3 text-base"},x=`${d} ${h[a]} ${g[r]} ${l}`;return t.jsx("button",{className:x,...c,children:o})},jx=({error:a,className:r="",containerClassName:o="",...l})=>t.jsxs("div",{className:`w-full ${o}`,children:[t.jsx("input",{className:`w-full px-3.5 py-3.5 border border-black rounded-[16px] text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${a?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r}`,...l}),a&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:a})]}),Nx=({error:a,className:r="",containerClassName:o="",...l})=>{const[c,d]=y.useState(!1),h=()=>{d(!c)};return t.jsxs("div",{className:`w-full ${o}`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:c?"text":"password",className:`w-full px-3.5 py-3.5 pr-10 border border-black rounded-[16px] text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${a?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r}`,...l}),t.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 focus:outline-none",children:c?t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),a&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:a})]})},b4="/assets/Logo-1VuMq3k9.png",In=({size:a="medium",className:r=""})=>{const o={small:"h-6 w-auto",medium:"h-10 w-auto",large:"h-12 w-auto",figma:"w-[375px] h-[82px] flex-shrink-0"};return t.jsx("div",{className:`flex items-center justify-start ${r}`,children:t.jsx("img",{src:b4,alt:"MunQuest Logo",className:`${o[a]} object-contain`})})};class $o extends Error{}$o.prototype.name="InvalidTokenError";function v4(a){return decodeURIComponent(atob(a).replace(/(.)/g,(r,o)=>{let l=o.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}function w4(a){let r=a.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return v4(r)}catch{return atob(r)}}function j4(a,r){if(typeof a!="string")throw new $o("Invalid token specified: must be a string");r||(r={});const o=r.header===!0?0:1,l=a.split(".")[o];if(typeof l!="string")throw new $o(`Invalid token specified: missing part #${o+1}`);let c;try{c=w4(l)}catch(d){throw new $o(`Invalid token specified: invalid base64 for part #${o+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new $o(`Invalid token specified: invalid json for part #${o+1} (${d.message})`)}}const Vo="/assets/student-DiMAztY4.png",Yu="/assets/teacher-CmMFUZ4w.png",Vu=a=>a==="student"?Vo:Yu,N4=()=>{localStorage.removeItem("userAvatar")},S4=async()=>{try{const a=localStorage.getItem("userAvatar");if(a)return a;const r=await Oa();if(r.success&&r.data.avatar)return localStorage.setItem("userAvatar",r.data.avatar),r.data.avatar;const o=localStorage.getItem("token");if(o){const l=j4(o);return Vu(l.role)}return Vo}catch(a){return console.error("Error getting user avatar:",a),Vo}},Ua=({size:a="medium",className:r="",onClick:o,showBorder:l=!1,forceRefresh:c=!1})=>{const[d,h]=y.useState(""),[g,x]=y.useState(!0),[m,p]=y.useState(Date.now()),b=async()=>{try{x(!0);const N=await S4();h(N),p(Date.now())}catch(N){console.error("Error loading avatar:",N);const _=localStorage.getItem("userRole");h(Vu(_||"student")),p(Date.now())}finally{x(!1)}};y.useEffect(()=>{b()},[]),y.useEffect(()=>{const N=()=>{p(Date.now()),b()},_=()=>{p(Date.now()),b()};return window.addEventListener("storage",N),window.addEventListener("avatarUpdated",_),()=>{window.removeEventListener("storage",N),window.removeEventListener("avatarUpdated",_)}},[]),y.useEffect(()=>{c&&b()},[c]),y.useEffect(()=>{const N=setInterval(()=>{const _=Date.now();if(_-m>2e3){const k=localStorage.getItem("userAvatar");k&&k!==d&&b(),p(_)}},2e3);return()=>clearInterval(N)},[d,m]);const j={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},S=l?"border-2 border-white shadow-lg":"";return g?t.jsx("div",{className:`${j[a]} bg-gray-200 rounded-full flex items-center justify-center ${r}`,onClick:o,children:t.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})}):t.jsx("div",{className:`${j[a]}  rounded-full flex items-center justify-center cursor-pointer ${S} ${r}`,onClick:o,children:t.jsx("img",{src:d,alt:"User Avatar",className:"w-full h-full rounded-full object-cover",onError:N=>{const _=localStorage.getItem("userRole")||"student";N.currentTarget.src=Vu(_)}})})},Rr=({size:a="medium",className:r="",text:o="Uploading..."})=>{const l={small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8"};return t.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[t.jsx("div",{className:`${l[a]} border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin`}),o&&t.jsx("span",{className:"text-sm text-gray-600 mt-2",children:o})]})},Sx=({startDate:a,endDate:r,onDateRangeChange:o,onClose:l,maxDays:c=7})=>{const[d,h]=y.useState(new Date),[g,x]=y.useState(a?new Date(a):null),[m,p]=y.useState(r?new Date(r):null),[b,j]=y.useState(null),[S,N]=y.useState(""),[_,k]=y.useState(!1),A=y.useRef(null),D=new Date;D.setHours(0,0,0,0),y.useEffect(()=>{const R=$=>{A.current&&!A.current.contains($.target)&&l()};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[l]);const M=R=>{const $=R.getFullYear(),T=R.getMonth(),B=new Date($,T,1),z=new Date($,T+1,0).getDate(),G=B.getDay(),P=[],L=new Date($,T-1,0);for(let le=G-1;le>=0;le--)P.push({date:new Date($,T-1,L.getDate()-le),isCurrentMonth:!1,isToday:!1,isPast:!0});for(let le=1;le<=z;le++){const Te=new Date($,T,le),je=Te.getTime()===D.getTime(),ve=Te<D;P.push({date:Te,isCurrentMonth:!0,isToday:je,isPast:ve})}const ne=42-P.length;for(let le=1;le<=ne;le++)P.push({date:new Date($,T+1,le),isCurrentMonth:!1,isToday:!1,isPast:!1});return P},X=R=>{const $=R.getDate().toString().padStart(2,"0"),T=(R.getMonth()+1).toString().padStart(2,"0"),B=R.getFullYear();return`${$} / ${T} / ${B}`},H=R=>!g||!m?!1:R>=g&&R<=m,F=R=>!!(g&&R.getTime()===g.getTime()||m&&R.getTime()===m.getTime()),Q=R=>{if(!b||!g)return!1;const $=g<b?g:b,T=g<b?b:g;return R>=$&&R<=T},ce=R=>{if(R<D){N("Past dates cannot be selected");return}N(""),!g||g&&m?(x(R),p(null),k(!0)):(R<g?(p(g),x(R)):p(R),k(!1))},me=R=>{_&&g&&j(R)},Se=()=>{if(g&&m){if(Math.ceil((m.getTime()-g.getTime())/864e5)+1>c){N(`Maximum event length is ${c} consecutive days`);return}const $=g.toISOString().split("T")[0],T=m.toISOString().split("T")[0];o($,T),l()}},_e=()=>{l()},be=R=>{h($=>{const T=new Date($);return R==="prev"?T.setMonth($.getMonth()-1):T.setMonth($.getMonth()+1),T})},de=R=>R.toLocaleDateString("en-US",{month:"long",year:"numeric"}),ee=M(d),he=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t.jsxs("div",{ref:A,className:"absolute top-full left-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-4 mt-2",style:{minWidth:"320px"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("button",{onClick:()=>be("prev"),className:"p-2 hover:bg-gray-100 rounded-full",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:de(d)}),t.jsx("button",{onClick:()=>be("next"),className:"p-2 hover:bg-gray-100 rounded-full",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:he.map(R=>t.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:R},R))}),t.jsx("div",{className:"grid grid-cols-7 gap-1",children:ee.map((R,$)=>{const T=F(R.date),B=H(R.date),v=Q(R.date),z=R.isPast&&!R.isCurrentMonth;return t.jsx("button",{onClick:()=>ce(R.date),onMouseEnter:()=>me(R.date),onMouseLeave:()=>j(null),disabled:z,className:`
                relative h-8 w-8 text-sm rounded-full transition-colors
                ${R.isCurrentMonth?"text-gray-900":"text-gray-400"}
                ${z?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-100"}
                ${T?"bg-purple-600 text-white":""}
                ${B&&!T?"bg-purple-100":""}
                ${v&&!T&&!B?"bg-purple-50":""}
                ${R.isToday?"font-bold":""}
              `,children:R.date.getDate()},$)})}),t.jsxs("div",{className:"flex gap-4 mt-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),t.jsx("input",{type:"text",value:g?X(g):"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",placeholder:"DD / MM / YYYY"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Date"}),t.jsx("input",{type:"text",value:m?X(m):"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",placeholder:"DD / MM / YYYY"})]})]}),S&&t.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:S}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsx("button",{onClick:_e,className:"flex-1 px-4 py-2 border border-purple-600 text-purple-600 rounded-md hover:bg-purple-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Se,disabled:!g||!m,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Apply"})]})]})},Vs=({isOpen:a,onClose:r,onConfirm:o,title:l,message:c,confirmText:d="Yes",cancelText:h="No",confirmButtonColor:g="text-red-600"})=>a?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",style:{marginTop:"0px"},children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[t.jsx("h2",{className:"text-xl font-bold text-black mb-4 text-center",children:l}),t.jsx("p",{className:"text-black text-center mb-6 leading-relaxed",children:c}),t.jsxs("div",{className:"flex justify-center space-x-4",children:[t.jsx("button",{onClick:o,className:`px-6 py-2 rounded-lg text-sm font-bold ${g} hover:opacity-80 transition-opacity`,children:d}),t.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-100 transition-colors",children:h})]})]})}):null,C4=({isOpen:a,onKeepEditing:r,onDiscardChanges:o})=>a?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[t.jsx("h2",{className:"text-xl font-bold text-black mb-4 text-center",children:"Unsaved Changes"}),t.jsx("p",{className:"text-black text-center mb-6 leading-relaxed",children:"Your changes have not been saved."}),t.jsxs("div",{className:"flex justify-center space-x-4",children:[t.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg text-sm font-bold text-blue-600 hover:bg-blue-50 transition-colors",children:"Keep Editing"}),t.jsx("button",{onClick:o,className:"px-6 py-2 rounded-lg text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:"Discard Changes"})]})]})}):null,zi=({options:a,value:r,placeholder:o,onSelect:l,disabled:c=!1,className:d="",setSelected:h})=>{const[g,x]=y.useState(!1),[m,p]=y.useState(""),[b,j]=y.useState(a),S=y.useRef(null),N=y.useRef(null);y.useEffect(()=>{if(m.trim()==="")j(a);else{const H=a.filter(F=>F.name.toLowerCase().includes(m.toLowerCase()));j(H)}},[m,a]),y.useEffect(()=>{const H=F=>{S.current&&!S.current.contains(F.target)&&(x(!1),p(""))};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),y.useEffect(()=>{g&&N.current&&N.current.focus()},[g]);const _=()=>{c||(x(!g),p(""))},k=H=>{l(H.id,H.name),x(!1),p(""),h?.(H.id,H.name)},A=H=>{p(H.target.value)},D=H=>{H.key==="Escape"&&(x(!1),p(""))},M=a.find(H=>H.id===r),X=M?M.name:"Unassigned";return t.jsxs("div",{className:`relative ${d}`,ref:S,children:[t.jsxs("div",{className:`flex items-center justify-between bg-white px-3 py-2 text-sm rounded-md border border-gray-200 cursor-pointer ${c?"opacity-50 cursor-not-allowed":"hover:border-gray-300"}`,onClick:_,children:[t.jsx("span",{className:r?"text-gray-900":"text-red-600",children:X}),t.jsx("svg",{className:`w-3 h-3 text-gray-400 transition-transform ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),g&&t.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-hidden",children:[t.jsx("div",{className:"p-2 border-b border-gray-100",children:t.jsx("input",{ref:N,type:"text",placeholder:`Search ${o.toLowerCase()}...`,value:m,onChange:A,onKeyDown:D,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),t.jsx("div",{className:"max-h-48 overflow-y-auto",children:b.length===0?t.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500",children:["No ",o.toLowerCase()," found"]}):b.map(H=>t.jsx("div",{className:"px-3 py-2 text-sm text-gray-900 cursor-pointer hover:bg-gray-100 flex items-center justify-between",onClick:()=>k(H),children:t.jsx("span",{children:H.name})},H.id))})]})]})},k4="data:image/svg+xml,%3csvg%20width='60'%20height='70'%20viewBox='0%200%2060%2070'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M54.2671%2060H36.9357C36.5306%2060%2036.2028%2059.6709%2036.2028%2059.2665V47.5354C36.2028%2044.1161%2033.4206%2041.3328%2030%2041.3328C26.5794%2041.3328%2023.7966%2044.1155%2023.7966%2047.5354V59.2665C23.7966%2059.6715%2023.4681%2060%2023.0637%2060H5.73286C5.32784%2060%205%2059.6709%205%2059.2665V29.7917C5%2029.5672%205.10333%2029.3542%205.28%2029.2151L29.5465%2010.1569C29.8125%209.9477%2030.1869%209.9477%2030.4529%2010.1569L54.72%2029.2151C54.8967%2029.3548%2055%2029.5678%2055%2029.7917V59.2665C55%2059.6715%2054.6722%2060%2054.2671%2060ZM37.6691%2058.5324H53.533V30.1495L41.7665%2020.908L30%2011.6666L6.46699%2030.1495V58.5331H22.3302V47.5354C22.3302%2043.3061%2025.7713%2039.8658%2030%2039.8658C34.2287%2039.8658%2037.6691%2043.3068%2037.6691%2047.5354V58.5324Z'%20fill='black'/%3e%3c/svg%3e",E4="data:image/svg+xml,%3csvg%20width='38'%20height='50'%20viewBox='0%200%2038%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.9999%200C16.2094%200%2013.9885%202.2779%2013.9885%205.01139V6.32118C7.95204%208.42825%203.90876%2014.0661%203.90876%2020.5581V30.1822C3.90876%2031.9476%203.39623%2033.5991%202.48507%2035.0797L1.34612%2036.9021C0.434955%2038.3257%200.378008%2040.0342%201.17527%2041.4579C1.97254%2042.9385%203.45318%2043.7927%205.10466%2043.7927H12.2231C12.5078%2047.2665%2015.4122%2050%2018.9429%2050C22.4737%2050%2025.378%2047.2665%2025.6627%2043.7927H32.8951C34.5466%2043.7927%2036.0272%2042.9385%2036.8245%2041.4579C37.6217%2039.9772%2037.5648%2038.2688%2036.6536%2036.8451L35.5147%2035.0797C34.5466%2033.5991%2034.034%2031.8337%2034.034%2030.0683V20.5581C34.034%2014.123%2029.9908%208.42825%2023.9543%206.32118V5.01139C24.0682%202.22096%2021.7903%200%2018.9999%200ZM18.9999%2048.2916C16.3803%2048.2916%2014.2732%2046.3554%2013.9885%2043.7927H24.0682C23.7265%2046.3554%2021.6195%2048.2916%2018.9999%2048.2916ZM32.3826%2020.5581V30.1253C32.3826%2032.2323%2033.009%2034.2825%2034.1479%2036.1048L35.2869%2037.8702C35.8564%2038.7244%2035.9133%2039.8064%2035.4008%2040.7175C34.8883%2041.6287%2033.9771%2042.1982%2032.952%2042.1982H5.10466C4.0796%2042.1982%203.16844%2041.6856%202.65591%2040.7745C2.14338%2039.8633%202.20033%2038.8383%202.76981%2037.9271L3.90876%2036.1048C4.99076%2034.3394%205.61719%2032.3462%205.61719%2030.2961V20.5581C5.61719%2014.6355%209.43268%209.51025%2015.0705%207.74487L15.6969%207.57403V5.01139C15.6969%203.18907%2017.1776%201.70843%2018.9999%201.70843C20.8222%201.70843%2022.3028%203.18907%2022.3028%205.01139V7.57403L22.9293%207.74487C28.624%209.51025%2032.3826%2014.6355%2032.3826%2020.5581Z'%20fill='black'/%3e%3c/svg%3e",Cx="/assets/organiser_icon-DBiM919n.svg",_4="/assets/super_user_icon-ksD-coqW.svg",A4="/assets/showprofile_icon-DlOL1YGI.svg",D4="data:image/svg+xml,%3csvg%20width='30'%20height='18'%20viewBox='0%200%2030%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2062%2014.2268V15.3093C13.2062%2016.7938%2012%2018%2010.5154%2018H2.69069C1.20615%2018%20-3.33786e-05%2016.7938%20-3.33786e-05%2015.3093V2.69072C-3.33786e-05%201.20619%201.20615%200%202.69069%200H10.5058C11.9903%200%2013.1965%201.20619%2013.1965%202.69072V3.23678C13.1965%203.38079%2013.0834%203.49485%2012.9384%203.49485C12.7944%203.49485%2012.6804%203.38177%2012.6804%203.23678V2.69072C12.6804%201.48454%2011.7013%200.515134%2010.5048%200.515134H2.68005C1.47386%200.515134%200.504462%201.49419%200.504462%202.69072V15.2986C0.504462%2016.5048%201.48351%2017.4742%202.68005%2017.4742H10.5058C11.712%2017.4742%2012.6814%2016.4952%2012.6814%2015.2986V14.2162C12.6814%2014.0722%2012.7944%2013.9581%2012.9394%2013.9581C13.0825%2013.9591%2013.2062%2014.0828%2013.2062%2014.2268Z'%20fill='black'/%3e%3cpath%20d='M8.12432%205.15434C8.21711%205.05093%208.38239%205.04126%208.48482%205.13405L12.7113%208.80382C12.7731%208.85601%2012.8041%208.92753%2012.8041%209.00002C12.8041%209.0725%2012.7731%209.14402%2012.7113%209.19622L8.48482%2012.866C8.4336%2012.9075%208.37174%2012.9278%208.31955%2012.9278C8.24706%2012.9278%208.17554%2012.8969%208.12335%2012.8351C8.03057%2012.7316%208.0412%2012.5673%208.14365%2012.4746L11.8753%209.23778C11.8646%209.23778%2011.855%209.25808%2011.8337%209.25808H4.19454C4.05053%209.25808%203.93648%209.145%203.93648%209.00002C3.93648%208.85601%204.04956%208.74196%204.19454%208.74196H11.8357C11.856%208.74196%2011.856%208.75259%2011.8773%208.76225L8.14563%205.52547C8.04124%205.43268%208.03154%205.26838%208.12432%205.15434ZM12.0618%209.08218L12.1546%209.00002L12.0618%208.91787C12.0724%208.9488%2012.0927%208.9691%2012.0927%209.00002C12.0927%209.03095%2012.0724%209.05125%2012.0618%209.08218Z'%20fill='black'/%3e%3c/svg%3e",T4=async(a,r,o)=>{try{const{data:l,error:c}=await oa.auth.signUp({email:a,password:r,options:{data:{role:o}}});if(c)throw new Error(c.message);return{success:!0,message:"Sign up successful! Please check your email to verify your account.",data:l}}catch(l){return{success:!1,message:l.message||"Sign up failed"}}},R4=async(a,r)=>{try{const{data:o,error:l}=await oa.auth.signInWithPassword({email:a,password:r});if(l)throw new Error(l.message);return{success:!0,message:"Login successful!",data:o,token:o.session?.access_token}}catch(o){return{success:!1,message:o.message||"Login failed"}}},L4=async()=>{try{const{error:a}=await oa.auth.signOut();if(a)throw new Error(a.message);return{success:!0,message:"Logged out successfully"}}catch(a){return{success:!1,message:a.message||"Logout failed"}}},O4=async a=>{try{const{data:r,error:o}=await oa.auth.updateUser({password:a});if(o)throw new Error(o.message);return{success:!0,message:"Password updated successfully!",data:r}}catch(r){return{success:!1,message:r.message||"Failed to update password"}}},M4=async a=>{try{const{data:r,error:o}=await oa.auth.resend({type:"signup",email:a});if(o)throw new Error(o.message);return{success:!0,message:"Verification email sent successfully! Please check your inbox.",data:r}}catch(r){return{success:!1,message:r.message||"Failed to resend verification email"}}},Xt=({showNavigation:a=!0})=>{const r=Dt(),l=tr().pathname==="/super-user";let c=null;try{c=Lt().userType}catch(A){console.error("Error accessing AppContext in Header:",A),c=localStorage.getItem("userType")||"student"}const[d,h]=y.useState(!1),[g,x]=y.useState(!1),m=y.useRef(null);y.useEffect(()=>{const A=localStorage.getItem("organiserId");h(!!(A&&A!=="null"))},[]);const p=async()=>{r(c==="student"?"/student-profile-page":c==="teacher"?"/teacher-profile-page":c==="organizer"?"/organiser":"/profile-page")},b=()=>{const A=localStorage.getItem("organiserId");r(A?"/organiser":"/home")},j=()=>{r("/organiser")},S=()=>{r("/super-user")},N=()=>{x(!g)},_=async()=>{x(!1),await p()},k=async()=>{x(!1),await L4(),localStorage.removeItem("token"),localStorage.removeItem("userAvatar"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("organiserId"),h(!1),r("/login")};return y.useEffect(()=>{const A=D=>{m.current&&!m.current.contains(D.target)&&x(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),t.jsx("div",{className:"bg-white shadow-sm",style:{height:"100px"},children:t.jsx("div",{className:"mx-auto px-6 py-4",style:{maxWidth:"88rem",height:"100%"},children:t.jsxs("div",{className:"flex items-center justify-between",style:{height:"100%"},children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(In,{size:"medium"})}),a&&t.jsxs("div",{className:"flex items-center space-x-8",children:[t.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:b,children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:t.jsx("img",{src:k4,alt:"Home",className:"w-6 h-6"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Home"})]}),l&&t.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[t.jsx("div",{onClick:S,className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:t.jsx("img",{src:_4,alt:"Superuser",className:"w-6 h-6"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Superuser"})]}),!l&&t.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:t.jsx("img",{src:E4,alt:"Notification",className:"w-6 h-6"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Notification"})]}),!l&&d&&c!=="organizer"&&t.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[t.jsx("div",{onClick:j,className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:t.jsx("img",{src:Cx,alt:"Organiser",className:"w-6 h-6"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Organiser"})]}),t.jsxs("div",{className:"relative",ref:m,children:[t.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:N,children:[t.jsx(Ua,{size:"medium",className:"mb-1"}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Profile"})]}),g&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[t.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-[#D9C7A1] transition-colors duration-200 flex items-center",onClick:_,children:[t.jsx("div",{className:"flex items-center mr-3",children:t.jsx("img",{src:A4,alt:"Profile"})}),t.jsx("span",{className:"text-gray-900 font-medium",children:"Show Profile"})]}),t.jsx("div",{className:"border-t border-gray-200"}),t.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-[#D9C7A1] transition-colors duration-200 flex items-center",onClick:k,children:[t.jsx("div",{className:"flex items-center mr-3",children:t.jsx("img",{src:D4,alt:"Logout"})}),t.jsx("span",{className:"text-gray-900 font-medium",children:"Log Out"})]})]})]})]})]})})})},U4=({events:a,onAction:r})=>{const[o,l]=y.useState(null),[c,d]=y.useState(null),h=y.useRef({}),{refreshEventsData:g}=Lt(),x=b=>{l(o===b?null:b)},m=async(b,j)=>{d(j);try{if(b==="delete"){const S=await Xw(j);S.success?(E.success(S.message),await g()):E.error(S.message)}else{const S=await Qw(j,b);S.success?(E.success(S.message),await g()):E.error(S.message)}r(b,j)}catch(S){console.error("Error updating event status:",S),E.error("Failed to update event status")}finally{d(null)}l(null)},p=b=>{if(!b)return"text-gray-600";switch(b.toLowerCase()){case"pending":return"text-yellow-500";case"flagged":return"text-yellow-500";case"blocked":return"text-red-600";case"approved":return"text-green-600";case"rejected":return"text-red-600";default:return"text-gray-600"}};return y.useEffect(()=>{const b=j=>{Object.values(h.current).every(N=>!N||!N.contains(j.target))&&l(null)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]),t.jsxs("div",{children:[t.jsx("div",{className:"grid grid-cols-8 gap-2 mb-2",children:["Event ID","Event Name","Locality","Date","Fees","Event Phase","Event Status"].map((b,j)=>t.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${j<4?"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between":"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center"}`,children:[t.jsx("span",{children:b}),j<4&&t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},b))}),a.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No events found"}):a.map(b=>t.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-2",children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:b?.id.split("-")[0]||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:b?.name||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:b?.locality?.name||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:b?.start_date+" - "+b?.end_date||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:b?.fees_per_delegate||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:b?.event_phase||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===b?.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),t.jsx("span",{className:"text-gray-500",children:"Updating"})]}):t.jsx("span",{className:`font-medium ${p(b?.status)}`,children:b?.status||"N/A"})}),t.jsx("div",{ref:j=>{h.current[b.id]=j},className:"px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>x(b?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===b?.id&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"py-1",children:[b?.status?.toLowerCase()==="pending"&&t.jsx("button",{onClick:()=>m("approved",b?.id||""),disabled:c===b?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===b?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),b?.status?.toLowerCase()!=="flagged"&&t.jsx("button",{onClick:()=>m("flagged",b?.id||""),disabled:c===b?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===b?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Flag"}),b?.status?.toLowerCase()!=="blocked"&&t.jsx("button",{onClick:()=>m("blocked",b?.id||""),disabled:c===b?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===b?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Block"}),(b?.status?.toLowerCase()==="flagged"||b?.status?.toLowerCase()==="blocked")&&t.jsx("button",{onClick:()=>m("approved",b?.id||""),disabled:c===b?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===b?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),t.jsx("button",{onClick:()=>m("delete",b?.id||""),disabled:c===b?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===b?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},b?.id||Math.random()))]})},B4=({activeSection:a,onSectionChange:r,usersSubSection:o,setUsersSubSection:l,schoolsSubSection:c,setSchoolsSubSection:d})=>{const h=[{id:"events-related",label:"Events Related"},{id:"users-related",label:"Users Related"},{id:"schools-related",label:"Schools Related"}],g={"events-related":[{id:"events",label:"Events"},{id:"organisers",label:"Organisers"},{id:"leadership-roles",label:"Leadership Roles"},{id:"committees",label:"Committees"}],"users-related":[{id:"users",label:"Users"},{id:"superusers",label:"Superusers"}],"schools-related":[{id:"schools",label:"Schools"},{id:"localities",label:"Localities"}],"schools-city-related":[{id:"DU",label:"Dubai"},{id:"AD",label:"Abu Dhabi"},{id:"AIN",label:"Al Ain"},{id:"SH",label:"Sharjah"},{id:"AJ",label:"Ajman"},{id:"RAK",label:"Ras Al Khaimah"},{id:"UAQ",label:"Umm Al Quwain"},{id:"other",label:"Other"}]},x=(j,S=!1,N=!1,_=0)=>{const k="font-medium transition-colors duration-200";if(S)return _===3?`${k} ${j?"bg-[#84B5F3] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`:`${k} ${j?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`;if(N&&!j)return`${k} bg-[#607DA3] text-white`;if(_===1)return`${k} ${j?"bg-[#1E395D] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`;if(_===2)return`${k} ${j?"bg-[#607DA3] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`},m=j=>a===j||j==="masterlists"&&["events-related","users-related","schools-related","events","organisers","leadership-roles","committees","students","teachers","users","superusers","users-students","users-teachers","schools","localities","dubai","abu-dhabi","al-ain","sharjah","ajman","ras-al-khaimah","umm-al-quwain","other"].includes(a),p=j=>j==="events-related"?a==="events-related"||a==="events"||a==="organisers"||a==="leadership-roles"||a==="committees"||a==="students"||a==="teachers":j==="users-related"?a==="users-related"||a==="users"||a==="superusers":j==="schools-related"?a==="schools-related"||a==="schools"||a==="localities"||a==="dubai"||a==="abu-dhabi"||a==="al-ain"||a==="sharjah"||a==="ajman"||a==="ras-al-khaimah"||a==="umm-al-quwain"||a==="other":j==="organisers"?a==="students"||a==="teachers":j==="users"?a==="users"||a==="users-students":j==="superusers"?a==="superusers"||a==="users-teachers":j==="schools"?a==="schools"||a==="dubai"||a==="abu-dhabi"||a==="al-ain"||a==="sharjah"||a==="ajman"||a==="ras-al-khaimah"||a==="umm-al-quwain"||a==="other":j==="localities"?a==="localities"||a==="dubai"||a==="abu-dhabi"||a==="al-ain"||a==="sharjah"||a==="ajman"||a==="ras-al-khaimah"||a==="umm-al-quwain"||a==="other":a===j,b=j=>j==="events-related"?["events","organisers","leadership-roles","committees","students","teachers"].includes(a):j==="users-related"?["users","superusers","users-students","users-teachers"].includes(a):j==="schools-related"?["schools","localities"].includes(a):j==="organisers"?["students","teachers"].includes(a):!1;return y.useEffect(()=>{d(0),l(!0)},[a]),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>r("dashboard"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(m("dashboard"),!1,!1,1)}`,children:"Dashboard"}),t.jsx("button",{onClick:()=>r("events"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(m("masterlists"),!1,!1,1)}`,children:"Masterlists"})]}),(m("masterlists")||a==="events"||a==="students"||a==="teachers"||a==="users"||a==="superusers"||a==="global-students"||a==="global-teachers"||a==="users-students"||a==="users-teachers"||a==="schools"||a==="localities"||a==="dubai"||a==="abu-dhabi"||a==="al-ain"||a==="sharjah"||a==="ajman"||a==="ras-al-khaimah"||a==="umm-al-quwain"||a==="other")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex space-x-2",children:h.map(j=>t.jsx("button",{onClick:()=>{r(j.id==="users-related"?"users":j.id==="schools-related"?"schools":j.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(j.id),!1,b(j.id),2)}`,children:j.label},j.id))}),a==="events-related"||a==="events"||a==="organisers"||a==="leadership-roles"||a==="committees"||a==="students"||a==="teachers"?t.jsx("div",{className:"flex space-x-2",children:g["events-related"]?.map(j=>t.jsx("button",{onClick:()=>r(j.id==="organisers"?"students":j.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(j.id),!0,b(j.id),3)}`,children:j.label},j.id))}):null,a==="students"||a==="teachers"?t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>r("students"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p("students"),!0,!1,4)}`,children:"Students"}),t.jsx("button",{onClick:()=>r("teachers"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p("teachers"),!0,!1,4)}`,children:"Teachers"})]}):null,a==="users-related"||a==="users"||a==="superusers"||a==="users-students"||a==="users-teachers"?t.jsx("div",{className:"flex space-x-2",children:g["users-related"]?.map(j=>t.jsx("button",{onClick:()=>{r(j.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(j.id),!0,b(j.id),3)}`,children:j.label},j.id))}):null,a==="users-related"||a==="users"||a==="superusers"||a==="users-students"||a==="users-teachers"?t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>{l(!0)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${o?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:"Students"}),t.jsx("button",{onClick:()=>{l(!1)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${o?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100":"bg-[#C6DAF4] text-white"}`,children:"Teachers"})]}):null,a==="schools-related"||a==="schools"||a==="departments"||a==="programs"||a==="localities"||a==="dubai"||a==="abu-dhabi"||a==="al-ain"||a==="sharjah"||a==="ajman"||a==="ras-al-khaimah"||a==="umm-al-quwain"||a==="other"?t.jsx("div",{className:"flex space-x-2",children:g["schools-related"]?.map(j=>t.jsx("button",{onClick:()=>{r(j.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(j.id),!0,b(j.id),3)}`,children:j.label},j.id))}):null,a==="schools-related"||a==="schools"||a==="departments"||a==="programs"||a==="localities"||a==="dubai"||a==="abu-dhabi"||a==="al-ain"||a==="sharjah"||a==="ajman"||a==="ras-al-khaimah"||a==="umm-al-quwain"||a==="other"?t.jsx("div",{className:"flex space-x-2",children:g["schools-city-related"]?.map((j,S)=>t.jsx("button",{onClick:()=>{console.log("MasterlistsNavigation - School locality clicked:",j.label,"index:",S),d(S)},className:`w-[130px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${c===S?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:j.label},j.id))}):null]})]})},z4=()=>{const[a,r]=y.useState(""),{allEvents:o}=Lt(),l=y.useMemo(()=>{if(!o||o.length===0)return console.log("EventsPage: No events found or empty array"),[];if(!a.trim())return o;const d=a.toLowerCase();return o.filter(h=>{const g=h?.name?.toLowerCase()||"",x=h?.locality?.name?.toLowerCase()||"",m=h?.id?.toString().toLowerCase()||"";return g.includes(d)||x.includes(d)||m.includes(d)})},[o,a]),c=d=>{};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-left",children:t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Search",value:a,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),t.jsx(U4,{events:l,onAction:c})]})},Rn="data:image/svg+xml,%3csvg%20width='14'%20height='20'%20viewBox='0%200%2014%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%200H3C1.483%200%200.25%201.233%200.25%202.75V17.336C0.25%2018.529%201.221%2019.5%202.414%2019.5C2.983%2019.5%203.54%2019.27%203.944%2018.866L5.823%2016.987C6.45%2016.358%207.548%2016.358%208.176%2016.987L10.055%2018.866C10.458%2019.268%2011.016%2019.499%2011.585%2019.499C12.778%2019.499%2013.749%2018.528%2013.749%2017.335V2.75C13.749%201.233%2012.516%200%2010.999%200H11Z'%20fill='%23C2A46D'/%3e%3c/svg%3e",$4=({organisers:a,onAction:r,organiserType:o="all"})=>{const[l,c]=y.useState(null),[d,h]=y.useState(null),[g,x]=y.useState(!1),[m,p]=y.useState(""),[b,j]=y.useState([]),[S,N]=y.useState(null),[_,k]=y.useState(null),[A,D]=y.useState(!1),[M,X]=y.useState([]),[H,F]=y.useState(!1),[Q,ce]=y.useState(null),me=y.useRef(null),Se=y.useRef({}),{refreshUserData:_e,allUsers:be}=Lt();y.useEffect(()=>{const L=ne=>{Object.values(Se.current).every(Te=>!Te||!Te.contains(ne.target))&&c(null),me.current&&!me.current.contains(ne.target)&&(D(!1),c(null))};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]),y.useEffect(()=>{if(!m.trim())j(a);else{const L=a.filter(ne=>{const le=m.toLowerCase(),Te=ne?.users?.username||"",je=ne?.users?.fullname||"",ve=ne?.users?.school_location||"",Ae=ne?.school?.name||ne?.school||"",K=ne?.role||"";return Te.toLowerCase().includes(le)||je.toLowerCase().includes(le)||ve.toLowerCase().includes(le)||Ae.toLowerCase().includes(le)||K.toLowerCase().includes(le)});j(L)}},[m,a]);const de=L=>{c(l===L?null:L)},ee=()=>{x(!0),k(null),D(!1),X([]),N({id:"",username:"",locality:"",fullname:"",school:"",role:"",evidence:"",status:"pending",users:{id:""},created_at:null,actioned_at:null})},he=(L,ne)=>{N(le=>({...le,[L]:ne})),ne.trim()?(D(!0),k(null),R(ne.trim())):(D(!1),k(null),X([]),N(le=>({...le,fullname:"",locality:"",school:"",role:"",evidence:""})))},R=L=>{const ne=new Set(a.map(Te=>Te.users?.id||Te.id)),le=be.filter(Te=>{const je=Te.username?.toLowerCase().includes(L.toLowerCase()),ve=!ne.has(Te.id);let Ae=!0;return o==="students"?Ae=Te.role==="student":o==="teachers"&&(Ae=Te.role==="teacher"),je&&ve&&Ae});X(le)},$=L=>{N(ne=>({...ne,user_id:L.id||"",school_id:L.school_id||"",locality_id:L.school.locality_id||"",username:L.username||"",fullname:L.fullname||"",locality:L.school.code||"",school:L.school?.name||"",role:L.role_in_event||L.role||"",evidence:L.evidence||"Internal",users:{id:L.id||""},...o==="students"?{grade:L.grade||""}:{years_of_experience:L.years_of_experience||""}})),k(!0),D(!1),X([])},T=async()=>{try{if(!S.username||!S.fullname||!S.school){E.error("Please fill in all required fields (Username, Name, School)");return}const L=localStorage.getItem("userId"),ne=await Lw(S.user_id||"",S.school_id||"",S.locality_id||"",S.role,S.evidence,"pending",L||"");ne.success?(E.success("New organiser added successfully!"),x(!1),k(null),D(!1),X([]),N({id:"",username:"",fullname:"",locality:"",school:"",role:"",evidence:"",status:"pending",users:{id:""},created_at:null,actioned_at:null}),await _e()):E.error(ne.message||"Failed to save new organiser")}catch(L){console.error("Error saving new organiser:",L),E.error(L.message||"Failed to save new organiser")}},B=L=>{ce(L),F(!0),c(null)},v=async()=>{if(Q){h(Q);try{const L=await Rw(Q);L.success?(E.success(L.message),await _e(),r("delete",Q)):E.error(L.message)}catch(L){console.error("Error deleting organiser:",L),E.error("Failed to delete organiser")}finally{h(null),F(!1),ce(null)}}},z=()=>{F(!1),ce(null)},G=async(L,ne)=>{h(ne);try{const le=await Tw(ne,L);le.success?(E.success(le.message),await _e()):E.error(le.message),r(L,ne)}catch(le){console.error("Error updating organiser status:",le),E.error("Failed to update organiser status")}finally{h(null)}c(null)},P=L=>{if(!L)return"text-gray-600";switch(L.toLowerCase()){case"approved":return"text-green-600";case"pending":return"text-orange-500";case"rejected":return"text-red-600";case"flagged":return"text-yellow-500";case"blocked":return"text-red-600";default:return"text-gray-600"}};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",style:{display:"none"},children:t.jsx("input",{type:"text",placeholder:"Search organisers...",value:m,onChange:L=>p(L.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsx("div",{className:"grid grid-cols-12 gap-2 mb-2",children:["UserID","Organiser ID","Username","Name",o==="students"?"Academic Level":"Teaching Experience","School","Role in Event","Evidence","Date Received","Date Actioned","Status"," "].map((L,ne)=>L===" "?t.jsx("div",{},L):t.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${ne<4?"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between":"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center"}`,children:[t.jsx("span",{children:L}),ne<4&&t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},L))}),b.length===0&&!g?t.jsx("div",{className:"text-center py-8 text-gray-500",children:m?"No organisers found matching your search":"No organisers found"}):b.length>0?b.map(L=>t.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:L?.users.id.split("-")[0]||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:L?.id.split("-")[0]||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.users.username||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.users.fullname||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:o==="students"?L?.users?.grade||"N/A":L?.users?.years_of_experience||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.school?.name||L?.school||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.role||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.evidence?typeof L.evidence=="object"&&L.evidence.file_url?t.jsx("div",{className:"flex items-center justify-center",children:L.evidence.file_url==="Internal"?t.jsx("span",{children:L.evidence.file_url}):t.jsxs("button",{onClick:()=>window.open(L.evidence.file_url,"_blank"),className:"flex flex-wrap items-center justify-center p-1 rounded hover:bg-gray-100 transition-colors duration-200",title:"Click to open document",children:["Document",t.jsx("svg",{className:"w-5 h-5 text-blue-600 hover:text-blue-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})}):t.jsx("span",{children:typeof L.evidence=="string"?L.evidence:"Document"}):"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.created_at?.split("T")[0]||"N/A"}),t.jsx("div",{className:"w-full break-words bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:L?.actioned_at?.split("T")[0]||"N/A"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:d===L?.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),t.jsx("span",{className:"text-gray-500",children:"Updating"})]}):t.jsx("span",{className:`font-medium ${P(L?.status)}`,children:L?.status||"N/A"})}),t.jsx("div",{ref:ne=>{Se.current[L?.id||""]=ne},className:"px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>de(L?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===L?.id&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"py-1",children:[L?.status?.toLowerCase()!=="approved"&&t.jsx("button",{onClick:()=>G("approved",L?.id||""),disabled:d===L?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===L?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),L?.status?.toLowerCase()!=="rejected"&&t.jsx("button",{onClick:()=>G("rejected",L?.id||""),disabled:d===L?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===L?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Reject"}),L?.status?.toLowerCase()!=="flagged"&&t.jsx("button",{onClick:()=>G("flagged",L?.id||""),disabled:d===L?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===L?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Flag"}),L?.status?.toLowerCase()!=="blocked"&&t.jsx("button",{onClick:()=>G("blocked",L?.id||""),disabled:d===L?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===L?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Block"}),(L?.status?.toLowerCase()==="flagged"||L?.status?.toLowerCase()==="blocked")&&t.jsx("button",{onClick:()=>G("approved",L?.id||""),disabled:d===L?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===L?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Activate"}),t.jsx("button",{onClick:()=>B(L?.id||""),disabled:d===L?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===L?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},L?.id||Math.random())):null,g&&t.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.users?.id?.split("-")[0],placeholder:"Auto populated",className:"w-full border-none outline-none text-sm",disabled:!0})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.organiser_id||"N/A",placeholder:"Auto populated",className:"w-full border-none outline-none text-sm",disabled:!0})}),t.jsxs("div",{ref:me,className:`px-3 py-2 text-sm rounded-md border relative ${_===!0?"bg-green-50 border-green-300":_===!1?"bg-red-50 border-red-300":"bg-white border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"text",value:S.username,onChange:L=>he("username",L.target.value),onFocus:()=>{S.username.trim()&&(D(!0),R(S.username.trim()))},placeholder:"Enter username to populate fields",className:"w-full border-none outline-none text-sm bg-transparent",autoComplete:"off"}),_===!0&&t.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),_===!1&&t.jsx("svg",{className:"w-4 h-4 text-red-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),A&&M.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:M.map((L,ne)=>t.jsxs("div",{onClick:()=>$(L),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"font-medium text-gray-900",children:L.username}),t.jsx("div",{className:"text-xs text-gray-500",children:L.fullname}),t.jsxs("div",{className:"text-xs text-gray-400",children:[L.school?.name||L.school_name||L.schoolName||L.school||"No school","  ",L.locality?.name||L.school_location||L.locality||"No location"]})]},L.id||ne))}),A&&M.length===0&&S.username.trim()&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50",children:t.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No available users found"})})]}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.fullname,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:o==="students"?S.grade||"":S.years_of_experience||"",disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.school,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.role,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.evidence,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.created_at?.split("T")[0]||"N/A",className:"w-full border-none outline-none text-sm",disabled:!0})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:S.actioned_at?.split("T")[0]||"N/A",className:"w-full border-none outline-none text-sm",disabled:!0})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("span",{className:"font-medium text-orange-500",children:"Pending"})}),t.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:t.jsx("div",{className:"flex space-x-2",children:t.jsx("img",{src:Rn,alt:"Save",className:"w-4 h-4"})})})]}),t.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[t.jsx("button",{onClick:ee,disabled:g,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${g?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),t.jsx("button",{onClick:T,disabled:!g,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${g?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),t.jsx(Vs,{isOpen:H,onClose:z,onConfirm:v,title:"Confirm Delete",message:"Are you sure you want to delete this organiser? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},Nu=({type:a="organisers"})=>{const[r,o]=y.useState(""),{allOrganisers:l}=Lt(),c=l.filter(m=>m.users.role==="student"),d=l.filter(m=>m.users.role==="teacher"),h=()=>{switch(a){case"students":return c||[];case"teachers":return d||[];default:return l||[]}},g=y.useMemo(()=>{const m=h();if(!m||m.length===0)return[];if(!r.trim())return m;const p=r.toLowerCase();return m.filter(b=>{const j=b?.users?.fullname?.toLowerCase()||"",S=b?.users?.username?.toLowerCase()||"",N=b?.school?.name?.toLowerCase()||b?.school?.toLowerCase()||"",_=b?.users?.id?.toString().toLowerCase()||"",k=b?.role?.toLowerCase()||"",A=b?.users?.school_location?.toLowerCase()||"";return j.includes(p)||S.includes(p)||N.includes(p)||_.includes(p)||k.includes(p)||A.includes(p)})},[a,l,r]),x=m=>{};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-left",children:t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Search",value:r,onChange:m=>o(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),t.jsx($4,{organisers:g,onAction:x,organiserType:a==="students"?"students":a==="teachers"?"teachers":"all"})]})},Ft={success:a=>E.success(a),error:a=>E.error(a),warning:a=>E.warning(a),info:a=>E.info(a),loading:a=>E.loading(a),promise:(a,{loading:r,success:o,error:l})=>E.promise(a,{loading:r,success:o,error:l})},I4=({leadershipRoles:a,onRefresh:r})=>{const[o,l]=y.useState(!1),[c,d]=y.useState(null),[h,g]=y.useState(null),[x,m]=y.useState({abbr:"",leadership_role:""}),[p,b]=y.useState({abbr:"",leadership_role:""}),[j,S]=y.useState(""),[N,_]=y.useState([]),[k,A]=y.useState(!1),[D,M]=y.useState(null);y.useEffect(()=>{if(!j.trim())_(a);else{const de=a.filter(ee=>{const he=j.toLowerCase();return ee.id.toLowerCase().includes(he)||ee.abbr.toLowerCase().includes(he)||ee.leadership_role.toLowerCase().includes(he)});_(de)}},[j,a]);const X=async()=>{if(!x.abbr.trim()||!x.leadership_role.trim()){Ft.error("Please fill in all fields");return}try{const de=await Zw(x.abbr.trim(),x.leadership_role.trim());de.success?Ft.success("Leadership role created successfully"):Ft.error(de.message||"Failed to create leadership role"),m({abbr:"",leadership_role:""}),l(!1),r()}catch(de){Ft.error(de.message||"Failed to create leadership role")}},H=async de=>{if(!p.abbr.trim()||!p.leadership_role.trim()){Ft.error("Please fill in all fields");return}try{const ee=await Jw(de,p.abbr.trim(),p.leadership_role.trim());ee.success?Ft.success("Leadership role updated successfully"):Ft.error(ee.message||"Failed to update leadership role"),b({abbr:"",leadership_role:""}),d(null),r()}catch(ee){Ft.error(ee.message||"Failed to update leadership role")}},F=de=>{M(de),A(!0),g(null)},Q=async()=>{if(D)try{const de=await ej(D);de.success?Ft.success("Leadership role deleted successfully"):Ft.error(de.message||"Failed to delete leadership role"),r()}catch(de){Ft.error(de.message||"Failed to delete leadership role")}finally{A(!1),M(null)}},ce=()=>{A(!1),M(null)},me=de=>{console.log("Edit button clicked for role:",de),b({abbr:de.abbr,leadership_role:de.leadership_role}),d(de.id),g(null)},Se=de=>{g(h===de?null:de)};y.useEffect(()=>{const de=ee=>{h&&(ee.target.closest(".context-menu")||g(null))};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[h]);const _e=()=>{d(null),b({abbr:"",leadership_role:""})},be=()=>{l(!1),m({abbr:"",leadership_role:""}),g(null)};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",style:{display:"none"},children:t.jsxs("div",{className:"relative",children:[t.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",placeholder:"Search",value:j,onChange:de=>S(de.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),t.jsx("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_1fr] gap-2 mb-2",children:["ID","ABBR","Leadership Role"," "].map(de=>de===" "?t.jsx("div",{},de):t.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:de}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},de))}),N.length===0&&!o?t.jsx("div",{className:"text-center py-8 text-gray-500",children:j?"No leadership roles found matching your search":"No leadership roles found"}):N.length>0?N.map(de=>t.jsxs("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_1fr] gap-2 mb-2",children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:de.id}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:c===de.id?t.jsx("input",{type:"text",value:p.abbr,onChange:ee=>b({...p,abbr:ee.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Abbreviation"}):de.abbr}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:c===de.id?t.jsx("input",{type:"text",value:p.leadership_role,onChange:ee=>b({...p,leadership_role:ee.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Leadership Role Title"}):de.leadership_role}),t.jsx("div",{className:"w-full break-words px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"relative",children:[c===de.id?t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>H(de.id),className:"hover:opacity-80 transition-opacity duration-200",children:t.jsx("img",{src:Rn,alt:"Save",className:"w-5 h-5"})}),t.jsx("button",{onClick:_e,className:"text-red-600 hover:text-red-800 text-sm",children:""})]}):t.jsx("button",{onClick:()=>Se(de.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),h===de.id&&!o&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 context-menu",children:t.jsxs("div",{className:"py-1",children:[t.jsx("button",{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),console.log("Edit button clicked"),me(de)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Edit"}),t.jsx("button",{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),console.log("Add button clicked from dropdown"),l(!0),g(null)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Add"}),t.jsx("button",{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),console.log("Delete button clicked"),F(de.id)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Delete"})]})})]})})]},de.id)):null,o&&t.jsxs("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_1fr] gap-2 mb-2",children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:"Auto generated",placeholder:"Auto generated",className:"w-full border-none outline-none text-sm text-gray-500",disabled:!0})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:x.abbr,onChange:de=>m({...x,abbr:de.target.value}),placeholder:"Add an abbreviation",className:"w-full border-none outline-none text-sm bg-transparent"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:x.leadership_role,onChange:de=>m({...x,leadership_role:de.target.value}),placeholder:"Add a title",className:"w-full border-none outline-none text-sm bg-transparent"})}),t.jsx("div",{className:"w-full break-words px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:X,className:"hover:opacity-80 transition-opacity duration-200",children:t.jsx("img",{src:Rn,alt:"Save",className:"w-5 h-5"})}),t.jsx("button",{onClick:be,className:"text-red-600 hover:text-red-800 text-sm",children:"cancel"})]})})]}),t.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[t.jsx("button",{onClick:()=>l(!0),disabled:o,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${o?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),t.jsx("button",{onClick:X,disabled:!o,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${o?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),t.jsx(Vs,{isOpen:k,onClose:ce,onConfirm:Q,title:"Delete Leadership Role",message:"Are you sure you want to delete this leadership role? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},F4=()=>{const[a,r]=y.useState(""),{allLeadershipRoles:o,refreshLeadershipRolesData:l,isLoading:c}=Lt(),d=y.useMemo(()=>{if(!o||o.length===0)return[];if(!a.trim())return o;const h=a.toLowerCase();return o.filter(g=>{const x=String(g.id||"").toLowerCase(),m=String(g.abbr||g.abbr||"").toLowerCase(),p=String(g.leadership_role||g.leadership_role||"").toLowerCase();return x.includes(h)||m.includes(h)||p.includes(h)})},[o,a]);return c?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading leadership roles..."})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-left",children:t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Search",value:a,onChange:h=>r(h.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),t.jsx(I4,{leadershipRoles:d,onRefresh:l})]})},H4=({committees:a,onRefresh:r,committeeType:o})=>{const[l,c]=y.useState(!1),[d,h]=y.useState(null),[g,x]=y.useState(null),[m,p]=y.useState({abbr:"",committee:""}),[b,j]=y.useState({abbr:"",committee:""}),[S,N]=y.useState(""),[_,k]=y.useState([]),[A,D]=y.useState(!1),[M,X]=y.useState(null);y.useEffect(()=>{let ee=a.filter(he=>he.category===o);if(S.trim()){const he=S.toLowerCase();ee=ee.filter(R=>String(R.id).toLowerCase().includes(he)||R.abbr.toLowerCase().includes(he)||R.committee.toLowerCase().includes(he))}k(ee)},[S,a,o]);const H=async()=>{if(!m.abbr.trim()||!m.committee.trim()){Ft.error("Please fill in all fields");return}try{const ee=await i4(m.abbr.trim(),m.committee.trim(),o);ee.success?Ft.success("Committee created successfully"):Ft.error(ee.message||"Failed to create committee"),p({abbr:"",committee:""}),c(!1),r()}catch(ee){Ft.error(ee.message||"Failed to create committee")}},F=async ee=>{if(!b.abbr.trim()||!b.committee.trim()){Ft.error("Please fill in all fields");return}try{const he=await c4(ee,b.abbr.trim(),b.committee.trim(),o);he.success?Ft.success("Committee updated successfully"):Ft.error(he.message||"Failed to update committee"),j({abbr:"",committee:""}),h(null),r()}catch(he){Ft.error(he.message||"Failed to update committee")}},Q=ee=>{X(ee),D(!0),x(null)},ce=async()=>{if(M)try{const ee=await d4(M);ee.success?Ft.success("Committee deleted successfully"):Ft.error(ee.message||"Failed to delete committee"),r()}catch(ee){Ft.error(ee.message||"Failed to delete committee")}finally{D(!1),X(null)}},me=()=>{D(!1),X(null)},Se=ee=>{console.log("Edit button clicked for committee:",ee),j({abbr:ee.abbr,committee:ee.committee}),h(ee.id),x(null)},_e=ee=>{x(g===ee?null:ee)};y.useEffect(()=>{const ee=he=>{g&&(he.target.closest(".context-menu")||x(null))};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[g]);const be=()=>{h(null),j({abbr:"",committee:""})},de=()=>{c(!1),p({abbr:"",committee:""}),x(null)};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-4 w-[400px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",placeholder:"Search",value:S,onChange:ee=>N(ee.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-[10px] focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),t.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:["ID","ABBR","Committee"," "].map(ee=>ee===" "?t.jsx("div",{},ee):t.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:ee}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},ee))}),_.length===0&&!l?t.jsx("div",{className:"text-center py-8 text-gray-500",children:S?"No committees found matching your search":"No committees found"}):_.length>0?_.map(ee=>t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:ee.id}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:d===ee.id?t.jsx("input",{type:"text",value:b.abbr,onChange:he=>j({...b,abbr:he.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Abbreviation"}):ee.abbr}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:d===ee.id?t.jsx("input",{type:"text",value:b.committee,onChange:he=>j({...b,committee:he.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Committee Name"}):ee.committee}),t.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"relative",children:[d===ee.id?t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>F(ee.id),className:"hover:opacity-80 transition-opacity duration-200",children:t.jsx("img",{src:Rn,alt:"Save",className:"w-5 h-5"})}),t.jsx("button",{onClick:be,className:"text-red-600 hover:text-red-800 text-sm",children:""})]}):t.jsx("button",{onClick:()=>_e(ee.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),g===ee.id&&!l&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 context-menu",children:t.jsxs("div",{className:"py-1",children:[t.jsx("button",{onClick:he=>{he.preventDefault(),he.stopPropagation(),console.log("Edit button clicked"),Se(ee)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Edit"}),t.jsx("button",{onClick:he=>{he.preventDefault(),he.stopPropagation(),console.log("Add button clicked from dropdown"),c(!0),x(null)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Add"}),t.jsx("button",{onClick:he=>{he.preventDefault(),he.stopPropagation(),console.log("Delete button clicked"),Q(ee.id)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Delete"})]})})]})})]},ee.id)):null,l&&t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:"Auto generated",placeholder:"Auto generated",className:"w-full border-none outline-none text-sm text-gray-500",disabled:!0})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:m.abbr,onChange:ee=>p({...m,abbr:ee.target.value}),placeholder:"Add an abbreviation",className:"w-full border-none outline-none text-sm bg-transparent"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:m.committee,onChange:ee=>p({...m,committee:ee.target.value}),placeholder:"Add a name",className:"w-full border-none outline-none text-sm bg-transparent"})}),t.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:H,className:"hover:opacity-80 transition-opacity duration-200",children:t.jsx("img",{src:Rn,alt:"Save",className:"w-5 h-5"})}),t.jsx("button",{onClick:de,className:"text-red-600 hover:text-red-800 text-sm",children:"cancel"})]})})]}),t.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[t.jsx("button",{onClick:()=>c(!0),disabled:l,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${l?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),t.jsx("button",{onClick:H,disabled:!l,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${l?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),t.jsx(Vs,{isOpen:A,onClose:me,onConfirm:ce,title:"Delete Committee",message:"Are you sure you want to delete this committee? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},P4=()=>{const[a,r]=y.useState("country"),[o,l]=y.useState([]),[c,d]=y.useState(!0),h=[{id:"country",name:"Country Committees",label:"Country Committees"},{id:"role",name:"Role Committees",label:"Role Committees"},{id:"crisis",name:"Crisis Committees",label:"Crisis Committees"},{id:"open",name:"Open Committees",label:"Open Committees"}],g=async()=>{try{d(!0);const p=await gx();l(p.data||[])}catch(p){console.error("Error fetching committees:",p),Ft.error(p.message||"Failed to fetch committees"),l([])}finally{d(!1)}},x=p=>{r(p)},m=()=>{g()};return y.useEffect(()=>{g()},[]),c?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx(Rr,{size:"large",text:"Loading committees..."})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex space-x-2",children:h.map(p=>t.jsx("button",{onClick:()=>x(p.id),className:`text-sm font-medium transition-colors ${a===p.id?"bg-[#C6DAF4] text-white":"bg-white text-black border border-gray-800"}`,style:{width:"200px",height:"58px",borderRadius:"20px",padding:"5px"},children:p.label},p.id))}),t.jsx(H4,{committees:o,onRefresh:m,committeeType:a})]})},q4=()=>{const a=Dt(),[r,o]=y.useState(""),[l,c]=y.useState(""),[d,h]=y.useState("student"),[g,x]=y.useState(!1),[m,p]=y.useState({}),b=S=>{h(S)},j=async()=>{try{x(!0);const S={},N=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(r){if(!N.test(r)){S.email="Please enter a valid Gmail address",E.error("Please enter a valid Gmail address"),x(!1);return}}else{S.email="Email is required",E.error("Email is required"),x(!1);return}if(l){if(l.length<6){S.password="Password must be at least 6 characters",E.error("Password must be at least 6 characters"),x(!1);return}}else{S.password="Password is required",E.error("Password is required"),x(!1);return}if(Object.keys(S).length>0){p(S),E.error("Please fill in all required fields"),x(!1);return}const _=await T4(r,l,d);if(_.success){const k=await mw(r,d);if(!k.success)throw new Error(k.message);E.success("Account created successfully!"),a("/email-verification",{state:{email:r}})}else throw new Error(_.message)}catch(S){E.error(S.message)}finally{x(!1)}};return t.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:t.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:t.jsxs("div",{className:"flex h-[760px]",children:[t.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[t.jsx("div",{className:"mb-10",children:t.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:t.jsx(In,{size:"figma"})})}),t.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),t.jsx("div",{className:"flex items-center mt-20 mb-10",children:t.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),t.jsx("div",{className:"mt-16",children:t.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),t.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(jx,{type:"email",name:"email",placeholder:"Email",value:r,onChange:S=>o(S.target.value),error:m.email,className:"w-full"}),t.jsx(Nx,{name:"password",placeholder:"Password",value:l,onChange:S=>c(S.target.value),error:m.password,className:"w-full"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(Po,{type:"button",variant:d==="student"?"role-select-active":"role-select",onClick:()=>b("student"),className:"flex-1 py-3.5 rounded-[16px] text-sm font-medium text-black",children:"Student"}),t.jsx(Po,{type:"button",variant:d==="teacher"?"role-select-active":"role-select",onClick:()=>b("teacher"),className:"flex-1 py-3.5 rounded-[16px] text-sm font-medium border border-black",children:"Teacher"})]}),t.jsx(Po,{variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold",style:{backgroundColor:"#C2A46D"},onClick:j,disabled:g,children:g?t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):"Sign Up"}),t.jsxs("div",{className:"flex justify-between items-center text-xs mt-5",children:[t.jsxs("span",{className:"text-gray-600",children:["Have an account?"," ",t.jsx(Qo,{to:"/login",className:"text-[#1E395D] hover:underline font-medium underline",children:"Log In"})]}),t.jsx("a",{href:"#",className:"text-[#1E395D] hover:underline font-medium underline",children:"Read Terms and Conditions"})]})]})})})]})})})},Y4=async()=>{try{const a=await Oa();return!!(a.data&&a.data.fullname&&a.data.username)}catch{return!1}},V4=()=>{const a=Dt(),[r,o]=y.useState(""),[l,c]=y.useState(""),[d,h]=y.useState(!1),[g,x]=y.useState({}),m=async(p,b)=>{try{h(!0);const j={},S=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(p){if(!S.test(p)){j.email="Please enter a valid Gmail address",E.error("Please enter a valid Gmail address"),h(!1);return}}else{j.email="Email is required",E.error("Email is required"),h(!1);return}if(b){if(b.length<6){j.password="Password must be at least 6 characters",E.error("Password must be at least 6 characters"),h(!1);return}}else{j.password="Password is required",E.error("Password is required"),h(!1);return}if(Object.keys(j).length>0){x(j),E.error("Please fill in all required fields"),h(!1);return}const N=await R4(p,b);if(!N.success)throw new Error(N.message);const _=await gw(p);if(_.success){localStorage.setItem("userId",_.user.id),localStorage.setItem("userRole",_.user.role);const M=await Aw();M.success&&localStorage.setItem("organiserId",M.data.id)}else throw new Error(_.message);if(E.success("Login successful"),console.log(N.data),N.data?.session?.access_token)localStorage.setItem("token",N.data.session.access_token);else throw new Error(N.message);const k=localStorage.getItem("userRole")||"student",A=localStorage.getItem("organiserId"),D=await Y4();a(A?"/organiser":k==="student"?D?"/student-home":"/student-profile":D?"/teacher-home":"/teacher-profile")}catch(j){E.error(j.message)}finally{h(!1)}};return t.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:t.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:t.jsxs("div",{className:"flex h-[760px]",children:[t.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[t.jsx("div",{className:"mb-10",children:t.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:t.jsx(In,{size:"figma"})})}),t.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),t.jsx("div",{className:"flex items-center mt-20 mb-10",children:t.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),t.jsx("div",{className:"mt-16",children:t.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),t.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:t.jsx("div",{className:"w-full max-w-md mb-20",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(jx,{type:"email",name:"email",placeholder:"Email",value:r,onChange:p=>o(p.target.value),error:g.email,className:"w-full"}),t.jsx(Nx,{name:"password",placeholder:"Password",value:l,onChange:p=>c(p.target.value),error:g.password,className:"w-full"}),t.jsx(Po,{type:"button",onClick:()=>m(r,l),variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold",style:{backgroundColor:"#C2A46D"},disabled:d,children:d?t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):"Log In"}),t.jsxs("div",{className:"flex justify-between items-center text-xs mt-5",children:[t.jsxs("span",{className:"text-gray-600",children:["Don't have an account?"," ",t.jsx(Qo,{to:"/signup",className:"text-[#1E395D] hover:underline font-medium underline",children:"Sign Up"})]}),t.jsx("a",{href:"#",className:"text-[#1E395D] hover:underline font-medium underline",children:"Forgot Password?"})]})]})})})]})})})},G4=()=>{const a=tr(),r=Dt(),o=a.state?.email||"",[l,c]=y.useState(!1),[d,h]=y.useState(0);Re.useEffect(()=>{o||r("/signup")},[o,r]);const g=async()=>{if(d>0){E.error(`Please wait ${d} seconds before resending`);return}try{c(!0);const x=await M4(o);if(x.success){E.success(x.message),h(60);const m=setInterval(()=>{h(p=>p<=1?(clearInterval(m),0):p-1)},1e3)}else E.error(x.message)}catch(x){E.error(x.message||"Failed to resend verification email")}finally{c(!1)}};return t.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:t.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:t.jsxs("div",{className:"flex h-[760px]",children:[t.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[t.jsx("div",{className:"mb-10",children:t.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:t.jsx(In,{size:"figma"})})}),t.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),t.jsx("div",{className:"flex items-center mt-20 mb-10",children:t.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),t.jsx("div",{className:"mt-16",children:t.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),t.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-20 h-20 bg-[#C2A46D] rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),t.jsx("h1",{className:"text-[#1E395D] text-[32px] font-bold text-center leading-normal",children:"Verify Your Email"}),t.jsxs("div",{className:"space-y-4 text-center",children:[t.jsx("p",{className:"text-gray-700 text-[16px] leading-relaxed",children:"We've sent a verification email to:"}),t.jsx("p",{className:"text-[#1E395D] text-[18px] font-semibold break-all px-2",children:o}),t.jsx("div",{className:"bg-[#FFF8E7] border-l-4 border-[#C2A46D] p-4 rounded-r-lg text-left",children:t.jsxs("p",{className:"text-gray-800 text-[14px] leading-relaxed",children:[t.jsx("span",{className:"font-semibold",children:" Important:"})," Please check your email inbox",t.jsx("span",{className:"font-semibold",children:" including Spam/Promotions folders"})," to verify your account."]})}),t.jsx("p",{className:"text-gray-600 text-[14px] leading-relaxed",children:"Click the verification link in the email to activate your account and log in."})]}),t.jsx(Po,{variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold mt-6",style:{backgroundColor:d>0?"#9CA3AF":"#C2A46D",cursor:d>0?"not-allowed":"pointer"},onClick:g,disabled:l||d>0,children:l?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{className:"ml-2",children:"Sending..."})]}):d>0?`Resend in ${d}s`:"Resend Verification Email"}),t.jsx("div",{className:"flex justify-center items-center text-sm mt-6",children:t.jsxs("span",{className:"text-gray-600",children:["Already verified?"," ",t.jsx(Qo,{to:"/login",className:"text-[#1E395D] hover:underline font-medium underline",children:"Log In"})]})}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("p",{className:"text-gray-500 text-xs",children:"Didn't receive the email? Check your spam folder or click resend."})})]})})})]})})})},ys=({children:a,loadingText:r="Loading...",delay:o=1e3})=>{const[l,c]=y.useState(!0);return y.useEffect(()=>{const d=setTimeout(()=>{c(!1)},o);return()=>clearTimeout(d)},[o]),l?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(Rr,{size:"large",text:r})}):t.jsx(t.Fragment,{children:a})},W4=()=>{const a=Dt(),[r,o]=y.useState(!0);y.useEffect(()=>{(async()=>{try{if(localStorage.getItem("organiserId")){const h=await Kp();if(h.success&&h.data&&h.data.length>0){a("/dashboard");return}}else{const h=await Wp();if(h.success&&h.data&&h.data.length>0){a("/dashboard");return}}}catch(d){console.error("Error checking events:",d)}finally{o(!1)}})()},[a]);const l=()=>{a("/request-approval")};return r?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(Rr,{size:"large",text:"Loading events..."})}):t.jsx(ys,{loadingText:"Loading Home...",children:t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Xt,{}),t.jsx("div",{className:"bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:t.jsx("div",{className:"mt-6 flex justify-end space-x-4",children:t.jsxs("button",{onClick:l,className:"bg-[#1E395D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#1a2f4a] transition-colors duration-200 flex items-center",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Organiser"]})})})}),t.jsx("div",{className:"bg-[#1E395D] min-h-[calc(100vh-200px)] flex flex-col items-center justify-center px-6",children:t.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"bg-white rounded-lg p-8 inline-block",children:t.jsx(In,{size:"large"})})}),t.jsx("h2",{className:"text-white text-2xl md:text-3xl font-medium mb-8 leading-relaxed",children:"Quest for Leadership, Quest for Change"}),t.jsx("h1",{className:"text-white text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:'"Future Leaders Start Here"'})]})}),t.jsx("div",{className:"bg-[#1E395D] py-4",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-white text-sm",children:" Iman Praveesh Hassan"})})})]})})},K4=()=>{const a=Dt(),[r,o]=y.useState("Upcoming"),[l,c]=y.useState(!0),[d,h]=y.useState([]),{allRegistrations:g}=Lt();y.useEffect(()=>{(async()=>{try{const N=await Wp();if(N.success&&N.data&&N.data.length>0)h(N.data);else{a("/home");return}}catch(N){console.error("Error checking events:",N),a("/home");return}finally{c(!1)}})()},[a]);const x=()=>{a("/request-approval")},m=async S=>{const N=localStorage.getItem("userRole");a(N==="student"?`/student-registration/${S}`:`/teacher-registration/${S}`)},b=(()=>{const S=new Date,N=localStorage.getItem("userId"),_=A=>{if(console.log("allRegistrations",g),console.log("reg.event_id",A),console.log("user_id",N),!N||!Array.isArray(g))return!1;const D=String(A);return g.some(M=>String(M.event_id)===D&&String(M.user_id)===String(N))},k=A=>A?new Date(A):null;switch(r){case"Upcoming":return d.filter(A=>{const D=k(A.end_date)||k(A.start_date);return D&&D>=S&&A.status!=="cancelled"});case"Registered":return d.filter(A=>_(A.id)&&A.status!=="cancelled");case"Past":return d.filter(A=>{const D=k(A.end_date)||k(A.start_date);return D&&D<S&&A.status!=="cancelled"});case"Cancelled":return d.filter(A=>A.status==="cancelled");default:return d}})();if(l)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(Rr,{size:"large",text:"Loading events..."})});const j=["Upcoming","Registered","Past","Cancelled"];return t.jsx(ys,{loadingText:"Loading Dashboard...",children:t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Xt,{}),t.jsx("div",{className:"bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs("button",{onClick:x,className:"bg-[#1E395D] text-white font-medium flex items-center transition-colors duration-200",style:{width:160,height:40,borderRadius:30,borderWidth:1,borderStyle:"solid",padding:10},children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})})})}),t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsx("div",{className:"flex space-x-8",children:j.map(S=>t.jsx("button",{onClick:()=>o(S),className:`py-4 px-1 text-sm font-medium border-b-2 transition-colors duration-200 ${r===S?"border-[#1E395D] text-[#1E395D]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:S},S))})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(S=>t.jsxs("div",{onClick:()=>m(S.id),className:"border border-gray-800 bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[t.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:t.jsx("img",{src:S.cover_image||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:S.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:S.name}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S.start_date]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),S.locality.name]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),S.fees_per_delegate]})]})]})]},S.id))}),b.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",r.toLowerCase()," events"]}),t.jsxs("p",{className:"text-gray-500",children:["There are no ",r.toLowerCase()," events at the moment."]})]})]})]})})},Q4=()=>{const a=Dt(),[r,o]=y.useState(""),[l,c]=y.useState(""),[d,h]=y.useState(""),[g,x]=y.useState(""),[m,p]=y.useState(""),[b,j]=y.useState(""),[S,N]=y.useState([]),[_,k]=y.useState(!1),[A,D]=y.useState(!1);y.useEffect(()=>{async function F(){const Q=await Oa();o(Q.data.school.name),c(Q.data.school.code),x(Q.data.school.locality_id),h(Q.data.school.id)}F()},[]);const M=async F=>{try{const Q=F.target.files;if(Q){D(!0);const ce=Array.from(Q).map(Se=>Se.name),me=await Ew(Q[0]);me.success?(E.success(me.message),N(Se=>[...Se,...ce]),j(me.documentUrl)):E.error(me.message)}}catch(Q){E.error(Q.message)}finally{D(!1)}},X=F=>{N(Q=>Q.filter(ce=>ce!==F))},H=async()=>{if(!m.trim()){E.error("Please enter your role in event or in school");return}if(!b.trim()){E.error("Please upload evidence documents");return}k(!0);try{const F=await _w(d,g,m,b);F.success?(E.success(F.message),a("/request-under-verification")):(E.error(F.message),k(!1))}catch(F){E.error(F.message),k(!1)}finally{k(!1)}};return t.jsx(ys,{loadingText:"Loading Request Approval...",children:t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"max-w-[62rem] mx-auto px-6 py-12",children:[t.jsx("h1",{className:"font-bold text-[#C2A46D] mb-8 text-left",style:{fontSize:"40px"},children:"Request for Approval"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"font-bold text-black mb-6",style:{fontSize:"30px"},children:"Organiser Info"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School"}),t.jsx("input",{type:"text",disabled:!0,value:r,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter school name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Locality"}),t.jsx("input",{type:"text",disabled:!0,value:l,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter locality"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Role in Event or in School"}),t.jsx("input",{type:"text",value:m,onChange:F=>p(F.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter your role"})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Evidence"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"text",placeholder:"E.g. Letter from School or / and ID",className:"w-[350px] px-4 py-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",readOnly:!0}),t.jsxs("label",{className:`px-4 py-3 rounded-r-lg transition-colors duration-200 ${A?"bg-gray-400 cursor-not-allowed":"bg-[#607DA3] text-white cursor-pointer hover:bg-[#1a2f4a]"}`,style:{height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:[A?t.jsx(Rr,{size:"small",text:""}):t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("input",{type:"file",multiple:!0,onChange:M,disabled:A,className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"grey",fontSize:"12px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Uploaded Files"}),t.jsx("div",{className:"space-y-2",children:S.map((F,Q)=>t.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-gray-50 px-4 py-3 rounded-lg",children:[t.jsx("span",{className:"text-sm text-gray-700",children:F}),t.jsx("button",{onClick:()=>X(F),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},Q))})]})]}),t.jsx("div",{className:"text-left",children:t.jsx("button",{onClick:H,disabled:_,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",backgroundColor:"#D9C7A1",color:"white",fontWeight:500,transition:"background-color 0.2s",opacity:_?.5:1,cursor:_?"not-allowed":"pointer"},onMouseOver:F=>F.currentTarget.style.background="#B8945F",onMouseOut:F=>F.currentTarget.style.background="#C2A46D",children:_?"Submitting...":"Submit"})})]})]})})},X4=()=>{const a=Dt();return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Xt,{}),t.jsx("div",{className:"max-w-[75rem] mx-auto px-6 py-12",style:{paddingTop:"15rem"},children:t.jsxs("div",{className:"text-left",children:[t.jsx("h1",{style:{color:"#000",textAlign:"center",fontSize:"40px",fontStyle:"normal",fontWeight:500,lineHeight:"150%",marginBottom:"1rem"},children:"Your request is under verification"}),t.jsx("p",{style:{color:"#000",textAlign:"center",fontSize:"30px",fontStyle:"normal",fontWeight:400,lineHeight:"150%",marginBottom:"1rem"},children:"We will notify you soon."}),t.jsxs("button",{onClick:()=>a("/home"),style:{display:"flex",width:"140px",height:"60px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",backgroundColor:"#C2A46D",color:"white",fontWeight:500,fontSize:"16px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer",margin:"auto",marginTop:"3rem"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#B8945F",r.currentTarget.style.transform="translateY(-1px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="#C2A46D",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]})]})})]})},Ys="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.6807%200.569926C18.9446%20-0.18965%2017.7436%20-0.18965%2017.0075%200.569926L6.89579%2011.0041C6.35341%2011.5638%205.95266%2012.2696%205.75895%2013.043L5.087%2015.6815C4.89329%2016.4273%205.10032%2017.2006%205.62939%2017.7341C6.03014%2018.1476%206.54588%2018.36%207.08826%2018.36C7.26866%2018.36%207.45027%2018.3337%207.61733%2018.2938L10.1743%2017.6004C10.9237%2017.4005%2011.5944%2016.987%2012.1501%2016.4273L22.2618%205.99312C22.9979%205.23355%2022.9979%203.99424%2022.2618%203.23467L19.6807%200.569926ZM11.7131%2015.9751C11.2482%2016.4548%2010.6671%2016.8008%2010.0339%2016.9745L7.47693%2017.6679C6.98661%2017.8016%206.46963%2017.6541%206.10763%2017.2819C5.72021%2016.9071%205.59186%2016.3749%205.72021%2015.8676L6.39215%2013.2291C6.56043%2012.5757%206.89579%2011.9761%207.3607%2011.4963L15.4057%203.19473L19.7582%207.68598L11.7131%2015.9751ZM21.8248%205.54091L20.2098%207.20621L15.8573%202.71497L17.4712%201.04966C17.7169%200.796049%2018.0269%200.676106%2018.3489%200.676106C18.6722%200.676106%2018.9821%200.796039%2019.2267%201.04966L21.8224%203.72816C22.3018%204.22164%2022.3018%205.03367%2021.8248%205.54091Z'%20fill='black'/%3e%3cpath%20d='M22.2246%2011.6698C22.0442%2011.6698%2021.9014%2011.816%2021.9014%2012.0034V20.6785C21.9014%2021.9441%2020.9074%2022.971%2019.6797%2022.971H2.86691C1.64049%2022.971%200.645288%2021.9454%200.645288%2020.6785V3.32825C0.645288%202.06272%201.63925%201.03577%202.86691%201.03577H11.2739C11.4543%201.03577%2011.5972%200.889605%2011.5972%200.702199C11.5972%200.516054%2011.4543%200.369873%2011.2739%200.369873H2.86691C1.27849%200.369873%200%201.70289%200%203.32822V20.6785C0%2022.3038%201.29182%2023.6369%202.86691%2023.6369H19.681C21.2694%2023.6369%2022.5479%2022.3038%2022.5479%2020.6785V12.0034C22.5479%2011.8172%2022.4062%2011.6698%2022.2246%2011.6698Z'%20fill='black'/%3e%3c/svg%3e",Z4=()=>{const a=Dt(),[r,o]=y.useState(1),[l,c]=y.useState(""),[d,h]=y.useState(""),[g,x]=y.useState(""),[m,p]=y.useState(""),[b,j]=y.useState(""),[S,N]=y.useState(null),[_,k]=y.useState(null),[A,D]=y.useState(""),[M,X]=y.useState(""),[H,F]=y.useState(""),[Q,ce]=y.useState(""),[me,Se]=y.useState(""),[_e,be]=y.useState(""),[de,ee]=y.useState(""),[he,R]=y.useState(""),[$,T]=y.useState(""),[B,v]=y.useState({}),[z,G]=y.useState(!1),[P,L]=y.useState(!1),[ne,le]=y.useState(!1),[Te,je]=y.useState(!1),ve=[{id:1,name:"Event Info",active:r===1},{id:2,name:"Seats & Fees",active:r===2},{id:3,name:"Event Links",active:r===3}];y.useEffect(()=>{async function W(){const Ue=await Oa();c(Ue.data.school.name),h(Ue.data.school.code),x(Ue.data.school.locality_id),p(Ue.data.school.id),j(Ue.data.school.area_id)}W()},[]);const Ae=()=>{const W={};if(S||(W.coverImage="Event cover image is required"),_||(W.eventLogo="Event logo is required"),A.trim()||(W.eventName="Event name is required"),M.trim()?M.trim().length>500&&(W.eventDescription="Event description must be upto 500 characters"):W.eventDescription="Event description is required",H||(W.eventStartDate="Event start date is required"),Q||(W.eventEndDate="Event end date is required"),H&&Q){const Ue=new Date(H),Y=new Date(Q);Ue>=Y&&(W.eventEndDate="End date must be after start date")}return r===2&&(me.trim()?(isNaN(Number(me))||Number(me)<=0)&&(W.numberOfSeats="Number of seats must be a positive number"):W.numberOfSeats="Number of seats is required",_e.trim()?(isNaN(Number(_e))||Number(_e)<=0)&&(W.feesPerDelegate="Fees per delegate must be a positive number"):W.feesPerDelegate="Fees per delegate is required"),r===3&&(he.trim()?rt(he)||(W.website="Please enter a valid website URL"):W.website="Website is required",$.trim()?te($)||(W.instagram="Please enter a valid Instagram handle (e.g., @username)"):W.instagram="Instagram handle is required"),v(W),Object.keys(W).length===0},K=async()=>{if(r===1){if(!Ae()){E.error("Please fill in all required fields and ensure description is upto 500 characters");return}o(r+1)}else if(r===2){if(!Ae()){E.error("Please fill in all required fields for seats and fees");return}o(r+1)}else if(r===3){if(!Ae()){E.error("Please fill in all required fields for event links");return}try{je(!0);const W=localStorage.getItem("organiserId"),Ue=await Gw(A,M,H,Q,S,_,g,m,b,me,_e,de,he,$,W);Ue.success?(E.success(Ue.message),a("/event-create-success")):E.error(Ue.message)}catch(W){E.error("Failed to create event: "+(W.message||"Unknown error"))}finally{je(!1)}}else o(r+1)},fe=W=>{B[W]&&v(Ue=>{const Y={...Ue};return delete Y[W],Y})},ze=(W,Ue)=>{F(W),ce(Ue),fe("eventStartDate"),fe("eventEndDate")},Ge=()=>{le(!ne)},Ke=()=>{le(!1)},tt=(W,Ue)=>{const Y=Number(W),Ce=Number(Ue);!isNaN(Y)&&!isNaN(Ce)&&Y>0&&Ce>0?ee((Y*Ce).toString()):ee("")},rt=W=>{try{return new URL(W.startsWith("http")?W:`https://${W}`),!0}catch{return!1}},te=W=>/^@[a-zA-Z0-9._]+$/.test(W),O=(W,Ue,Y)=>{/[^0-9]/.test(W)&&E.error("Only numbers are allowed in this field");const pe=W.replace(/[^0-9]/g,"");Ue(pe),fe(Y)},J=async(W,Ue)=>{try{const Y=W.target.files;if(Y){Ue==="cover"?G(!0):L(!0);const Ce=await Gp(Y[0]);Ce.success?(E.success(Ce.message),Ue==="cover"?(N(Ce.imageUrl),fe("coverImage")):(k(Ce.imageUrl),fe("eventLogo"))):E.error(Ce.message)}}catch(Y){E.error(Y.message)}finally{Ue==="cover"?G(!1):L(!1)}},xe=()=>t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{style:{display:"flex",gap:"8rem",alignItems:"flex-end"},children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"flex items-center justify-center border-2 border-dashed",style:{width:"400px",height:"225px",flexShrink:0,borderRadius:"20px",background:"#D9C7A1",borderColor:B.coverImage?"#ef4444":"#d1d5db"},children:z?t.jsx(Rr,{size:"large",text:"Uploading..."}):S?t.jsx("img",{src:typeof S=="string"?S:URL.createObjectURL(S),alt:"Event Cover",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}}):t.jsx("div",{className:"text-center text-black font-medium",children:"Event Cover Image"})}),t.jsxs("label",{className:`absolute bottom-0 bg-white rounded-full p-2 shadow-md ${z?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,style:{right:"-2rem"},children:[t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"}),t.jsx("input",{type:"file",accept:"image/*",onChange:W=>W.target.files?.[0]&&J(W,"cover"),disabled:z,className:"hidden"})]})]}),t.jsx("div",{children:t.jsxs("div",{className:"relative w-32 h-32",children:[t.jsx("div",{className:"flex items-center justify-center border-2 border-dashed",style:{width:"128px",height:"128px",flexShrink:0,borderRadius:"20px",background:"#D9C7A1",borderColor:B.eventLogo?"#ef4444":"#d1d5db"},children:P?t.jsx(Rr,{size:"medium",text:"Uploading..."}):_?t.jsx("img",{src:typeof _=="string"?_:URL.createObjectURL(_),alt:"Event Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}}):t.jsx("div",{className:"text-center text-black font-medium text-sm",children:"Event Logo"})}),t.jsxs("label",{className:`absolute bottom-0 bg-white rounded-full p-2 shadow-md ${P?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,style:{right:"-2rem"},children:[t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"}),t.jsx("input",{type:"file",accept:"image/*",onChange:W=>W.target.files?.[0]&&J(W,"logo"),disabled:P,className:"hidden"})]})]})})]}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx("div",{children:B.coverImage&&t.jsx("div",{className:"text-red-500 text-sm mt-2",children:B.coverImage})}),t.jsx("div",{children:B.eventLogo&&t.jsx("div",{className:"text-red-500 text-sm mt-2",children:B.eventLogo})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Name"}),t.jsx("input",{type:"text",value:A,onChange:W=>{D(W.target.value),fe("eventName")},placeholder:"E.g. Global Vision MUN 2025",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:B.eventName?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),B.eventName&&t.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.eventName})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Description"}),t.jsx("textarea",{value:M,onChange:W=>{X(W.target.value),fe("eventDescription")},placeholder:"E.g. Describe the event (upto 500 characters)",maxLength:500,rows:4,style:{display:"flex",width:"400px",height:"100px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:B.eventDescription?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),t.jsx("div",{className:"flex justify-between w-[400px] text-sm mt-1",children:t.jsx("div",{className:B.eventDescription?"text-red-500":"text-gray-500",children:B.eventDescription||`${M.length}/500 maximum`})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Dates"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{onClick:Ge,className:"flex items-center justify-between w-[400px] px-4 py-3 border border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",style:{border:B.eventStartDate||B.eventEndDate?"1px solid #ef4444":"1px solid #9CA3AF"},children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Start Date"}),t.jsx("span",{className:"text-sm font-medium",children:H?new Date(H).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]}),t.jsx("div",{className:"text-gray-400",children:"to"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),t.jsx("span",{className:"text-sm font-medium",children:Q?new Date(Q).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]})]}),t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),ne&&t.jsx(Sx,{startDate:H,endDate:Q,onDateRangeChange:ze,onClose:Ke,maxDays:7})]}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Select the start and end dates for your event"}),(B.eventStartDate||B.eventEndDate)&&t.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.eventStartDate||B.eventEndDate})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School"}),t.jsx("input",{type:"text",value:l,disabled:!0,onChange:W=>c(W.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none"}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Locality"}),t.jsx("input",{type:"text",value:d,disabled:!0,onChange:W=>h(W.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none"}})]})]}),Le=()=>t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"No. of Seats"}),t.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:me,onChange:W=>{O(W.target.value,Ue=>{Se(Ue),tt(Ue,_e)},"numberOfSeats")},placeholder:"E.g. 400",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:B.numberOfSeats?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),B.numberOfSeats&&t.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.numberOfSeats})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Fees per Delegate"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px",fontWeight:500},children:"AED"}),t.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:_e,onChange:W=>{O(W.target.value,Ue=>{be(Ue),tt(me,Ue)},"feesPerDelegate")},placeholder:"200",style:{display:"flex",width:"400px",height:"40px",padding:"10px 10px 10px 50px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:B.feesPerDelegate?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}})]}),B.feesPerDelegate&&t.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.feesPerDelegate})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Total Revenue"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px",fontWeight:500},children:"AED"}),t.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:de,readOnly:!0,placeholder:"80000",style:{display:"flex",width:"400px",height:"40px",padding:"10px 10px 10px 50px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none",backgroundColor:"#f9fafb",color:"#6b7280"}})]})]})]}),Xe=()=>t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Website"}),t.jsx("input",{type:"text",value:he,onChange:W=>{R(W.target.value),fe("website")},placeholder:"www.globalvisionmun.com",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:B.website?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),B.website&&t.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.website})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Instagram"}),t.jsx("input",{type:"text",value:$,onChange:W=>{T(W.target.value),fe("instagram")},placeholder:"@globalvisionmun",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:B.instagram?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),B.instagram&&t.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.instagram})]})]});return t.jsx(ys,{loadingText:"Loading Event Creation...",children:t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Xt,{}),t.jsx("div",{className:"py-3",children:t.jsx("div",{className:"mx-auto px-6",style:{maxWidth:"65rem"},children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("span",{className:"cursor-pointer",onClick:()=>a("/home"),style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Home"}),t.jsx("span",{className:"mx-2",style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:">"}),t.jsx("span",{className:"text-[#1E395D] font-medium",style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Info"})]})})}),t.jsx("div",{className:"bg-white",children:t.jsx("div",{className:"mx-auto px-6",style:{maxWidth:"65rem"},children:t.jsx("div",{className:"flex items-center space-x-4",children:ve.map((W,Ue)=>t.jsxs(Re.Fragment,{children:[t.jsx("div",{className:`font-medium transition-colors duration-200 cursor-pointer ${W.active?"bg-[#1E395D] text-white":"bg-white text-gray-600 hover:text-gray-800"}`,style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px"},onClick:()=>o(W.id),children:W.name}),Ue<ve.length-1&&t.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},W.id))})})}),t.jsxs("div",{className:"mx-auto px-6 py-8",style:{maxWidth:"65rem"},children:[r===1&&xe(),r===2&&Le(),r===3&&Xe(),t.jsx("div",{className:"mt-12 text-left",children:t.jsx("button",{onClick:()=>{if(r===3)K();else{if(!Ae()){E.error("Please fill in all required fields");return}o(r+1)}},disabled:Te,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",background:Te?"#9CA3AF":"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:Te?"not-allowed":"pointer",transition:"background 0.2s",opacity:Te?.7:1},onMouseOver:W=>!Te&&(W.currentTarget.style.background="#B8945F"),onMouseOut:W=>!Te&&(W.currentTarget.style.background="#C2A46D"),children:Te?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Creating..."})]}):"Continue"})})]})]})})},J4=()=>{const a=Dt();return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Your event is created."})}),t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:()=>a("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"App Home"]}),t.jsxs("button",{onClick:()=>a("/organiser"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Organiser Home"]})]})]})]})},eS=()=>{const a=Dt(),[r,o]=y.useState([]),[l,c]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const x=await Kp();x.success?o(x.data||[]):E.error(x.message)}catch(x){console.error("Error fetching events:",x),E.error(x.message)}finally{c(!1)}})()},[]);const d=()=>{a("/event-create")},h=g=>{a(`/event-dashboard/${g}`)};return l?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E395D] mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):t.jsx(ys,{loadingText:"Loading Events...",children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{maxWidth:"max-w-[88rem]"}),t.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-4xl font-medium text-[#C2A46D]",children:"Organiser Events"}),t.jsxs("button",{onClick:d,style:{display:"flex",width:"160px",height:"40px",padding:"10px",justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"30px",backgroundColor:"#1E395D",color:"white",fontWeight:500,transition:"background-color 0.2s"},className:"font-medium hover:bg-[#1a2f4a]",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),r.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events available"}),t.jsx("p",{className:"text-gray-500",children:"Please create an event to get started."})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(g=>t.jsxs("div",{onClick:()=>h(g.id),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200 cursor-pointer",children:[t.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:t.jsx("img",{src:g.cover_image||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:g.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:g.name}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.start_date," - ",g.end_date]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),g.locality.name]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),g.fees_per_delegate]})]}),t.jsx("div",{className:"text-sm text-[#1E395D] font-medium",children:"Click to manage event "})]})]},g.id))})]})]})})},tp=a=>a.toLowerCase().trim().replace(/[^\w\s]/g,"").replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),tS=()=>Math.floor(1e3+Math.random()*9e3).toString(),sS=()=>String.fromCharCode(97+Math.floor(Math.random()*26)),$i=a=>{if(!a||a.trim()==="")return"";const r=a.trim().split(/\s+/),o=r[0]||"",l=r.slice(1).join("")||"",c=tp(o);let d="";if(c.length>=4)d=c.substring(0,4);else{const h=tp(l);for(d=c+h;d.length<4;)d+=sS();d=d.substring(0,4)}return d+=tS(),d.toLowerCase()},rS=()=>{const[a,r]=y.useState("personal"),o=Dt(),{allLocalities:l,allSchools:c,refreshLocalitiesData:d,refreshSchoolsData:h,refreshAreasData:g}=Lt(),[x,m]=y.useState(!1),p=y.useRef(null),[b,j]=y.useState(""),[S,N]=y.useState(""),[_,k]=y.useState(""),[A,D]=y.useState(""),[M,X]=y.useState(""),[H,F]=y.useState(""),[Q,ce]=y.useState(""),[me,Se]=y.useState(null),[_e,be]=y.useState(""),[de,ee]=y.useState(""),[he,R]=y.useState(""),[$,T]=y.useState(""),[B,v]=y.useState(""),[z,G]=y.useState(""),[P,L]=y.useState("+971"),[ne,le]=y.useState([]),[Te,je]=y.useState(!1),[ve,Ae]=y.useState(""),[K,fe]=y.useState({}),ze=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],Ge=re=>{j(re),N(re);const He=$i(re);k(He)},Ke=re=>{X(re)},tt=re=>{R(re)},rt=(re,He)=>{const ht=re.replace(/[^0-9]/g,""),I=`${He}${ht}`;return console.log("Generating phone_e164:",{phone:re,countryCode:He,cleanPhone:ht,phoneE164:I}),I},te=re=>{if(L(re),m(!1),B){const He=rt(B,re);G(He)}};y.useEffect(()=>{(async()=>{try{await Promise.all([d(),h(),g()])}catch(He){console.error("Error loading data:",He),E.error("Failed to load profile data. Please refresh the page.")}})()},[]);const O=re=>{if(F(re),Se(null),ee(""),Ae(""),be(""),re!=="Other"&&ce(""),re&&re!=="Other"){const He=c.filter(ht=>ht.locality.code===re);le(He)}else le([])},J=re=>{ce(re),Se(null),ee(""),Ae(""),be(""),le([])},xe=re=>{if(Ae(re),re.trim()===""){const He=c.filter(ht=>ht.locality.code===H);le(He)}else{const ht=c.filter(I=>I.locality.code===H).filter(I=>I.name?.toLowerCase().includes(re.toLowerCase())||I.locality.code?.toLowerCase().includes(re.toLowerCase()));le(ht)}},Le=re=>{console.log("handleSchoolSelect",re);const He=re.name;Se(re),ee(re.id),Ae(He),je(!1),re.id!=="UNLISTED"&&be("")},Xe=re=>{be(re)};y.useEffect(()=>{const re=He=>{p.current&&!p.current.contains(He.target)&&(m(!1),je(!1))};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]);const W=()=>{const re=[{key:"personal",label:"Personal Info"},{key:"school",label:"School Info"},{key:"contact",label:"Contact Info"}];return t.jsx("div",{className:"flex items-center justify-start mb-8",children:re.map((He,ht)=>t.jsxs(Re.Fragment,{children:[t.jsx("button",{className:`flex items-center justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${a===He.key?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>r(He.key),children:He.label}),ht<re.length-1&&t.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},He.key))})},Ue=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),t.jsx("input",{type:"text",name:"name",placeholder:"E.g. Sam Morgan Lee",value:S,onChange:re=>Ge(re.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${K?.name?"border-red-500":"border-gray-300"}`}),K?.name&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.name}),_&&t.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),t.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:_})]})})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"date",name:"dateOfBirth",value:A,onChange:re=>D(re.target.value),className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${K?.dateOfBirth?"border-red-500":"border-gray-300"}`}),t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),K?.dateOfBirth&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.dateOfBirth})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),t.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(re=>t.jsx("button",{type:"button",onClick:()=>Ke(re),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-[200px] ${M===re?"bg-[#D9C7A1] text-black border-[#D9C7A1]":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:re.charAt(0).toUpperCase()+re.slice(1)},re))}),K?.gender&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.gender})]})]}),Y=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:["Locality of School ",t.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%]",children:"(City or Town)"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{name:"locality",value:H,onChange:re=>O(re.target.value),className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${K?.locality?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select a locality..."}),l.length>0?l.map(re=>t.jsx("option",{value:re.code,children:re.name},re.id)):t.jsx("option",{value:"",disabled:!0,children:"No localities loaded"})]}),t.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),K?.locality&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.locality}),H==="Other"&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),t.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:Q,onChange:re=>J(re.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${K?.customLocality?"border-red-500":"border-gray-300"}`}),K?.customLocality&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.customLocality})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),t.jsxs("div",{className:"relative",ref:p,children:[t.jsx("input",{type:"text",name:"schoolName",placeholder:H==="Other"?"School selection not available for custom locality":H?"Search by school name or code...":"Please select a city first",value:ve,onChange:re=>xe(re.target.value),onFocus:()=>je(!0),disabled:!H||H==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${K?.schoolName?"border-red-500":"border-gray-300"} ${!H||H==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("button",{type:"button",onClick:()=>{Se(null),ee(""),Ae(""),je(!1)},disabled:!H||H==="Other",className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center transition-colors ${!H||H==="Other"?"bg-gray-200 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:t.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),Te&&H&&H!=="Other"&&ne.length>0&&t.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[ne.map((re,He)=>t.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Le(re),children:[t.jsx("div",{className:"font-medium text-sm text-gray-900",children:re.name}),t.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",re.code]}),re.area&&re.area.name!=="-"&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:re.area.name}),re.locality.name&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:re.locality.name})]},`${re.code}-${He}`)),t.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Le({id:"UNLISTED",name:"Unlisted / Not in the list / Other",code:"UNLISTED",locality:{name:"Unlisted / Not in the list / Other"}}),children:t.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),ne.length===0&&ve&&t.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',ve,'"']})]})]}),K?.schoolName&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.schoolName}),(me&&me.id==="UNLISTED"||H==="Other")&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),t.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:_e,onChange:re=>Xe(re.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${K?.customSchool?"border-red-500":"border-gray-300"}`}),K?.customSchool&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.customSchool})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Grade or Year or Programme"}),t.jsx("div",{className:"w-[400px] border border-gray-300 rounded-lg p-4 mb-4",children:t.jsx("div",{className:"flex gap-4 bg-white",children:["grade","year","programme","other"].map(re=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"gradeType",value:re,checked:he===re,onChange:()=>tt(re),className:"mr-3 w-5 h-5 text-[#1E395D] focus:ring-[#1E395D]"}),t.jsx("span",{className:`text-sm capitalize ${he===re?"text-black":"text-gray-500"}`,children:re})]},re))})}),K?.gradeType&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.gradeType})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"relative",children:[t.jsxs("select",{name:"grade",value:$,onChange:re=>T(re.target.value),className:`w-full px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${K?.grade?"border-red-500":"border-gray-300"}`,children:[he==="grade"&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"",children:"Select Grade"}),t.jsx("option",{value:"grade-5",children:"Grade 5"}),t.jsx("option",{value:"grade-6",children:"Grade 6"}),t.jsx("option",{value:"grade-7",children:"Grade 7"}),t.jsx("option",{value:"grade-8",children:"Grade 8"}),t.jsx("option",{value:"grade-9",children:"Grade 9"}),t.jsx("option",{value:"grade-10",children:"Grade 10"}),t.jsx("option",{value:"grade-11",children:"Grade 11"}),t.jsx("option",{value:"grade-12",children:"Grade 12"})]}),he==="year"&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"",children:"Select Year"}),t.jsx("option",{value:"year-6",children:"Year 6"}),t.jsx("option",{value:"year-7",children:"Year 7"}),t.jsx("option",{value:"year-8",children:"Year 8"}),t.jsx("option",{value:"year-9",children:"Year 9"}),t.jsx("option",{value:"year-10",children:"Year 10"}),t.jsx("option",{value:"year-11",children:"Year 11"}),t.jsx("option",{value:"year-12",children:"Year 12"}),t.jsx("option",{value:"year-13",children:"Year 13"})]}),he==="programme"&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"",children:"Select Programme"}),t.jsx("option",{value:"PYP-5",children:"PYP 5"}),t.jsx("option",{value:"MYP-1",children:"MYP 1"}),t.jsx("option",{value:"MYP-2",children:"MYP 2"}),t.jsx("option",{value:"MYP-3",children:"MYP 3"}),t.jsx("option",{value:"MYP-4",children:"MYP 4"}),t.jsx("option",{value:"MYP-5",children:"MYP 5"}),t.jsx("option",{value:"IB-DP-1",children:"IB DP 1"}),t.jsx("option",{value:"IB-DP-2",children:"IB DP 2"})]}),he==="other"&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"",children:"Select Other"}),t.jsx("option",{value:"other-1",children:"Other 1"}),t.jsx("option",{value:"other-2",children:"Other 2"}),t.jsx("option",{value:"other-3",children:"Other 3"}),t.jsx("option",{value:"other-4",children:"Other 4"}),t.jsx("option",{value:"other-5",children:"Other 5"}),t.jsx("option",{value:"other-6",children:"Other 6"}),t.jsx("option",{value:"other-7",children:"Other 7"}),t.jsx("option",{value:"other-8",children:"Other 8"})]})]}),t.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),K?.grade&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.grade})]})]}),Ce=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),t.jsxs("div",{className:"relative",ref:p,children:[t.jsxs("div",{className:"flex border rounded-lg bg-white",children:[t.jsxs("div",{className:"flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>m(!x),children:[t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:P}),t.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:B,onChange:re=>{/[^0-9\s]/.test(re.target.value)&&E.error("Only numbers and spaces are allowed in phone number");const ht=re.target.value.replace(/[^0-9\s]/g,"");v(ht);const I=rt(ht,P);G(I)},className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${K?.phone?"border-red-500":"border-gray-300"}`})]}),x&&t.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ze.map(re=>t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>te(re.code),children:[t.jsx("span",{className:"text-lg mr-3",children:re.flag}),t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:re.code}),t.jsx("span",{className:"text-sm text-gray-800",children:re.country})]},re.code))})]}),K?.phone&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:K.phone})]})}),pe=async(re,He,ht,I,q,ge,ke,Oe)=>{try{let $e=q,De;H==="Other"?De=await Vp(re,He,ht,I,Q,_e,ge,ke,Oe):me&&me.id==="UNLISTED"?De=await Sw(re,He,ht,I,H,_e,ge,ke,Oe):De=await yw(re,He,ht,I,$e,ge,ke,Oe),De.success?(E.success("Student profile created successfully"),o("/student-home")):(fe(De.errors),E.error(De.errors.message))}catch($e){const De=$e?.errors||$e||{message:"An unexpected error occurred"};fe(De),E.error(De.message||"An unexpected error occurred")}};return t.jsx(ys,{loadingText:"Loading Student Profile...",children:t.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[t.jsx(Xt,{}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-left",children:"Student Signup"}),W()]}),t.jsxs("div",{className:"w-[400px] rounded-lg shadow-sm mb-8",style:{padding:"2rem 0.5rem"},children:[a==="personal"&&Ue(),a==="school"&&Y(),a==="contact"&&Ce()]}),t.jsx("div",{className:"flex justify-start",children:t.jsx("button",{type:"button",onClick:()=>{a==="personal"?S&&_&&A&&M?r("school"):E.error("Please fill in all personal information fields"):a==="school"?H==="Other"?Q.trim()&&_e.trim()&&$?r("contact"):E.error("Please fill in all school information fields"):me&&me.id==="UNLISTED"?_e.trim()&&$?r("contact"):E.error("Please fill in all school information fields"):H&&me&&$?r("contact"):E.error("Please fill in all school information fields"):a==="contact"&&(B&&z?pe(b,_,A,M,de,$,B,z):E.error("Please fill in all contact information fields"))},className:"font-medium text-white transition-all",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",transition:"background-color 0.2s"},onMouseOver:re=>re.currentTarget.style.backgroundColor="#C2A46D",onMouseOut:re=>re.currentTarget.style.backgroundColor="#D9C7A1",children:"Continue"})})]})]})})},aS=()=>{const a=Dt(),{allLocalities:r,allSchools:o,refreshLocalitiesData:l,refreshSchoolsData:c,refreshAreasData:d}=Lt(),[h,g]=y.useState("personal"),[x,m]=y.useState(""),[p,b]=y.useState(""),[j,S]=y.useState(""),[N,_]=y.useState(""),[k,A]=y.useState(""),[D,M]=y.useState(""),[X,H]=y.useState(""),[F,Q]=y.useState(null),[ce,me]=y.useState(""),[Se,_e]=y.useState(""),[be,de]=y.useState(""),[ee,he]=y.useState("+971"),[R,$]=y.useState([]),[T,B]=y.useState(!1),[v,z]=y.useState(""),[G,P]=y.useState({}),[L,ne]=y.useState(!1),le=y.useRef(null),Te=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}];y.useEffect(()=>{(async()=>{try{await Promise.all([l(),c(),d()])}catch(J){console.error("Error loading data:",J),E.error("Failed to load profile data. Please refresh the page.")}})()},[]);const je=O=>{if(console.log("handleCityChange",O),console.log("allSchools",o),M(O),Q(null),z(""),me(""),O!=="Other"&&H(""),O&&O!=="Other"){const J=o.filter(xe=>xe.locality&&xe.locality.code===O);$(J)}else $([])},ve=O=>{H(O),Q(null),z(""),me(""),$([])},Ae=O=>{if(z(O),O.trim()===""){const J=o.filter(xe=>xe.locality&&xe.locality.code===D);$(J)}else{const xe=o.filter(Le=>Le.locality&&Le.locality.code===D).filter(Le=>Le.name?.toLowerCase().includes(O.toLowerCase())||Le.locality&&Le.locality.code?.toLowerCase().includes(O.toLowerCase()));$(xe)}},K=O=>{console.log("handleSchoolSelect",O);const J=O.name;Q(O),z(J),B(!1),O.id!=="UNLISTED"&&me("")},fe=O=>{me(O)};y.useEffect(()=>{const O=J=>{le.current&&!le.current.contains(J.target)&&(ne(!1),B(!1))};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const ze=()=>{const O=[{key:"personal",label:"Personal Info"},{key:"school",label:"School Info"},{key:"contact",label:"Contact Info"}];return t.jsx("div",{className:"flex items-center justify-start mb-8",children:O.map((J,xe)=>t.jsxs(Re.Fragment,{children:[t.jsx("button",{className:`flex items-center justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${h===J.key?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>g(J.key),children:J.label}),xe<O.length-1&&t.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},J.key))})},Ge=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),t.jsx("input",{type:"text",name:"name",placeholder:"E.g. Sam Morgan Lee",value:x,onChange:O=>{m(O.target.value),b(O.target.value);const J=$i(O.target.value);S(J)},className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.name?"border-red-500":"border-gray-300"}`}),G.name&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.name}),j&&t.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),t.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:j})]})})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"date",name:"dateOfBirth",value:N,onChange:O=>_(O.target.value),className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.dateOfBirth?"border-red-500":"border-gray-300"}`}),t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),G.dateOfBirth&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.dateOfBirth})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),t.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(O=>t.jsx("button",{type:"button",onClick:()=>A(O),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-[200px] ${k===O?"bg-[#D9C7A1] text-black border-[#1E395D]":"bg-white text-black border-gray-300 hover:border-gray-400"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),G.gender&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.gender})]})]}),Ke=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:["Locality of School ",t.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%]",children:"(City or Town)"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{name:"locality",value:D,onChange:O=>je(O.target.value),className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${G.locality?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select a locality..."}),r.map(O=>t.jsx("option",{value:O.code,children:O.name},O.id))]}),t.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),G.locality&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.locality}),D==="Other"&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),t.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:X,onChange:O=>ve(O.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.customLocality?"border-red-500":"border-gray-300"}`}),G.customLocality&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.customLocality})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),t.jsxs("div",{className:"relative",ref:le,children:[t.jsx("input",{type:"text",name:"schoolName",placeholder:D==="Other"?"School selection not available for custom locality":D?"Search by school name or code...":"Please select a city first",value:v,onChange:O=>Ae(O.target.value),onFocus:()=>B(!0),disabled:!D||D==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.schoolName?"border-red-500":"border-gray-300"} ${!D||D==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("button",{type:"button",onClick:()=>{Q(null),z(""),B(!1)},disabled:!D||D==="Other",className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center transition-colors ${!D||D==="Other"?"bg-gray-200 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:t.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),T&&D&&D!=="Other"&&R.length>0&&t.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[R.map((O,J)=>t.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>K(O),children:[t.jsx("div",{className:"font-medium text-sm text-gray-900",children:O.name}),t.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",O.code]}),O.area&&O.area.name!=="-"&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.area.name}),O.locality&&O.locality.name&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.locality.name})]},`${O.code}-${J}`)),t.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>K({id:"UNLISTED",name:"Unlisted / Not in the list / Other",code:"UNLISTED",locality:{name:"Unlisted / Not in the list / Other"}}),children:t.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),R.length===0&&v&&t.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',v,'"']})]})]}),G.schoolName&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.schoolName}),(D==="Other"||F&&F.id==="UNLISTED")&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),t.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:ce,onChange:O=>fe(O.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.customSchool?"border-red-500":"border-gray-300"}`}),G.customSchool&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.customSchool})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Years of Work Experience"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",name:"yearsOfExperience",placeholder:"E.g. 20",value:Se,onChange:O=>{/[^0-9]/.test(O.target.value)&&E.error("Only numbers are allowed in this field");const xe=O.target.value.replace(/[^0-9]/g,"");_e(xe)},className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.yearsOfExperience?"border-red-500":"border-gray-300"}`}),t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),G.yearsOfExperience&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.yearsOfExperience})]})]}),tt=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),t.jsxs("div",{className:"relative",ref:le,children:[t.jsxs("div",{className:"flex border rounded-lg bg-white",children:[t.jsxs("div",{className:"flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>ne(!L),children:[t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:ee}),t.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:be,onChange:O=>{/[^0-9\s]/.test(O.target.value)&&E.error("Only numbers and spaces are allowed in phone number");const xe=O.target.value.replace(/[^0-9\s]/g,"");de(xe)},className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${G.phone?"border-red-500":"border-gray-300"}`})]}),L&&t.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Te.map(O=>t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>he(O.code),children:[t.jsx("span",{className:"text-lg mr-3",children:O.flag}),t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:O.code}),t.jsx("span",{className:"text-sm text-gray-800",children:O.country})]},O.code))})]}),G.phone&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.phone})]})}),rt=(O,J)=>{const xe=O.replace(/[^0-9]/g,"");return`${J}${xe}`},te=async(O,J,xe,Le,Xe,W,Ue,Y)=>{try{const Ce=rt(Ue,Y);let pe;if(D==="Other"){const re=`${X}`,He=`${ce}`;pe=await Yp(O,J,xe,Le,re,He,W,Ue,"",void 0,Ce)}else if(F&&F.id==="UNLISTED"){const re=`${ce}`;pe=await Nw(O,J,xe,Le,D,re,W,Ue,Ce)}else pe=await xw(O,J,xe,Le,Xe,W,Ue,Ce);pe.success?(E.success("Teacher profile created successfully"),a("/teacher-home")):(P(pe.errors),E.error(pe.errors.message))}catch(Ce){console.error("Teacher Profile Error:",Ce),Ce.errors?(P(Ce.errors),E.error(Ce.errors.message)):E.error(Ce.message||"Failed to create teacher profile")}};return t.jsx(ys,{loadingText:"Loading Teacher Profile...",children:t.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[t.jsx("div",{className:"shadow-sm",children:t.jsx("div",{className:"max-w-4xl px-6 py-4",children:t.jsx(In,{size:"medium"})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-left",children:"Teacher Signup"}),ze()]}),t.jsxs("div",{className:"w-[400px] rounded-lg shadow-sm mb-8",style:{padding:"2rem 0.5rem"},children:[h==="personal"&&Ge(),h==="school"&&Ke(),h==="contact"&&tt()]}),t.jsx("div",{className:"flex justify-start",children:t.jsx("button",{type:"button",onClick:()=>{if(h==="personal")p&&N&&k?g("school"):E.error("Please fill in all personal information fields");else if(h==="school")D==="Other"?X.trim()&&ce.trim()&&Se?g("contact"):E.error("Please fill in all school information fields"):F&&F.id==="UNLISTED"?ce.trim()&&Se?g("contact"):E.error("Please fill in all school information fields"):D&&F&&Se?g("contact"):E.error("Please fill in all school information fields");else if(h==="contact")if(be&&ee){const O=D==="Other"||F&&F.id==="UNLISTED"?"":F?.id||"";te(x,j,N,k,O,Se,be,ee)}else E.error("Please fill in all contact information fields")},className:"font-medium text-white transition-all",style:{backgroundColor:"#D9C7A1",borderRadius:"30px",display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",transition:"background-color 0.2s"},onMouseOver:O=>O.currentTarget.style.backgroundColor="#C2A46D",onMouseOut:O=>O.currentTarget.style.backgroundColor="#D9C7A1",children:"Continue"})})]})]})})},fh=({userType:a,initialData:r})=>{const o=y.useRef(null),{allLocalities:l,refreshLocalitiesData:c,allSchools:d,refreshSchoolsData:h}=Lt();y.useEffect(()=>{(async()=>{try{await Promise.all([c(),h()])}catch(Be){console.error("Error loading data:",Be),E.error("Failed to load profile data. Please refresh the page.")}})()},[]);const g=[...l.map(Ie=>({value:Ie.code,label:Ie.name})),{value:"Other",label:"Unlisted / Not in the list / Other"}];y.useEffect(()=>{(async()=>{const Be=await Oa(),Fe={...Be.data,username:Be.data.username||"",fullname:Be.data.fullname||"",birthday:Be.data.birthday||"",gender:Be.data.gender||"",locality:Be.data.school.code||"",schoolName:Be.data.school.name||"",school_id:Be.data.school.id||"",grade:Be.data.grade||"",year_of_work_experience:Be.data.year_of_work_experience||"",phone_number:Be.data.phone_number||"",email:Be.data.email||"",avatar:Be.data.avatar||(a==="student"?Vo:Yu)};m(Fe),P(Fe.fullname),ne(Fe.username),Te(Fe.birthday),ve(Fe.gender),K(Fe.locality),ze(Fe.schoolName),Ke(Fe.school_id||""),rt(Fe.grade),xe(Fe.year_of_work_experience),Xe(Fe.phone_number),Ce(Fe.country_code||"+971"),Ue(ge(Fe.phone_number||"",Fe.country_code||"+971")),re(Fe.email)})()},[a]);const[x,m]=y.useState({username:r?.username||"",fullname:r?.fullname||"",birthday:r?.birthday||"",gender:r?.gender||"",school_location:r?.school_location||"",school_name:r?.school_name||"",grade:r?.grade||"",email:r?.email||"",phone_number:r?.phone_number||"",name:r?.fullname||"",dateOfBirth:r?.birthday||"",locality:r?.school_location||"",schoolName:r?.school_name||"",gradeOrYear:r?.grade||"",mobile:r?.phone_number?`+971 ${r.phone_number}`:"",avatar:r?.avatar||(a==="student"?Vo:Yu)}),[p,b]=y.useState(null),[j,S]=y.useState(""),[N,_]=y.useState(""),[k,A]=y.useState(""),[D,M]=y.useState(!1),[X,H]=y.useState(!1),[F,Q]=y.useState(!1),ce=y.useRef(null),[me,Se]=y.useState([]),[_e,be]=y.useState([]),[de,ee]=y.useState(!1),[he,R]=y.useState(""),[$,T]=y.useState(""),[B,v]=y.useState(""),[z]=y.useState({}),[G,P]=y.useState(""),[L,ne]=y.useState(""),[le,Te]=y.useState(""),[je,ve]=y.useState(""),[Ae,K]=y.useState(""),[fe,ze]=y.useState(""),[Ge,Ke]=y.useState(""),[tt,rt]=y.useState(""),[te,O]=y.useState(""),[J,xe]=y.useState(""),[Le,Xe]=y.useState(""),[W,Ue]=y.useState(""),[Y,Ce]=y.useState("+971"),[pe,re]=y.useState(""),[He,ht]=y.useState(!1),[I,q]=y.useState(!1),ge=(Ie,Be)=>{const Fe=Ie.replace(/[^0-9]/g,"");return`${Be}${Fe}`},ke=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],Oe=a==="student"?{grade:[{value:"grade-5",label:"Grade 5"},{value:"grade-6",label:"Grade 6"},{value:"grade-7",label:"Grade 7"},{value:"grade-8",label:"Grade 8"},{value:"grade-9",label:"Grade 9"},{value:"grade-10",label:"Grade 10"},{value:"grade-11",label:"Grade 11"},{value:"grade-12",label:"Grade 12"}],year:[{value:"year-6",label:"Year 6"},{value:"year-7",label:"Year 7"},{value:"year-8",label:"Year 8"},{value:"year-9",label:"Year 9"},{value:"year-10",label:"Year 10"},{value:"year-11",label:"Year 11"},{value:"year-12",label:"Year 12"},{value:"year-13",label:"Year 13"}],programme:[{value:"PYP-5",label:"PYP 5"},{value:"MYP-1",label:"MYP 1"},{value:"MYP-2",label:"MYP 2"},{value:"MYP-3",label:"MYP 3"},{value:"MYP-4",label:"MYP 4"},{value:"MYP-5",label:"MYP 5"},{value:"IB-DP-1",label:"IB DP 1"},{value:"IB-DP-2",label:"IB DP 2"}],other:[{value:"other-1",label:"Other 1"},{value:"other-2",label:"Other 2"},{value:"other-3",label:"Other 3"},{value:"other-4",label:"Other 4"},{value:"other-5",label:"Other 5"},{value:"other-6",label:"Other 6"},{value:"other-7",label:"Other 7"},{value:"other-8",label:"Other 8"}]}:["Primary Teacher","Secondary Teacher","Subject Teacher","Head of Department","Vice Principal","Principal","Counselor","Librarian","Other"],$e=(Ie,Be)=>{b(Ie),S(Be)},De=(Ie,Be)=>{switch(S(Be),Ie){case"fullname":P(Be);const Fe=$i(Be);ne(Fe);break;case"username":ne(Be);break;case"birthday":Te(Be);break;case"gender":ve(Be);break;case"school_location":K(Be);break;case"school_name":ze(Be);break;case"school_id":Ke(Be);break;case"grade":rt(Be);break;case"gradeType":O(Be);break;case"year_of_work_experience":xe(Be);break;case"phone_number":Xe(Be);break;case"email":re(Be);break}},qe=()=>{if(p)switch(p){case"fullname":P(x.fullname),ne(x.username);break;case"username":ne(x.username);break;case"birthday":Te(x.birthday);break;case"gender":ve(x.gender);break;case"school_location":K(x.school_location);break;case"school_name":ze(x.school_name);break;case"school_id":Ke(x.school_id||"");break;case"grade":rt(x.grade),O(x.grade_year_programme||"");break;case"year_of_work_experience":xe(String(x.year_of_work_experience||""));break;case"phone_number":Xe(x.phone_number);break;case"email":re(x.email);break}b(null),S("")},ct=async Ie=>{const Be=Ie.target.files?.[0];if(Be)try{ht(!0);const Fe=await ww(Be);Fe.success?(N4(),localStorage.setItem("userAvatar",Fe.avatarUrl),setTimeout(()=>{const Je=new CustomEvent("avatarUpdated",{detail:{avatarUrl:Fe.avatarUrl}});window.dispatchEvent(Je)},100),E.success(Fe.message)):E.error("Failed to upload avatar: "+Fe.message)}catch(Fe){E.error("Failed to upload avatar: "+Fe.message)}finally{ht(!1)}},We=async()=>{if(N!==k){E.error("Passwords do not match");return}if(N.length<6){E.error("Password must be at least 6 characters");return}try{const Ie=await O4(N);Ie.success?(E.success(Ie.message),_(""),A(""),M(!1)):E.error(Ie.message)}catch(Ie){E.error("Failed to update password: "+(Ie.message||"Unknown error"))}},Me=Dt(),_t=()=>{q(!0)},Ye=async()=>{try{const Ie=await pw();Ie.success?(E.success(Ie.message),localStorage.removeItem("token"),localStorage.removeItem("userAvatar"),Me("/login")):E.error(Ie.message)}catch(Ie){E.error(Ie.message)}},bt=()=>{q(!1),Ye()},Ot=()=>{q(!1)};y.useEffect(()=>{const Ie=Be=>{ce.current&&!ce.current.contains(Be.target)&&(H(!1),ee(!1),Q(!1))};return document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[]),y.useEffect(()=>{if(Ae&&Ae!=="Other"&&d.length>0){const Ie=d.filter(Be=>Be.locality?.name===Ae);Se(Ie),be(Ie)}else Se([]),be([])},[Ae,d]);const Zt=Ie=>{if(R(Ie),Ie.trim()==="")be(me);else{const Be=me.filter(Fe=>Fe.name?.toLowerCase().includes(Ie.toLowerCase())||Fe.code?.toLowerCase().includes(Ie.toLowerCase())||Fe.locality?.name?.toLowerCase().includes(Ie.toLowerCase()));be(Be)}},hr=Ie=>{T(Ie)},qt=Ie=>{v(Ie)},zt=(Ie,Be,Fe)=>{const vt=p===Be?j:Fe,Yt=et=>{De(Be,et)};return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Ie}),t.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(et=>t.jsx("button",{type:"button",onClick:()=>Yt(et),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-24 ${vt===et?"bg-[#C2A46D] text-white border-[#C2A46D]":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:et.charAt(0).toUpperCase()+et.slice(1)},et))})]})},$t=(Ie,Be,Fe)=>{const Je=p===Be,vt=Je?j:Fe,Yt=Je?$i(j):L;return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Ie}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:vt,onChange:et=>De(Be,et.target.value),disabled:!Je,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Je?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Ie.toLowerCase()}`}),!Je&&t.jsx("button",{onClick:()=>$e(Be,Fe),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),Je&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:t.jsx("button",{onClick:qe,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),Je&&j&&t.jsx("div",{className:"w-[400px] mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),t.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:Yt})]})})})]})},St=(Ie,Be,Fe,Je,vt,Yt)=>{const et=p===Be,at=et?j:(()=>{const nt=Je.find(fs=>fs.value===Fe);return nt?nt.label:Fe})(),hs=nt=>{nt.value==="Other"?(De(Be,"Other"),Ke(""),ze(""),v(""),T("")):(De(Be,nt.label),T(""),v(""))};return t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:[Ie,t.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%] ml-1",children:"(City or Town)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{type:"button",onClick:()=>et&&Yt(!1),disabled:!et,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 text-left ${et?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,children:at}),!et&&t.jsx("button",{onClick:()=>$e(Be,Fe),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),!vt&&et&&t.jsx("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Je.map((nt,fs)=>t.jsx("div",{className:"w-[400px] px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{hs(nt),Yt(!0)},children:typeof nt=="string"?nt:nt.label},fs))}),et&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:t.jsx("button",{onClick:qe,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),et&&Fe==="Other"&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),t.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:$,onChange:nt=>hr(nt.target.value),className:"w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 border-gray-300"}),!$.trim()&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:'Custom locality is required when "Other" is selected'})]})]})},Wt=(Ie,Be,Fe)=>{const Je=p===Be,vt=Je?he:Fe,Yt=at=>{Je&&(R(at),Zt(at))},et=at=>{if(Je){const hs=at.name;Ke(at.id),De(Be,hs),R(hs),ee(!0)}};return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Ie}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",name:"schoolName",placeholder:Ae==="Other"?"School selection not available for custom locality":Ae?"Search by school name or code...":"Please select a city first",value:vt,onChange:at=>Yt(at.target.value),onFocus:()=>Je&&ee(!1),disabled:!Je||!Ae||Ae==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Je?"border-[#1E395D]":"border-gray-300 bg-gray-50"} ${!Ae||Ae==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),t.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),!Je&&t.jsx("button",{onClick:()=>$e(Be,Fe),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),!de&&Ae&&Ae!=="Other"&&_e.length>0&&Je&&t.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[_e.map((at,hs)=>t.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>et(at),children:[t.jsx("div",{className:"font-medium text-sm text-gray-900",children:at.name}),t.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",at.code]}),at.area&&at.area.name!=="-"&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:at.area.name}),at.locality.name&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:at.locality.name})]},`${at.code}-${hs}`)),t.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>et({id:"UNLISTED",name:"Unlisted / Not in the list / Other"}),children:t.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),_e.length===0&&he&&t.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',he,'"']})]}),Je&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:t.jsx("button",{onClick:qe,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),Je&&Ae==="Other"&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),t.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:B,onChange:at=>qt(at.target.value),className:"w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 border-gray-300"}),!B.trim()&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:'Custom school name is required when "Other" locality is selected'})]})]})},Or=(Ie,Be,Fe)=>{const Je=p===Be,vt=Je?j:Fe,Yt=at=>{/[^0-9\s]/.test(at)&&E.error("Only numbers and spaces are allowed in phone number");const nt=at.replace(/[^0-9\s]/g,"");De(Be,nt);const fs=ge(nt,Y);Ue(fs)},et=at=>{if(Ce(at),Q(!1),Le){const hs=ge(Le,at);Ue(hs)}};return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Ie}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-[400px] flex border rounded-lg bg-white",children:[t.jsxs("div",{className:`flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50 ${Je?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>Je&&Q(!F),children:[t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:Y}),t.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:vt,onChange:at=>Yt(at.target.value),disabled:!Je,className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Je?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`})]}),F&&Je&&t.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ke.map(at=>t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>et(at.code),children:[t.jsx("span",{className:"text-lg mr-3",children:at.flag}),t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:at.code}),t.jsx("span",{className:"text-sm text-gray-800",children:at.country})]},at.code))}),!Je&&t.jsx("button",{onClick:()=>$e(Be,Fe),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),Je&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:t.jsx("button",{onClick:qe,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]})]})},_s=(Ie,Be,Fe,Je="text")=>{const vt=p===Be,Yt=vt?j:Fe,et=Be==="year_of_work_experience",at=et?"number":Je,hs=et?"numeric":void 0,nt=et?"[0-9]*":void 0;return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:Ie}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:at,inputMode:hs,pattern:nt,value:Yt,onChange:fs=>{if(et){/[^0-9]/.test(fs.target.value)&&E.error("Only numbers are allowed in this field");const ll=fs.target.value.replace(/[^0-9]/g,"");De(Be,ll)}else De(Be,fs.target.value)},disabled:!vt,style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:`border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500 w-full px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${vt?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Ie.toLowerCase()}`}),!vt&&t.jsx("button",{onClick:()=>$e(Be,Fe),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),vt&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:t.jsx("button",{onClick:qe,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),z[Be]&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:z[Be]})]})},nl=(Ie,Be,Fe)=>{const Je=p===Be,vt=te,Yt=Fe,et=()=>a==="student"&&typeof Oe=="object"&&vt?Oe[vt]||[]:[],at=nt=>{De("grade",nt)},hs=nt=>{De("gradeType",nt),De("grade","")};return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Ie}),t.jsxs("div",{className:`w-[400px] relative border rounded-lg p-4 mb-4 ${Je?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,children:[t.jsx("div",{className:"flex gap-4 bg-white",children:["grade","year","programme","other"].map(nt=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"gradeType",value:nt,checked:vt===nt,onChange:()=>hs(nt),disabled:!Je,className:"mr-3 w-5 h-5 text-[#1E395D] focus:ring-[#1E395D]"}),t.jsx("span",{className:`text-sm capitalize ${vt===nt?"text-black":"text-gray-500"}`,children:nt})]},nt))}),!Je&&t.jsx("button",{onClick:()=>$e(Be,Fe),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"-1.25rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),Je&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"-1.6rem"},children:t.jsx("button",{onClick:qe,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),t.jsx("div",{className:"relative",children:t.jsxs("select",{name:"grade",value:Yt,onChange:nt=>at(nt.target.value),disabled:!Je||!vt,className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${!Je||!vt?"bg-gray-100 cursor-not-allowed":"border-gray-300"}`,children:[t.jsxs("option",{value:"",children:["Select ",vt||"option"]}),et().map(nt=>t.jsx("option",{value:nt.value,children:nt.label},nt.value))]})})]})},ol=async()=>{console.log(a);try{if(Ae==="Other"){if(!$.trim()){E.error("Please enter a custom locality name");return}if(!B.trim()){E.error("Please enter a custom school name");return}}const Be=localStorage.getItem("userAvatar")||void 0;let Fe;Ae==="Other"?a==="student"?Fe=await Vp(G,L,le,je,$,B,tt,Le,W):Fe=await Yp(G,L,le,je,$,B,J,Le,pe,Be,W):Fe=a==="student"?await bw(G,L,le,je,Ge,tt,J,Le,pe,Be,W):await vw(G,L,le,je,Ge,J,Le,pe,Be,W),Fe.success?(E.success(Fe.message),T(""),v("")):E.error("Failed to update profile: "+Fe.message)}catch(Ie){E.error("Failed to update profile: "+Ie.data.message)}};return t.jsxs(ys,{loadingText:"Loading Profile...",children:[t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"mx-auto py-8",style:{maxWidth:"65rem"},children:[t.jsxs("div",{className:"text-left mb-8",children:[t.jsxs("div",{className:"relative inline-block",children:[He?t.jsx("div",{className:"w-32 h-32 border-4 border-white shadow-lg rounded-full flex items-center justify-center bg-gray-100",children:t.jsx(Rr,{size:"large",text:"Uploading..."})}):t.jsx(Ua,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0}),t.jsx("button",{onClick:()=>!He&&o.current?.click(),disabled:He,className:`absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${He?"bg-gray-300 cursor-not-allowed opacity-50":"hover:bg-gray-300"}`,style:{right:"-1.5rem",bottom:"-0.5rem"},children:t.jsx("img",{src:Ys,alt:"Edit Avatar",className:"w-4 h-4"})}),t.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:ct,disabled:He,className:"hidden"})]}),t.jsxs("h1",{className:"font-bold text-gray-900 mt-4",style:{fontSize:"30px"},children:[a==="student"?"Student":"Teacher"," Profile"]})]}),t.jsxs("div",{className:"rounded-lg shadow-sm p-4",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Username"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",value:x.username,disabled:!0,style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"})}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Username is system generated"})]}),$t("Name","fullname",G),_s("Date of Birth","birthday",le,"date"),zt("Gender","gender",je),St("Locality of School ","school_location",Ae,g,X,H),Wt("School Name","school_name",fe),a==="student"?nl("Grade or Year or Programme","grade",tt):_s("Years of Work Experience","year_of_work_experience",J,"number"),_s("Email","email",pe,"email"),Or("Mobile","phone_number",Le),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Change Password"}),D?t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{type:"password",placeholder:"New password",value:N,onChange:Ie=>_(Ie.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"}),t.jsx("input",{type:"password",placeholder:"Confirm new password",value:k,onChange:Ie=>A(Ie.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:We,className:"px-4 py-2 bg-[#D9C7A1] text-white rounded-lg text-sm hover:bg-[#C2A46D] transition-colors",children:"Save Password"}),t.jsx("button",{onClick:()=>{M(!1),_(""),A("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-400 transition-colors",children:"Cancel"})]})]}):t.jsx("button",{onClick:()=>M(!0),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500",children:"Click to change password"})]}),t.jsx("div",{className:"mb-6",children:t.jsx("button",{onClick:_t,className:"mb-2 underline cursor-pointer",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Delete Account"})}),t.jsx("div",{className:"flex justify-left",children:t.jsx("button",{onClick:()=>{ol()},className:`text-white bg-[#D9C7A1] font-medium transition-all ${N?"hover:bg-[#C2A46D]":"bg-[#D9C7A1]  hover:bg-[#C2A46D]"}`,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px"},children:"Save"})})]})]})]}),t.jsx(Vs,{isOpen:I,onClose:Ot,onConfirm:bt,title:"Confirm Delete",message:"Deleting your account will remove all information. This cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},nS=()=>{const a={username:"@samm1234",name:"Sam Morgan Lee",dateOfBirth:"2008-10-05",gender:"male",locality:"DU",schoolName:"Oasis World School",gradeOrYear:"IB DP 2",email:"samlee@gmail.com",mobile:"+971 50 6362040"};return t.jsx(fh,{userType:"student",initialData:a})},oS=()=>{const a={username:"@teach4567",name:"Dr. Sarah Johnson",dateOfBirth:"1985-03-15",gender:"female",locality:"DU",schoolName:"Oasis World School",gradeOrYear:"Head of Department",email:"sarah.johnson@oasis.edu",mobile:"+971 50 1234567"};return t.jsx(fh,{userType:"teacher",initialData:a})},lS=()=>{const a=Dt();return t.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[t.jsx(Xt,{showNavigation:!1}),t.jsx("div",{className:"flex items-center justify-center flex-1",style:{height:"80vh"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-black text-center text-4xl font-medium leading-[150%] mb-8",children:"Your Student Profile is created."}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("button",{onClick:()=>{a("/home")},className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),t.jsxs("button",{onClick:()=>a("/student-profile-page"),className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})]})})]})},iS=()=>{const a=Dt();return t.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[t.jsx(Xt,{}),t.jsx("div",{className:"flex items-center justify-center flex-1",style:{height:"80vh"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-black text-center text-4xl font-medium leading-[150%] mb-8",children:"Your Teacher Profile is created."}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("button",{onClick:()=>{a("/home")},className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),t.jsxs("button",{onClick:()=>a("/teacher-profile-page"),className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})]})})]})},Xi="http://localhost:1000",Go=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${Xi}/api/v1/event-committees/get-all-event-committees/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch all event committees")}},cS=async(a,r,o,l,c,d,h,g,x,m,p)=>{try{const b=localStorage.getItem("token");return(await Ee.post(`${Xi}/api/v1/event-committees/save-event-committees-by-event`,{committeeId:a,eventId:r,category:o,abbr:l,seats:c,chair_username:d,chair_fullname:h,deputy_chair1_username:g,deputy_chair1_fullname:x,deputy_chair2_username:m,deputy_chair2_fullname:p},{headers:{Authorization:`Bearer ${b}`}})).data}catch(b){throw new Error(b.response?.data?.message||"Failed to save event committees by event id")}},dS=async(a,r,o,l,c,d,h,g,x,m,p)=>{try{const b=localStorage.getItem("token");return(await Ee.patch(`${Xi}/api/v1/event-committees/update-event-committees-by-event/${a}`,{committeeId:o,eventId:r,category:l,seats:c,chair_username:d,chair_fullname:h,deputy_chair1_username:g,deputy_chair1_fullname:x,deputy_chair2_username:m,deputy_chair2_fullname:p},{headers:{Authorization:`Bearer ${b}`}})).data}catch(b){throw new Error(b.response?.data?.message||"Failed to update event committees by event id")}},uS=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${Xi}/api/v1/event-committees/delete-event-committees-by-event/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete event committees by event id")}},hS=()=>{const a=Dt(),r=y.useRef(null),{allLocalities:o}=Lt(),[l,c]=y.useState("personal"),{eventId:d}=xs(),[h,g]=y.useState(""),[x,m]=y.useState(""),[p,b]=y.useState(""),[j,S]=y.useState(""),[N,_]=y.useState(""),[k,A]=y.useState(""),[D,M]=y.useState(""),[X,H]=y.useState(""),[F,Q]=y.useState(""),[ce,me]=y.useState(""),[Se,_e]=y.useState(""),[be,de]=y.useState(""),[ee,he]=y.useState(""),[R,$]=y.useState(""),[T,B]=y.useState(""),[v,z]=y.useState(""),[G,P]=y.useState(""),[L,ne]=y.useState("UAE"),[le,Te]=y.useState(""),[je,ve]=y.useState(!1),[Ae,K]=y.useState(null),[fe,ze]=y.useState(!1),Ge=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],Ke=W=>{ne(W),ve(!1)};y.useEffect(()=>{const W=async()=>{try{const Y=await Oa();Y.success?(g(Y.data.username||""),m(Y.data.fullname||""),b(Y.data.birthday||""),S(Y.data.gender||""),A(Y.data.school.name||""),M(Y.data.school.locality_id||""),H(Y.data.grade||""),Q(Y.data.email||""),me(Y.data.phone_number||"")):E.error("Failed to get user by id: "+Y.message)}catch(Y){E.error("Failed to get user by id: "+Y.message)}},Ue=async()=>{const Y=await Go(d);Y.success&&K(Y.data)};W(),Ue()},[]),y.useEffect(()=>{if(o&&o.length>0&&D){const W=o.find(Ue=>{const Y=String(Ue.id||"").toLowerCase(),Ce=String(D||"").toLowerCase();return Y===Ce});_(W&&W.name||"")}},[o,D]),y.useEffect(()=>{const W=Ue=>{r.current&&!r.current.contains(Ue.target)&&ve(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const tt=[{id:"personal",name:"Personal Info",active:l==="personal"},{id:"mun",name:"MUN Info",active:l==="mun"},{id:"food",name:"Food Info",active:l==="food"},{id:"emergency",name:"Emergency Info",active:l==="emergency"}],rt=async()=>{switch(l){case"personal":c("mun");break;case"mun":c("food");break;case"food":c("emergency");break;case"emergency":if(fe)return;ze(!0);try{await Xe()}finally{ze(!1)}break}},te=()=>t.jsx("div",{className:"flex items-center justify-left mb-8",children:tt.map((W,Ue)=>t.jsxs(Re.Fragment,{children:[t.jsx("div",{onClick:()=>c(W.id),style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px",background:W.active?"#395579":"#fff",border:"1px solid #000"},className:`text-sm font-medium transition-colors ${W.active?"text-white":"text-gray-700"}`,children:W.name}),Ue<tt.length-1&&t.jsx("div",{className:"mx-2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},W.id))}),O=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"MUN Experience in Years"}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("input",{type:"text",value:Se,onChange:W=>_e(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. 5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 1"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:be,onChange:W=>de(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[t.jsx("option",{value:"",children:"Select"}),Array.isArray(Ae)&&Ae.map(W=>t.jsxs("option",{value:W.id,children:[W.abbr,"  (",W.committee.committee,")"]},W.abbr))]}),t.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 2"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:ee,onChange:W=>he(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[t.jsx("option",{value:"",children:"Select"}),Array.isArray(Ae)&&Ae.map(W=>t.jsxs("option",{value:W.id,children:[W.abbr,"  (",W.committee.committee,")"]},W.abbr))]}),t.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 3"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:R,onChange:W=>$(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[t.jsx("option",{value:"",children:"Select"}),Array.isArray(Ae)&&Ae.map(W=>t.jsxs("option",{value:W.id,children:[W.abbr,"  (",W.committee.committee,")"]},W.abbr))]}),t.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:t.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})]}),J=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Preference"}),t.jsx("div",{className:"flex space-x-4",children:["Vegetarian","Non-Vegetarian"].map(W=>t.jsx("button",{onClick:()=>B(W),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${T===W?"bg-[#C2A46D] text-white":"text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:W},W))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Allergies"}),t.jsx("input",{type:"text",value:v,onChange:W=>z(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Peanut"})]})]}),xe=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Emergency Contact Name"}),t.jsx("input",{type:"text",value:G,onChange:W=>P(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Alice Lee"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Emergency Mobile Number"}),t.jsxs("div",{className:"relative w-[400px]",ref:r,children:[t.jsxs("div",{className:"flex border border-gray-300 rounded-lg bg-white",children:[t.jsxs("div",{className:"flex items-center px-4 py-3 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>ve(!je),children:[t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:L}),t.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",placeholder:"50 650 5005",value:le,onChange:W=>{/[^0-9\s]/.test(W.target.value)&&E.error("Only numbers and spaces are allowed in phone number");const Y=W.target.value.replace(/[^0-9\s]/g,"");Te(Y)},className:"flex-1 px-4 py-3 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200"})]}),je&&t.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ge.map(W=>t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>Ke(W.code),children:[t.jsx("span",{className:"text-lg mr-3",children:W.flag}),t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:W.code}),t.jsx("span",{className:"text-sm text-gray-800",children:W.country})]},W.code))})]})]})]}),Le=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-left mb-8",children:t.jsx("div",{className:"relative",children:t.jsx(Ua,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Username"}),t.jsx("input",{type:"text",disabled:!0,value:h,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter username"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username is system generated"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:x||"",onChange:W=>m(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter your name"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:p,onChange:W=>b(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter date of birth"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),t.jsx("div",{className:"flex space-x-4",children:["male","female","other"].map(W=>t.jsx("button",{onClick:()=>S(W),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${j===W?"bg-[#C2A46D] text-white":" text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:W},W))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Place of School"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:N,onChange:W=>_(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter place of school"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Name"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:k,onChange:W=>A(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter school name"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade or Year"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:X||"",onChange:W=>H(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter grade or year"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"email",disabled:!0,value:F||"",onChange:W=>Q(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter email address"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"tel",disabled:!0,value:ce||"",onChange:W=>me(W.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter mobile number"})})]})]})]}),Xe=async()=>{try{const W=await h4(d,Se,be,ee,R,T,v,G,le);if(W.success){E.success("Registration completed successfully!");const Ue=await localStorage.getItem("userRole");a(Ue==="teacher"?`/teacher-registration-success/${d}`:`/student-registration-success/${d}`)}else E.error("Failed to register for event: "+W.message)}catch(W){E.error("Failed to register for event: "+W.message)}};return t.jsx(ys,{loadingText:"Loading Registration...",children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"mb-6",style:{color:"#000",fontSize:"18px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Review Info"}),te()]}),t.jsxs("div",{className:"max-w-2xl",children:[l==="personal"&&Le(),l==="mun"&&O(),l==="food"&&J(),l==="emergency"&&xe()]}),t.jsx("div",{className:"flex justify-left mt-8",children:t.jsx("button",{onClick:rt,disabled:l==="emergency"&&fe,className:"font-medium text-white transition-all hover:opacity-90 disabled:opacity-60 disabled:cursor-not-allowed",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"160px",height:"50px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"16px"},children:l==="emergency"?fe?"Registering...":"Register":"Continue"})})]})]})})},fS=()=>{const a=Dt(),{eventId:r}=xs();return t.jsx(ys,{loadingText:"Loading Success Page...",children:t.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[t.jsx(Xt,{}),t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"You are registered to GMA MUN 2025"})}),t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:()=>a("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:o=>o.currentTarget.style.background="#B8945F",onMouseOut:o=>o.currentTarget.style.background="#C2A46D",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),t.jsxs("button",{onClick:()=>a(`/student-delegate-page/${r}`),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:o=>o.currentTarget.style.background="#B8945F",onMouseOut:o=>o.currentTarget.style.background="#C2A46D",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event"]})]})]})]})})},Ii="data:image/svg+xml,%3csvg%20width='30'%20height='26'%20viewBox='0%200%2030%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.5525%2016.5036C29.3126%2016.5036%2029.1226%2016.6919%2029.1226%2016.9334V21.0206C29.1226%2023.0297%2027.4919%2024.6443%2025.499%2024.6443L4.48329%2024.6427C2.47428%2024.6427%200.859651%2023.012%200.859651%2021.019V16.9318C0.859651%2016.6919%200.671307%2016.502%200.429825%2016.502C0.189968%2016.502%200%2016.6903%200%2016.9318V21.019C0%2023.4917%202.00901%2025.5007%204.48164%2025.5007H25.4813C27.9539%2025.5007%2029.9629%2023.4917%2029.9629%2021.019V16.9318C29.9822%2016.6919%2029.7939%2016.5036%2029.5525%2016.5036Z'%20fill='black'/%3e%3cpath%20d='M14.9916%200.5C14.7517%200.5%2014.5617%200.688345%2014.5617%200.929826V16.7266L10.1493%2012.0389C9.97707%2011.8667%209.71949%2011.8506%209.54888%2012.0212C9.37663%2012.1758%209.36054%2012.4511%209.53117%2012.6217L14.6825%2018.0998C14.7678%2018.1851%2014.8708%2018.2366%2014.9916%2018.2366C15.1123%2018.2366%2015.2153%2018.1851%2015.3006%2018.0998L20.452%2012.6217C20.6065%2012.4494%2020.6065%2012.1758%2020.4343%2012.0212C20.262%2011.8667%2019.9884%2011.8667%2019.8338%2012.0389L15.4214%2016.7266V0.929826C15.4214%200.706065%2015.2314%200.5%2014.9916%200.5Z'%20fill='black'/%3e%3c/svg%3e",rl="http://localhost:1000",mS=async(a,r,o)=>{try{const l=localStorage.getItem("token");return(await Ee.post(`${rl}/api/v1/event-leaders/save-leadership-role-by-event`,{eventId:a,userId:r,roleId:o},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to save leadership role by event id")}},Da=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${rl}/api/v1/event-leaders/get-leadership-roles-by-event/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch leadership roles by event id")}},gS=async(a,r,o,l)=>{try{const c=localStorage.getItem("token");return(await Ee.patch(`${rl}/api/v1/event-leaders/update-leadership-role-by-event/${a}`,{eventId:r,roleId:o,userId:l},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to update leadership role by event id")}},pS=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${rl}/api/v1/event-leaders/delete-leadership-role-by-event/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete leadership role by event id")}},xS=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${rl}/api/v1/event-leaders/update-leadership-role-ranking-by-event/${a}`,{direction:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to update leadership role ranking by event id")}},al="http://localhost:1000",yS=async(a,r,o,l)=>{try{const c=localStorage.getItem("token");return(await Ee.post(`${al}/api/v1/general-documents/save-general-document`,{eventId:a,doc_type:r,title:o,file_url:l},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to save general document")}},bS=async(a,r)=>{try{const o=localStorage.getItem("token"),l=new FormData;return l.append("eventId",a),l.append("file",r),(await Ee.post(`${al}/api/v1/general-documents/upload-general-document`,l,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})).data}catch(o){throw new Error(o.response.data.message)}},Su=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${al}/api/v1/general-documents/get-general-documents-by-event/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch general documents")}},vS=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${al}/api/v1/general-documents/delete-general-document/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete general document")}},kx=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${al}/api/v1/general-documents/get-all-documents-by-event-Id/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch general documents")}},wS=()=>{const{eventId:a}=xs(),r=Dt(),[o,l]=y.useState("Event Info"),[c,d]=y.useState(""),[h,g]=y.useState(""),[x,m]=y.useState(""),[p,b]=y.useState(""),[j,S]=y.useState(""),[N,_]=y.useState(""),[k,A]=y.useState(""),[D,M]=y.useState(""),[X,H]=y.useState(""),[F,Q]=y.useState([]),[ce,me]=y.useState([]),[Se,_e]=y.useState(""),[be,de]=y.useState(""),[ee,he]=y.useState(""),[R,$]=y.useState(""),[T,B]=y.useState(""),[v,z]=y.useState(""),[G,P]=y.useState(""),[L,ne]=y.useState(""),[le,Te]=y.useState(""),[je,ve]=y.useState(""),[Ae,K]=y.useState(""),[fe,ze]=y.useState(""),[Ge,Ke]=y.useState(""),[tt,rt]=y.useState(""),[te,O]=y.useState(""),[J,xe]=y.useState(""),[Le,Xe]=y.useState(""),[W,Ue]=y.useState(""),[Y,Ce]=y.useState(""),[pe,re]=y.useState(!1),[He,ht]=y.useState([]),I=["Event Info","Support Contact","Participation Info","Registration Info"];y.useEffect(()=>{const De=async()=>{try{const Me=await lh(a||"");Me.success?(d(Me.data[0].name),g(Me.data[0].description),m(Me.data[0].start_date),b(Me.data[0].end_date),S(Me.data[0].locality.name),_(Me.data[0].fees_per_delegate),A(Me.data[0].website),M(Me.data[0].instagram),H(Me.data[0].cover_image)):E.error("Failed to get event by id: "+Me.message)}catch(Me){E.error("Failed to get event by id: "+Me.message)}},qe=async()=>{try{const Me=await Da(a||"");Me.success&&ht(Me.data)}catch(Me){E.error("Failed to get event leader ship roles: "+Me.message)}},ct=async()=>{try{const Me=await kx(a);if(Me.success){const _t=Me.data.filter(bt=>bt.doc_type==="general"),Ye=Me.data.filter(bt=>bt.doc_type!=="general");Q(_t),me(Ye)}else E.error("Failed to get documents by id: "+Me.message)}catch(Me){E.error("Failed to get documents by id: "+Me.message)}},We=async()=>{try{const Me=await xx(a),_t=Array.isArray(Me?.data)?Me.data[0]:Me?.data;if(Me?.success&&_t){const Ye=_t.user||_t.users||{},bt=Ye.school||{},Ot=bt.locality||{};_e(Ye.id??""),de(_t.registration_no??""),he(Ye.username??""),$(Ye.fullname??Ye.name??""),B(Ye.birthday??""),z(Ye.gender??""),P(bt.name??""),ne(Ot.name??""),Te(Ye.grade??""),ve(Ye.email??""),K(Ye.phone_e164??Ye.phone_number??""),ze(_t.mun_experience??""),Ke(_t.pref_committee_1.abbr??""),rt(_t.pref_committee_2.abbr??""),O(_t.pref_committee_3.abbr??""),xe(_t.food_pref??""),Xe(_t.food_allergies??""),Ue(_t.emergency_name??""),Ce(_t.emergency_phone??"")}else E.error("No registration info found for this event")}catch(Me){E.error("Failed to get registration info: "+Me.message)}};qe(),De(),ct(),We()},[a]);const q=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"w-[400px]",children:X&&t.jsx("img",{src:X,alt:"Event",className:"w-[400px] h-64 object-cover rounded-lg"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Name"}),t.jsx("input",{type:"text",value:c,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Description"}),t.jsx("textarea",{value:h,readOnly:!0,rows:6,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700 resize-none"})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Date"}),t.jsx("input",{type:"text",value:x+" - "+p,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Locality"}),t.jsx("input",{type:"text",value:j,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Fees"}),t.jsx("input",{type:"text",value:N,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Website"}),t.jsx("input",{type:"text",value:k,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Instagram"}),t.jsx("input",{type:"text",value:D,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]})]}),ge=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex gap-4 mb-4 ",children:[t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"80px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"ABBR"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"150px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Role"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"100px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Username"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Name"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"170px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Mobile"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"260px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Email"})})]}),He.map((De,qe)=>t.jsxs("div",{className:"flex gap-4 mb-3",children:[t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"80px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:De.leadership_roles.abbr})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"150px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:De.leadership_roles.leadership_role})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"100px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:De.users.username})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"200px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:De.users.fullname})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"170px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:De.users.phone_e164})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"260px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:De.users.email})})]},qe))]})}),ke=()=>t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"flex items-center gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Committee"}),t.jsx("input",{type:"text",value:"",readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),t.jsx("div",{className:"flex items-center gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Country"}),t.jsx("input",{type:"text",value:"",readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Documents"}),t.jsx("div",{className:"flex items-start gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"General"}),t.jsx("div",{className:"space-y-3",children:F&&F.length>0?F.map((De,qe)=>t.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[t.jsx("span",{className:"text-sm text-gray-900",children:De.title}),t.jsx("button",{onClick:()=>window.open(De.file_url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:t.jsx("img",{src:Ii,alt:"Download",className:"w-4 h-4"})})]},qe)):t.jsx("div",{className:"w-[400px] flex items-center justify-center bg-gray-50 border border-gray-300 rounded-lg px-4 py-3",children:t.jsx("span",{className:"text-sm text-gray-500",children:"No general documents available"})})})]})}),t.jsx("div",{className:"flex items-start gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Committee Related"}),t.jsx("div",{className:"space-y-3",children:ce&&ce.length>0?ce.map((De,qe)=>t.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[t.jsx("span",{className:"text-sm text-gray-900",children:De.title}),t.jsx("button",{onClick:()=>window.open(De.file_url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:t.jsx("img",{src:Ii,alt:"Download",className:"w-4 h-4"})})]},qe)):t.jsx("div",{className:"w-[400px] flex items-center justify-center bg-gray-50 border border-gray-300 rounded-lg px-4 py-3",children:t.jsx("span",{className:"text-sm text-gray-500",children:"No committee documents available"})})})]})})]})]}),Oe=()=>t.jsx("div",{className:"flex gap-8",children:t.jsxs("div",{className:"flex-1 space-y-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-8",children:t.jsx("div",{style:{width:"160px",height:"160px"},children:t.jsx(Ua,{size:"large",className:"w-[160px] h-[160px]"})})}),t.jsxs("div",{className:"w-[400px] gap-6",style:{display:"flex",flexDirection:"column",gap:"15px"},children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Registration No."}),t.jsx("input",{type:"text",value:be,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:ee,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Name"}),t.jsx("input",{type:"text",value:R,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Date of Birth"}),t.jsx("input",{type:"text",value:T,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Gender"}),t.jsx("input",{type:"text",value:v,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"School Name"}),t.jsx("input",{type:"text",value:G,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Locality of School"}),t.jsx("input",{type:"text",value:L,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Grade or Year"}),t.jsx("input",{type:"text",value:le,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"text",value:je,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mobile Number"}),t.jsx("input",{type:"text",value:Ae,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"MUN Experience in Years"}),t.jsx("input",{type:"text",value:fe,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 1"}),t.jsx("input",{type:"text",value:Ge,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 2"}),t.jsx("input",{type:"text",value:tt,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 3"}),t.jsx("input",{type:"text",value:te,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Preference"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${J==="Vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Vegetarian"}),t.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${J==="Non-Vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Non-Vegetarian"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Allergies"}),t.jsx("input",{type:"text",value:Le,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Emergency Contact Name"}),t.jsx("input",{type:"text",value:W,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Emergency Mobile Number"}),t.jsx("input",{type:"text",value:Y,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]}),t.jsx("div",{className:"mt-8",children:t.jsx("button",{onClick:()=>re(!pe),className:"bg-[#D9C7A1] text-gray-900 px-6 py-3 rounded-full font-medium hover:bg-[#C5B595] transition-colors",children:"Cancel Registration"})})]})}),$e=()=>{switch(o){case"Event Info":return q();case"Support Contact":return ge();case"Participation Info":return ke();case"Registration Info":return Oe();default:return q()}};return t.jsx(ys,{loadingText:"Loading Delegate Page...",children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"max-w-[80rem] px-6 py-8 flex flex-col items-left",style:{marginLeft:"13rem"},children:[t.jsx("div",{className:"flex items-center space-x-2 mb-8",children:I.map((De,qe)=>t.jsxs(Re.Fragment,{children:[t.jsx("button",{className:`flex items-center border border-gray-800 justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${o===De?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>l(De),children:De}),qe<I.length-1&&t.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},De))}),t.jsx("div",{className:"",children:t.jsx("div",{children:$e()})})]}),pe&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>re(!1)}),t.jsxs("div",{className:"relative bg-white border border-gray-800 rounded-lg p-6 shadow-xl w-[320px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h4",{className:"font-semibold text-gray-900",children:"Confirm Cancel"})}),t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[t.jsx("button",{onClick:async()=>{try{const De=await yx(Se);De?.success?(E.success("Registration cancelled successfully"),r("/home")):E.error(De?.message||"Failed to cancel registration")}catch(De){E.error(De?.message||"Failed to cancel registration")}finally{re(!1)}},className:"text-red-600 font-medium hover:text-red-800 transition-colors",children:"Yes"}),t.jsx("button",{onClick:()=>re(!1),className:"text-gray-900 font-medium hover:text-gray-700 transition-colors",children:"No"})]})]})]})]})})},jS=()=>{const a=Dt(),{eventId:r}=xs(),{allLocalities:o}=Lt(),[l,c]=y.useState("personal"),[d,h]=y.useState(""),[g,x]=y.useState(""),[m,p]=y.useState(""),[b,j]=y.useState(""),[S,N]=y.useState(""),[_,k]=y.useState(""),[A,D]=y.useState(""),[M,X]=y.useState(""),[H,F]=y.useState(""),[Q,ce]=y.useState(""),[me,Se]=y.useState(""),[_e,be]=y.useState("");y.useEffect(()=>{(async()=>{try{const v=await Oa();v.success?(h(v.data.username||""),x(v.data.fullname||""),p(v.data.birthday||""),j(v.data.gender||""),k(v.data.school.name||""),D(v.data.school.locality_id||""),X(v.data.years_of_experience||""),F(v.data.email||""),ce(v.data.phone_number||"")):E.error("Failed to get user by id: "+v.message)}catch(v){E.error("Failed to get user by id: "+v.message)}})()},[]),y.useEffect(()=>{if(o&&o.length>0&&A){const B=o.find(v=>{const z=String(v.id||"").toLowerCase(),G=String(A||"").toLowerCase();return z===G});N(B&&B.name||"")}},[o,A]);const de=[{id:"personal",name:"Personal Info",active:l==="personal"},{id:"food",name:"Food Info",active:l==="food"}],ee=()=>{switch(l){case"personal":c("food");break;case"food":T();break}},he=()=>t.jsx("div",{className:"flex items-center justify-left mb-8",children:de.map((B,v)=>t.jsxs(Re.Fragment,{children:[t.jsx("div",{onClick:()=>c(B.id),style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px",background:B.active?"#395579":"#fff",border:"1px solid #000"},className:`text-sm font-medium transition-colors ${B.active?"text-white":"text-gray-700"}`,children:B.name}),v<de.length-1&&t.jsx("div",{className:"mx-2 text-gray-400",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},B.id))}),R=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Preference"}),t.jsx("div",{className:"flex space-x-4",children:["Vegetarian","Non-Vegetarian"].map(B=>t.jsx("button",{onClick:()=>Se(B),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${me===B?"bg-[#C2A46D] text-white":"text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:B},B))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Allergies"}),t.jsx("input",{type:"text",value:_e,onChange:B=>be(B.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Peanut"})]})]}),$=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-left mb-8",children:t.jsx("div",{className:"relative",children:t.jsx(Ua,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Username"}),t.jsx("input",{type:"text",value:d,disabled:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter username"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username is system generated"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Name"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:g,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter your name"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Date of Birth"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:m,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter date of birth"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Gender"}),t.jsx("div",{className:"flex space-x-4",children:["male","female","other"].map(B=>t.jsx("button",{disabled:!0,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b.toLowerCase()===B.toLowerCase()?"bg-[#C2A46D] text-white":" text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:B},B))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Place of School"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:S,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter place of school"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School Name"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:_,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter school name"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Years of Work Experience"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",disabled:!0,value:M,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter years of work experience"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Email"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"email",disabled:!0,value:H,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter email address"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Mobile"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"tel",disabled:!0,value:Q,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter mobile number"})})]})]})]}),T=async()=>{try{const B=await u4(r,me,_e);if(B.success){E.success("Registration completed successfully!");const v=await localStorage.getItem("userRole");a(v==="teacher"?`/teacher-registration-success/${r}`:`/student-registration-success/${r}`)}else E.error("Failed to register for event: "+B.message)}catch(B){E.error("Failed to register for event: "+B.message)}};return t.jsx(ys,{loadingText:"Loading Teacher Registration...",children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"mb-6",style:{color:"#000",fontSize:"18px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Review Info"}),he()]}),t.jsxs("div",{className:"max-w-2xl",children:[l==="personal"&&$(),l==="food"&&R()]}),t.jsx("div",{className:"flex justify-left mt-8",children:t.jsx("button",{onClick:ee,className:"font-medium text-white transition-all hover:opacity-90",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"160px",height:"50px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"16px"},children:"Continue"})})]})]})})},NS=()=>{const a=Dt(),{eventId:r}=xs();return t.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[t.jsx(Xt,{}),t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"You are registered to GMA MUN 2025"})}),t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:()=>a("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:o=>o.currentTarget.style.background="#B8945F",onMouseOut:o=>o.currentTarget.style.background="#C2A46D",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),t.jsxs("button",{onClick:()=>a(`/teacher-delegate-page/${r}`),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:o=>o.currentTarget.style.background="#B8945F",onMouseOut:o=>o.currentTarget.style.background="#C2A46D",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event"]})]})]})]})},SS=({eventName:a,eventStartDate:r,eventEndDate:o,locality:l,area:c,feesPerDelegate:d,numberOfSeats:h,totalRevenue:g})=>a?t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Event"}),t.jsx("div",{className:"text-lg text-gray-800 p-[10px]  w-full",children:a})]}),t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Date"}),t.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:[r," - ",o]})]}),t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Locality"}),t.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:l})]}),t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Area"}),t.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:c||"N/A"})]}),t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Fees"}),t.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:["AED ",d]})]}),t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Delegates"}),t.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:h||"0"})]}),t.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[t.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Total Revenue"}),t.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:["AED ",g||"0"]})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Allocation Summary"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-[800px] border border-gray-800 w-[570px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#607DA3] text-white ",children:[t.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[19%]"}),t.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Count"}),t.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Seats"}),t.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Allocated"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-800",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Total"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"13"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"360"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"202"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3  text-center font-medium border border-gray-800",children:"Country Committees"}),t.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"5"}),t.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"150"}),t.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"100"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3  text-center font-medium border border-gray-800",children:"Crisis Committees"}),t.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"4"}),t.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"120"}),t.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"35"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Role Committees"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"3"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"90"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"67"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Open Committees"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"}),t.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"})]})]})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Allocation Status"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("div",{className:"grid grid-cols-5 gap-2 w-[840px]",children:[t.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[t.jsx("span",{children:"Committee Type"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[t.jsx("span",{children:"Committees"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:t.jsx("span",{children:"Seats Total"})}),t.jsx("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:t.jsx("span",{children:"Seats Assigned"})}),t.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[t.jsx("span",{children:"Status"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Country"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"WHO"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:t.jsx("span",{className:"text-red-600 font-medium",children:"Full"})}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Country"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"UNGA"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"25"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:t.jsx("span",{className:"text-orange-600 font-medium",children:"Filling"})}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Crisis"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"CMC"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"10"}),t.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:t.jsx("span",{className:"text-green-600 font-medium",children:"Open"})})]})})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events available"}),t.jsx("p",{className:"text-gray-500",children:"Please create an event to view the dashboard."})]}),CS=({eventName:a,coverImage:r,eventDescription:o,eventStartDate:l,eventEndDate:c,school:d,locality:h,numberOfSeats:g,feesPerDelegate:x,totalRevenue:m,website:p,instagram:b,isUploadingCoverImage:j,editingField:S,tempValue:N,showDatePicker:_,onFieldEdit:k,onFieldChange:A,onCancelEdit:D,onCoverImageUpload:M,onDateRangeChange:X,onDatePickerToggle:H,onDatePickerClose:F,onUpdateEvent:Q,isSaving:ce})=>{const me=y.useRef(null),Se=(be,de,ee,he="text",R,$=!0)=>{const T=S===de,B=T?N:ee;return t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:be}),t.jsxs("div",{className:"relative",children:[he==="textarea"?t.jsx("textarea",{value:B,disabled:!T,onChange:v=>A(de,v.target.value),rows:R||4,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${T?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${be.toLowerCase()}`}):t.jsx("input",{type:he,value:B,disabled:!T,onChange:v=>A(de,v.target.value),className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${T?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${be.toLowerCase()}`}),!T&&$&&t.jsx("button",{onClick:()=>k(de,ee),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"43.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),T&&$&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"43rem"},children:t.jsx("button",{onClick:D,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]})]})},_e=(be,de)=>{const ee=S===de;return t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:be}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{onClick:()=>ee&&H(),className:`w-[400px] px-4 py-3 border rounded-lg transition-colors ${ee?"border-[#1E395D] cursor-pointer hover:border-[#1E395D]":"border-gray-300 bg-gray-50 cursor-not-allowed"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Start Date"}),t.jsx("span",{className:"text-sm font-medium",children:l?new Date(l).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]}),t.jsx("div",{className:"text-gray-400",children:"to"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),t.jsx("span",{className:"text-sm font-medium",children:c?new Date(c).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]})]}),t.jsx("div",{className:"text-gray-400",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),_&&ee&&t.jsx("div",{className:"absolute top-full left-0 z-50 mt-1",children:t.jsx(Sx,{startDate:l,endDate:c,onDateRangeChange:X,onClose:F,maxDays:7})}),!ee&&t.jsx("button",{onClick:()=>k(de,`${l} - ${c}`),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"43.75rem"},children:t.jsx("img",{src:Ys,alt:"Edit",className:"w-4 h-4"})}),ee&&t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"43rem"},children:t.jsx("button",{onClick:D,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:ee?"Click on the date field to open calendar":"Select the start and end dates for your event"})]})};return a?t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Image"})}),t.jsxs("div",{className:"relative inline-block",children:[j?t.jsx("div",{className:"w-[400px] h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:t.jsx(Rr,{size:"large",text:"Uploading..."})}):t.jsx("div",{className:"w-[400px] h-64 bg-gray-200 rounded-lg overflow-hidden",children:t.jsx("img",{src:r||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",alt:a,className:"w-[400px] h-full object-cover"})}),t.jsx("button",{onClick:()=>!j&&me.current?.click(),disabled:j,className:`absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${j?"bg-gray-300 cursor-not-allowed opacity-50":"hover:bg-gray-300"}`,style:{right:"-1.5rem",bottom:"-0.5rem"},children:t.jsx("img",{src:Ys,alt:"Edit Cover Image",className:"w-4 h-4"})}),t.jsx("input",{ref:me,type:"file",accept:"image/*",onChange:M,disabled:j,className:"hidden"})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Event Information"}),t.jsxs("div",{className:"flex flex-col gap-6",children:[Se("Event Name","name",a||""),Se("Event Description","description",o||"","textarea",4),_e("Date","date"),Se("School","school_name",d||"","text",void 0,!1),Se("Locality","locality",h||"","text",void 0,!1),Se("Seats","number_of_seats",g||""),Se("Fees","fees_per_delegate",x||""),t.jsxs("div",{className:"w-[400px] flex justify-between items-center py-3 border-b border-gray-200",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Revenue"}),t.jsxs("div",{className:"text-lg text-gray-800 font-medium",children:["AED ",m||"0"]})]}),Se("Website","website",p||""),Se("Instagram","instagram",b||"")]}),t.jsx("div",{className:"mt-8 flex justify-start",children:t.jsx("button",{onClick:Q,disabled:ce,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:ce?"#bdbdbd":"#C2A46D",cursor:ce?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:ce?"Saving...":"Save"})})]})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No event selected"}),t.jsx("p",{className:"text-gray-500",children:"Please select an event to view details."})]})},kS=()=>{const{eventId:a}=xs(),{allLeadershipRoles:r}=Lt(),[o,l]=y.useState([]),[c,d]=y.useState(!0),[h,g]=y.useState(null),[x,m]=y.useState(!1),[p,b]=y.useState(null),[j,S]=y.useState({abbr:"",role:"",username:"",name:"",selectedUserId:""}),[N,_]=y.useState({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""}),k=y.useRef({}),[A,D]=y.useState(!1),[M,X]=y.useState([]),[H,F]=y.useState([]),Q=y.useRef(null),[ce,me]=y.useState(!1),[Se,_e]=y.useState([]),be=y.useRef(null),[de,ee]=y.useState(!1),[he,R]=y.useState(null),[$,T]=y.useState(new Set),[B,v]=y.useState(!1),[z,G]=y.useState(!1),P=O=>{g(h===O?null:O)};y.useEffect(()=>{(async()=>{if(a){d(!0);try{const J=await Da(a);if(J.success){const Xe=(J.data||[]).sort((W,Ue)=>{const Y=W.ranking??0,Ce=Ue.ranking??0;return Y-Ce});l(Xe)}const xe=await px(a);console.log("allRegistrationsResponse",xe),xe.success&&F(xe.data)}catch(J){console.error("Error fetching data:",J),E.error("Failed to load leadership roles data")}finally{d(!1)}}})()},[a]);const L=(O,J)=>{if(O==="edit"){const xe=o.find(Le=>Le.id===J);xe&&(_({abbr:xe.leadership_roles?.abbr||"",role:xe.leadership_roles?.leadership_role||"",username:xe.users?.username||"",name:xe.users?.fullname||"",selectedUserId:xe.users?.id?.toString()||"",id:xe.id.toString()}),b(J))}else O==="delete"?(R(J),ee(!0)):O==="add_support"&&T(xe=>{const Le=new Set(xe);return Le.has(J)?Le.delete(J):Le.add(J),Le});g(null)},ne=async()=>{if(he)try{if(console.log("roleToDelete",he),(await pS(he.toString())).success){E.success("Leadership role deleted successfully");const J=await Da(a||"");if(J.success){const Le=(J.data||[]).sort((Xe,W)=>{const Ue=Xe.ranking??0,Y=W.ranking??0;return Ue-Y});l(Le)}}}catch(O){E.error(O.message||"Failed to delete leadership role")}ee(!1),R(null)},le=()=>{ee(!1),R(null)},Te=async(O,J)=>{try{if((await xS(O.toString(),J)).success){E.success("Ranking updated successfully");const Le=await Da(a||"");if(Le.success){const W=(Le.data||[]).sort((Ue,Y)=>{const Ce=Ue.ranking??0,pe=Y.ranking??0;return Ce-pe});l(W)}}}catch(xe){E.error(xe.message||"Failed to update ranking")}},je=()=>{m(!0),S({abbr:"",role:"",username:"",name:"",selectedUserId:""})},ve=(O,J)=>{S(xe=>({...xe,[O]:J})),O==="role"&&(J.trim()?(D(!0),K(J.trim())):(D(!1),X([]))),O==="username"&&(J.trim()?(me(!0),fe(J.trim())):(me(!1),_e([]),S(xe=>({...xe,name:"",selectedUserId:""}))))},Ae=(O,J)=>{_(xe=>({...xe,[O]:J})),O==="role"&&(J.trim()?(D(!0),K(J.trim())):(D(!1),X([]))),O==="username"&&(J.trim()?(me(!0),fe(J.trim())):(me(!1),_e([]),_(xe=>({...xe,name:"",selectedUserId:""}))))},K=O=>{if(!r||r.length===0){X([]);return}const J=r.filter(xe=>{const Le=xe.leadership_role||xe.role||"",Xe=xe.abbr||"";return Le.toLowerCase().includes(O.toLowerCase())||Xe.toLowerCase().includes(O.toLowerCase())});X(J)},fe=O=>{if(!H||H.length===0){_e([]);return}const J=H.filter(xe=>{const Le=xe.user||xe,Xe=Le.username||"",W=Le.fullname||"";return Xe.toLowerCase().includes(O.toLowerCase())||W.toLowerCase().includes(O.toLowerCase())});_e(J)},ze=O=>{p?_(J=>({...J,role:O.leadership_role||O.role||"",abbr:O.abbr||""})):S(J=>({...J,role:O.leadership_role||O.role||"",abbr:O.abbr||""})),D(!1),X([])},Ge=O=>{const J=O.user||O;p?_(xe=>({...xe,username:J.username||"",name:J.fullname||"",selectedUserId:J.id||""})):S(xe=>({...xe,username:J.username||"",name:J.fullname||"",selectedUserId:J.id||""})),me(!1),_e([])},Ke=async()=>{if(!B)try{if(v(!0),!j.role||!j.username||!j.selectedUserId){E.error("Please fill in all required fields");return}const O=r.find(J=>(J.leadership_role||J.role)===j.role);if(O&&j.selectedUserId){const J=await mS(a||"",j.selectedUserId,O.id.toString());if(J.success){E.success("Leadership role added successfully"),m(!1),S({abbr:"",role:"",username:"",name:"",selectedUserId:""});const xe=await Da(a||"");if(xe.success){const Xe=(xe.data||[]).sort((W,Ue)=>{const Y=W.ranking??0,Ce=Ue.ranking??0;return Y-Ce});l(Xe)}}else E.error(J.message)}else E.error("Unable to save leadership role. Please try again.")}catch(O){E.error("Failed to save leadership role: "+O.message)}finally{v(!1)}},tt=()=>{m(!1),S({abbr:"",role:"",username:"",name:"",selectedUserId:""}),D(!1),me(!1),X([]),_e([])},rt=async()=>{if(!z)try{if(G(!0),!N.role||!N.username||!N.selectedUserId){E.error("Please fill in all required fields");return}const O=r.find(J=>(J.leadership_role||J.role)===N.role);if(O&&N.selectedUserId){console.log("eventId",a),console.log("selectedUserId",N.selectedUserId),console.log("roleId",O.id.toString()),console.log("id",N.id.toString());const J=await gS(N.id.toString(),a||"",O.id.toString(),N.selectedUserId);if(J.success){E.success("Leadership role updated successfully"),b(null),_({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""});const xe=await Da(a||"");if(xe.success){const Xe=(xe.data||[]).sort((W,Ue)=>{const Y=W.ranking??0,Ce=Ue.ranking??0;return Y-Ce});l(Xe)}}else E.error(J.message)}else E.error("Unable to update leadership role. Please try again.")}catch(O){E.error("Failed to update leadership role: "+O.message)}finally{G(!1)}},te=()=>{b(null),_({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""})};return y.useEffect(()=>{const O=J=>{Object.values(k.current).every(Le=>!Le||!Le.contains(J.target))&&g(null),Q.current&&!Q.current.contains(J.target)&&D(!1),be.current&&!be.current.contains(J.target)&&me(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]),c?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading leadership roles..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-6 ",style:{marginBottom:"16px"},children:t.jsxs("div",{className:"grid grid-cols-[100px_200px_220px_280px_60px] gap-4",children:[t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"ABBR"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Leadership Role"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Username"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Name"}),t.jsx("div",{}),o.map(O=>t.jsxs(Re.Fragment,{children:[p===O.id?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:N.abbr,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),t.jsxs("div",{ref:Q,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[t.jsx("input",{type:"text",value:N.role,onChange:J=>Ae("role",J.target.value),onFocus:()=>{N.role.trim()&&(D(!0),K(N.role.trim()))},placeholder:"Enter role name",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),A&&M.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:M.map((J,xe)=>t.jsxs("button",{type:"button",onClick:()=>ze(J),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"font-medium",children:J.leadership_role||J.role}),J.abbr&&t.jsxs("div",{className:"text-xs text-gray-500",children:["(",J.abbr,")"]})]},J.id||xe))})]}),t.jsxs("div",{ref:be,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[t.jsx("input",{type:"text",value:N.username,onChange:J=>Ae("username",J.target.value),onFocus:()=>{N.username.trim()&&(me(!0),fe(N.username.trim()))},placeholder:"Enter username",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),ce&&Se.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:Se.map((J,xe)=>{const Le=J.user||J;return t.jsxs("button",{type:"button",onClick:()=>Ge(J),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"font-medium",children:Le.username}),t.jsx("div",{className:"text-xs text-gray-500",children:Le.fullname})]},Le.id||xe)})})]}),t.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:N.name,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center justify-center",children:t.jsx("div",{className:"text-sm text-gray-900 text-center w-full",children:O.leadership_roles?.abbr||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:t.jsx("div",{className:"text-sm text-gray-900 w-full",children:O.leadership_roles?.leadership_role||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:t.jsx("div",{className:"text-sm text-gray-900 w-full",children:O.users?.username||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:t.jsx("div",{className:"text-sm text-gray-900 w-full",children:O.users?.fullname||"-"})})]}),t.jsx("div",{className:"bg-gray-50 px-0 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"relative flex items-center justify-center space-x-1",children:[t.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 p-1",title:"Editing Mode",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}),t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("button",{onClick:()=>Te(O.id,-1),disabled:o.findIndex(J=>J.id===O.id)===0,className:"text-gray-600 hover:text-gray-800 p-1 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M18 15l-6-6-6 6"})})}),t.jsx("button",{onClick:()=>Te(O.id,1),disabled:o.findIndex(J=>J.id===O.id)===o.length-1,className:"text-gray-600 hover:text-gray-800 p-1 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),$.has(O.id)&&t.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1",title:"Support Enabled",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:[t.jsx("path",{d:"M3 14v3a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-3"}),t.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v6a5 5 0 0 0 10 0V7a5 5 0 0 0-5-5z"}),t.jsx("path",{d:"M8 12h8",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round"})]})}),t.jsxs("div",{ref:J=>{k.current[O.id]=J},className:"relative",children:[t.jsx("button",{onClick:()=>P(O.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),h===O.id&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"py-1",children:[t.jsx("button",{onClick:()=>L("edit",O.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Edit"}),t.jsx("button",{onClick:()=>L("delete",O.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Delete"}),t.jsx("button",{onClick:je,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Add Role"}),t.jsx("button",{onClick:()=>L("add_support",O.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:$.has(O.id)?"Remove Support":"Add as Support"})]})})]})]})})]},O.id)),x&&t.jsxs("div",{className:`col-span-${p!==null?"6":"5"} grid gap-4 ${p!==null?"grid-cols-[100px_200px_220px_280px_80px_80px]":"grid-cols-[100px_200px_220px_280px_80px]"}`,children:[t.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:j.abbr,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),t.jsxs("div",{ref:Q,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[t.jsx("input",{type:"text",value:j.role,onChange:O=>ve("role",O.target.value),onFocus:()=>{j.role.trim()&&(D(!0),K(j.role.trim()))},placeholder:"Enter role name",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),A&&M.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:M.map((O,J)=>t.jsxs("button",{type:"button",onClick:()=>ze(O),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"font-medium",children:O.leadership_role||O.role}),O.abbr&&t.jsxs("div",{className:"text-xs text-gray-500",children:["(",O.abbr,")"]})]},O.id||J))})]}),t.jsxs("div",{ref:be,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[t.jsx("input",{type:"text",value:j.username,onChange:O=>ve("username",O.target.value),onFocus:()=>{j.username.trim()&&(me(!0),fe(j.username.trim()))},placeholder:"Enter username",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),ce&&Se.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:Se.map((O,J)=>{const xe=O.user||O;return t.jsxs("button",{type:"button",onClick:()=>Ge(O),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"font-medium",children:xe.username}),t.jsx("div",{className:"text-xs text-gray-500",children:xe.fullname})]},xe.id||J)})})]}),t.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:j.name,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),t.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:t.jsx("div",{className:"relative flex items-center justify-center",children:t.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 p-1",title:"Adding New Role",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})})})}),p!==null&&t.jsx("div",{})]})]})}),t.jsxs("div",{className:"w-[925px] flex justify-between",children:[p!==null?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:te,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"}),t.jsx("button",{onClick:rt,disabled:z,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:z?.6:1,background:z?"#bdbdbd":"#607DA3",cursor:z?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:z?"Saving...":"Save"})]}):t.jsxs(t.Fragment,{children:[x?t.jsx("button",{onClick:tt,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Close"}):t.jsx("button",{onClick:je,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Add Role"}),x&&t.jsx(t.Fragment,{children:t.jsx("button",{onClick:Ke,disabled:B,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:B?.6:1,background:B?"#bdbdbd":"#C2A46D",cursor:B?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:B?"Saving...":"Save"})})]}),t.jsx(Vs,{isOpen:de,onClose:le,onConfirm:ne,title:"Confirm Delete",message:"Are you sure you want to delete this leadership role? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})]})},ds=[];for(let a=0;a<256;++a)ds.push((a+256).toString(16).slice(1));function ES(a,r=0){return(ds[a[r+0]]+ds[a[r+1]]+ds[a[r+2]]+ds[a[r+3]]+"-"+ds[a[r+4]]+ds[a[r+5]]+"-"+ds[a[r+6]]+ds[a[r+7]]+"-"+ds[a[r+8]]+ds[a[r+9]]+"-"+ds[a[r+10]]+ds[a[r+11]]+ds[a[r+12]]+ds[a[r+13]]+ds[a[r+14]]+ds[a[r+15]]).toLowerCase()}let Cu;const _S=new Uint8Array(16);function AS(){if(!Cu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cu=crypto.getRandomValues.bind(crypto)}return Cu(_S)}const DS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sp={randomUUID:DS};function TS(a,r,o){a=a||{};const l=a.random??a.rng?.()??AS();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,ES(l)}function RS(a,r,o){return sp.randomUUID&&!a?sp.randomUUID():TS(a)}const LS=()=>{const[a,r]=y.useState("country"),[o,l]=y.useState([]),[c,d]=y.useState([]),[h,g]=y.useState(null),[x,m]=y.useState(null),[p,b]=y.useState(!1),[j,S]=y.useState(!1),[N,_]=y.useState(!1),[k,A]=y.useState(!1),[D,M]=y.useState(!1),[X,H]=y.useState({x:0,y:0}),[F,Q]=y.useState(null),[ce,me]=y.useState(!1),[Se,_e]=y.useState(!0),[be,de]=y.useState(!1),ee=y.useRef(!1),[he,R]=y.useState(!1),[$,T]=y.useState([]),[B,v]=y.useState(null),z=y.useRef(null),[G,P]=y.useState(!1),[L,ne]=y.useState([]),[le,Te]=y.useState(null),[je,ve]=y.useState(null),Ae=y.useRef(null),K=y.useRef(null),fe=[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}],{eventId:ze}=xs(),{allCommittees:Ge,allRegistrations:Ke,refreshCommitteesData:tt,refreshRegistrationsData:rt,isLoading:te}=Lt();y.useEffect(()=>{tt()},[]),y.useEffect(()=>{ze&&rt(ze)},[ze]),y.useEffect(()=>{ee.current=N},[N]),y.useEffect(()=>{if(!N){const I=o.filter(q=>q.category===a);d(I)}},[o,a,N]),y.useEffect(()=>{ze&&(async()=>{try{_e(!0);const q=await Go(ze);if(!N){const ke=(q.data||[]).map(Oe=>{const $e=Oe&&typeof Oe.committee=="object"?Oe.committee:null,De=$e?$e.committee??$e.name??"":typeof Oe.committee=="string"?Oe.committee:"",qe=$e?$e.abbr??Oe.abbr??"":Oe.abbr??"",ct=$e?$e.id:Oe.committee_id??Oe.committeeId??void 0,We=$e?$e.category:Oe.category;return{id:String(Oe.id),committee:De,abbr:qe,committeeId:ct,seatsTotal:String(Oe.seats??Oe.seatsTotal??""),chairUsername:Oe.chair_username??"",chairName:Oe.chair_name??"",deputyChair1Username:Oe.deputy_chair_1_username??"",deputyChair1Name:Oe.deputy_chair_1_name??"",deputyChair2Username:Oe.deputy_chair_2_username??"",deputyChair2Name:Oe.deputy_chair_2_name??"",isNew:!1,category:We||"country"}});l(Array.isArray(ke)?ke:[])}}catch(q){console.error("Error fetching event committees:",q),E.error(q.message||"Failed to fetch event committees")}finally{_e(!1)}})()},[ze,a,N]),y.useEffect(()=>{const I=q=>{z.current&&!z.current.contains(q.target)&&(R(!1),T([]),v(null)),Ae.current&&!Ae.current.contains(q.target)&&(P(!1),ne([]),Te(null),ve(null)),K.current&&!K.current.contains(q.target)&&(M(!1),Q(null),A(!1))};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const O=async I=>{if(de(!0),r(I),R(!1),T([]),v(null),P(!1),ne([]),Te(null),ve(null),M(!1),Q(null),g(null),m(null),A(!1),c.some(ge=>ge.isNew))d(ge=>ge.filter(ke=>ke.category===I));else{_(!1);const ge=o.filter(ke=>ke.category===I);d(ge)}setTimeout(()=>{de(!1)},500)},J=(I,q)=>{const ge=["committee","seatsTotal","chairUsername","deputyChair1Username","deputyChair2Username"];!c.find($e=>$e.id===I)?.isNew&&!ge.includes(q)||(g(I),m(q),q==="chairUsername"||q==="deputyChair1Username"||q==="deputyChair2Username"?(Te(I),ve(q),P(!1),ne([])):(P(!1),ne([]),Te(null),ve(null)),M(!1),Q(null))},xe=(I,q)=>{h&&x&&q&&(d(ge=>ge.map(ke=>ke.id===q?{...ke,[x]:I}:ke)),_(!0)),x==="committee"&&(I.trim()?(R(!0),v(q||null),Le(I.trim())):(R(!1),T([]),v(null))),(x==="chairUsername"||x==="deputyChair1Username"||x==="deputyChair2Username")&&(I.trim()?(P(!0),Te(q||null),ve(x),Xe(I.trim())):(P(!1),ne([]),Te(null),ve(null)))},Le=I=>{if(!Ge||Ge.length===0){T([]);return}const ge=Ge.filter(ke=>ke.category===a).filter(ke=>{const Oe=ke.committee||"",$e=ke.abbr||"";return Oe.toLowerCase().includes(I.toLowerCase())||$e.toLowerCase().includes(I.toLowerCase())});T(ge)},Xe=I=>{if(!Ke||Ke.length===0){ne([]);return}const q=Ke.filter(ge=>{const ke=ge.user||ge,Oe=ke.username||"",$e=ke.fullname||"";return Oe.toLowerCase().includes(I.toLowerCase())||$e.toLowerCase().includes(I.toLowerCase())});ne(q)},W=I=>{h&&x==="committee"&&(d(q=>q.map(ge=>ge.id===h?{...ge,committee:I.committee||I.name||"",abbr:I.abbr||"Auto",committeeId:I.id}:ge)),_(!0)),R(!1),T([]),v(null),h&&m("seatsTotal")},Ue=I=>{const q=I&&I.user?I.user:I;h&&je&&(d(ge=>ge.map(ke=>{if(ke.id!==h)return ke;if(je==="chairUsername"||je==="deputyChair1Username"||je==="deputyChair2Username"){const Oe=je.replace("Username","Name");return{...ke,[je]:q?.username||"",[Oe]:q?.fullname||""}}if(je==="chairName"||je==="deputyChair1Name"||je==="deputyChair2Name"){const Oe=je.replace("Name","Username");return{...ke,[je]:q?.fullname||"",[Oe]:q?.username||""}}return ke})),_(!0)),P(!1),ne([]),Te(null),ve(null)},Y=(I,q)=>{I.preventDefault(),I.stopPropagation();const ge=I.currentTarget.getBoundingClientRect();H({x:ge.left,y:ge.bottom}),Q(q),M(!0)},Ce=()=>{if(c.some(ke=>ke.isNew))return;const q=RS(),ge={id:q,abbr:"Auto",committee:"",committeeId:void 0,seatsTotal:"",chairUsername:"",chairName:"",deputyChair1Username:"",deputyChair1Name:"",deputyChair2Username:"",deputyChair2Name:"",isNew:!0,category:a};g(null),m(null),A(!1),_(!0),d(ke=>[...ke,ge]),setTimeout(()=>{g(q),m("committee"),R(!1),T([]),v(null),P(!1),ne([]),Te(null),ve(null),M(!1),Q(null)},0)},pe=async()=>{try{if(!F)return;const I=c.find(ge=>ge.id===F);if(!I)return;if(I.isNew){d(ge=>ge.filter(ke=>ke.id!==F)),M(!1),Q(null);return}if(!(await uS(String(F))).success){E.error("Failed to delete committee");return}try{const Oe=((await Go(ze)).data||[]).map($e=>{const De=$e&&typeof $e.committee=="object"?$e.committee:null,qe=De?De.committee??De.name??"":typeof $e.committee=="string"?$e.committee:"",ct=De?De.abbr??$e.abbr??"":$e.abbr??"",We=De?De.id:$e.committee_id??$e.committeeId??void 0,Me=De?De.category:$e.category;return{id:String($e.id),committee:qe,abbr:ct,committeeId:We,seatsTotal:String($e.seats??$e.seatsTotal??""),chairUsername:$e.chair_username??"",chairName:$e.chair_name??"",deputyChair1Username:$e.deputy_chair_1_username??"",deputyChair1Name:$e.deputy_chair_1_name??"",deputyChair2Username:$e.deputy_chair_2_username??"",deputyChair2Name:$e.deputy_chair_2_name??"",isNew:!1,category:Me||"country"}});l(Array.isArray(Oe)?Oe:[])}catch{d(ke=>ke.filter(Oe=>Oe.id!==F))}E.success("Committee deleted")}catch(I){console.error("Error deleting committee:",I),E.error(I.message||"Failed to delete committee")}finally{M(!1),Q(null)}},re=()=>{F&&c.find(q=>q.id===F)&&(A(!0),g(F),m("committee"),_(!0)),M(!1),Q(null)},He=async()=>{try{b(!0);const I=h&&c.find(ke=>ke.id===h)||c.find(ke=>ke.isNew)||null;if(!I){E.error("No row selected to save");return}if(!I.committee||I.committee===""){E.error("Please select a committee before saving");return}if(!I.seatsTotal||I.seatsTotal===""){E.error("Please enter a number of seats before saving");return}const q=I.committeeId;if(!q){E.error("Please select a committee from the dropdown before saving");return}if(!(await cS(q.toString(),ze,a,I.abbr,I.seatsTotal,I.chairUsername,I.chairName,I.deputyChair1Username,I.deputyChair1Name,I.deputyChair2Username,I.deputyChair2Name)).success){E.error(`Failed to save committee: ${I.committee}`);return}d(ke=>ke.map(Oe=>Oe.id===I.id?{...Oe,isNew:!1}:Oe)),E.success("Committees saved successfully"),_(!1)}catch(I){console.error("Error saving committees:",I),E.error(I.message||"Failed to save committees")}finally{b(!1)}},ht=async()=>{try{S(!0);const I=h&&c.find(ke=>ke.id===h);if(!I){E.error("No row selected to update");return}if(!I.committee||I.committee===""){E.error("Please select a committee before updating");return}const q=I.committeeId;if(!q){E.error("Please select a committee from the dropdown before updating");return}if(console.log("[CommitteesPage] Updating committee with ID:",I.id,"identifier:",q),!(await dS(I.id,ze,q.toString(),a,I.seatsTotal,I.chairUsername,I.chairName,I.deputyChair1Username,I.deputyChair1Name,I.deputyChair2Username,I.deputyChair2Name)).success){E.error(`Failed to update committee: ${I.committee}`);return}E.success("Committee updated successfully"),_(!1),A(!1)}catch(I){console.error("Error updating committees:",I),E.error(I.message||"Failed to update committees")}finally{S(!1)}};return Se||be?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:be?"Loading committee data...":"Loading committees..."})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex space-x-2",children:fe.map(I=>t.jsx("button",{onClick:()=>O(I.id),disabled:be,className:`w-[200px] h-[58px] rounded-[20px] p-[5px] opacity-100 transition-colors text-sm font-medium ${a===I.id?"bg-[#6A8BAF] text-white":"bg-white text-black border border-gray-800"} ${be?"opacity-60 cursor-not-allowed":""}`,style:{transform:"rotate(0deg)"},children:be&&a===I.id?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading..."]}):I.name},I.id))}),c.length===0&&!te&&!be&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No committees available"}),t.jsx("p",{className:"text-gray-500 mb-4",children:'Click "Add Committee" to create your first committee.'})]}),c.length>0&&t.jsx("div",{className:"space-y-6 ",style:{marginBottom:"16px"},children:t.jsxs("div",{className:"grid grid-cols-[80px_200px_70px_100px_100px_100px_100px_100px_100px_0px] gap-4",children:[t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"ABBR"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Committee"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Seats Total"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Chair Username"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Chair Name"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 1 Username"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 1 Name"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 2 Username"}),t.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 2 Name"}),t.jsx("div",{}),c.map(I=>t.jsxs(Re.Fragment,{children:[t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center justify-center",children:t.jsx("div",{className:"text-sm text-gray-900 text-center w-full",children:I.abbr})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===I.id&&x==="committee"?t.jsxs("div",{className:" text-sm rounded-md relative w-full",ref:z,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",value:I.committee||"",onChange:q=>xe(q.target.value,I.id),placeholder:"E.g. United Nations Security Council",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),I.committee&&t.jsx("button",{onClick:()=>{xe("",I.id),R(!1),T([]),v(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),he&&B===I.id&&$.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:$.map((q,ge)=>t.jsxs("button",{type:"button",onClick:()=>W(q),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"font-medium",children:q.committee||q.name}),q.abbr&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ABBR: ",q.abbr]})]},q.id||ge))})]}):t.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===I.id?()=>J(I.id,"committee"):void 0,children:I.committee||"E.g. United Nations Security Council"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===I.id&&x==="seatsTotal"?t.jsx("div",{className:"text-sm relative w-full",children:t.jsx("input",{type:"text",value:I.seatsTotal||"",onChange:q=>xe(q.target.value,I.id),placeholder:"Enter number of seats",className:"w-full border-none outline-none text-gray-900",autoFocus:!0})}):t.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===I.id?()=>J(I.id,"seatsTotal"):void 0,children:I.seatsTotal})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===I.id&&x==="chairUsername"?t.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ae,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",value:I.chairUsername||"",onChange:q=>xe(q.target.value,I.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),I.chairUsername&&t.jsx("button",{onClick:()=>{xe("",I.id),P(!1),ne([]),Te(null),ve(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),G&&le===I.id&&je==="chairUsername"&&L.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:L.map((q,ge)=>{const ke=q&&q.user?q.user:q;return t.jsxs("button",{type:"button",onClick:()=>Ue(q),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-medium",children:["@",ke?.username]}),t.jsx("div",{className:"text-xs text-gray-500",children:ke?.fullname})]},ke?.id||ge)})})]}):t.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===I.id?()=>J(I.id,"chairUsername"):void 0,children:I.chairUsername||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:t.jsx("div",{className:"text-sm text-gray-900 w-full",children:I.chairName||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===I.id&&x==="deputyChair1Username"?t.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ae,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",value:I.deputyChair1Username||"",onChange:q=>xe(q.target.value,I.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),I.deputyChair1Username&&t.jsx("button",{onClick:()=>{xe("",I.id),P(!1),ne([]),Te(null),ve(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),G&&le===I.id&&je==="deputyChair1Username"&&L.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:L.map((q,ge)=>{const ke=q&&q.user?q.user:q;return t.jsxs("button",{type:"button",onClick:()=>Ue(q),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-medium",children:["@",ke?.username]}),t.jsx("div",{className:"text-xs text-gray-500",children:ke?.fullname})]},ke?.id||ge)})})]}):t.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===I.id?()=>J(I.id,"deputyChair1Username"):void 0,children:I.deputyChair1Username||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:t.jsx("div",{className:"text-sm text-gray-900 w-full",children:I.deputyChair1Name||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===I.id&&x==="deputyChair2Username"?t.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ae,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",value:I.deputyChair2Username||"",onChange:q=>xe(q.target.value,I.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),I.deputyChair2Username&&t.jsx("button",{onClick:()=>{xe("",I.id),P(!1),ne([]),Te(null),ve(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),G&&le===I.id&&je==="deputyChair2Username"&&L.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:L.map((q,ge)=>{const ke=q&&q.user?q.user:q;return t.jsxs("button",{type:"button",onClick:()=>Ue(q),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-medium",children:["@",ke?.username]}),t.jsx("div",{className:"text-xs text-gray-500",children:ke?.fullname})]},ke?.id||ge)})})]}):t.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===I.id?()=>J(I.id,"deputyChair2Username"):void 0,children:I.deputyChair2Username||"-"})}),t.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:t.jsx("div",{className:"text-sm text-gray-900 w-full",children:I.deputyChair2Name||"-"})}),t.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:t.jsx("div",{className:"relative flex items-center justify-center space-x-3",children:!I.isNew&&t.jsx("button",{onClick:q=>Y(q,I.id),className:"text-blue-600 hover:text-blue-800 p-1",title:"Actions",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})})]},I.id))]})}),D&&t.jsx("div",{ref:K,className:"fixed bg-gray-100 border border-black rounded-lg shadow-lg z-50 w-40",style:{left:`${X.x-100}px`,top:`${X.y}px`,minWidth:"150px",marginTop:"0px"},children:t.jsxs("div",{className:"py-1",children:[t.jsx("button",{onClick:re,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>{me(!0),M(!1)},className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Delete"}),t.jsx("button",{onClick:Ce,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Add Committee"})]})}),t.jsx(Vs,{isOpen:ce,onClose:()=>me(!1),onConfirm:async()=>{await pe(),me(!1)},title:"Delete committee?",message:"Are you sure you want to delete this committee from this event?",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"}),t.jsxs("div",{className:"w-[925px] flex justify-between",children:[t.jsx("button",{onClick:Ce,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:p?"#bdbdbd":"#C2A46D",cursor:p?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:"Add"}),(c.some(I=>I.isNew)||k)&&!p&&!j&&t.jsx("button",{onClick:k?ht:He,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#607DA3",cursor:"pointer",border:"none",boxShadow:"none"},children:k?"Update":"Save"}),(p||j)&&t.jsx("div",{className:"flex items-center justify-center",style:{width:"105px",height:"44px",borderRadius:"30px",background:"#bdbdbd",color:"#666",fontSize:"14px",fontWeight:"500"},children:p?"Saving...":"Updating..."})]})]})},ca="http://localhost:1000",OS=async(a,r,o,l)=>{try{const c=localStorage.getItem("token");return(await Ee.post(`${ca}/api/v1/event-committees-agendas/save-agenda`,{eventId:a,event_committeeId:r,agenda_abbr:o,agenda_title:l},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to save event committees agenda by event id")}},ki=async a=>{try{const r=localStorage.getItem("token");return(await Ee.get(`${ca}/api/v1/event-committees-agendas/get-event-committees-agendas-by-event/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch event committees agendas by event id")}},MS=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.patch(`${ca}/api/v1/event-committees-agendas/update-event-committees-agendas-by-id/${a}`,{agenda_title:r},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to update event committees agenda by id")}},US=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${ca}/api/v1/event-committees-agendas/delete-event-committees-agendas-by-id/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete event committees agenda by id")}},BS=async(a,r,o,l,c)=>{try{const d=localStorage.getItem("token");return(await Ee.post(`${ca}/api/v1/event-committees-agendas/save-event-committee-document`,{eventId:a,committeeId:r,doc_type:o,title:l,file_url:c},{headers:{Authorization:`Bearer ${d}`}})).data}catch(d){throw new Error(d.response?.data?.message||"Failed to save event committee document")}},zS=async(a,r,o)=>{try{const l=localStorage.getItem("token"),c=new FormData;return c.append("eventId",a),c.append("committeeId",r),c.append("file",o),(await Ee.post(`${ca}/api/v1/event-committees-agendas/upload-agenda-document`,c,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"multipart/form-data"}})).data}catch(l){throw new Error(l.response.data.message)}},Ei=async(a,r)=>{try{const o=localStorage.getItem("token");return(await Ee.get(`${ca}/api/v1/event-committees-agendas/get-agenda-documents-by-event/${a}/${r}`,{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to fetch agenda documents")}},$S=async a=>{try{const r=localStorage.getItem("token");return(await Ee.delete(`${ca}/api/v1/event-committees-agendas/delete-event-committee-document/${a}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete event committee document")}},IS=()=>{const[a,r]=y.useState(null),[o,l]=y.useState(null),[c,d]=y.useState([]),[h,g]=y.useState([]),[x,m]=y.useState(!0),[p,b]=y.useState(!1),[j,S]=y.useState("country"),[N,_]=y.useState(""),[k,A]=y.useState([]),[D,M]=y.useState([]),[X,H]=y.useState([]),[F,Q]=y.useState(null),[ce,me]=y.useState(null),[Se,_e]=y.useState(""),[be,de]=y.useState(!1),[ee,he]=y.useState(!1),[R,$]=y.useState(!1),[T,B]=y.useState(!1),[v,z]=y.useState(""),[G,P]=y.useState(""),L=y.useRef(null),ne=y.useRef(null),[le,Te]=y.useState(!1),[je,ve]=y.useState(null),[Ae,K]=y.useState(null),{eventId:fe}=xs(),ze=[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}];y.useEffect(()=>{const q=ge=>{L.current&&!L.current.contains(ge.target)&&r(null),ne.current&&!ne.current.contains(ge.target)&&l(null)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]),y.useEffect(()=>{(async()=>{if(fe)try{m(!0);const Oe=((await Go(fe)).data||[]).map(De=>{const qe=De&&typeof De.committee=="object"?De.committee:null,ct=qe?qe.committee??qe.name??"":typeof De.committee=="string"?De.committee:"",We=qe?qe.abbr??De.abbr??"":De.abbr??"",Me=qe?qe.id:De.committee_id??De.committeeId??void 0,_t=qe?qe.category:De.category;return{id:String(De.id),committee:ct,abbr:We,committeeId:Me,seatsTotal:String(De.seats??De.seatsTotal??""),chairUsername:De.chair_username??"",chairName:De.chair_name??"",deputyChair1Username:De.deputy_chair_1_username??"",deputyChair1Name:De.deputy_chair_1_name??"",deputyChair2Username:De.deputy_chair_2_username??"",deputyChair2Name:De.deputy_chair_2_name??"",category:_t||"country"}});d(Array.isArray(Oe)?Oe:[]);const $e=await ki(fe);if($e.success){const De=$e.data||[];A(De)}}catch(ge){console.error("Error fetching initial data:",ge),E.error(ge.message||"Failed to fetch data")}finally{m(!1)}})()},[fe]),y.useEffect(()=>{(async()=>{if(!fe||!N){H([]),b(!1);return}const ke=h.find(Oe=>Oe.abbr===N)?.id;if(!ke){b(!1);return}try{const Oe=await Ei(fe,ke);if(Oe.success){const $e=Oe.data?.data||[];if(Array.isArray($e)){const De=$e.filter(qe=>qe.doc_type===N).map(qe=>({id:qe.id,title:qe.title}));H(De)}else console.warn("Documents data is not an array:",$e),H([])}else console.error("Failed to fetch documents:",Oe.error),H([])}catch(Oe){console.error("Error fetching documents:",Oe),H([])}finally{b(!1)}})()},[fe,N,h]),y.useEffect(()=>{const q=c.filter(ge=>ge.category===j);if(g(q),q.length>0){const ge=q.map(Oe=>Oe.abbr).filter(Boolean),ke=[...new Set(ge)];ke.length>0&&_(ke[0])}},[c,j]),y.useEffect(()=>{if(!N){M([]);return}const q=k.filter(ge=>ge.agenda_abbr===N).map(ge=>({id:ge.id,title:ge.agenda_title||""}));M(q)},[k,N]);const Ge=()=>{const q=h.map(ge=>ge.abbr).filter(Boolean);return[...new Set(q)]},Ke=async q=>{b(!0),H([]),_(q)},tt=async q=>{try{const ge=q.target.files?.[0];if(ge){const Oe=h.find(De=>De.abbr===N)?.id,$e=await zS(fe||"",Oe||"",ge);if($e.success){E.success("Document uploaded successfully"),z($e.documentUrl),P(ge.name);const De=await Ei(fe||"",Oe||"");if(De.success){const ct=(De.data?.data||[]).filter(We=>We.doc_type===N).map(We=>({id:We.id,title:We.title}));H(ct)}b(!1)}else E.error($e.message),b(!1)}}catch(ge){E.error(ge.message)}q.target.value=""},rt=q=>{S(q)},te=(q,ge)=>{Q(q),_e(ge)},O=async(q,ge)=>{if(F&&!ee)try{if(!ge.trim()){E.error("Agenda title cannot be empty");return}he(!0);const ke=await MS(q.toString(),ge);if(ke.success){E.success("Agenda updated successfully");const Oe=await ki(fe||"");if(Oe.success){const $e=Oe.data||[];A($e)}}else E.error(ke.message||"Failed to update agenda")}catch(ke){E.error(ke.message||"Failed to update agenda")}finally{he(!1)}Q(null),_e("")},J=q=>{_e(q)},xe=async()=>{if(F&&!be)try{const ge=h.find(De=>De.abbr===N)?.id,ke=N,Oe=Se;if(!Oe.trim()){E.error("Agenda title cannot be empty");return}de(!0);const $e=await OS(fe||"",ge,ke,Oe);if($e.success){E.success("Agenda saved successfully");const De=await ki(fe||"");if(De.success){const qe=De.data||[];A(qe)}}else E.error($e.message||"Failed to save agenda")}catch(q){E.error(q.message||"Failed to save agenda")}finally{de(!1)}Q(null),_e("")},Le=()=>{F&&D.find(q=>q.id===F)?.title==="New Agenda Item"&&M(q=>q.filter(ge=>ge.id!==F)),Q(null),_e("")},Xe=q=>{ve(q),Te(!0),r(null)},W=async()=>{if(!(je===null||R))try{$(!0);const q=await US(je.toString());if(q.success){E.success("Agenda deleted successfully");const ge=await ki(fe||"");if(ge.success){const ke=ge.data||[];A(ke)}}else E.error(q.message||"Failed to delete agenda")}catch(q){E.error(q.message||"Failed to delete agenda")}finally{$(!1),Te(!1),ve(null)}},Ue=()=>{Te(!1),ve(null),K(null)},Y=()=>{const q=-Date.now(),ge={id:q,title:"New Agenda Item"};M([...D,ge]),Q(q),_e("New Agenda Item")},Ce=q=>{_e(q)},pe=()=>{ce&&H(q=>q.map(ge=>ge.id===ce?{...ge,name:Se}:ge)),me(null),_e("")},re=()=>{me(null),_e("")},He=async()=>{if(Ae!==null)try{const q=await $S(Ae.toString());if(q.success){E.success("Document deleted successfully");const ke=h.find(Oe=>Oe.abbr===N)?.id;if(ke){const Oe=await Ei(fe||"",ke);if(Oe.success){const De=(Oe.data?.data||[]).filter(qe=>qe.doc_type===N).map(qe=>({id:qe.id,title:qe.title}));H(De)}}b(!1)}else E.error(q.message||"Failed to delete document"),b(!1)}catch(q){E.error(q.message||"Failed to delete document"),b(!1)}finally{Te(!1),K(null)}},ht=async()=>{if(T)return;if(!fe){E.error("Event ID is missing. Please refresh the page and try again.");return}if(!N){E.error("Please select a committee first.");return}if(!G||G.trim()===""){E.error("Please enter a document name.");return}if(!v||v.trim()===""){E.error("Please select a file to upload.");return}const ge=h.find(ke=>ke.abbr===N)?.id;if(!ge){E.error("Committee ID not found. Please select a valid committee.");return}try{if(B(!0),(await BS(fe,ge,N,G.trim(),v.trim())).success){E.success("Document uploaded successfully");const Oe=await Ei(fe,ge);if(Oe.success){const De=(Oe.data?.data||[]).filter(qe=>qe.doc_type===N).map(qe=>({id:qe.id,title:qe.title}));H(De)}b(!1),l(null),me(null),_e(""),P(""),z("")}}catch(ke){E.error(ke.message||"Failed to upload document. Please try again."),b(!1)}finally{B(!1)}};if(x)return t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading data..."})]});const I=Ge();return t.jsxs(t.Fragment,{children:[t.jsx(Vs,{isOpen:le,onClose:Ue,onConfirm:je!==null?W:He,title:"Confirm Delete",message:`Are you sure you want to delete this ${je!==null?"agenda":"document"}? This action cannot be undone.`,confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex space-x-2",children:ze.map(q=>t.jsx("button",{onClick:()=>rt(q.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${j===q.id?"bg-[#607DA3] text-white":"bg-white text-black border border-gray-800"}`,children:q.name},q.id))}),I.length>0&&t.jsx("div",{className:"flex space-x-2",children:I.map(q=>t.jsx("button",{onClick:()=>Ke(q),disabled:p,className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${N===q?"bg-[#84B5F3] text-white":"bg-white text-black border border-gray-800"} ${p?"opacity-60 cursor-not-allowed":""}`,children:q},q))}),h.length===0&&!x&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No committees available"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No committees found for the selected category."})]}),h.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Committee Agendas"}),D.length===0?t.jsx("div",{className:"text-red-500 font-medium text-sm",children:"None"}):D.map(q=>t.jsxs("div",{className:"w-[400px] flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1",children:F===q.id?t.jsx("input",{type:"text",value:Se,onChange:ge=>J(ge.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter agenda title",autoFocus:!0}):t.jsx("input",{type:"text",value:q.title,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50"})}),F!==q.id&&t.jsxs("div",{className:"relative",ref:a===q.id?L:null,children:[t.jsx("button",{onClick:()=>r(a===q.id?null:q.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),a===q.id&&t.jsx("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-lg shadow-xl z-50 border border-gray-200",children:t.jsxs("div",{className:"py-2",children:[t.jsx("button",{onClick:()=>{te(q.id,q.title),r(null)},className:"block w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>Xe(q.id),className:"block w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Delete"})]})})]})]},q.id)),t.jsx("div",{className:"flex space-x-2",children:F!==null&&D.find(q=>q.id===F)?.title==="New Agenda Item"?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:xe,disabled:be,className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"120px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",background:be?"#bdbdbd":"#C2A46D",cursor:be?"not-allowed":"pointer",border:"none",boxShadow:"none",opacity:be?.6:1},children:be?"Saving...":"Save"}),t.jsx("button",{onClick:()=>{Le(),r(null)},className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"120px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",background:"#84B5F3",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"})]}):F!==null&&D.find(q=>q.id===F)?.title!=="New Agenda Item"?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>O(F,Se),disabled:ee,className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"120px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",background:ee?"#bdbdbd":"#C2A46D",cursor:ee?"not-allowed":"pointer",border:"none",boxShadow:"none",opacity:ee?.6:1},children:ee?"Updating...":"Update"}),t.jsx("button",{onClick:()=>{Le(),r(null)},className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"120px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",background:"#84B5F3",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"})]}):t.jsx(t.Fragment,{children:t.jsx("button",{onClick:Y,className:`text-white font-medium transition-colors ${be?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{width:"140px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:be?.5:1,background:be?"#bdbdbd":"#C2A46D",cursor:be?"not-allowed":"pointer",border:"none",boxShadow:"none"},disabled:be,children:"Add Agenda"})})})]}),h.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Committee Documents"}),p?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E395D]"}),t.jsx("span",{className:"ml-2 text-gray-600",children:"Loading documents..."})]}):!Array.isArray(X)||X.length===0?t.jsx("div",{className:"text-red-500 font-medium text-sm",children:"None"}):X.map(q=>t.jsxs("div",{className:"w-[400px] flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1",children:ce===q.id?t.jsx("input",{type:"text",value:Se,onChange:ge=>Ce(ge.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter document name",autoFocus:!0}):t.jsx("input",{type:"text",value:q.title,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50"})}),ce===q.id&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:pe,className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"120px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Update"}),t.jsx("button",{onClick:()=>{re(),l(null)},className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"120px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",background:"#84B5F3",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"})]}),ce!==q.id&&t.jsxs("div",{className:"relative",ref:o===q.id?ne:null,children:[t.jsx("button",{onClick:()=>l(o===q.id?null:q.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===q.id&&t.jsx("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-lg shadow-xl z-50 border border-gray-200",children:t.jsx("div",{className:"py-2",children:t.jsx("button",{onClick:()=>{K(q.id),Te(!0),l(null)},className:"block w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Delete"})})})]})]},q.id)),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"text",placeholder:G,className:"w-[350px] px-4 py-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",readOnly:!0}),t.jsxs("label",{className:`px-4 py-3 rounded-r-lg transition-colors duration-200 ${T?"bg-gray-400 cursor-not-allowed":"bg-[#C2A46D] text-white cursor-pointer hover:opacity-90"}`,style:{height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("input",{type:"file",onChange:tt,disabled:T,className:"hidden",accept:".pdf,.doc,.docx,.txt"})]})]}),t.jsx("button",{onClick:ht,className:`text-white font-medium transition-colors ${T?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{width:"auto",height:"44px",borderRadius:"30px",paddingLeft:"10px",paddingRight:"10px",gap:"10px",opacity:T?.5:1,background:T?"#bdbdbd":"#C2A46D",cursor:T?"not-allowed":"pointer",border:"none",boxShadow:"none"},disabled:T,children:T?t.jsx(t.Fragment,{children:"Uploading..."}):"Upload Document"})]})]})]})},FS=()=>{const[a,r]=y.useState(!0),[o,l]=y.useState(""),{eventId:c}=xs(),{allRegistrations:d,refreshRegistrationsData:h}=Lt();y.useEffect(()=>{(async()=>{try{r(!0),c&&await h(c)}catch{E.error("Failed to load contact info")}finally{r(!1)}})()},[c,h]);const g=y.useMemo(()=>Array.isArray(d)?d.map(m=>{const p=m?.user||{};return{id:m?.id||0,uniqueId:String(m?.user_id||"").slice(0,12),name:p?.fullname||"",mobile:p?.phone_e164||"",email:p?.email||"",emergencyContact:m?.emergency_phone||""}}):[],[d]),x=y.useMemo(()=>{const m=o.trim().toLowerCase();return m?g.filter(p=>p.name&&p.name.toLowerCase().includes(m)||p.uniqueId&&p.uniqueId.includes(o)||p.email&&p.email.toLowerCase().includes(m)||p.mobile&&p.mobile.toLowerCase().includes(m)):g},[g,o]);return a?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#395579]"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:m=>l(m.target.value),className:"min-w-[400px] pl-10 pr-4 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent"}),t.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})}),t.jsxs("div",{children:[t.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"100px 180px 150px 300px 170px"},children:["Unique ID","Name","Mobile","Email","Emergency Contact"].map(m=>m===" "?t.jsx("div",{},m):t.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#C6DAF4] border border-[#4A5F7A] flex items-center",children:t.jsx("span",{style:{width:"100%",wordWrap:"break-word"},children:m})},m))}),x.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:o?"No delegates found matching your search":"No delegate contacts found"}):x.map(m=>t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"100px 180px 150px 300px 170px"},children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.uniqueId.slice(0,8)}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:m.name}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.mobile||"-"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.email||"-"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.emergencyContact||"-"})]},m.id))]})]})},HS=()=>{const[a,r]=y.useState(!0),[o,l]=y.useState(""),{eventId:c}=xs(),{allRegistrations:d,refreshRegistrationsData:h}=Lt();y.useEffect(()=>{(async()=>{try{r(!0),c&&await h(c)}catch{E.error("Failed to load food info")}finally{r(!1)}})()},[c,h]);const g=y.useMemo(()=>Array.isArray(d)?d.map(m=>{const p=m?.user||{};return{id:m?.id||0,uniqueId:String(m?.user_id||"").slice(0,8),name:p?.fullname||"",mobile:p?.phone_e164||"",email:p?.email||"",food:m?.food_pref||"",allergies:m?.food_allergies||""}}):[],[d]),x=y.useMemo(()=>{const m=o.trim().toLowerCase();return m?g.filter(p=>p.name&&p.name.toLowerCase().includes(m)||p.uniqueId&&p.uniqueId.includes(o)||p.email&&p.email.toLowerCase().includes(m)||p.mobile&&p.mobile.toLowerCase().includes(m)||p.food&&p.food.toLowerCase().includes(m)||p.allergies&&p.allergies.toLowerCase().includes(m)):g},[g,o]);return a?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#395579]"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:m=>l(m.target.value),className:"w-[400px] pl-10 pr-4 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent"}),t.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})}),t.jsxs("div",{children:[t.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"100px 180px 150px 250px 150px 150px"},children:["Unique ID","Name","Mobile","Email","Food","Allergies"].map(m=>m===" "?t.jsx("div",{},m):t.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#C6DAF4] border border-[#4A5F7A] flex items-center",children:t.jsx("span",{style:{width:"100%",wordWrap:"break-word"},children:m})},m))}),x.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:o?"No delegates found matching your search":"No delegate food info found"}):x.map(m=>t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"100px 180px 150px 250px 150px 150px"},children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.uniqueId.slice(0,8)}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:m.name}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.mobile||"-"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.email||"-"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.food||"-"}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:m.allergies||"-"})]},m.id))]})]})},PS=()=>{const[a,r]=y.useState(!0),[o,l]=y.useState(!1),[c,d]=y.useState("country"),[h,g]=y.useState("FULL"),[x,m]=y.useState([]),[p,b]=y.useState(""),[j,S]=y.useState(null),[N,_]=y.useState([]),k=y.useRef(null),{eventId:A}=xs(),{allRegistrations:D,refreshRegistrationsData:M,allCommittees:X,allCountries:H}=Lt(),F=async(T,B,v)=>{try{if(!he.find(G=>G.id===T))return;_(G=>G.map(P=>P.id===T?{...P,assignedCommitteeId:B,assignedCommittees:[v]}:P)),E.success(`Committee "${v}" assigned successfully`)}catch(z){E.error(z.message||"Failed to assign committee")}},Q=async(T,B,v)=>{try{if(!he.find(G=>G.id===T))return;_(G=>G.map(P=>P.id===T?{...P,assignedCountryId:B,assignedCountry:v}:P)),E.success(`Country "${v}" assigned successfully`)}catch(z){E.error(z.message||"Failed to assign country")}},ce=T=>{_(B=>B.map(v=>v.id===T?{...v,isLocked:!v.isLocked}:v))},me=()=>{_(T=>T.map(B=>({...B,isLocked:!0}))),E.success("All delegates locked")},Se=()=>{_(T=>T.map(B=>({...B,isLocked:!1}))),E.success("All delegates unlocked")},_e=async T=>{try{const B=N.find(L=>L.id===T);if(!B){E.error("Delegate not found");return}const v=B.preferredCommittees[0],z="Afghanistan",G=X.find(L=>L.abbr===v),P=H.find(L=>L.name===z);if(!G||!P){E.error("Unable to find committee or country");return}await bx(T.toString(),G.id,P.id),_(L=>L.map(ne=>ne.id===T?{...ne,assignedCommittees:[G.abbr],assignedCommitteeId:G.id,assignedCountry:P.name,assignedCountryId:P.id}:ne)),S(null),E.success("Delegate assigned successfully")}catch(B){E.error(B.message||"Failed to assign delegate")}},be=async T=>{try{await vx(T.toString()),_(B=>B.map(v=>v.id===T?{...v,assignedCommittees:[],assignedCommitteeId:null,assignedCountry:"",assignedCountryId:null}:v)),S(null),E.success("Delegate unassigned successfully")}catch(B){E.error(B.message||"Failed to unassign delegate")}};y.useEffect(()=>{const T=B=>{k.current&&!k.current.contains(B.target)&&S(null)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),y.useEffect(()=>{(async()=>{try{if(r(!0),A){await M(A);const z=((await Go(A))?.data||[]).map(G=>{const P=G&&typeof G.committee=="object"?G.committee:null;return{id:String(G.id),abbr:P?P.abbr??G.abbr??"":G.abbr??"",committee:P?P.committee??P.name??"":G.committee??"",category:P?P.category:G.category||"country"}});m(Array.isArray(z)?z:[])}}catch(B){E.error(B?.message||"Failed to load allocation data")}finally{r(!1)}})()},[A,M]);const de=y.useMemo(()=>{const B=x.filter(z=>z.category===c).map(z=>z.abbr).filter(Boolean);return[...Array.from(new Set(B)),"FULL LIST"]},[x,c]),ee=y.useMemo(()=>Array.isArray(D)?D.map(T=>{const B=T?.user||{},v=[T?.pref_committee_1?.abbr,T?.pref_committee_2?.abbr,T?.pref_committee_3?.abbr].filter(Boolean);return{id:T?.id||0,uniqueId:String(T?.user_id||"").slice(0,8),name:B?.fullname||"",academicLevel:B?.grade||"N/A",school:B?.school?.name||B?.school_name||"",munExperience:T?.mun_experience??0,preferredCommittees:v,assignedCommittees:T?.assignedCommittees||T?.assigned_committees||[],assignedCommitteeId:T?.assigned_committee_id||null,assignedCountry:T?.assignedCountry||T?.assigned_country||"",assignedCountryId:T?.assigned_country_id||null,isLocked:T?.isLocked||!1}}):[],[D]);y.useEffect(()=>{_(ee)},[ee]);const he=y.useMemo(()=>{let T=N;if(h&&h!=="FULL"){const v=h;T=T.filter(z=>Array.isArray(z.assignedCommittees)&&z.assignedCommittees.includes(v)||Array.isArray(z.preferredCommittees)&&z.preferredCommittees.includes(v))}const B=p.trim().toLowerCase();return B?T.filter(v=>v.name&&v.name.toLowerCase().includes(B)||v.uniqueId&&v.uniqueId.includes(p)||v.school&&v.school.toLowerCase().includes(B)):T},[N,h,p]),R=T=>{d(T),l(!0),g("FULL"),setTimeout(()=>l(!1),200)},$=T=>{l(!0),g(T),setTimeout(()=>l(!1),150)};return a?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#395579]"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex space-x-2",children:[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}].map(T=>t.jsx("button",{onClick:()=>R(T.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${c===T.id?"bg-[#84B5F3]":"bg-white text-black border border-gray-800"}`,children:T.name},T.id))}),de.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(T=>t.jsxs("button",{onClick:()=>$(T),disabled:o,className:`w-[190px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${h===T?"bg-[#C6DAF4]":"bg-white text-black border border-gray-800"} ${o?"opacity-60 cursor-not-allowed":""}`,style:{fontSize:"14px"},children:[T,t.jsxs("div",{className:"text-black flex items-center justify-center gap-2",style:{fontSize:"14px",fontWeight:300},children:[t.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Total:",t.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:"30"})]}),t.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Assigned:",t.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:"10"})]})]})]},T))}),t.jsxs("div",{className:"flex items-center justify-start p-4 rounded-lg gap-8",children:[t.jsx("button",{onClick:()=>E.success("Download coming soon"),className:"w-[250px] text-white font-medium transition-colors hover:opacity-90",style:{height:"44px",borderRadius:"30px",paddingLeft:"16px",paddingRight:"16px",cursor:"pointer",border:"none",boxShadow:"none",background:"#4CAF50"},children:"Committee Allocations"}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search by name or MUN experience or school and assign",value:p,onChange:T=>b(T.target.value),className:"min-w-[415px] pl-10 pr-4 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent"}),t.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 mt-0 mr-16",style:{marginTop:"0px"},children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("div",{className:"relative",children:t.jsx("h1",{style:{fontWeight:700,fontStyle:"normal",fontSize:"30px",lineHeight:"150%",letterSpacing:"0%",verticalAlign:"middle",margin:0},children:h})})}),t.jsx("button",{onClick:()=>E.success("Download coming soon"),className:"text-white font-medium transition-colors hover:opacity-90",style:{height:"44px",borderRadius:"30px",paddingLeft:"16px",paddingRight:"16px",background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Download List"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"100px 120px 100px 140px 100px 170px 120px 100px 40px"},children:["Unique ID","Name","Academic Level","School","MUN Experience","Preferred Committees","Assigned Committees","Assigned Country"," "].map((T,B)=>T===" "?t.jsx("div",{},T):t.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${B<4?"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center justify-between":"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center"}`,children:[t.jsx("span",{style:{width:"100%",wordWrap:"break-word"},children:T}),B<4&&t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},T))}),o?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E395D]"}),t.jsx("span",{className:"ml-2 text-gray-600",children:"Loading..."})]}):he.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:p?"No delegates found matching your search":"No delegates found"}):he.map(T=>t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"100px 120px 100px 140px 100px 170px 120px 100px 40px"},children:[t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200 text-wrap",children:T.uniqueId}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:T.name}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200 text-wrap",children:T.academicLevel}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200 text-wrap",children:T.school}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200 text-wrap",children:T.munExperience}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:T.preferredCommittees.join(", ")}),t.jsx(zi,{options:X.map(B=>({id:B.id,name:B.abbr})),value:T.assignedCommitteeId||"",placeholder:"Committees",onSelect:(B,v)=>F(T.id,B,v),disabled:T.isLocked,className:"w-full"}),t.jsx(zi,{options:H.map(B=>({id:B.id,name:B.name})),value:T.assignedCountryId||"",placeholder:"Countries",onSelect:(B,v)=>Q(T.id,B,v),disabled:T.isLocked,className:"w-full"}),t.jsx("div",{className:"px-2 py-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>ce(T.id),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:T.isLocked?"Unlock delegate":"Lock delegate",children:T.isLocked?t.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}):t.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),t.jsxs("div",{className:"relative",ref:k,children:[t.jsx("button",{onClick:()=>S(j===T.id?null:T.id),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),j===T.id&&t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:[t.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",onClick:()=>_e(T.id),children:"Assign"}),t.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",onClick:()=>be(T.id),children:"Unassign"})]})]})]})})]},T.id))]}),t.jsxs("div",{className:"flex items-center justify-start space-x-4",children:[t.jsx("button",{onClick:me,className:"bg-[#C2A46D] text-white px-6 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:"Lock All"}),t.jsx("button",{onClick:Se,className:"bg-[#C2A46D] text-white px-6 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:"Unlock All"})]})]})},qS=({onSubSectionChange:a})=>{const[r,o]=y.useState("key-info"),[l,c]=y.useState([]),[d,h]=y.useState(!0),[g,x]=y.useState(""),[m,p]=y.useState(null),b=y.useRef(null),[j,S]=y.useState(!1),[N,_]=y.useState(null),[k,A]=y.useState(!1),[D,M]=y.useState([]),{eventId:X}=xs(),H=Dt(),{allRegistrations:F,refreshRegistrationsData:Q,allCommittees:ce,allCountries:me}=Lt(),Se=async(K,fe,ze)=>{try{if(!l.find(Ke=>Ke.id===K))return;c(Ke=>Ke.map(tt=>tt.id===K?{...tt,assignedCommittees:fe}:tt)),E.success(`Committee "${ze}" assigned successfully`)}catch(Ge){E.error(Ge.message||"Failed to assign committee")}},_e=async(K,fe,ze)=>{try{if(!l.find(Ke=>Ke.id===K))return;c(Ke=>Ke.map(tt=>tt.id===K?{...tt,assignedCountry:fe}:tt)),E.success(`Country "${ze}" assigned successfully`)}catch(Ge){E.error(Ge.message||"Failed to assign country")}},be=K=>{c(fe=>fe.map(ze=>ze.id===K?{...ze,isLocked:!ze.isLocked}:ze))},de=()=>{c(K=>K.map(fe=>({...fe,isLocked:!0}))),E.success("All delegates locked")},ee=()=>{c(K=>K.map(fe=>({...fe,isLocked:!1}))),E.success("All delegates unlocked")},he=[{id:"key-info",name:"Key Info"},{id:"contact-info",name:"Contact Info"},{id:"food-info",name:"Food Info"},{id:"allocation",name:"Allocation"}];y.useEffect(()=>{X&&(async()=>{h(!0);try{await Q(X)}catch{E.error("Failed to load delegates")}finally{h(!1)}})()},[X,Q]),y.useEffect(()=>{if(console.log(F,"allRegistrations============>"),F&&F.length>0){const K=F.map(fe=>({id:fe.id||0,uniqueId:fe.user_id.slice(0,6)||"",registrationId:fe.id.slice(0,6)||"",name:fe.user.fullname||"",academicLevel:fe.user.grade||"N/A",school:fe.user.school.name||"",munExperience:fe.mun_experience||0,preferredCommittees:[fe.pref_committee_1?.abbr,fe.pref_committee_2?.abbr,fe.pref_committee_3?.abbr].filter(Boolean),assignedCommittees:fe.assigned_committees||null,assignedCountry:fe.assigned_country||null,flag:fe.flag||null,isLocked:!1}));c(K)}else c([])},[F]),y.useEffect(()=>{if(a){const K=he.find(fe=>fe.id===r)?.name||"Key Info";a(K)}},[r,a,he]),y.useEffect(()=>{const K=fe=>{b.current&&!b.current.contains(fe.target)&&p(null)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]);const R=K=>{x(K)},$=()=>{E.success("Global Allocation feature coming soon")},T=()=>{X?H(`/upload-delegates/${X}`):E.error("Event ID not found")},B=async K=>{try{const fe=l.find(Ke=>Ke.id===K);if(!fe){E.error("Delegate not found");return}const ze=fe.assignedCommittees,Ge=fe.assignedCountry;if(!ze||!Ge){E.error("Please select both committee and country before assigning");return}await bx(K.toString(),ze,Ge),p(null),E.success("Delegate assigned successfully")}catch(fe){E.error(fe.message||"Failed to assign delegate")}},v=async K=>{try{await vx(K.toString()),c(fe=>fe.map(ze=>ze.id===K?{...ze,assignedCommittees:null,assignedCountry:null}:ze)),p(null),E.success("Delegate unassigned successfully")}catch(fe){E.error(fe.message||"Failed to unassign delegate")}},z=async K=>{await f4(K.toString()),_(K),S(!0),p(null)},G=K=>{p(null),H(`/view-delegate-profile/${K}`)},P=async K=>{try{const fe=l.find(Ge=>Ge.id===K);if(!fe){E.error("Delegate not found");return}p(null);const ze=!fe.flag;await m4(K.toString(),ze),c(Ge=>Ge.map(Ke=>Ke.id===K?{...Ke,flag:ze}:Ke)),E.success(ze?"Delegate flagged":"Delegate unflagged")}catch(fe){c(ze=>ze.map(Ge=>Ge.id===K?{...Ge,flag:!Ge.flag}:Ge)),E.error(fe.message||"Failed to toggle flag")}},L=K=>{p(null),A(!0),M([K])},ne=()=>{k?(A(!1),M([])):A(!0)},le=K=>{D.includes(K)?M(fe=>fe.filter(ze=>ze!==K)):M(fe=>[...fe,K])},Te=async()=>{try{if(D.length<2){E.error("Please select at least two delegates to merge");return}await g4(D);const K=D.slice(1);c(fe=>fe.filter(ze=>!K.includes(ze.id))),A(!1),M([]),E.success("Delegates merged successfully")}catch(K){E.error(K.message||"Failed to merge delegates")}},je=()=>{A(!1),M([])},ve=async()=>{if(N)try{await new Promise(K=>setTimeout(K,1e3)),c(K=>K.filter(fe=>fe.id!==N)),E.success("Delegate removed successfully")}catch(K){console.error("Error removing delegate:",K),E.error("Failed to remove delegate")}finally{S(!1),_(null)}},Ae=l.filter(K=>K.name&&K.name.toLowerCase().includes(g.toLowerCase())||K.registrationId&&K.registrationId.includes(g)||K.school&&K.school.toLowerCase().includes(g.toLowerCase()));return d?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#395579]"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex space-x-2",children:he.map(K=>t.jsx("button",{onClick:()=>o(K.id),className:`w-[150px] h-[58px] rounded-[20px] p-[5px] opacity-100 transition-colors text-sm font-medium ${r===K.id?"bg-[#6A8BAF] text-white":"bg-white text-black border border-gray-800"} ${d?"opacity-60 cursor-not-allowed":""}`,style:{transform:"rotate(0deg)"},children:K.name},K.id))}),r==="contact-info"?t.jsx(FS,{}):r==="food-info"?t.jsx(HS,{}):r==="allocation"?t.jsx(PS,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search",value:g,onChange:K=>R(K.target.value),className:"w-[400px] pl-10 pr-4 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent"}),t.jsx("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:$,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-[20px] hover:bg-green-700 transition-colors duration-200",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),t.jsx("span",{children:"Global Allocation"})]}),t.jsxs("button",{onClick:T,className:"flex items-center space-x-2 bg-[#C2A46D] text-white px-4 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("span",{children:"Upload Delegates"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:k?"40px 80px 80px 120px 100px 140px 80px 160px 140px 140px 105px":"80px 80px 120px 100px 140px 80px 160px 140px 140px 105px"},children:[k&&t.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#C6DAF4] border border-[#4A5F7A] flex items-center justify-center",children:"Select"}),["Unique ID","Registration ID","Name","Academic Level","School","MUN Experience","Preferred Committees","Assigned Committees","Assigned Country"," "].map((K,fe)=>K===" "?t.jsx("div",{},K):t.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${fe<4?"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center justify-between":"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center"}`,children:[t.jsx("span",{style:{width:"100%",wordWrap:"break-word"},children:K}),fe<4&&t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},K))]}),Ae.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:g?"No delegates found matching your search":"No delegates found"}):Ae.map(K=>t.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:k?"40px 80px 80px 120px 100px 140px 80px 160px 140px 140px 105px":"80px 80px 120px 100px 140px 80px 160px 140px 140px 105px"},children:[k&&t.jsx("div",{className:"bg-white px-3 py-2 rounded-md border border-gray-200 flex items-center justify-center",children:t.jsx("input",{type:"checkbox",checked:D.includes(K.id),onChange:()=>le(K.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K.uniqueId}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K.registrationId}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:K.name}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K.academicLevel}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K.school}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K.munExperience}),t.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:K.preferredCommittees.join(", ")||"-"}),t.jsx(zi,{options:ce.map(fe=>({id:fe.id,name:fe.abbr})),value:K.assignedCommittees||"",placeholder:"Committees",onSelect:(fe,ze)=>Se(K.id,fe,ze),disabled:K.isLocked,className:"w-full"}),t.jsx(zi,{options:me.map(fe=>({id:fe.id,name:fe.name})),value:K.assignedCountry||"",placeholder:"Countries",onSelect:(fe,ze)=>_e(K.id,fe,ze),disabled:K.isLocked,className:"w-full"}),t.jsx("div",{className:"px-3 py-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>be(K.id),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:K.isLocked?"Unlock delegate":"Lock delegate",children:K.isLocked?t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}):t.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),K.flag&&t.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M4 5V20",stroke:"#FF1616",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("path",{d:"M4 5H20V13H4",fill:"#FF1616"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>p(m===K.id?null:K.id),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),m===K.id&&t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:[t.jsx("button",{onClick:()=>B(K.id),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200",children:"Assign"}),t.jsx("button",{onClick:()=>v(K.id),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200",children:"Unassign"}),t.jsx("button",{onClick:()=>z(K.id),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200",children:"Remove from Event"}),t.jsx("button",{onClick:()=>G(K.id),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200",children:"View Profile"}),t.jsx("button",{onClick:()=>P(K.id),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-200",children:"Flag"}),t.jsx("button",{onClick:()=>L(K.id),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:"Merge"})]})]})]})})]},K.id))]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:de,className:"bg-[#C2A46D] text-white px-6 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:"Lock All"}),t.jsx("button",{onClick:ee,className:"bg-[#C2A46D] text-white px-6 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:"Unlock All"})]}),t.jsx("div",{className:"flex items-center space-x-4",children:k?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:je,className:"bg-[#C2A46D] text-white px-6 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:"Cancel"}),t.jsxs("button",{onClick:Te,disabled:D.length<2,className:`px-6 py-2 rounded-[20px] transition-colors duration-200 ${D.length>=2?"bg-[#C2A46D] text-white hover:opacity-90":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Merge (",D.length,")"]})]}):t.jsx("button",{onClick:ne,className:"bg-[#C2A46D] text-white px-6 py-2 rounded-[20px] hover:opacity-90 transition-colors duration-200",children:"Merge"})})]}),t.jsx(Vs,{isOpen:j,onClose:()=>S(!1),onConfirm:ve,title:"Remove Delegate",message:"Are you sure you want to remove this delegate from the event? This action cannot be undone.",confirmText:"Remove",cancelText:"Cancel",confirmButtonColor:"text-red-600"})]})]})},YS=()=>{const a=()=>{E.success("Upload Google Sheets feature coming soon")},r=()=>{E.success("Upload Google Form feature coming soon")};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-[#C2A46D]",children:[t.jsx("span",{children:"Organiser"}),t.jsx("span",{children:">"}),t.jsx("span",{children:"Delegates"}),t.jsx("span",{children:">"}),t.jsx("span",{children:"Key Info"}),t.jsx("span",{children:">"}),t.jsx("span",{className:"text-[#C2A46D] font-medium",children:"Upload Delegates"})]}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Delegates"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:a,className:"bg-[#C2A46D] text-white px-6 py-3 rounded-lg hover:opacity-90 transition-colors duration-200 font-medium",children:"Upload Google Sheets"}),t.jsx("button",{onClick:r,className:"bg-[#C2A46D] text-white px-6 py-3 rounded-lg hover:opacity-90 transition-colors duration-200 font-medium",children:"Upload Google Form"})]})]})},VS=()=>{const[a,r]=y.useState([]),[o,l]=y.useState(!0),[c,d]=y.useState(!1),[h,g]=y.useState(null),[x,m]=y.useState(null),[p,b]=y.useState(""),[j,S]=y.useState(!1),[N,_]=y.useState(!1),[k,A]=y.useState(""),[D,M]=y.useState(""),{eventId:X}=xs(),H=y.useRef(null),[F,Q]=y.useState(!1),[ce,me]=y.useState(null),Se=y.useRef(null);y.useEffect(()=>{(async()=>{l(!0);try{const T=await Su(X);if(T.success){const B=T.data?.data||[];r(B)}}catch(T){console.error("Error loading documents:",T),E.error("Failed to load documents")}finally{l(!1)}})()},[]),y.useEffect(()=>{const $=T=>{H.current&&!H.current.contains(T.target)&&g(null)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const _e=async $=>{try{const T=$.target.files?.[0];if(!T)return;const B=await bS(X,T);B.success?(E.success("Document uploaded successfully"),M(B.documentUrl),A(T.name)):E.error("Failed to upload document")}catch(T){console.error("Error uploading document:",T),E.error("Failed to upload document")}},be=async()=>{if(!c){if(!k.trim()){E.error("Please enter a document title");return}d(!0);try{if((await yS(X,"general",k,D)).success){E.success("Document saved successfully");const T=await Su(X);if(T.success){const B=T.data?.data||[];r(B)}M(""),A("")}else E.error("Failed to save document")}catch($){console.error("Error saving document:",$),E.error("Failed to save document")}finally{d(!1)}}},de=async()=>{if(!p.trim()){E.error("Document title cannot be empty");return}S(!0);try{await new Promise($=>setTimeout($,1e3)),r($=>$.map(T=>T.id===x?{...T,title:p.trim()}:T)),m(null),b(""),E.success("Document updated successfully")}catch($){console.error("Error updating document:",$),E.error("Failed to update document")}finally{S(!1)}},ee=()=>{m(null),b("")},he=$=>{Q(!0),me($),Q(!0),g(null)},R=async()=>{if(ce)try{if((await vS(ce.toString())).success){E.success("Document deleted successfully");const T=await Su(X);if(T.success){const B=T.data?.data||[];r(B)}}else E.error("Failed to delete document");r(T=>T.filter(B=>B.id.toString()!==ce))}catch($){console.error("Error deleting document:",$),E.error("Failed to delete document")}finally{Q(!1),me(null)}};return o?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#395579]"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"space-y-4 w-full max-w-[500px]",children:a.length===0?t.jsx("div",{className:"text-red-500 font-medium text-[20px]",children:"None"}):a.map($=>t.jsx("div",{className:"rounded-[16px] p-4 border border-gray-500 ",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex-1",children:x===$.id?t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"text",value:p,onChange:T=>b(T.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",autoFocus:!0}),t.jsx("button",{onClick:de,disabled:j,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:j?"Saving...":"Save"}),t.jsx("button",{onClick:ee,disabled:j,className:"bg-gray-500 hover:bg-gray-600 disabled:bg-gray-400 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"Cancel"})]}):t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx("span",{className:"text-gray-900 font-medium",children:$.title})})}),x!==$.id&&t.jsxs("div",{className:"relative",ref:H,children:[t.jsx("button",{onClick:()=>g(h===$.id?null:$.id),className:"p-2 hover:bg-gray-100 rounded-md transition-colors duration-200",children:t.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),h===$.id&&t.jsx("div",{className:"absolute right-0 top-full mt-1 w-32 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:t.jsx("button",{onClick:()=>he($.id.toString()),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:"Delete"})})]})]})},$.id))}),t.jsx("div",{className:"w-full max-w-[400px]",children:N?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"text",placeholder:"Add document title",disabled:!0,value:k,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent"}),t.jsxs("label",{className:`flex items-center justify-center w-12 h-12 border border-gray-300 rounded-lg transition-colors duration-200 ${c?"bg-gray-400 cursor-not-allowed":"bg-white cursor-pointer hover:bg-gray-50"}`,children:[t.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("input",{ref:Se,type:"file",accept:".pdf,.doc,.docx",onChange:_e,disabled:c,className:"hidden"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:be,disabled:c,className:`text-white font-medium transition-colors ${c?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{height:"44px",borderRadius:"30px",paddingLeft:"20px",paddingRight:"20px",background:c?"#bdbdbd":"#C2A46D",cursor:c?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:c?"Uploading...":"Save Document"}),t.jsx("button",{onClick:()=>{_(!1),A(""),M(""),Se.current&&(Se.current.value="")},className:"text-white font-medium transition-colors hover:opacity-90",style:{height:"44px",borderRadius:"30px",paddingLeft:"20px",paddingRight:"20px",background:"#84B5F3",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"})]})]}):t.jsx("button",{onClick:()=>_(!0),className:"text-white font-medium transition-colors hover:opacity-90",style:{width:"200px",height:"44px",borderRadius:"30px",gap:"10px",background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Upload Document"})}),t.jsx(Vs,{isOpen:F,onClose:()=>Q(!1),onConfirm:R,title:"Delete Document",message:"Are you sure you want to delete this document? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonColor:"text-red-600"})]})},GS=({steps:a,activeStep:r,onStepChange:o})=>t.jsx("div",{className:"flex items-center space-x-2",children:a.map(l=>t.jsx("button",{onClick:()=>o(l.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${r===l.id?"bg-[#395579] text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:l.name},l.id))}),WS=()=>{const a=Dt(),{eventId:r}=xs(),[o,l]=y.useState("dashboard"),[c,d]=y.useState(""),[h,g]=y.useState(""),[x,m]=y.useState(""),[p,b]=y.useState(""),[j,S]=y.useState(""),[N,_]=y.useState(""),[k,A]=y.useState(""),[D,M]=y.useState(""),[X,H]=y.useState(""),[F,Q]=y.useState(""),[ce,me]=y.useState(""),[Se,_e]=y.useState(""),[be,de]=y.useState(""),[ee,he]=y.useState(""),[R,$]=y.useState(""),[T,B]=y.useState(""),[v,z]=y.useState(""),[G,P]=y.useState(!1),[L,ne]=y.useState(!1),[le,Te]=y.useState(null),[je,ve]=y.useState(""),[Ae,K]=y.useState(!1),[fe,ze]=y.useState(!1),[Ge,Ke]=y.useState(!1),[tt,rt]=y.useState(null),[te,O]=y.useState({eventName:"",eventDescription:"",eventStartDate:"",eventEndDate:"",school:"",locality:"",numberOfSeats:"",feesPerDelegate:"",website:"",instagram:"",coverImage:""});y.useEffect(()=>{(async()=>{try{const We=await lh(r||"");if(We.success){if(We.data&&We.data.length>0){const Me=We.data[0];g(Me.name),m(Me.cover_image),b(Me.description),S(Me.start_date),_(Me.end_date),A(Me.locality.name),M(Me.school.name),H(Me.school.name),Q(Me.fees_per_delegate),me(Me.number_of_seats),_e(Me.website),de(Me.instagram),he(Me.locality.id),$(Me.school.id),B(Me.school.area_id),O({eventName:Me.name,eventDescription:Me.description,eventStartDate:Me.start_date,eventEndDate:Me.end_date,school:Me.school.name,locality:Me.locality.name,numberOfSeats:Me.number_of_seats,feesPerDelegate:Me.fees_per_delegate,website:Me.website,instagram:Me.instagram,coverImage:Me.cover_image}),pe(Me.number_of_seats,Me.fees_per_delegate)}}else E.error(We.message)}catch(We){console.error("Error fetching events:",We),E.error(We.message)}})()},[r,a]);const J=ct=>{if(fe&&o==="event-details"&&ct!=="event-details"){rt(ct),Ke(!0);return}l(ct)},xe=(ct,We)=>{Te(ct),ve(We)},Le=(ct,We)=>{switch(ve(We),ze(!0),ct){case"name":g(We);break;case"description":b(We);break;case"date":break;case"school_name":M(We);break;case"locality":A(We);break;case"number_of_seats":me(We),pe(We,F);break;case"fees_per_delegate":Q(We),pe(ce,We);break;case"website":_e(We);break;case"instagram":de(We);break}},Xe=()=>{if(le)switch(le){case"name":g(h);break;case"description":b(p);break;case"date":break;case"school_name":M(D);break;case"locality":A(k);break;case"number_of_seats":me(ce),pe(ce,F);break;case"fees_per_delegate":Q(F),pe(ce,F);break;case"website":_e(Se);break;case"instagram":de(be);break}Te(null),ve(""),ne(!1),ze(!1)},W=async ct=>{try{const We=ct.target.files;if(We){P(!0);const Me=await Gp(We?.[0]);Me.success?(E.success(Me.message),m(Me.imageUrl),ze(!0)):E.error(Me.message)}}catch(We){E.error(We.message)}finally{P(!1)}},Ue=(ct,We)=>{S(ct),_(We),ze(!0)},Y=()=>{ne(!L)},Ce=()=>{ne(!1)},pe=(ct,We)=>{const Me=Number(ct),_t=Number(We);!isNaN(Me)&&!isNaN(_t)&&Me>0&&_t>0?z((Me*_t).toString()):z("")},re=async()=>{try{K(!0),pe(ce,F);const ct=await Ww(r||"",h,p,j,N,x,ee,R,T,ce,F,v,Se,be);ct.success?(E.success(ct.message),ze(!1),O({eventName:h,eventDescription:p,eventStartDate:j,eventEndDate:N,school:D,locality:k,numberOfSeats:ce,feesPerDelegate:F,website:Se,instagram:be,coverImage:x})):E.error(ct.message)}catch(ct){E.error("Failed to update event: "+ct.message)}finally{K(!1)}},He=()=>{Ke(!1),rt(null)},ht=()=>{g(te.eventName),b(te.eventDescription),S(te.eventStartDate),_(te.eventEndDate),M(te.school),A(te.locality),me(te.numberOfSeats),Q(te.feesPerDelegate),_e(te.website),de(te.instagram),m(te.coverImage),pe(te.numberOfSeats,te.feesPerDelegate),Te(null),ve(""),ne(!1),ze(!1),Ke(!1),tt&&(l(tt),rt(null))},I=[{id:"dashboard",name:"Dashboard"},{id:"event-details",name:"Event Details"},{id:"leadership-roles",name:"Leadership Roles"},{id:"committees",name:"Committees"},{id:"agendas",name:"Agendas"},{id:"delegates",name:"Delegates"},{id:"general-documents",name:"General Documents"}],q=()=>{const ct=I.find(We=>We.id===o);return o==="delegates"&&c?`Organiser > ${ct?.name} > ${c}`:`Organiser > ${ct?.name||"Dashboard"}`},ge=()=>t.jsx(kS,{}),ke=()=>t.jsx(LS,{}),Oe=()=>t.jsx(IS,{}),$e=()=>t.jsx(SS,{eventName:h,eventStartDate:j,eventEndDate:N,locality:k,area:X,feesPerDelegate:F,numberOfSeats:ce,totalRevenue:v}),De=()=>t.jsx(CS,{eventName:h,coverImage:x,eventDescription:p,eventStartDate:j,eventEndDate:N,school:D,locality:k,numberOfSeats:ce,feesPerDelegate:F,totalRevenue:v,website:Se,instagram:be,isUploadingCoverImage:G,editingField:le,tempValue:je,showDatePicker:L,onFieldEdit:xe,onFieldChange:Le,onCancelEdit:Xe,onCoverImageUpload:W,onDateRangeChange:Ue,onDatePickerToggle:Y,onDatePickerClose:Ce,onUpdateEvent:re,isSaving:Ae}),qe=()=>{switch(o){case"dashboard":return $e();case"event-details":return De();case"leadership-roles":return ge();case"committees":return ke();case"agendas":return Oe();case"delegates":return t.jsx(qS,{onSubSectionChange:d});case"general-documents":return t.jsx(VS,{});default:return $e()}};return t.jsxs(ys,{loadingText:"Loading Organiser Dashboard...",children:[t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{maxWidth:"max-w-[88rem]"}),t.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-medium text-[#C2A46D] mb-6",children:q()}),t.jsx(GS,{steps:I,activeStep:o,onStepChange:J})]})}),qe()]})]}),t.jsx(C4,{isOpen:Ge,onKeepEditing:He,onDiscardChanges:ht})]})},KS=({users:a,onAction:r,isSuperUser:o=!1})=>{const[l,c]=y.useState(null),[d,h]=y.useState(null),[g,x]=y.useState(""),[m,p]=y.useState(!1),[b,j]=y.useState(null),[S,N]=y.useState([]),[_,k]=y.useState(!1),[A,D]=y.useState(""),[M,X]=y.useState(""),[H,F]=y.useState(null),[Q,ce]=y.useState(!1),{refreshUserData:me,allOrganisers:Se}=Lt(),_e=y.useRef(null),be=v=>Se.some(z=>z.userid===v),de=v=>{switch(v?.toLowerCase()){case"active":return"text-green-600";case"flagged":return"text-yellow-600";case"blocked":return"text-red-600";case"deleted":return"text-red-600";default:return"text-gray-600"}};y.useEffect(()=>{if(!g.trim())N(a);else{const v=a.filter(z=>{const G=g.toLowerCase(),P=z?.username||"",L=z?.fullname||"",ne=z?.school.code||"",le=z?.school?.name||"",Te=z?.global_role||"";return P.toLowerCase().includes(G)||L.toLowerCase().includes(G)||ne.toLowerCase().includes(G)||le.toLowerCase().includes(G)||Te.toLowerCase().includes(G)});N(v)}},[g,a]),y.useEffect(()=>{const v=z=>{_e.current&&!_e.current.contains(z.target)&&c(null)};return l&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[l]);const ee=v=>{c(l===v?null:v)},he=async()=>{if(b)try{if(o)await T("delete",b.username,b.email);else{h(b.username);const v=await Ag(b.username,"delete");v.success?(E.success(v.message),await me(),r("delete",b.username,b.email)):E.error(v.message)}}catch(v){console.error("Error deleting user:",v),E.error("Failed to delete user")}finally{h(null),p(!1),j(null)}},R=()=>{p(!1),j(null)},$=async()=>{if(!A.trim()||!M.trim()){E.error("Please fill in both name and email fields");return}try{const v=await Cw(A,M);v.success?(E.success(v.message),await me()):E.error(v.message),D(""),X(""),k(!1)}catch(v){console.error("Error sending invite:",v),E.error("Failed to send invitation")}},T=async(v,z,G)=>{c(null);try{if(v==="delete"){const P=await kw(z,G);P.success?(E.success(P.message),await me()):E.error(P.message)}r(v,z,G),ce(!1)}catch(P){console.error("Error updating user:",P),E.error("Failed to update user")}finally{h(null),ce(!1)}},B=async(v,z,G)=>{try{if(v==="delete")j({username:z,email:G}),p(!0);else{h(z);const P=await Ag(z,v);P.success?(E.success(P.message),await me(),r(v,z,G)):E.error(P.message)}ce(!1),c(null)}catch(P){console.error("Error updating user:",P),E.error("Failed to update user")}finally{h(null),ce(!1)}};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",style:{display:"none"},children:t.jsx("input",{type:"text",placeholder:"Search users...",value:g,onChange:v=>x(v.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsx("div",{className:`grid gap-2 mb-2 ${o?"grid-cols-12":"grid-cols-10"}`,children:(o?[{label:"UserID",span:"col-span-1"},{label:"Username",span:"col-span-1"},{label:"Name",span:"col-span-2"},{label:"Email",span:"col-span-3"},{label:"Global Role",span:"col-span-1"},{label:" ",span:"col-span-1"}]:[{label:"Student ID",span:"col-span-1"},{label:"Username",span:"col-span-1"},{label:"Name",span:"col-span-1"},{label:"Academic Level",span:"col-span-1"},{label:"School",span:"col-span-2"},{label:"MUN Experience",span:"col-span-1"},{label:"Global Role",span:"col-span-1"},{label:"User Status",span:"col-span-1"},{label:" ",span:"col-span-1"}]).map((v,z)=>v.label===" "?t.jsx("div",{className:v.span},v.label):t.jsxs("div",{className:`${v.span} px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${z<(o?4:7)?"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center justify-between":"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center"}`,children:[t.jsx("span",{children:v.label}),z<(o?4:7)&&t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},v.label))}),S.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:g?"No users found matching your search":"No users found"}):S.length>0?S.map(v=>t.jsxs("div",{className:`grid gap-2 mb-2 ${o?"grid-cols-12":"grid-cols-10"}`,children:[o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:v?.id?.split("-")[0]||"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.username||"N/A"}),t.jsx("div",{className:"col-span-2 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.fullname||"N/A"}),t.jsx("div",{className:"col-span-3 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.email||"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.global_role||"N/A"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:v?.student_id||v?.id?.split("-")[0]||"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.username?`@${v.username}`:"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.fullname||"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.academic_level||v?.grade||"N/A"}),t.jsx("div",{className:"col-span-2 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.school?.name||"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.mun_experience||v?.years_of_experience||"N/A"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:v?.global_role==="superuser"?"Super User":"User"}),t.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("span",{className:`font-medium ${de(v?.user_status||v?.status||"active")}`,children:v?.user_status||v?.status||"Active"})})]}),H===v?.id&&Q?t.jsx("div",{className:"col-span-1 px-3 py-2 text-sm font-medium relative",children:t.jsx("div",{className:"relative flex items-center justify-left",children:t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"})})}):t.jsx("div",{className:"col-span-1 px-3 py-2 text-sm font-medium relative",children:t.jsxs("div",{className:"relative flex items-center justify-left",children:[be(v?.id)&&t.jsx("div",{className:"ml-2",children:t.jsx("img",{src:Cx,alt:"Organiser",className:"w-5 h-5",title:"This user is an organizer"})}),t.jsx("button",{onClick:()=>ee(v?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===v?.id&&t.jsx("div",{ref:_e,className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-50 border-2",children:t.jsx("div",{className:"py-1",children:o?t.jsx("button",{onClick:()=>{c(null),j({username:v?.username||"",email:v?.email||""}),p(!0)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Remove Super User"}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:async()=>{c(null),ce(!0),F(v?.id);const z=await Ow(v?.id);z.success?(E.success(z.message),await me(),r("assign-organiser",v?.id,v?.email),await me()):E.error(z.message)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Assign Organiser"}),(v?.user_status?.toLowerCase()==="flagged"||v?.user_status?.toLowerCase()==="blocked")&&t.jsx("button",{onClick:()=>{c(null),ce(!0),F(v?.id),B("active",v?.id,v?.email)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),v?.user_status?.toLowerCase()!=="flagged"&&t.jsx("button",{onClick:()=>{c(null),ce(!0),F(v?.id),B("flagged",v?.id,v?.email)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),v?.user_status?.toLowerCase()!=="blocked"&&t.jsx("button",{onClick:()=>{c(null),ce(!0),F(v?.id),B("blocked",v?.id,v?.email)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),t.jsx("button",{onClick:()=>{c(null),j({username:v?.username||"",email:v?.email||""}),p(!0)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"}),t.jsx("button",{onClick:()=>{c(null),ce(!0),F(v?.id),B("invite",v?.id,v?.email),console.log("Invite non-user:",v?.id)},disabled:d===v?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===v?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Invite Non-user"})]})})})]})})]},v?.id||Math.random())):null,o&&t.jsxs("div",{className:"mt-6",children:[t.jsx("button",{onClick:()=>k(!_),className:"px-6 py-3 bg-[#C4A35A] hover:bg-[#B8973F] text-white font-medium rounded-[20px] transition-colors duration-200 shadow-md",children:"Invite a Superuser"}),_&&t.jsxs("div",{className:"mt-6 p-6 max-w-md flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"invite-name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Name"}),t.jsx("input",{id:"invite-name",type:"text",value:A,onChange:v=>D(v.target.value),placeholder:"E.g. Ivy Grace Turner",className:"w-full px-4 py-2 border border-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C4A35A] focus:border-transparent text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"invite-email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),t.jsx("input",{id:"invite-email",type:"email",value:M,onChange:v=>X(v.target.value),placeholder:"E.g. ivy.grace@example.com",className:"w-full px-4 py-2 border border-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C4A35A] focus:border-transparent text-gray-700"})]})]}),t.jsx("div",{children:t.jsx("button",{onClick:$,className:"w-[150px] px-6 py-3 bg-[#7FB539] hover:bg-[#6FA329] text-white font-semibold rounded-[20px]",children:"Send Invite"})})]})]}),t.jsx(Vs,{isOpen:m,onClose:R,onConfirm:he,title:"Confirm Delete",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},_i=({type:a="students",isSuperUser:r=!1})=>{const[o,l]=y.useState(""),{allUsers:c}=Lt(),d=()=>{if(r){const x=c.filter(m=>m.global_role==="superuser")||[];switch(console.log("allUsers",c),console.log("superUsers",x),a){case"students":return x.filter(m=>m.role==="student")||[];case"teachers":return x.filter(m=>m.role==="teacher")||[];default:return x||[]}}else{const x=c.filter(m=>m.global_role==="user"||!m.global_role)||[];switch(a){case"students":return x.filter(m=>m.role==="student")||[];case"teachers":return x.filter(m=>m.role==="teacher")||[];default:return x||[]}}},h=y.useMemo(()=>{const x=d();if(!x||x.length===0)return[];if(!o.trim())return x;const m=o.toLowerCase();return x.filter(p=>{const b=p?.fullname?.toLowerCase()||"",j=p?.username?.toLowerCase()||"",S=p?.school?.name?.toLowerCase()||p?.school?.toLowerCase()||"",N=p?.id?.toString().toLowerCase()||"",_=p?.role?.toLowerCase()||"",k=p?.school_location?.toLowerCase()||"";return b.includes(m)||j.includes(m)||S.includes(m)||N.includes(m)||_.includes(m)||k.includes(m)})},[a,c,o]),g=x=>{};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-left",children:t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:x=>l(x.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),t.jsx(KS,{users:h,onAction:g,userType:a,isSuperUser:r})]})},QS=["school","college","academy","international","private","high","primary","secondary","the","al","of","for","and","dubai"],XS={dubai:"DU","abu dhabi":"AD",sharjah:"SHJ",ajman:"AJM",rak:"RAK",fujairah:"FUJ","umm al quwain":"UAQ","al ain":"AAN"},ZS={"al barsha":"ALB","al quoz":"ALQ","nad al sheba":"NAS","jebel ali":"JAL",mirdif:"MRD","umm suqeim":"UQS","al warqa":"ALW","al garhoud":"ALG","oud metha":"OMT"},JS=(a,r,o,l=[])=>{if(!a||!r||!o)return"";const c=r.name.toLowerCase().trim(),d=XS[c]||r.code||c.substring(0,3).toUpperCase(),h=eC(a),g=o.name.toLowerCase().trim(),x=ZS[g]||o.code||g.replace(/\s+/g,"").substring(0,3).toUpperCase();let m=`${d}_${h}_${x}`,p=m,b=1;for(;l.includes(p);)p=`${m}_${b.toString().padStart(3,"0")}`,b++;return p},eC=a=>{if(!a)return"";const o=a.toLowerCase().trim().split(/\s+/).filter(c=>!QS.includes(c.replace(/[^\w]/g,"")));if(o.length===0)return a.replace(/[^\w]/g,"").substring(0,3).toUpperCase();let l=o[0].replace(/[^\w]/g,"");if(l.length>=3)return l.substring(0,3).toUpperCase();if(o.length>1){const c=o[1].replace(/[^\w]/g,"");return(l+c).substring(0,3).toUpperCase()}return l.padEnd(3,l[0]||"X").toUpperCase()},tC=({schools:a,onAction:r})=>{const[o,l]=y.useState(null),[c,d]=y.useState(null),[h,g]=y.useState(""),[x,m]=y.useState(!1),[p,b]=y.useState(null),[j,S]=y.useState([]),[N,_]=y.useState(!1),[k,A]=y.useState(!1),[D,M]=y.useState({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"}),[X,H]=y.useState(null),[F,Q]=y.useState(null),[ce,me]=y.useState({}),[Se,_e]=y.useState([]),[be,de]=y.useState([]),{allSchools:ee}=Lt(),[he,R]=y.useState(!1),[$,T]=y.useState([]),[B,v]=y.useState(null),[z,G]=y.useState([]),[P,L]=y.useState(""),{refreshSchoolsData:ne,allLocalities:le,allAreas:Te,refreshLocalitiesData:je,refreshAreasData:ve}=Lt(),Ae=y.useRef(null);y.useEffect(()=>{le.length===0&&je(),Te.length===0&&ve()},[le.length,Te.length,je,ve]),y.useEffect(()=>{if(N&&D.schoolName&&D.locality_id&&D.area_id){const Y=le.find(pe=>pe.id===Number(D.locality_id)),Ce=Se.find(pe=>pe.id===Number(D.area_id));if(Y&&Ce){const pe=ee.map(He=>He.code).filter(Boolean),re=JS(D.schoolName,Y,Ce,pe);M(He=>({...He,schoolCode:re}))}}},[D.schoolName,D.locality_id,D.area_id,le,Se,ee,N]);const K=Y=>{if(!Y){_e([]);return}const Ce=Te.filter(pe=>pe.locality_id==Y);_e(Ce)},fe=Y=>{if(!Y){de([]);return}const Ce=Te.filter(pe=>pe.locality_id==Y);de(Ce)};y.useEffect(()=>{if(!h.trim())S(a);else{const Y=a.filter(Ce=>{const pe=h.toLowerCase(),re=Ce?.id?.toString()||"",He=Ce?.code||"",ht=Ce?.name||"",I=Ce?.locality?.name||"",q=Ce?.area?.name||"",ge=Ce?.status||"";return re.toLowerCase().includes(pe)||He.toLowerCase().includes(pe)||ht.toLowerCase().includes(pe)||I.toLowerCase().includes(pe)||q.toLowerCase().includes(pe)||ge.toLowerCase().includes(pe)});S(Y)}},[h,a]),y.useEffect(()=>{const Y=Ce=>{Ae.current&&!Ae.current.contains(Ce.target)&&l(null)};return o&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[o]),y.useEffect(()=>{const Y=Ce=>{const pe=Ce.target;X&&!pe.closest(".edit-row-container")&&!pe.closest(".edit-buttons-container")&&Le()};return X&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[X]);const ze=Y=>{l(o===Y?null:Y)},Ge=()=>{p&&(tt("delete",p),m(!1),b(null))},Ke=()=>{m(!1),b(null)},tt=async(Y,Ce)=>{try{if(l(null),d(Ce),Y==="delete"){const pe=await Iw(Ce);pe.success?(E.success(pe.message||"School deleted successfully"),await ne(),r(Y,Ce)):E.error(pe.message||"Failed to delete school")}else{const pe=await $w(Ce,Y);pe.success?(E.success(pe.message||`School ${Y} successfully`),await ne(),r(Y,Ce)):E.error(pe.message||"Failed to update school")}}catch(pe){console.error("Error updating school:",pe),E.error(pe.message||"Failed to update school")}finally{d(null)}},rt=async()=>{try{if(!D.schoolCode.trim()||!D.schoolName.trim()||!D.locality_id.trim()||!D.area_id.trim()){E.error("Please fill in all required fields");return}const Y=await Hw(D.schoolCode.trim(),D.schoolName.trim(),D.locality_id.trim(),D.area_id.trim());Y.success?(E.success("New school added successfully"),_(!1),A(!1),M({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"}),await ne()):E.error(Y.message||"Failed to save new school")}catch(Y){console.error("Error saving new school:",Y),E.error(Y.message||"Failed to save new school")}},te=Y=>{if(!Y)return"text-gray-600";switch(Y.toLowerCase()){case"active":return"text-green-600";case"blocked":return"text-red-600";case"flagged":return"text-yellow-500";case"unlisted":return"text-red-500";default:return"text-gray-600"}},O=()=>{_(!0),A(!0),M({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"})},J=Y=>{H(Y?.id),Q({id:Y?.id,code:Y?.code||"",name:Y?.name||"",locality:Y?.locality?.name||"",locality_id:Y?.locality_id||"",area:Y?.area?.name||"",area_id:Y?.area_id||"",status:Y?.status||"Active"}),me({}),l(null),fe(Y?.locality_id||"")},xe=async()=>{try{const Y=await Fw(F?.id,F?.code,F?.name,F?.locality_id,F?.area_id);Y.success?(E.success("School updated successfully"),H(null),Q(null),me({}),await ne()):E.error(Y.message||"Failed to update school")}catch(Y){console.error("Error updating school:",Y),E.error(Y.message||"Failed to update school")}},Le=()=>{H(null),Q(null),me({})},Xe=()=>{he?(R(!1),T([]),v(null),G([]),L("")):(R(!0),T([]),v(null),G([]),L(""))},W=Y=>{if(z.includes(Y)){L("Unlock to merge"),setTimeout(()=>L(""),3e3);return}if($.includes(Y))T(Ce=>Ce.filter(pe=>pe!==Y)),B===Y&&v(null);else{if($.length>=2){E.warning("Merge happens one pair at a time.");return}T(Ce=>[...Ce,Y]),($.length===0||!B)&&v(Y)}},Ue=async()=>{if($.length!==2||!B){E.warning("Please select exactly two schools and ensure primary is set.");return}try{const Y=$.find(re=>re!==B);let Ce=await Pw(B||"",Y||"");Ce.success?E.success("Schools merged successfully"):E.error(Ce.message||"Failed to merge schools"),T([]),v(null),G([]),L(""),await ne(),window.confirm("Merge another duplicate?")||R(!1)}catch(Y){console.error("Error merging schools:",Y),E.error("Failed to merge schools")}};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",style:{display:"none"},children:t.jsx("input",{type:"text",placeholder:"Search schools...",value:h,onChange:Y=>g(Y.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsxs("div",{className:`flex gap-2 mb-2 w-[${j.length>7?"98.5%":"100%"}]`,children:[t.jsxs("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"School ID"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"School Code"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"flex-1 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"School Name"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("div",{className:"w-28 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:t.jsx("span",{children:"Locality"})}),t.jsx("div",{className:"w-28 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:t.jsx("span",{children:"Area"})}),t.jsx("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:t.jsx("span",{children:"Status"})}),t.jsx("div",{className:"w-16 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md flex items-center",children:t.jsx("span",{})}),he&&t.jsx("div",{className:"w-8 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider",children:t.jsx("span",{})})]}),t.jsx("div",{className:"w-full max-h-[320px] overflow-auto",children:j.length>0?j.map(Y=>{const Ce=X===Y?.id;return t.jsxs("div",{className:`flex gap-2 mb-2 ${Ce?"edit-row-container":""}`,children:[t.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:Y?.id?String(Y.id).split("-")[0]:"N/A"}),t.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:Ce?t.jsx("div",{children:t.jsx("input",{type:"text",value:F?.code||"",className:"w-full text-sm text-gray-500 focus:outline-none border-0 p-0 bg-transparent cursor-not-allowed",placeholder:"Auto-generated",readOnly:!0,disabled:!0})}):Y?.code||"N/A"}),t.jsx("div",{className:"flex-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:Ce?t.jsxs("div",{children:[t.jsx("input",{type:"text",value:F?.name||"",onChange:pe=>Q({...F,name:pe.target.value}),className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${ce.name?"border-red-500":""}`,placeholder:"Enter school name"}),ce.name&&t.jsx("div",{className:"text-xs text-red-500 mt-1",children:ce.name})]}):Y?.name||"N/A"}),t.jsx("div",{className:"w-28 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:Ce?t.jsxs("div",{children:[t.jsxs("select",{value:F?.locality_id||"",onChange:pe=>{const re=le.find(He=>He.id===pe.target.value);Q({...F,locality_id:pe.target.value,locality:re?.locality?.name||re?.name||"",area_id:"",area:""}),fe(pe.target.value)},className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${ce.locality_id?"border-red-500":""}`,children:[t.jsx("option",{value:"",children:"Select locality"}),le.map(pe=>t.jsx("option",{value:pe.id,children:pe.locality?.name},pe.id))]}),ce.locality_id&&t.jsx("div",{className:"text-xs text-red-500 mt-1",children:ce.locality_id})]}):Y?.locality?.name||"N/A"}),t.jsx("div",{className:"w-28 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:Ce?t.jsxs("div",{children:[t.jsxs("select",{value:F?.area_id||"",onChange:pe=>{const re=be.find(He=>He.id===pe.target.value);Q({...F,area_id:pe.target.value,area:re?.area?.name||re?.name||""})},className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${ce.area_id?"border-red-500":""}`,disabled:!F?.locality_id,children:[t.jsx("option",{value:"",children:"Select area"}),be.map(pe=>t.jsx("option",{value:pe.id,children:pe.area?.name||pe.name},pe.id))]}),ce.area_id&&t.jsx("div",{className:"text-xs text-red-500 mt-1",children:ce.area_id})]}):Y?.area?.code||"N/A"}),t.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===Y?.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),t.jsx("span",{className:"text-gray-500",children:"Updating"})]}):t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:`font-medium ${te(Y.status)}`,children:Y.status})})}),he&&t.jsx("div",{className:"w-8 px-3 py-2 text-sm font-medium text-gray-900 flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("input",{type:"checkbox",checked:$.includes(Y?.id),onChange:()=>W(Y?.id),disabled:z.includes(Y?.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:z.includes(Y?.id)?"Unlock to merge":"Select for merge"}),B===Y?.id&&t.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),t.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium flex items-center justify-left",children:t.jsxs("div",{className:"relative flex items-center justify-left",children:[Ce?t.jsxs("div",{className:"flex space-x-1 edit-buttons-container",children:[t.jsx("button",{onClick:xe,className:"text-green-600 hover:text-green-800 focus:outline-none",title:"Save changes",children:t.jsx("img",{src:Rn})}),t.jsx("button",{onClick:Le,className:"text-red-600 hover:text-red-800 focus:outline-none",title:"Cancel editing",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):t.jsx("button",{onClick:()=>ze(Y?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===Y?.id&&!Ce&&t.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-50 border-2",children:t.jsxs("div",{className:"py-1",children:[t.jsx("button",{onClick:()=>J(Y),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Edit"}),t.jsx("button",{onClick:()=>{l(null),O()},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Add"}),t.jsx("button",{disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,onClick:()=>{tt("active",Y?.id||"")},children:"List"}),t.jsx("button",{onClick:()=>{l(null),Xe()},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:he?"Cancel Merge":"Merge"}),Y?.status?.toLowerCase()!=="active"&&t.jsx("button",{onClick:()=>tt("active",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),Y?.status?.toLowerCase()!=="flagged"&&t.jsx("button",{onClick:()=>tt("flagged",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),Y?.status?.toLowerCase()!=="blocked"&&t.jsx("button",{onClick:()=>tt("blocked",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),t.jsx("button",{onClick:()=>{b(Y?.id||""),m(!0)},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},Y?.id||Math.random())}):N?null:t.jsx("div",{className:"text-center py-8 text-gray-500",children:h?"No schools found matching your search":"No schools found"})}),N&&t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("div",{className:"w-24 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:ee.length+1}),t.jsx("div",{className:"w-32 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:D.schoolCode,readOnly:!0,placeholder:"Auto-generated",className:"w-full text-sm text-gray-500 focus:outline-none bg-transparent"})}),t.jsx("div",{className:"flex-1 bg-white px-3 py-2 rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:D.schoolName,onChange:Y=>M({...D,schoolName:Y.target.value}),placeholder:"Enter school name",className:"w-full text-sm text-gray-900 focus:outline-none"})}),t.jsx("div",{className:"w-28 bg-white px-3 py-2 rounded-md border border-gray-200",children:t.jsxs("select",{value:D.locality_id||"",onChange:Y=>{const Ce=le.find(pe=>pe.id===Y.target.value);M({...D,locality_id:Y.target.value,locality:Ce?.locality?.name||Ce?.name||"",area_id:"",area:""}),K(Y.target.value)},className:"w-full text-sm text-gray-900 focus:outline-none",children:[t.jsx("option",{value:"",children:"Select locality"}),le.map(Y=>t.jsx("option",{value:Y.id,children:Y.name},Y.id))]})}),t.jsx("div",{className:"w-28 bg-white px-3 py-2 rounded-md border border-gray-200",children:t.jsxs("select",{value:D.area_id||"",onChange:Y=>{const Ce=Se.find(pe=>pe.id===Y.target.value);M({...D,area_id:Y.target.value,area:Ce?.area?.name||Ce?.name||""})},className:"w-full text-sm text-gray-900 focus:outline-none",disabled:!D.locality_id,children:[t.jsx("option",{value:"",children:"Select area"}),Se.map(Y=>t.jsx("option",{value:Y.id,children:Y.name},Y.id))]})}),t.jsx("div",{className:"w-24 bg-white px-3 py-2 rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:"Active",placeholder:"Enter status",className:"w-full text-sm text-gray-900 focus:outline-none",readOnly:!0})}),t.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium",children:t.jsx("span",{})}),he&&t.jsx("div",{className:"w-8 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200 flex items-center justify-center",children:"-"})]}),he&&P&&t.jsx("div",{className:"mt-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-yellow-800",children:P}),t.jsxs("div",{className:"flex justify-between items-center mt-6 mr-[110px]",children:[t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:O,disabled:k,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${k?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),t.jsx("button",{onClick:rt,disabled:!k,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${k?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),he&&t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:()=>Xe(),className:"bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 hover:bg-[#9a7849]",children:"Cancel"}),t.jsxs("button",{onClick:Ue,disabled:$.length!==2||!B,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 flex items-center justify-center ${$.length!==2||!B?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Merge"]})]})]}),t.jsx(Vs,{isOpen:x,onClose:Ke,onConfirm:Ge,title:"Confirm Delete",message:"Are you sure you want to delete this school? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},sC=({localities:a,onAction:r})=>{const[o,l]=y.useState(null),[c,d]=y.useState(null),[h,g]=y.useState(""),[x,m]=y.useState(!1),[p,b]=y.useState(null),[j,S]=y.useState([]),[N,_]=y.useState(!1),[k,A]=y.useState(!1),[D,M]=y.useState({localityCode:"",localityName:"",areaCode:"",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"}),[X,H]=y.useState(null),[F,Q]=y.useState(null),[ce,me]=y.useState({}),[Se,_e]=y.useState(!1),[be,de]=y.useState([]),[ee,he]=y.useState(null),[R,$]=y.useState([]),[T,B]=y.useState(""),{refreshAreasData:v,refreshLocalitiesData:z,refreshSchoolsData:G}=Lt();y.useEffect(()=>{const te=O=>{const J=O.target;o&&!J.closest(".dropdown-container")&&l(null)};return o&&document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[o]),y.useEffect(()=>{const te=O=>{const J=O.target;X&&!J.closest(".edit-row-container")&&!J.closest(".edit-buttons-container")&&ze()};return X&&document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[X]),y.useEffect(()=>{if(!a||!Array.isArray(a)){S([]);return}if(!h.trim())S(a);else{const te=a.filter(O=>{const J=h.toLowerCase(),xe=O?.id?.toString()||"",Le=O.locality?.code||"",Xe=O.locality?.name||"",W=O.area?.code||"",Ue=O.area?.id||"",Y=O.area?.name||"",Ce=O?.linkedSchoolsCount?.toString()||"",pe=O?.linkedStudentsCount?.toString()||"",re=O?.status||"";return xe.toLowerCase().includes(J)||Le.toLowerCase().includes(J)||Xe.toLowerCase().includes(J)||W.toLowerCase().includes(J)||Ue.toLowerCase().includes(J)||Y.toLowerCase().includes(J)||Ce.includes(J)||pe.includes(J)||re.toLowerCase().includes(J)});S(te)}},[h,a]);const P=te=>{l(o===te?null:te)},L=()=>{if(p){l(null);const te=j.find(O=>(O?.area?.id||O?.id)===p);te&&le("delete",te?.id||"",te?.area?.id||""),m(!1),b(null)}},ne=()=>{m(!1),b(null)},le=async(te,O,J)=>{try{if(l(null),d(J||O),te==="delete"){const xe=await Vw(J),Le=await Bw(O);xe.success&&Le.success?(E.success(xe.message||"Locality deleted successfully"),await Promise.all([v(),z(),G()]),r(te,O)):E.error(xe.message||Le.message||"Failed to delete locality")}else{const xe=await Yw(J,te);xe.success?(E.success(xe.message||`Locality ${te} successfully`),await Promise.all([v(),z(),G()]),r(te,O)):E.error(xe.message||"Failed to update locality")}}catch(xe){console.error("Error updating locality:",xe),E.error(xe.message||"Failed to update locality")}finally{d(null)}},Te=()=>{_(!0),A(!0),M({localityCode:"Auto generated",localityName:"",areaCode:"Auto generated",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"})},je=()=>{Te()},ve=(te,O)=>{M(J=>({...J,[te]:O}))},Ae=async()=>{try{if(!D.localityName.trim()||!D.areaName.trim()){E.error("Please fill in all required fields");return}E.success("New area added successfully"),_(!1),A(!1),M({localityCode:"",localityName:"",areaCode:"",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"}),await Promise.all([v(),z(),G()])}catch(te){console.error("Error saving new row:",te),E.error("Failed to save new area")}},K=()=>{Ae()},fe=te=>{H(te?.area?.id||te?.id),Q({id:te?.area?.id||te?.id,localityCode:te?.locality?.code||"",localityName:te?.locality?.name||"",areaCode:te?.area?.code||"",areaName:te?.area?.name||"",status:te?.status||"Active"}),me({}),l(null)},ze=()=>{H(null),Q(null),me({})},Ge=()=>{Se?(_e(!1),de([]),he(null),$([]),B("")):(_e(!0),de([]),he(null),$([]),B(""))},Ke=te=>{if(R.includes(te)){B("Unlock to merge"),setTimeout(()=>B(""),3e3);return}if(be.includes(te))de(O=>O.filter(J=>J!==te)),ee===te&&he(null);else{if(be.length>=2){E.warning("Merge happens one pair at a time.");return}de(O=>[...O,te]),(be.length===0||!ee)&&he(te)}},tt=async()=>{if(be.length!==2||!ee){B("Please select exactly two localities and ensure primary is set."),E.warning("Please select exactly two localities and ensure primary is set.");return}try{const te=be.find(xe=>xe!==ee);let O=await Uw(ee||"",te||"");O.success?E.success("Localities merged successfully"):E.error(O.message||"Failed to merge localities"),de([]),he(null),$([]),B(""),await Promise.all([v(),z(),G()]),window.confirm("Merge another duplicate?")||_e(!1)}catch(te){console.error("Error merging localities:",te),E.error("Failed to merge localities")}},rt=te=>{if(!te)return"text-gray-600";switch(te.toLowerCase()){case"active":return"text-green-600";case"blocked":return"text-red-600";case"flagged":return"text-yellow-500";default:return"text-gray-600"}};return t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",style:{display:"none"},children:t.jsx("input",{type:"text",placeholder:"Search localities...",value:h,onChange:te=>g(te.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsxs("div",{className:`flex gap-2 mb-2 w-[${j.length>7?"98.5%":"100%"}]`,children:[t.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"Locality Code"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"w-40 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"Locality Name"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"Area Code"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"w-40 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"Area Name"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"w-36 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"Linked Schools (Area)"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsxs("div",{className:"w-36 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[t.jsx("span",{children:"Linked Students (Area)"}),t.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:t.jsx("span",{children:"Status"})}),t.jsx("div",{className:"w-16 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md flex items-center",children:t.jsx("span",{})}),Se&&t.jsx("div",{className:"w-8 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider",children:t.jsx("span",{})})]}),t.jsx("div",{className:"w-full max-h-[320px] overflow-auto",children:!j||j.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:h?"No localities found matching your search":"No localities found"}):j.length>0?j.map(te=>{const O=X===(te?.area?.id||te?.id);return t.jsxs("div",{className:`flex gap-2 mb-2 ${O?"edit-row-container":""}`,children:[t.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:te?.locality?.code||"N/A"}),t.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:O?t.jsx("div",{children:t.jsx("input",{type:"text",value:F?.localityName||"",className:"w-full text-sm text-gray-500 focus:outline-none border-0 p-0 bg-transparent cursor-not-allowed",placeholder:"Read-only",readOnly:!0,disabled:!0})}):te?.locality?.name||"N/A"}),t.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:te?.area?.code||"N/A"}),t.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:O?t.jsxs("div",{children:[t.jsx("input",{type:"text",value:F?.areaName||"",onChange:J=>Q({...F,areaName:J.target.value}),className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${ce.areaName?"border-red-500":""}`,placeholder:"Enter area name"}),ce.areaName&&t.jsx("div",{className:"text-xs text-red-500 mt-1",children:ce.areaName})]}):te?.area?.name||"N/A"}),t.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:te?.linkedSchoolsCount||"-"}),t.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:te?.linkedStudentsCount||"-"}),t.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===(te?.area?.id||te?.id)?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),t.jsx("span",{className:"text-gray-500",children:"Updating"})]}):t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:`font-medium ${rt(te.status)}`,children:te.status})})}),Se&&t.jsx("div",{className:"w-8 px-3 py-2 text-sm font-medium text-gray-900 flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("input",{type:"checkbox",checked:be.includes(te?.area?.id||te?.id),onChange:()=>Ke(te?.area?.id||te?.id),disabled:R.includes(te?.area?.id||te?.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:R.includes(te?.area?.id||te?.id)?"Unlock to merge":"Select for merge"}),ee===(te?.area?.id||te?.id)&&t.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),t.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium flex items-center justify-left",children:t.jsxs("div",{className:"relative flex items-center justify-left dropdown-container",children:[O?t.jsx("div",{className:"flex space-x-1 edit-buttons-container",children:t.jsx("button",{onClick:ze,className:"text-red-600 hover:text-red-800 focus:outline-none",title:"Cancel editing",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}):t.jsx("button",{onClick:()=>P(te?.area?.id||te?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===(te?.area?.id||te?.id)&&!O&&t.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-[9999] border border-gray-300 dropdown-container",children:t.jsxs("div",{className:"py-1",children:[t.jsx("button",{onClick:()=>fe(te),disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Edit"}),t.jsx("button",{disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Add"}),t.jsx("button",{disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"List"}),t.jsx("button",{onClick:()=>{l(null),Ge()},disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:Se?"Cancel Merge":"Merge"}),te?.status?.toLowerCase()!=="active"&&t.jsx("button",{onClick:()=>le("active",te?.id||"",te?.area?.id||""),disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),te?.status?.toLowerCase()!=="flagged"&&t.jsx("button",{onClick:()=>le("flagged",te?.id||"",te?.area?.id||""),disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),te?.status?.toLowerCase()!=="blocked"&&t.jsx("button",{onClick:()=>le("blocked",te?.id||"",te?.area?.id||""),disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),t.jsx("button",{onClick:()=>{b(te?.area?.id||te?.id||""),m(!0)},disabled:c===(te?.area?.id||te?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(te?.area?.id||te?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},te?.id||Math.random())}):null}),N&&t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:D.localityCode}),t.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:D.localityName,onChange:te=>ve("localityName",te.target.value),placeholder:"Enter locality name",className:"w-full border-none outline-none text-gray-900"})}),t.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:D.areaCode}),t.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsx("input",{type:"text",value:D.areaName,onChange:te=>ve("areaName",te.target.value),placeholder:"Add area",className:"w-full border-none outline-none text-gray-900"})}),t.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:"-"}),t.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:"-"}),t.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:t.jsxs("select",{value:D.status,onChange:te=>ve("status",te.target.value),className:"w-full border-none outline-none text-gray-900 bg-transparent",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})}),t.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium relative",children:t.jsx("div",{className:"relative flex items-center justify-left",children:t.jsx("button",{className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})}),Se&&t.jsx("div",{className:"w-8 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200 flex items-center justify-center",children:"-"})]}),Se&&T&&t.jsx("div",{className:"mt-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-yellow-800",children:T}),t.jsxs("div",{className:"flex justify-between items-center mt-6 mr-[110px]",children:[t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:je,disabled:k,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${k?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),t.jsx("button",{onClick:K,disabled:!k,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${k?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),Se&&t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:Ge,className:"bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 hover:bg-[#9a7849]",children:"Cancel"}),t.jsxs("button",{onClick:tt,disabled:be.length!==2||!ee,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 flex items-center justify-center ${be.length!==2||!ee?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Merge"]})]})]}),t.jsx(Vs,{isOpen:x,onClose:ne,onConfirm:L,title:"Confirm Delete",message:"Are you sure you want to delete this locality? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},rp=({type:a="schools",selectedLocality:r=0})=>{const[o,l]=y.useState(""),{allSchools:c,allLocalities:d,allUsers:h,refreshLocalitiesData:g,refreshAreasData:x}=Lt(),m=["Dubai","Abu Dhabi","Al Ain","Sharjah","Ajman","Ras Al Khaimah","Umm Al Quwain","Other"];y.useEffect(()=>{g(),x()},[g,x]);const p=y.useMemo(()=>{let j=[];if(a==="localities"){if(c&&c.length>0){console.log(c);const k=new Map;c.forEach(A=>{const D=A?.locality?.name||"Unknown",M=A?.area_id||"Unknown",X=A?.area?.name||"Unknown",H=A?.locality?.code||D.substring(0,2).toUpperCase(),F=A?.area?.code||X.substring(0,3).toUpperCase(),Q=A?.area?.status||"Active",ce=`${D}-${X}`;k.has(ce)||k.set(ce,{id:ce,locality:{code:H,name:D},area:{code:F,id:M,name:X},linkedSchoolsCount:0,linkedStudentsCount:0,status:Q}),k.get(ce).linkedSchoolsCount+=1}),j=Array.from(k.values()),h&&h.length>0&&j.forEach(A=>{const D=A.area.code,M=A.locality.code,X=A.status,H=c.filter(Q=>Q.area&&Q.area.code===D&&Q.locality&&Q.locality.code===M),F=h.filter(Q=>!Q.school||typeof Q.school!="object"?!1:H.some(ce=>Q.school.id===ce.id&&Q.school.area_id===ce.area_id&&Q.school.locality_id===ce.locality_id)).length;A.linkedStudentsCount=F,A.status=X})}}else{if(!c||c.length===0)return[];j=c}const S=m[r];if(S&&S!=="Other")j=j.filter(k=>{const A=a==="localities"?k?.locality?.name:k?.locality?.name||"";return A&&A.toLowerCase()===S.toLowerCase()});else if(S==="Other"){const k=["Dubai","Abu Dhabi","Al Ain","Sharjah","Ajman","Ras Al Khaimah","Umm Al Quwain"];j=j.filter(A=>{const D=a==="localities"?A?.locality?.name:A?.locality?.name||"";return!k.some(X=>D&&D.toLowerCase()===X.toLowerCase())})}if(!o.trim())return j;const N=o.toLowerCase();return j.filter(k=>{if(a==="localities"){const A=k?.localityCode||k?.code||"",D=k?.localityName||k?.locality?.name||"",M=k?.areaCode||k?.area?.code||"",X=k?.areaName||k?.area?.name||"",H=k?.linkedSchools||k?.schoolsCount||"",F=k?.linkedStudents||k?.studentsCount||"",Q=k?.status||"";return A&&A.toLowerCase().includes(N)||D&&D.toLowerCase().includes(N)||M&&M.toLowerCase().includes(N)||X&&X.toLowerCase().includes(N)||H.toString().includes(N)||F.toString().includes(N)||Q&&Q.toLowerCase().includes(N)}else{const A=k?.id?.toString()||"",D=k?.code||"",M=k?.name||"",X=k?.locality?.name||"",H=k?.area?.name||"",F=k?.status||"";return A&&A.toLowerCase().includes(N)||D&&D.toLowerCase().includes(N)||M&&M.toLowerCase().includes(N)||X&&X.toLowerCase().includes(N)||H&&H.toLowerCase().includes(N)||F&&F.toLowerCase().includes(N)}})},[a,c,d,o,r]),b=j=>{};return t.jsxs("div",{className:"w-[1000px] space-y-6",children:[t.jsx("div",{className:"flex justify-left",children:t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:j=>l(j.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),a==="localities"?t.jsx(sC,{localities:p,onAction:b,localityType:a}):t.jsx(tC,{schools:p,onAction:b,schoolType:a})]})},rC=()=>{const[a,r]=y.useState("dashboard"),[o,l]=y.useState(!0),[c,d]=y.useState(0),{allUsers:h,allOrganisers:g,allEvents:x,allSchools:m}=Lt(),p=[{title:"Events Upcoming",value:x.filter(_=>_.status==="pending").length.toString()},{title:"Events Completed",value:x.filter(_=>_.status==="completed").length.toString()},{title:"Users",value:h.length.toString()},{title:"Organisers",value:g.filter(_=>_.status==="approved").length.toString()},{title:"Pending Approvals",value:g.filter(_=>_.status==="pending").length.toString()},{title:"Schools",value:m.length.toString()}],b=()=>{if(a==="users"&&o)return"Masterlists > Users Related > Users > Students";if(a==="users"&&!o)return"Masterlists > Users Related > Users > Teachers";if(a==="superusers"&&o)return"Masterlists > Users Related > Superusers > Students";if(a==="superusers"&&!o)return"Masterlists > Users Related > Superusers > Teachers";if(a==="schools"&&c===0)return"Masterlists > Schools Related > Schools > Dubai";if(a==="schools"&&c===1)return"Masterlists > Schools Related > Schools > Abu Dhabi";if(a==="schools"&&c===2)return"Masterlists > Schools Related > Schools > Al Ain";if(a==="schools"&&c===3)return"Masterlists > Schools Related > Schools > Sharjah";if(a==="schools"&&c===4)return"Masterlists > Schools Related > Schools > Ajman";if(a==="schools"&&c===5)return"Masterlists > Schools Related > Schools > Ras Al Khaimah";if(a==="schools"&&c===6)return"Masterlists > Schools Related > Schools > Umm Al Quwain";if(a==="schools"&&c===7)return"Masterlists > Schools Related > Schools > Other";if(a==="localities"&&c===0)return"Masterlists > Schools Related > Localities > Dubai";if(a==="localities"&&c===1)return"Masterlists > Schools Related > Localities > Abu Dhabi";if(a==="localities"&&c===2)return"Masterlists > Schools Related > Localities > Al Ain";if(a==="localities"&&c===3)return"Masterlists > Schools Related > Localities > Sharjah";if(a==="localities"&&c===4)return"Masterlists > Schools Related > Localities > Ajman";if(a==="localities"&&c===5)return"Masterlists > Schools Related > Localities > Ras Al Khaimah";if(a==="localities"&&c===6)return"Masterlists > Schools Related > Localities > Umm Al Quwain";if(a==="localities"&&c===7)return"Masterlists > Schools Related > Localities > Other";switch(a){case"dashboard":return"Dashboard";case"masterlists":return"Masterlists";case"events-related":return"Masterlists > Events Related";case"events":return"Masterlists > Events Related > Events";case"organisers":return"Masterlists > Events Related > Organisers";case"leadership-roles":return"Masterlists > Events Related > Leadership Roles";case"committees":return"Masterlists > Events Related > Committees";case"students":return"Masterlists > Events Related > Organisers > Students";case"teachers":return"Masterlists > Events Related > Organisers > Teachers";case"users-related":return"Masterlists > Users Related";case"users":return"Masterlists > Users Related > Users";case"superusers":return"Masterlists > Users Related > Superusers";case"schools-related":return"Masterlists > Schools Related";case"schools":return"Masterlists > Schools Related > Schools";case"localities":return"Masterlists > Schools Related > Localities";default:return"Dashboard"}},j=()=>t.jsx("div",{className:"space-y-8",children:t.jsx("div",{className:"grid grid-cols-6 gap-6",children:p.map((_,k)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-[#607DA3] px-4 py-3",children:t.jsx("h3",{className:"text-white font-semibold text-sm text-center",children:_.title})}),t.jsx("div",{className:"bg-white px-4 py-6",children:t.jsx("div",{className:"text-3xl font-bold text-gray-900 text-center",children:_.value})})]},k))})}),S=()=>t.jsxs("div",{className:"space-y-6",children:[a==="events"&&t.jsx(z4,{}),a==="organisers"&&t.jsx(Nu,{type:"students"}),a==="students"&&t.jsx(Nu,{type:"students"}),a==="teachers"&&t.jsx(Nu,{type:"teachers"}),a==="leadership-roles"&&t.jsx(F4,{}),a==="committees"&&t.jsx(P4,{})]}),N=()=>{if(a==="users"&&o)return t.jsx(_i,{type:"students",isSuperUser:!1});if(a==="users"&&!o)return t.jsx(_i,{type:"teachers",isSuperUser:!1});if(a==="superusers"&&o)return t.jsx(_i,{type:"students",isSuperUser:!0});if(a==="superusers"&&!o)return t.jsx(_i,{type:"teachers",isSuperUser:!0});if(a==="schools")return t.jsx(rp,{type:"schools",selectedLocality:c});if(a==="localities")return t.jsx(rp,{type:"localities",selectedLocality:c});switch(a){case"dashboard":return j();case"masterlists":return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Masterlists"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Select a category to manage..."})]});case"events-related":return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events Related"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Select a specific category to manage..."})]});case"users-related":return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Users Related"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Users management coming soon..."})]});case"schools-related":return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Schools Related"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Select a specific category to manage..."})]});case"events":case"organisers":case"students":case"teachers":case"leadership-roles":case"committees":return S();default:return j()}};return t.jsx(ys,{loadingText:"Loading Super User Dashboard...",children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{maxWidth:"max-w-[88rem]"}),t.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[t.jsx("div",{className:"text-left mb-8",children:t.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:b()})}),t.jsx("div",{className:"flex justify-left mb-8",children:t.jsx(B4,{activeSection:a,onSectionChange:r,usersSubSection:o,setUsersSubSection:l,schoolsSubSection:c,setSchoolsSubSection:d})}),N()]})]})})},aC=()=>{const{eventId:a}=xs(),r=Dt(),[o,l]=y.useState("Event Info"),[c,d]=y.useState(""),[h,g]=y.useState(""),[x,m]=y.useState(""),[p,b]=y.useState(""),[j,S]=y.useState(""),[N,_]=y.useState(""),[k,A]=y.useState(""),[D,M]=y.useState(""),[X,H]=y.useState(""),[F,Q]=y.useState([]),[ce,me]=y.useState([]),[Se,_e]=y.useState([]),[be,de]=y.useState(""),[ee,he]=y.useState(""),[R,$]=y.useState(""),[T,B]=y.useState(""),[v,z]=y.useState(""),[G,P]=y.useState(""),[L,ne]=y.useState(""),[le,Te]=y.useState(""),[je,ve]=y.useState(""),[Ae,K]=y.useState(""),[fe,ze]=y.useState(""),[Ge,Ke]=y.useState(""),[tt,rt]=y.useState(""),[te,O]=y.useState(""),[J,xe]=y.useState(!1),Le=["Event Info","Support Contact","Participation Info","Registration Info"];y.useEffect(()=>{const pe=async()=>{try{const I=await xx(a),q=Array.isArray(I?.data)?I.data[0]:I?.data;console.log("getRegistrationInfoByEventIdAndUserIdApi",I.data);const ge=q.user||q.users||{},ke=ge.school||{},Oe=ke.locality||{};de(ge.id??""),he(q.registration_no??""),$(ge.username??""),B(ge.fullname??ge.name??""),z(ge.birthday??""),P(ge.gender??""),ne(ke.name??""),Te(Oe.name??""),ve(ge.years_of_experience??""),K(ge.email??""),ze(ge.phone_e164??ge.phone_number??""),Ke(q.mun_experience??""),rt(q.food_pref??""),O(q.food_allergies??"")}catch(I){E.error("Failed to get registration info: "+I.message)}},re=async()=>{try{const I=await lh(a||"");console.log("getEventByIdApi",I.data),I.success?(d(I.data[0].name),g(I.data[0].description),m(I.data[0].start_date),b(I.data[0].end_date),S(I.data[0].locality.name),_(I.data[0].fees_per_delegate),A(I.data[0].website),M(I.data[0].instagram),H(I.data[0].cover_image)):E.error("Failed to get event by id: "+I.message)}catch(I){E.error("Failed to get event by id: "+I.message)}},He=async()=>{try{const I=await Da(a||"");console.log("getLeadershipRolesByEventIdApi",I.data),I.success&&_e(I.data)}catch(I){E.error("Failed to get event leader ship roles: "+I.message)}},ht=async()=>{try{const I=await kx(a);if(console.log("getDocumentsByEventId",I.data),I.success){const q=I.data.filter(ke=>ke.doc_type==="general"),ge=I.data.filter(ke=>ke.doc_type!=="general");Q(q),me(ge)}else E.error("Failed to get documents by id: "+I.message)}catch(I){E.error("Failed to get documents by id: "+I.message)}};re(),ht(),He(),pe()},[a]);const Xe=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"w-[400px]",children:t.jsx("img",{src:X,alt:"Event",className:"w-[400px] h-64 object-cover rounded-lg"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Name"}),t.jsx("input",{type:"text",value:c,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Description"}),t.jsx("textarea",{value:h,readOnly:!0,rows:6,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700 resize-none"})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Date"}),t.jsx("input",{type:"text",value:x+" - "+p,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Locality"}),t.jsx("input",{type:"text",value:j,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Fees"}),t.jsx("input",{type:"text",value:N,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Website"}),t.jsx("input",{type:"text",value:k,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Instagram"}),t.jsx("input",{type:"text",value:D,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]})]}),W=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex gap-4 mb-4 ",children:[t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"80px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"ABBR"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Role"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"140px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Username"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Name"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"120px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Mobile"})}),t.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"220px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Email"})})]}),Se.map((pe,re)=>t.jsxs("div",{className:"flex gap-4 mb-3",children:[t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"80px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:pe.leadership_roles.abbr})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"150px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:pe.leadership_roles.leadership_role})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"100px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:pe.users.username})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"200px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:pe.users.fullname})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"170px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:pe.users.phone_e164})}),t.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"260px",height:"60px"},children:t.jsx("span",{className:"text-sm text-gray-900",children:pe.users.email})})]},re))]})}),Ue=()=>t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"flex items-center gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Committee"}),t.jsx("input",{type:"text",value:"",readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),t.jsx("div",{className:"flex items-center gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Country"}),t.jsx("input",{type:"text",value:"",readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Documents"}),t.jsx("div",{className:"flex items-start gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"General"}),t.jsx("div",{className:"space-y-3",children:F.map((pe,re)=>t.jsxs("div",{className:"w-[400px] w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[t.jsx("span",{className:"text-sm text-gray-900",children:pe.title}),t.jsx("button",{onClick:()=>window.open(pe.file_url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:t.jsx("img",{src:Ii,alt:"Download",className:"w-4 h-4"})})]},re))})]})}),t.jsx("div",{className:"flex items-start gap-6",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Committee Related"}),t.jsx("div",{className:"space-y-3",children:ce.map((pe,re)=>t.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[t.jsx("span",{className:"text-sm text-gray-900",children:pe.title}),t.jsx("button",{onClick:()=>window.open(pe.file_url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:t.jsx("img",{src:Ii,alt:"Download",className:"w-4 h-4"})})]},re))})]})})]})]}),Y=()=>t.jsx("div",{className:"flex gap-8",children:t.jsxs("div",{className:"flex-1 space-y-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-8",children:t.jsx("div",{style:{width:"160px",height:"160px"},children:t.jsx(Ua,{size:"large",className:"w-[160px] h-[160px]"})})}),t.jsxs("div",{className:"w-[400px] gap-6",style:{display:"flex",flexDirection:"column",gap:"15px"},children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Registration No."}),t.jsx("input",{type:"text",value:ee,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:R,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Name"}),t.jsx("input",{type:"text",value:T,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Date of Birth"}),t.jsx("input",{type:"text",value:v,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Gender"}),t.jsx("input",{type:"text",value:G,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"School Name"}),t.jsx("input",{type:"text",value:L,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Locality of School"}),t.jsx("input",{type:"text",value:le,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Year of Working Experience"}),t.jsx("input",{type:"text",value:je,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"text",value:Ae,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mobile Number"}),t.jsx("input",{type:"text",value:fe,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"MUN Experience in Years"}),t.jsx("input",{type:"text",value:Ge,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Preference"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${tt==="Vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Vegetarian"}),t.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${tt==="Non-Vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Non-Vegetarian"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Allergies"}),t.jsx("input",{type:"text",value:te,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]}),t.jsxs("div",{className:"mt-8 relative",children:[t.jsx("button",{onClick:()=>xe(!J),className:"bg-[#D9C7A1] text-gray-900 px-6 py-3 rounded-full font-medium hover:bg-[#C5B595] transition-colors",children:"Cancel Registration"}),J&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>xe(!1)}),t.jsxs("div",{className:"relative bg-white border border-gray-800 rounded-lg p-6 shadow-xl w-[320px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h4",{className:"font-semibold text-gray-900",children:"Confirm Cancel"})}),t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[t.jsx("button",{onClick:async()=>{try{const pe=await yx(be);pe?.success?(E.success("Registration cancelled successfully"),r("/home")):E.error(pe?.message||"Failed to cancel registration")}catch(pe){E.error(pe?.message||"Failed to cancel registration")}finally{xe(!1)}},className:"text-red-600 font-medium hover:text-red-800 transition-colors",children:"Yes"}),t.jsx("button",{onClick:()=>xe(!1),className:"text-gray-900 font-medium hover:text-gray-700 transition-colors",children:"No"})]})]})]})]})]})}),Ce=()=>{switch(o){case"Event Info":return Xe();case"Support Contact":return W();case"Participation Info":return Ue();case"Registration Info":return Y();default:return Xe()}};return t.jsx(ys,{loadingText:"Loading Delegate Page...",children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"max-w-[80rem] px-6 py-8 flex flex-col items-left",style:{marginLeft:"13rem"},children:[t.jsx("div",{className:"flex items-center space-x-2 mb-8",children:Le.map((pe,re)=>t.jsxs(Re.Fragment,{children:[t.jsx("button",{className:`flex items-center border border-gray-800 justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${o===pe?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>l(pe),children:pe}),re<Le.length-1&&t.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},pe))}),t.jsx("div",{className:"",children:t.jsx("div",{children:Ce()})})]})]})})},nC=()=>{const{delegateId:a}=xs(),r=Dt(),{allRegistrations:o}=Lt(),[l,c]=y.useState(null),[d,h]=y.useState(!0);y.useEffect(()=>{(async()=>{try{if(h(!0),!a){E.error("Delegate ID not found"),r("/organiser");return}const p=o?.find(j=>j.id.toString()===a);if(!p){E.error("Delegate not found"),r("/organiser");return}const b={id:p.id,username:p.user?.username||"",fullname:p.user?.fullname||"",birthday:p.user?.birthday||"",gender:p.user?.gender||"",school_location:p.user?.school?.locality?.name||"",school_name:p.user?.school?.name||"",grade:p.user?.grade||"",email:p.user?.email||"",phone_number:p.user?.phone_number||"",country_code:p.user?.country_code||"+971",role:p.user?.role||"",year_of_work_experience:p.user?.year_of_work_experience||null,avatar:p.user?.avatar||""};c(b)}catch(p){console.error("Error loading delegate profile:",p),E.error("Failed to load delegate profile"),r("/organiser")}finally{h(!1)}})()},[a,o,r]);const g=(m,p)=>m?`${p} ${m}`:"",x=m=>{if(!m)return"";try{return new Date(m).toLocaleDateString()}catch{return m}};return d?t.jsx(ys,{loadingText:"Loading delegate profile...",children:t.jsx("div",{})}):l?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Xt,{}),t.jsxs("div",{className:"mx-auto py-8",style:{maxWidth:"65rem"},children:[t.jsxs("div",{className:"text-left mb-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("button",{onClick:()=>r("/organiser"),className:"flex items-center text-[#C2A46D] hover:text-[#A68B5B] transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Organiser"]})}),t.jsx("div",{className:"relative inline-block",children:l.avatar?t.jsx("img",{src:l.avatar,alt:"Delegate Avatar",className:"w-32 h-32 border-4 border-white shadow-lg rounded-full object-cover"}):t.jsx(Ua,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})}),t.jsxs("h1",{className:"font-bold text-gray-900 mt-4",style:{fontSize:"30px"},children:[l.role==="teacher"?"Teacher":"Student"," Profile"]}),t.jsxs("p",{className:"text-gray-600 mt-2",children:["Viewing profile for: ",l.fullname]})]}),t.jsxs("div",{className:"rounded-lg shadow-sm p-6 bg-white",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Username"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.username})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.fullname})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:x(l.birthday)})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.gender?l.gender.charAt(0).toUpperCase()+l.gender.slice(1):""})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Location"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.school_location})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.school_name})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:l.role==="teacher"?"Years of Work Experience":"Grade/Year/Programme"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.role==="teacher"?l.year_of_work_experience||"Not specified":l.grade||"Not specified"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Email"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:l.email})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700",children:g(l.phone_number,l.country_code||"+971")})]})]}),t.jsx("div",{className:"flex justify-end mt-8 space-x-4",children:t.jsx("button",{onClick:()=>r("/organiser"),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Close"})})]})]})]}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Delegate Not Found"}),t.jsx("button",{onClick:()=>r("/organiser"),className:"px-4 py-2 bg-[#C2A46D] text-white rounded-lg hover:bg-[#A68B5B] transition-colors",children:"Back to Organiser"})]})})};function oC(){return t.jsx(l4,{children:t.jsx(y4,{children:t.jsx(s2,{children:t.jsxs("div",{className:"App",children:[t.jsxs(Lv,{children:[t.jsx(Nt,{path:"/",element:t.jsx(mp,{to:"/login",replace:!0})}),t.jsx(Nt,{path:"/signup",element:t.jsx(q4,{})}),t.jsx(Nt,{path:"/login",element:t.jsx(V4,{})}),t.jsx(Nt,{path:"/email-verification",element:t.jsx(G4,{})}),t.jsx(Nt,{path:"/profile-page",element:t.jsx(Ut,{children:t.jsx(fh,{userType:"student"})})}),t.jsx(Nt,{path:"/home",element:t.jsx(Ut,{children:t.jsx(W4,{})})}),t.jsx(Nt,{path:"/dashboard",element:t.jsx(Ut,{children:t.jsx(K4,{})})}),t.jsx(Nt,{path:"/request-approval",element:t.jsx(Ut,{children:t.jsx(Q4,{})})}),t.jsx(Nt,{path:"/request-under-verification",element:t.jsx(Ut,{children:t.jsx(X4,{})})}),t.jsx(Nt,{path:"/event-create",element:t.jsx(Ut,{children:t.jsx(Z4,{})})}),t.jsx(Nt,{path:"/event-create-success",element:t.jsx(Ut,{children:t.jsx(J4,{})})}),t.jsx(Nt,{path:"/organiser",element:t.jsx(Ut,{children:t.jsx(eS,{})})}),t.jsx(Nt,{path:"/event-dashboard/:eventId",element:t.jsx(Ut,{children:t.jsx(WS,{})})}),t.jsx(Nt,{path:"/upload-delegates/:eventId",element:t.jsx(Ut,{children:t.jsx(YS,{})})}),t.jsx(Nt,{path:"/view-delegate-profile/:delegateId",element:t.jsx(Ut,{children:t.jsx(nC,{})})}),t.jsx(Nt,{path:"/super-user",element:t.jsx(Ut,{children:t.jsx(rC,{})})}),t.jsx(Nt,{path:"/student-profile",element:t.jsx(Ut,{children:t.jsx(rS,{})})}),t.jsx(Nt,{path:"/student-profile-page",element:t.jsx(Ut,{children:t.jsx(nS,{})})}),t.jsx(Nt,{path:"/student-home",element:t.jsx(Ut,{children:t.jsx(lS,{})})}),t.jsx(Nt,{path:"/student-registration/:eventId",element:t.jsxs(Ut,{children:[t.jsx(hS,{})," "]})}),t.jsx(Nt,{path:"/student-registration-success/:eventId",element:t.jsx(Ut,{children:t.jsx(fS,{})})}),t.jsx(Nt,{path:"/student-delegate-page/:eventId",element:t.jsx(Ut,{children:t.jsx(wS,{})})}),t.jsx(Nt,{path:"/teacher-profile",element:t.jsx(Ut,{children:t.jsx(aS,{})})}),t.jsx(Nt,{path:"/teacher-profile-page",element:t.jsx(Ut,{children:t.jsx(oS,{})})}),t.jsx(Nt,{path:"/teacher-home",element:t.jsx(Ut,{children:t.jsx(iS,{})})}),t.jsx(Nt,{path:"/teacher-registration/:eventId",element:t.jsx(Ut,{children:t.jsx(jS,{})})}),t.jsx(Nt,{path:"/teacher-registration-success/:eventId",element:t.jsx(Ut,{children:t.jsx(NS,{})})}),t.jsx(Nt,{path:"/teacher-delegate-page/:eventId",element:t.jsx(Ut,{children:t.jsx(aC,{})})})]}),t.jsx(I2,{position:"bottom-right",richColors:!0})]})})})})}Pb.createRoot(document.getElementById("root")).render(t.jsx(y.StrictMode,{children:t.jsx(oC,{})}));
