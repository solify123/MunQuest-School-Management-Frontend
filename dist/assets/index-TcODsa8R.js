(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function zu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Nb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var r=n.default;if(typeof r=="function"){var l=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};l.prototype=r.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var c=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(l,o,c.get?c:{enumerable:!0,get:function(){return n[o]}})}),l}var Qd={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Sb(){if(F0)return Dl;F0=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(o,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:d}}return Dl.Fragment=r,Dl.jsx=l,Dl.jsxs=l,Dl}var I0;function Cb(){return I0||(I0=1,Qd.exports=Sb()),Qd.exports}var s=Cb(),Xd={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function Eb(){if(P0)return rt;P0=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function _(C,P,se){this.props=C,this.context=P,this.refs=A,this.updater=se||E}_.prototype.isReactComponent={},_.prototype.setState=function(C,P){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,P,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function D(){}D.prototype=_.prototype;function T(C,P,se){this.props=C,this.context=P,this.refs=A,this.updater=se||E}var U=T.prototype=new D;U.constructor=T,N(U,_.prototype),U.isPureReactComponent=!0;var K=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function V(C,P,se,k,J,de){return se=de.ref,{$$typeof:n,type:C,key:P,ref:se!==void 0?se:null,props:de}}function oe(C,P){return V(C.type,P,void 0,void 0,void 0,C.props)}function le(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function be(C){var P={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(se){return P[se]})}var _e=/\/+/g;function Ne(C,P){return typeof C=="object"&&C!==null&&C.key!=null?be(""+C.key):P.toString(36)}function Q(){}function X(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Q,Q):(C.status="pending",C.then(function(P){C.status==="pending"&&(C.status="fulfilled",C.value=P)},function(P){C.status==="pending"&&(C.status="rejected",C.reason=P)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ce(C,P,se,k,J){var de=typeof C;(de==="undefined"||de==="boolean")&&(C=null);var q=!1;if(C===null)q=!0;else switch(de){case"bigint":case"string":case"number":q=!0;break;case"object":switch(C.$$typeof){case n:case r:q=!0;break;case p:return q=C._init,ce(q(C._payload),P,se,k,J)}}if(q)return J=J(C),q=k===""?"."+Ne(C,0):k,K(J)?(se="",q!=null&&(se=q.replace(_e,"$&/")+"/"),ce(J,P,se,"",function(ze){return ze})):J!=null&&(le(J)&&(J=oe(J,se+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(_e,"$&/")+"/")+q)),P.push(J)),1;q=0;var we=k===""?".":k+":";if(K(C))for(var xe=0;xe<C.length;xe++)k=C[xe],de=we+Ne(k,xe),q+=ce(k,P,se,de,J);else if(xe=w(C),typeof xe=="function")for(C=xe.call(C),xe=0;!(k=C.next()).done;)k=k.value,de=we+Ne(k,xe++),q+=ce(k,P,se,de,J);else if(de==="object"){if(typeof C.then=="function")return ce(X(C),P,se,k,J);throw P=String(C),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return q}function j(C,P,se){if(C==null)return C;var k=[],J=0;return ce(C,k,"","",function(de){return P.call(se,de,J++)}),k}function M(C){if(C._status===-1){var P=C._result;P=P(),P.then(function(se){(C._status===0||C._status===-1)&&(C._status=1,C._result=se)},function(se){(C._status===0||C._status===-1)&&(C._status=2,C._result=se)}),C._status===-1&&(C._status=0,C._result=P)}if(C._status===1)return C._result.default;throw C._result}var te=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function z(){}return rt.Children={map:j,forEach:function(C,P,se){j(C,function(){P.apply(this,arguments)},se)},count:function(C){var P=0;return j(C,function(){P++}),P},toArray:function(C){return j(C,function(P){return P})||[]},only:function(C){if(!le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},rt.Component=_,rt.Fragment=l,rt.Profiler=c,rt.PureComponent=T,rt.StrictMode=o,rt.Suspense=x,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return $.H.useMemoCache(C)}},rt.cache=function(C){return function(){return C.apply(null,arguments)}},rt.cloneElement=function(C,P,se){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var k=N({},C.props),J=C.key,de=void 0;if(P!=null)for(q in P.ref!==void 0&&(de=void 0),P.key!==void 0&&(J=""+P.key),P)!I.call(P,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&P.ref===void 0||(k[q]=P[q]);var q=arguments.length-2;if(q===1)k.children=se;else if(1<q){for(var we=Array(q),xe=0;xe<q;xe++)we[xe]=arguments[xe+2];k.children=we}return V(C.type,J,void 0,void 0,de,k)},rt.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},rt.createElement=function(C,P,se){var k,J={},de=null;if(P!=null)for(k in P.key!==void 0&&(de=""+P.key),P)I.call(P,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(J[k]=P[k]);var q=arguments.length-2;if(q===1)J.children=se;else if(1<q){for(var we=Array(q),xe=0;xe<q;xe++)we[xe]=arguments[xe+2];J.children=we}if(C&&C.defaultProps)for(k in q=C.defaultProps,q)J[k]===void 0&&(J[k]=q[k]);return V(C,de,void 0,void 0,null,J)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(C){return{$$typeof:m,render:C}},rt.isValidElement=le,rt.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:M}},rt.memo=function(C,P){return{$$typeof:g,type:C,compare:P===void 0?null:P}},rt.startTransition=function(C){var P=$.T,se={};$.T=se;try{var k=C(),J=$.S;J!==null&&J(se,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(z,te)}catch(de){te(de)}finally{$.T=P}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(C){return $.H.use(C)},rt.useActionState=function(C,P,se){return $.H.useActionState(C,P,se)},rt.useCallback=function(C,P){return $.H.useCallback(C,P)},rt.useContext=function(C){return $.H.useContext(C)},rt.useDebugValue=function(){},rt.useDeferredValue=function(C,P){return $.H.useDeferredValue(C,P)},rt.useEffect=function(C,P,se){var k=$.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(C,P)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(C,P,se){return $.H.useImperativeHandle(C,P,se)},rt.useInsertionEffect=function(C,P){return $.H.useInsertionEffect(C,P)},rt.useLayoutEffect=function(C,P){return $.H.useLayoutEffect(C,P)},rt.useMemo=function(C,P){return $.H.useMemo(C,P)},rt.useOptimistic=function(C,P){return $.H.useOptimistic(C,P)},rt.useReducer=function(C,P,se){return $.H.useReducer(C,P,se)},rt.useRef=function(C){return $.H.useRef(C)},rt.useState=function(C){return $.H.useState(C)},rt.useSyncExternalStore=function(C,P,se){return $.H.useSyncExternalStore(C,P,se)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.1.1",rt}var q0;function $u(){return q0||(q0=1,Xd.exports=Eb()),Xd.exports}var b=$u();const Ee=zu(b);var Zd={exports:{}},Tl={},Jd={exports:{}},eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function _b(){return Y0||(Y0=1,(function(n){function r(j,M){var te=j.length;j.push(M);e:for(;0<te;){var z=te-1>>>1,C=j[z];if(0<c(C,M))j[z]=M,j[te]=C,te=z;else break e}}function l(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var M=j[0],te=j.pop();if(te!==M){j[0]=te;e:for(var z=0,C=j.length,P=C>>>1;z<P;){var se=2*(z+1)-1,k=j[se],J=se+1,de=j[J];if(0>c(k,te))J<C&&0>c(de,k)?(j[z]=de,j[J]=te,z=J):(j[z]=k,j[se]=te,z=se);else if(J<C&&0>c(de,te))j[z]=de,j[J]=te,z=J;else break e}}return M}function c(j,M){var te=j.sortIndex-M.sortIndex;return te!==0?te:j.id-M.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var x=[],g=[],p=1,y=null,w=3,E=!1,N=!1,A=!1,_=!1,D=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(j){for(var M=l(g);M!==null;){if(M.callback===null)o(g);else if(M.startTime<=j)o(g),M.sortIndex=M.expirationTime,r(x,M);else break;M=l(g)}}function $(j){if(A=!1,K(j),!N)if(l(x)!==null)N=!0,I||(I=!0,Ne());else{var M=l(g);M!==null&&ce($,M.startTime-j)}}var I=!1,V=-1,oe=5,le=-1;function be(){return _?!0:!(n.unstable_now()-le<oe)}function _e(){if(_=!1,I){var j=n.unstable_now();le=j;var M=!0;try{e:{N=!1,A&&(A=!1,T(V),V=-1),E=!0;var te=w;try{t:{for(K(j),y=l(x);y!==null&&!(y.expirationTime>j&&be());){var z=y.callback;if(typeof z=="function"){y.callback=null,w=y.priorityLevel;var C=z(y.expirationTime<=j);if(j=n.unstable_now(),typeof C=="function"){y.callback=C,K(j),M=!0;break t}y===l(x)&&o(x),K(j)}else o(x);y=l(x)}if(y!==null)M=!0;else{var P=l(g);P!==null&&ce($,P.startTime-j),M=!1}}break e}finally{y=null,w=te,E=!1}M=void 0}}finally{M?Ne():I=!1}}}var Ne;if(typeof U=="function")Ne=function(){U(_e)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,X=Q.port2;Q.port1.onmessage=_e,Ne=function(){X.postMessage(null)}}else Ne=function(){D(_e,0)};function ce(j,M){V=D(function(){j(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(j){switch(w){case 1:case 2:case 3:var M=3;break;default:M=w}var te=w;w=M;try{return j()}finally{w=te}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=w;w=j;try{return M()}finally{w=te}},n.unstable_scheduleCallback=function(j,M,te){var z=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?z+te:z):te=z,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,j={id:p++,callback:M,priorityLevel:j,startTime:te,expirationTime:C,sortIndex:-1},te>z?(j.sortIndex=te,r(g,j),l(x)===null&&j===l(g)&&(A?(T(V),V=-1):A=!0,ce($,te-z))):(j.sortIndex=C,r(x,j),N||E||(N=!0,I||(I=!0,Ne()))),j},n.unstable_shouldYield=be,n.unstable_wrapCallback=function(j){var M=w;return function(){var te=w;w=M;try{return j.apply(this,arguments)}finally{w=te}}}})(eu)),eu}var G0;function kb(){return G0||(G0=1,Jd.exports=_b()),Jd.exports}var tu={exports:{}},us={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Ab(){if(V0)return us;V0=1;var n=$u();function r(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(x,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:x,containerInfo:g,implementation:p}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,us.createPortal=function(x,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return d(x,g,null,p)},us.flushSync=function(x){var g=h.T,p=o.p;try{if(h.T=null,o.p=2,x)return x()}finally{h.T=g,o.p=p,o.d.f()}},us.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(x,g))},us.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},us.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var p=g.as,y=m(p,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?o.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:E}):p==="script"&&o.d.X(x,{crossOrigin:y,integrity:w,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},us.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=m(g.as,g.crossOrigin);o.d.M(x,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(x)},us.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=m(p,g.crossOrigin);o.d.L(x,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},us.preloadModule=function(x,g){if(typeof x=="string")if(g){var p=m(g.as,g.crossOrigin);o.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(x)},us.requestFormReset=function(x){o.d.r(x)},us.unstable_batchedUpdates=function(x,g){return x(g)},us.useFormState=function(x,g,p){return h.H.useFormState(x,g,p)},us.useFormStatus=function(){return h.H.useHostTransitionStatus()},us.version="19.1.1",us}var W0;function Xg(){if(W0)return tu.exports;W0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),tu.exports=Ab(),tu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function Db(){if(K0)return Tl;K0=1;var n=kb(),r=$u(),l=Xg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),e;if(f===i)return m(u),t;f=f.sibling}throw Error(o(188))}if(a.return!==i.return)a=u,i=f;else{for(var v=!1,S=u.child;S;){if(S===a){v=!0,a=u,i=f;break}if(S===i){v=!0,i=u,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,i=u;break}if(S===i){v=!0,i=f,a=u;break}S=S.sibling}if(!v)throw Error(o(189))}}if(a.alternate!==i)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case I:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case U:return(e.displayName||"Context")+".Provider";case T:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}var ce=Array.isArray,j=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},z=[],C=-1;function P(e){return{current:e}}function se(e){0>C||(e.current=z[C],z[C]=null,C--)}function k(e,t){C++,z[C]=e.current,e.current=t}var J=P(null),de=P(null),q=P(null),we=P(null);function xe(e,t){switch(k(q,t),k(de,e),k(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?g0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=g0(t),e=p0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(J),k(J,e)}function ze(){se(J),se(de),se(q)}function Ie(e){e.memoizedState!==null&&k(we,e);var t=J.current,a=p0(t,e.type);t!==a&&(k(de,e),k(J,a))}function Me(e){de.current===e&&(se(J),se(de)),we.current===e&&(se(we),Cl._currentValue=te)}var at=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,me=n.unstable_shouldYield,Se=n.unstable_requestPaint,$e=n.unstable_now,G=n.unstable_getCurrentPriorityLevel,O=n.unstable_ImmediatePriority,ge=n.unstable_UserBlockingPriority,Re=n.unstable_NormalPriority,Fe=n.unstable_LowPriority,ft=n.unstable_IdlePriority,ve=n.log,Pe=n.unstable_setDisableYieldValue,Y=null,je=null;function Ce(e){if(typeof ve=="function"&&Pe(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Y,e)}catch{}}var ae=Math.clz32?Math.clz32:H,qe=Math.log,gt=Math.LN2;function H(e){return e>>>=0,e===0?32:31-(qe(e)/gt|0)|0}var ie=256,Be=4194304;function Te(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ve(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=Te(i):(v&=S,v!==0?u=Te(v):a||(a=S&~e,a!==0&&(u=Te(a))))):(S=i&~f,S!==0?u=Te(S):v!==0?u=Te(v):a||(a=i&~e,a!==0&&(u=Te(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function Ge(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function st(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dt(){var e=ie;return ie<<=1,(ie&4194048)===0&&(ie=256),e}function Os(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function Cs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ps(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rr(e,t,a,i,u,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,R=e.expirationTimes,Z=e.hiddenUpdates;for(a=v&~a;0<a;){var ue=31-ae(a),pe=1<<ue;S[ue]=0,R[ue]=-1;var ee=Z[ue];if(ee!==null)for(Z[ue]=null,ue=0;ue<ee.length;ue++){var re=ee[ue];re!==null&&(re.lane&=-536870913)}a&=~pe}i!==0&&Xe(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function Xe(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ae(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function _t(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-ae(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function Tt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ft(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qs(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:U0(e.type))}function Lt(e,t){var a=M.p;try{return M.p=e,t()}finally{M.p=a}}var kt=Math.random().toString(36).slice(2),At="__reactFiber$"+kt,ut="__reactProps$"+kt,zt="__reactContainer$"+kt,tr="__reactEvents$"+kt,fs="__reactListeners$"+kt,oa="__reactHandles$"+kt,Oa="__reactResources$"+kt,Oe="__reactMarker$"+kt;function De(e){delete e[At],delete e[ut],delete e[tr],delete e[fs],delete e[oa]}function Le(e){var t=e[At];if(t)return t;for(var a=e.parentNode;a;){if(t=a[zt]||a[At]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=v0(e);e!==null;){if(a=e[At])return a;e=v0(e)}return t}e=a,a=e.parentNode}return null}function We(e){if(e=e[At]||e[zt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function pt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ue(e){var t=e[Oa];return t||(t=e[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ye(e){e[Oe]=!0}var ke=new Set,Yt={};function Je(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(Yt[e]=t,e=0;e<t.length;e++)ke.add(t[e])}var nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),so={},lh={};function px(e){return at.call(lh,e)?!0:at.call(so,e)?!1:nh.test(e)?lh[e]=!0:(so[e]=!0,!1)}function ro(e,t,a){if(px(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ao(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function dr(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var qi,oh;function La(e){if(qi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);qi=t&&t[1]||"",oh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qi+e+oh}var Yi=!1;function Gi(e,t){if(!e||Yi)return"";Yi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(re){var ee=re}Reflect.construct(e,[],pe)}else{try{pe.call()}catch(re){ee=re}e.call(pe.prototype)}}else{try{throw Error()}catch(re){ee=re}(pe=e())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var R=v.split(`
`),Z=S.split(`
`);for(u=i=0;i<R.length&&!R[i].includes("DetermineComponentFrameRoot");)i++;for(;u<Z.length&&!Z[u].includes("DetermineComponentFrameRoot");)u++;if(i===R.length||u===Z.length)for(i=R.length-1,u=Z.length-1;1<=i&&0<=u&&R[i]!==Z[u];)u--;for(;1<=i&&0<=u;i--,u--)if(R[i]!==Z[u]){if(i!==1||u!==1)do if(i--,u--,0>u||R[i]!==Z[u]){var ue=`
`+R[i].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=i&&0<=u);break}}}finally{Yi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?La(a):""}function xx(e){switch(e.tag){case 26:case 27:case 5:return La(e.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return Gi(e.type,!1);case 11:return Gi(e.type.render,!1);case 1:return Gi(e.type,!0);case 31:return La("Activity");default:return""}}function ih(e){try{var t="";do t+=xx(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ls(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ch(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yx(e){var t=ch(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function no(e){e._valueTracker||(e._valueTracker=yx(e))}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=ch(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bx=/[\n"\\]/g;function Us(e){return e.replace(bx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vi(e,t,a,i,u,f,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ls(t)):e.value!==""+Ls(t)&&(e.value=""+Ls(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Wi(e,v,Ls(t)):a!=null?Wi(e,v,Ls(a)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ls(S):e.removeAttribute("name")}function uh(e,t,a,i,u,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+Ls(a):"",t=t!=null?""+Ls(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=S?e.checked:!!i,e.defaultChecked=!!i,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Wi(e,t,a){t==="number"&&lo(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ua(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ls(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function hh(e,t,a){if(t!=null&&(t=""+Ls(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ls(a):""}function fh(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(o(92));if(ce(i)){if(1<i.length)throw Error(o(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ls(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function Ma(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var vx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mh(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||vx.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function gh(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&mh(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&mh(e,f,t[f])}function Ki(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(e){return jx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qi=null;function Xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,za=null;function ph(e){var t=We(e);if(t&&(e=t.stateNode)){var a=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Us(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[ut]||null;if(!u)throw Error(o(90));Vi(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&dh(i)}break e;case"textarea":hh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ua(e,!!a.multiple,t,!1)}}}var Zi=!1;function xh(e,t,a){if(Zi)return e(t,a);Zi=!0;try{var i=e(t);return i}finally{if(Zi=!1,(Ba!==null||za!==null)&&(Vo(),Ba&&(t=Ba,e=za,za=Ba=null,ph(t),e)))for(t=0;t<e.length;t++)ph(e[t])}}function zn(e,t){var a=e.stateNode;if(a===null)return null;var i=a[ut]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(ur)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Ji=!1}var Or=null,ec=null,io=null;function yh(){if(io)return io;var e,t=ec,a=t.length,i,u="value"in Or?Or.value:Or.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var v=a-e;for(i=1;i<=v&&t[a-i]===u[f-i];i++);return io=u.slice(e,1<i?1-i:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uo(){return!0}function bh(){return!1}function xs(e){function t(a,i,u,f,v){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?uo:bh,this.isPropagationStopped=bh,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=xs(ia),Hn=p({},ia,{view:0,detail:0}),Nx=xs(Hn),tc,sc,Fn,fo=p({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(tc=e.screenX-Fn.screenX,sc=e.screenY-Fn.screenY):sc=tc=0,Fn=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),vh=xs(fo),Sx=p({},fo,{dataTransfer:0}),Cx=xs(Sx),Ex=p({},Hn,{relatedTarget:0}),rc=xs(Ex),_x=p({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=xs(_x),Ax=p({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dx=xs(Ax),Tx=p({},ia,{data:0}),wh=xs(Tx),Rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lx[e])?!!t[e]:!1}function ac(){return Ux}var Mx=p({},Hn,{key:function(e){if(e.key){var t=Rx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=xs(Mx),zx=p({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=xs(zx),$x=p({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),Hx=xs($x),Fx=p({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=xs(Fx),Px=p({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=xs(Px),Yx=p({},ia,{newState:0,oldState:0}),Gx=xs(Yx),Vx=[9,13,27,32],nc=ur&&"CompositionEvent"in window,In=null;ur&&"documentMode"in document&&(In=document.documentMode);var Wx=ur&&"TextEvent"in window&&!In,Nh=ur&&(!nc||In&&8<In&&11>=In),Sh=" ",Ch=!1;function Eh(e,t){switch(e){case"keyup":return Vx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function Kx(e,t){switch(e){case"compositionend":return _h(t);case"keypress":return t.which!==32?null:(Ch=!0,Sh);case"textInput":return e=t.data,e===Sh&&Ch?null:e;default:return null}}function Qx(e,t){if($a)return e==="compositionend"||!nc&&Eh(e,t)?(e=yh(),io=ec=Or=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nh&&t.locale!=="ko"?null:t.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xx[e.type]:t==="textarea"}function Ah(e,t,a,i){Ba?za?za.push(i):za=[i]:Ba=i,t=Jo(t,"onChange"),0<t.length&&(a=new ho("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Pn=null,qn=null;function Zx(e){d0(e,0)}function mo(e){var t=pt(e);if(dh(t))return e}function Dh(e,t){if(e==="change")return t}var Th=!1;if(ur){var lc;if(ur){var oc="oninput"in document;if(!oc){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),oc=typeof Rh.oninput=="function"}lc=oc}else lc=!1;Th=lc&&(!document.documentMode||9<document.documentMode)}function Oh(){Pn&&(Pn.detachEvent("onpropertychange",Lh),qn=Pn=null)}function Lh(e){if(e.propertyName==="value"&&mo(qn)){var t=[];Ah(t,qn,e,Xi(e)),xh(Zx,t)}}function Jx(e,t,a){e==="focusin"?(Oh(),Pn=t,qn=a,Pn.attachEvent("onpropertychange",Lh)):e==="focusout"&&Oh()}function ey(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mo(qn)}function ty(e,t){if(e==="click")return mo(t)}function sy(e,t){if(e==="input"||e==="change")return mo(t)}function ry(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Es=typeof Object.is=="function"?Object.is:ry;function Yn(e,t){if(Es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!at.call(t,u)||!Es(e[u],t[u]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mh(e,t){var a=Uh(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Uh(a)}}function Bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lo(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=lo(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ay=ur&&"documentMode"in document&&11>=document.documentMode,Ha=null,cc=null,Gn=null,dc=!1;function $h(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dc||Ha==null||Ha!==lo(i)||(i=Ha,"selectionStart"in i&&ic(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gn&&Yn(Gn,i)||(Gn=i,i=Jo(cc,"onSelect"),0<i.length&&(t=new ho("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Ha)))}function ca(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Fa={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},uc={},Hh={};ur&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function da(e){if(uc[e])return uc[e];if(!Fa[e])return e;var t=Fa[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Hh)return uc[e]=t[a];return e}var Fh=da("animationend"),Ih=da("animationiteration"),Ph=da("animationstart"),ny=da("transitionrun"),ly=da("transitionstart"),oy=da("transitioncancel"),qh=da("transitionend"),Yh=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function Ys(e,t){Yh.set(e,t),Je(t,[e])}var Gh=new WeakMap;function Ms(e,t){if(typeof e=="object"&&e!==null){var a=Gh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ih(t)},Gh.set(e,t),t)}return{value:e,source:t,stack:ih(t)}}var Bs=[],Ia=0,fc=0;function go(){for(var e=Ia,t=fc=Ia=0;t<e;){var a=Bs[t];Bs[t++]=null;var i=Bs[t];Bs[t++]=null;var u=Bs[t];Bs[t++]=null;var f=Bs[t];if(Bs[t++]=null,i!==null&&u!==null){var v=i.pending;v===null?u.next=u:(u.next=v.next,v.next=u),i.pending=u}f!==0&&Vh(a,u,f)}}function po(e,t,a,i){Bs[Ia++]=e,Bs[Ia++]=t,Bs[Ia++]=a,Bs[Ia++]=i,fc|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function mc(e,t,a,i){return po(e,t,a,i),xo(e)}function Pa(e,t){return po(e,null,null,t),xo(e)}function Vh(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,i=f.alternate,i!==null&&(i.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-ae(a),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),f):null}function xo(e){if(50<xl)throw xl=0,vd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function iy(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,a,i){return new iy(e,t,a,i)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hr(e,t){var a=e.alternate;return a===null?(a=_s(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yo(e,t,a,i,u,f){var v=0;if(i=e,typeof e=="function")gc(e)&&(v=1);else if(typeof e=="string")v=db(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=_s(31,a,t,u),e.elementType=le,e.lanes=f,e;case N:return ua(a.children,u,f,t);case A:v=8,u|=24;break;case _:return e=_s(12,a,t,u|2),e.elementType=_,e.lanes=f,e;case $:return e=_s(13,a,t,u),e.elementType=$,e.lanes=f,e;case I:return e=_s(19,a,t,u),e.elementType=I,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:case U:v=10;break e;case T:v=9;break e;case K:v=11;break e;case V:v=14;break e;case oe:v=16,i=null;break e}v=29,a=Error(o(130,e===null?"null":typeof e,"")),i=null}return t=_s(v,a,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function ua(e,t,a,i){return e=_s(7,e,i,t),e.lanes=a,e}function pc(e,t,a){return e=_s(6,e,null,t),e.lanes=a,e}function xc(e,t,a){return t=_s(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ya=[],Ga=0,bo=null,vo=0,zs=[],$s=0,ha=null,fr=1,mr="";function fa(e,t){Ya[Ga++]=vo,Ya[Ga++]=bo,bo=e,vo=t}function Kh(e,t,a){zs[$s++]=fr,zs[$s++]=mr,zs[$s++]=ha,ha=e;var i=fr;e=mr;var u=32-ae(i)-1;i&=~(1<<u),a+=1;var f=32-ae(t)+u;if(30<f){var v=u-u%5;f=(i&(1<<v)-1).toString(32),i>>=v,u-=v,fr=1<<32-ae(t)+u|a<<u|i,mr=f+e}else fr=1<<f|a<<u|i,mr=e}function yc(e){e.return!==null&&(fa(e,1),Kh(e,1,0))}function bc(e){for(;e===bo;)bo=Ya[--Ga],Ya[Ga]=null,vo=Ya[--Ga],Ya[Ga]=null;for(;e===ha;)ha=zs[--$s],zs[$s]=null,mr=zs[--$s],zs[$s]=null,fr=zs[--$s],zs[$s]=null}var ms=null,$t=null,xt=!1,ma=null,sr=!1,vc=Error(o(519));function ga(e){var t=Error(o(418,""));throw Kn(Ms(t,e)),vc}function Qh(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[At]=e,t[ut]=i,a){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(a=0;a<bl.length;a++)ct(bl[a],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),uh(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),no(t);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),fh(t,i.value,i.defaultValue,i.children),no(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||m0(t.textContent,a)?(i.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),i.onScroll!=null&&ct("scroll",t),i.onScrollEnd!=null&&ct("scrollend",t),i.onClick!=null&&(t.onclick=ei),t=!0):t=!1,t||ga(e)}function Xh(e){for(ms=e.return;ms;)switch(ms.tag){case 5:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:ms=ms.return}}function Vn(e){if(e!==ms)return!1;if(!xt)return Xh(e),xt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&$t&&ga(e),Xh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){$t=Vs(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}$t=null}}else t===27?(t=$t,Kr(e.type)?(e=Hd,Hd=null,$t=e):$t=t):$t=ms?Vs(e.stateNode.nextSibling):null;return!0}function Wn(){$t=ms=null,xt=!1}function Zh(){var e=ma;return e!==null&&(vs===null?vs=e:vs.push.apply(vs,e),ma=null),e}function Kn(e){ma===null?ma=[e]:ma.push(e)}var wc=P(null),pa=null,gr=null;function Lr(e,t,a){k(wc,t._currentValue),t._currentValue=a}function pr(e){e._currentValue=wc.current,se(wc)}function jc(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Nc(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var R=0;R<t.length;R++)if(S.context===t[R]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),jc(f.return,a,e),i||(v=null);break e}f=S.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(o(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),jc(v,a,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function Qn(e,t,a,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var S=u.type;Es(u.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(u===we.current){if(v=u.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}u=u.return}e!==null&&Nc(t,e,a,i),t.flags|=262144}function wo(e){for(e=e.firstContext;e!==null;){if(!Es(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){pa=e,gr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ds(e){return Jh(pa,e)}function jo(e,t){return pa===null&&xa(e),Jh(e,t)}function Jh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},gr===null){if(e===null)throw Error(o(308));gr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gr=gr.next=t;return a}var cy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},dy=n.unstable_scheduleCallback,uy=n.unstable_NormalPriority,Kt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new cy,data:new Map,refCount:0}}function Xn(e){e.refCount--,e.refCount===0&&dy(uy,function(){e.controller.abort()})}var Zn=null,Cc=0,Va=0,Wa=null;function hy(e,t){if(Zn===null){var a=Zn=[];Cc=0,Va=_d(),Wa={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Cc++,t.then(ef,ef),t}function ef(){if(--Cc===0&&Zn!==null){Wa!==null&&(Wa.status="fulfilled");var e=Zn;Zn=null,Va=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fy(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var tf=j.S;j.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&hy(e,t),tf!==null&&tf(e,t)};var ya=P(null);function Ec(){var e=ya.current;return e!==null?e:St.pooledCache}function No(e,t){t===null?k(ya,ya.current):k(ya,t.pool)}function sf(){var e=Ec();return e===null?null:{parent:Kt._currentValue,pool:e}}var Jn=Error(o(460)),rf=Error(o(474)),So=Error(o(542)),_c={then:function(){}};function af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Co(){}function nf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Co,Co),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,of(e),e;default:if(typeof t.status=="string")t.then(Co,Co);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,of(e),e}throw el=t,Jn}}var el=null;function lf(){if(el===null)throw Error(o(459));var e=el;return el=null,e}function of(e){if(e===Jn||e===So)throw Error(o(483))}var Ur=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Br(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(yt&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=xo(e),Vh(e,null,a),t}return po(e,i,t,a),xo(e)}function tl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,_t(e,a)}}function Dc(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Tc=!1;function sl(){if(Tc){var e=Wa;if(e!==null)throw e}}function rl(e,t,a,i){Tc=!1;var u=e.updateQueue;Ur=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var R=S,Z=R.next;R.next=null,v===null?f=Z:v.next=Z,v=R;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==v&&(S===null?ue.firstBaseUpdate=Z:S.next=Z,ue.lastBaseUpdate=R))}if(f!==null){var pe=u.baseState;v=0,ue=Z=R=null,S=f;do{var ee=S.lane&-536870913,re=ee!==S.lane;if(re?(ht&ee)===ee:(i&ee)===ee){ee!==0&&ee===Va&&(Tc=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ze=e,Ke=S;ee=t;var jt=a;switch(Ke.tag){case 1:if(Ze=Ke.payload,typeof Ze=="function"){pe=Ze.call(jt,pe,ee);break e}pe=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ke.payload,ee=typeof Ze=="function"?Ze.call(jt,pe,ee):Ze,ee==null)break e;pe=p({},pe,ee);break e;case 2:Ur=!0}}ee=S.callback,ee!==null&&(e.flags|=64,re&&(e.flags|=8192),re=u.callbacks,re===null?u.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(Z=ue=re,R=pe):ue=ue.next=re,v|=ee;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;re=S,S=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);ue===null&&(R=pe),u.baseState=R,u.firstBaseUpdate=Z,u.lastBaseUpdate=ue,f===null&&(u.shared.lanes=0),Yr|=v,e.lanes=v,e.memoizedState=pe}}function cf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function df(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cf(a[e],t)}var Ka=P(null),Eo=P(0);function uf(e,t){e=Nr,k(Eo,e),k(Ka,t),Nr=e|t.baseLanes}function Rc(){k(Eo,Nr),k(Ka,Ka.current)}function Oc(){Nr=Eo.current,se(Ka),se(Eo)}var zr=0,lt=null,vt=null,Gt=null,_o=!1,Qa=!1,ba=!1,ko=0,al=0,Xa=null,my=0;function It(){throw Error(o(321))}function Lc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Es(e[a],t[a]))return!1;return!0}function Uc(e,t,a,i,u,f){return zr=f,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Wf:Kf,ba=!1,f=a(i,u),ba=!1,Qa&&(f=ff(t,a,i,u)),hf(e),f}function hf(e){j.H=Lo;var t=vt!==null&&vt.next!==null;if(zr=0,Gt=vt=lt=null,_o=!1,al=0,Xa=null,t)throw Error(o(300));e===null||Jt||(e=e.dependencies,e!==null&&wo(e)&&(Jt=!0))}function ff(e,t,a,i){lt=e;var u=0;do{if(Qa&&(Xa=null),al=0,Qa=!1,25<=u)throw Error(o(301));if(u+=1,Gt=vt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=wy,f=t(a,i)}while(Qa);return f}function gy(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?nl(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(lt.flags|=1024),t}function Mc(){var e=ko!==0;return ko=0,e}function Bc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function zc(e){if(_o){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_o=!1}zr=0,Gt=vt=lt=null,Qa=!1,al=ko=0,Xa=null}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?lt.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Vt(){if(vt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Gt===null?lt.memoizedState:Gt.next;if(t!==null)Gt=t,vt=e;else{if(e===null)throw lt.alternate===null?Error(o(467)):Error(o(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Gt===null?lt.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var t=al;return al+=1,Xa===null&&(Xa=[]),e=nf(Xa,e,t),t=lt,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Wf:Kf),e}function Ao(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===U)return ds(e)}throw Error(o(438,String(e)))}function Hc(e){var t=null,a=lt.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=lt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=$c(),lt.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=be;return t.index++,a}function xr(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=Vt();return Fc(t,vt,e)}function Fc(e,t,a){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=a;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var S=v=null,R=null,Z=t,ue=!1;do{var pe=Z.lane&-536870913;if(pe!==Z.lane?(ht&pe)===pe:(zr&pe)===pe){var ee=Z.revertLane;if(ee===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),pe===Va&&(ue=!0);else if((zr&ee)===ee){Z=Z.next,ee===Va&&(ue=!0);continue}else pe={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},R===null?(S=R=pe,v=f):R=R.next=pe,lt.lanes|=ee,Yr|=ee;pe=Z.action,ba&&a(f,pe),f=Z.hasEagerState?Z.eagerState:a(f,pe)}else ee={lane:pe,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},R===null?(S=R=ee,v=f):R=R.next=ee,lt.lanes|=pe,Yr|=pe;Z=Z.next}while(Z!==null&&Z!==t);if(R===null?v=f:R.next=S,!Es(f,e.memoizedState)&&(Jt=!0,ue&&(a=Wa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=R,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ic(e){var t=Vt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var v=u=u.next;do f=e(f,v.action),v=v.next;while(v!==u);Es(f,t.memoizedState)||(Jt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,i]}function mf(e,t,a){var i=lt,u=Vt(),f=xt;if(f){if(a===void 0)throw Error(o(407));a=a()}else a=t();var v=!Es((vt||u).memoizedState,a);v&&(u.memoizedState=a,Jt=!0),u=u.queue;var S=xf.bind(null,i,u,e);if(ll(2048,8,S,[e]),u.getSnapshot!==t||v||Gt!==null&&Gt.memoizedState.tag&1){if(i.flags|=2048,Za(9,To(),pf.bind(null,i,u,a,t),null),St===null)throw Error(o(349));f||(zr&124)!==0||gf(i,t,a)}return a}function gf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=lt.updateQueue,t===null?(t=$c(),lt.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function pf(e,t,a,i){t.value=a,t.getSnapshot=i,yf(t)&&bf(e)}function xf(e,t,a){return a(function(){yf(t)&&bf(e)})}function yf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Es(e,a)}catch{return!0}}function bf(e){var t=Pa(e,2);t!==null&&Rs(t,e,2)}function Pc(e){var t=ys();if(typeof e=="function"){var a=e;if(e=a(),ba){Ce(!0);try{a()}finally{Ce(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:e},t}function vf(e,t,a,i){return e.baseState=a,Fc(e,vt,typeof i=="function"?i:xr)}function py(e,t,a,i,u){if(Oo(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};j.T!==null?a(!0):f.isTransition=!1,i(f),a=t.pending,a===null?(f.next=t.pending=f,wf(t,f)):(f.next=a.next,t.pending=a.next=f)}}function wf(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=j.T,v={};j.T=v;try{var S=a(u,i),R=j.S;R!==null&&R(v,S),jf(e,t,S)}catch(Z){qc(e,t,Z)}finally{j.T=f}}else try{f=a(u,i),jf(e,t,f)}catch(Z){qc(e,t,Z)}}function jf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Nf(e,t,i)},function(i){return qc(e,t,i)}):Nf(e,t,a)}function Nf(e,t,a){t.status="fulfilled",t.value=a,Sf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,wf(e,a)))}function qc(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Sf(t),t=t.next;while(t!==i)}e.action=null}function Sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cf(e,t){return t}function Ef(e,t){if(xt){var a=St.formState;if(a!==null){e:{var i=lt;if(xt){if($t){t:{for(var u=$t,f=sr;u.nodeType!==8;){if(!f){u=null;break t}if(u=Vs(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){$t=Vs(u.nextSibling),i=u.data==="F!";break e}}ga(i)}i=!1}i&&(t=a[0])}}return a=ys(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:t},a.queue=i,a=Yf.bind(null,lt,i),i.dispatch=a,i=Pc(!1),f=Kc.bind(null,lt,!1,i.queue),i=ys(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=py.bind(null,lt,u,f,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function _f(e){var t=Vt();return kf(t,vt,e)}function kf(e,t,a){if(t=Fc(e,t,Cf)[0],e=Do(xr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=nl(t)}catch(v){throw v===Jn?So:v}else i=t;t=Vt();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(lt.flags|=2048,Za(9,To(),xy.bind(null,u,a),null)),[i,f,e]}function xy(e,t){e.action=t}function Af(e){var t=Vt(),a=vt;if(a!==null)return kf(t,a,e);Vt(),t=t.memoizedState,a=Vt();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function Za(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=lt.updateQueue,t===null&&(t=$c(),lt.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function To(){return{destroy:void 0,resource:void 0}}function Df(){return Vt().memoizedState}function Ro(e,t,a,i){var u=ys();i=i===void 0?null:i,lt.flags|=e,u.memoizedState=Za(1|t,To(),a,i)}function ll(e,t,a,i){var u=Vt();i=i===void 0?null:i;var f=u.memoizedState.inst;vt!==null&&i!==null&&Lc(i,vt.memoizedState.deps)?u.memoizedState=Za(t,f,a,i):(lt.flags|=e,u.memoizedState=Za(1|t,f,a,i))}function Tf(e,t){Ro(8390656,8,e,t)}function Rf(e,t){ll(2048,8,e,t)}function Of(e,t){return ll(4,2,e,t)}function Lf(e,t){return ll(4,4,e,t)}function Uf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mf(e,t,a){a=a!=null?a.concat([e]):null,ll(4,4,Uf.bind(null,t,e),a)}function Yc(){}function Bf(e,t){var a=Vt();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Lc(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function zf(e,t){var a=Vt();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Lc(t,i[1]))return i[0];if(i=e(),ba){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[i,t],i}function Gc(e,t,a){return a===void 0||(zr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Fm(),lt.lanes|=e,Yr|=e,a)}function $f(e,t,a,i){return Es(a,t)?a:Ka.current!==null?(e=Gc(e,a,i),Es(e,t)||(Jt=!0),e):(zr&42)===0?(Jt=!0,e.memoizedState=a):(e=Fm(),lt.lanes|=e,Yr|=e,t)}function Hf(e,t,a,i,u){var f=M.p;M.p=f!==0&&8>f?f:8;var v=j.T,S={};j.T=S,Kc(e,!1,t,a);try{var R=u(),Z=j.S;if(Z!==null&&Z(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ue=fy(R,i);ol(e,t,ue,Ts(e))}else ol(e,t,i,Ts(e))}catch(pe){ol(e,t,{then:function(){},status:"rejected",reason:pe},Ts())}finally{M.p=f,j.T=v}}function yy(){}function Vc(e,t,a,i){if(e.tag!==5)throw Error(o(476));var u=Ff(e).queue;Hf(e,u,t,te,a===null?yy:function(){return If(e),a(i)})}function Ff(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function If(e){var t=Ff(e).next.queue;ol(e,t,{},Ts())}function Wc(){return ds(Cl)}function Pf(){return Vt().memoizedState}function qf(){return Vt().memoizedState}function by(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ts();e=Mr(a);var i=Br(t,e,a);i!==null&&(Rs(i,t,a),tl(i,t,a)),t={cache:Sc()},e.payload=t;return}t=t.return}}function vy(e,t,a){var i=Ts();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oo(e)?Gf(t,a):(a=mc(e,t,a,i),a!==null&&(Rs(a,e,i),Vf(a,t,i)))}function Yf(e,t,a){var i=Ts();ol(e,t,a,i)}function ol(e,t,a,i){var u={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oo(e))Gf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,S=f(v,a);if(u.hasEagerState=!0,u.eagerState=S,Es(S,v))return po(e,t,u,0),St===null&&go(),!1}catch{}finally{}if(a=mc(e,t,u,i),a!==null)return Rs(a,e,i),Vf(a,t,i),!0}return!1}function Kc(e,t,a,i){if(i={lane:2,revertLane:_d(),action:i,hasEagerState:!1,eagerState:null,next:null},Oo(e)){if(t)throw Error(o(479))}else t=mc(e,a,i,2),t!==null&&Rs(t,e,2)}function Oo(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function Gf(e,t){Qa=_o=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Vf(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,_t(e,a)}}var Lo={readContext:ds,use:Ao,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},Wf={readContext:ds,use:Ao,useCallback:function(e,t){return ys().memoizedState=[e,t===void 0?null:t],e},useContext:ds,useEffect:Tf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ro(4194308,4,Uf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){Ro(4,2,e,t)},useMemo:function(e,t){var a=ys();t=t===void 0?null:t;var i=e();if(ba){Ce(!0);try{e()}finally{Ce(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=ys();if(a!==void 0){var u=a(t);if(ba){Ce(!0);try{a(t)}finally{Ce(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=vy.bind(null,lt,e),[i.memoizedState,e]},useRef:function(e){var t=ys();return e={current:e},t.memoizedState=e},useState:function(e){e=Pc(e);var t=e.queue,a=Yf.bind(null,lt,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Yc,useDeferredValue:function(e,t){var a=ys();return Gc(a,e,t)},useTransition:function(){var e=Pc(!1);return e=Hf.bind(null,lt,e.queue,!0,!1),ys().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=lt,u=ys();if(xt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),St===null)throw Error(o(349));(ht&124)!==0||gf(i,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,Tf(xf.bind(null,i,f,e),[e]),i.flags|=2048,Za(9,To(),pf.bind(null,i,f,a,t),null),a},useId:function(){var e=ys(),t=St.identifierPrefix;if(xt){var a=mr,i=fr;a=(i&~(1<<32-ae(i)-1)).toString(32)+a,t=""+t+"R"+a,a=ko++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=my++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Wc,useFormState:Ef,useActionState:Ef,useOptimistic:function(e){var t=ys();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Kc.bind(null,lt,!0,a),a.dispatch=t,[e,t]},useMemoCache:Hc,useCacheRefresh:function(){return ys().memoizedState=by.bind(null,lt)}},Kf={readContext:ds,use:Ao,useCallback:Bf,useContext:ds,useEffect:Rf,useImperativeHandle:Mf,useInsertionEffect:Of,useLayoutEffect:Lf,useMemo:zf,useReducer:Do,useRef:Df,useState:function(){return Do(xr)},useDebugValue:Yc,useDeferredValue:function(e,t){var a=Vt();return $f(a,vt.memoizedState,e,t)},useTransition:function(){var e=Do(xr)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:mf,useId:Pf,useHostTransitionStatus:Wc,useFormState:_f,useActionState:_f,useOptimistic:function(e,t){var a=Vt();return vf(a,vt,e,t)},useMemoCache:Hc,useCacheRefresh:qf},wy={readContext:ds,use:Ao,useCallback:Bf,useContext:ds,useEffect:Rf,useImperativeHandle:Mf,useInsertionEffect:Of,useLayoutEffect:Lf,useMemo:zf,useReducer:Ic,useRef:Df,useState:function(){return Ic(xr)},useDebugValue:Yc,useDeferredValue:function(e,t){var a=Vt();return vt===null?Gc(a,e,t):$f(a,vt.memoizedState,e,t)},useTransition:function(){var e=Ic(xr)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:mf,useId:Pf,useHostTransitionStatus:Wc,useFormState:Af,useActionState:Af,useOptimistic:function(e,t){var a=Vt();return vt!==null?vf(a,vt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:qf},Ja=null,il=0;function Uo(e){var t=il;return il+=1,Ja===null&&(Ja=[]),nf(Ja,e,t)}function cl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mo(e,t){throw t.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qf(e){var t=e._init;return t(e._payload)}function Xf(e){function t(F,B){if(e){var W=F.deletions;W===null?(F.deletions=[B],F.flags|=16):W.push(B)}}function a(F,B){if(!e)return null;for(;B!==null;)t(F,B),B=B.sibling;return null}function i(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function u(F,B){return F=hr(F,B),F.index=0,F.sibling=null,F}function f(F,B,W){return F.index=W,e?(W=F.alternate,W!==null?(W=W.index,W<B?(F.flags|=67108866,B):W):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function v(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function S(F,B,W,he){return B===null||B.tag!==6?(B=pc(W,F.mode,he),B.return=F,B):(B=u(B,W),B.return=F,B)}function R(F,B,W,he){var He=W.type;return He===N?ue(F,B,W.props.children,he,W.key):B!==null&&(B.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===oe&&Qf(He)===B.type)?(B=u(B,W.props),cl(B,W),B.return=F,B):(B=yo(W.type,W.key,W.props,null,F.mode,he),cl(B,W),B.return=F,B)}function Z(F,B,W,he){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=xc(W,F.mode,he),B.return=F,B):(B=u(B,W.children||[]),B.return=F,B)}function ue(F,B,W,he,He){return B===null||B.tag!==7?(B=ua(W,F.mode,he,He),B.return=F,B):(B=u(B,W),B.return=F,B)}function pe(F,B,W){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=pc(""+B,F.mode,W),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return W=yo(B.type,B.key,B.props,null,F.mode,W),cl(W,B),W.return=F,W;case E:return B=xc(B,F.mode,W),B.return=F,B;case oe:var he=B._init;return B=he(B._payload),pe(F,B,W)}if(ce(B)||Ne(B))return B=ua(B,F.mode,W,null),B.return=F,B;if(typeof B.then=="function")return pe(F,Uo(B),W);if(B.$$typeof===U)return pe(F,jo(F,B),W);Mo(F,B)}return null}function ee(F,B,W,he){var He=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return He!==null?null:S(F,B,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===He?R(F,B,W,he):null;case E:return W.key===He?Z(F,B,W,he):null;case oe:return He=W._init,W=He(W._payload),ee(F,B,W,he)}if(ce(W)||Ne(W))return He!==null?null:ue(F,B,W,he,null);if(typeof W.then=="function")return ee(F,B,Uo(W),he);if(W.$$typeof===U)return ee(F,B,jo(F,W),he);Mo(F,W)}return null}function re(F,B,W,he,He){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return F=F.get(W)||null,S(B,F,""+he,He);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return F=F.get(he.key===null?W:he.key)||null,R(B,F,he,He);case E:return F=F.get(he.key===null?W:he.key)||null,Z(B,F,he,He);case oe:var ot=he._init;return he=ot(he._payload),re(F,B,W,he,He)}if(ce(he)||Ne(he))return F=F.get(W)||null,ue(B,F,he,He,null);if(typeof he.then=="function")return re(F,B,W,Uo(he),He);if(he.$$typeof===U)return re(F,B,W,jo(B,he),He);Mo(B,he)}return null}function Ze(F,B,W,he){for(var He=null,ot=null,Ye=B,Qe=B=0,ts=null;Ye!==null&&Qe<W.length;Qe++){Ye.index>Qe?(ts=Ye,Ye=null):ts=Ye.sibling;var mt=ee(F,Ye,W[Qe],he);if(mt===null){Ye===null&&(Ye=ts);break}e&&Ye&&mt.alternate===null&&t(F,Ye),B=f(mt,B,Qe),ot===null?He=mt:ot.sibling=mt,ot=mt,Ye=ts}if(Qe===W.length)return a(F,Ye),xt&&fa(F,Qe),He;if(Ye===null){for(;Qe<W.length;Qe++)Ye=pe(F,W[Qe],he),Ye!==null&&(B=f(Ye,B,Qe),ot===null?He=Ye:ot.sibling=Ye,ot=Ye);return xt&&fa(F,Qe),He}for(Ye=i(Ye);Qe<W.length;Qe++)ts=re(Ye,F,Qe,W[Qe],he),ts!==null&&(e&&ts.alternate!==null&&Ye.delete(ts.key===null?Qe:ts.key),B=f(ts,B,Qe),ot===null?He=ts:ot.sibling=ts,ot=ts);return e&&Ye.forEach(function(ea){return t(F,ea)}),xt&&fa(F,Qe),He}function Ke(F,B,W,he){if(W==null)throw Error(o(151));for(var He=null,ot=null,Ye=B,Qe=B=0,ts=null,mt=W.next();Ye!==null&&!mt.done;Qe++,mt=W.next()){Ye.index>Qe?(ts=Ye,Ye=null):ts=Ye.sibling;var ea=ee(F,Ye,mt.value,he);if(ea===null){Ye===null&&(Ye=ts);break}e&&Ye&&ea.alternate===null&&t(F,Ye),B=f(ea,B,Qe),ot===null?He=ea:ot.sibling=ea,ot=ea,Ye=ts}if(mt.done)return a(F,Ye),xt&&fa(F,Qe),He;if(Ye===null){for(;!mt.done;Qe++,mt=W.next())mt=pe(F,mt.value,he),mt!==null&&(B=f(mt,B,Qe),ot===null?He=mt:ot.sibling=mt,ot=mt);return xt&&fa(F,Qe),He}for(Ye=i(Ye);!mt.done;Qe++,mt=W.next())mt=re(Ye,F,Qe,mt.value,he),mt!==null&&(e&&mt.alternate!==null&&Ye.delete(mt.key===null?Qe:mt.key),B=f(mt,B,Qe),ot===null?He=mt:ot.sibling=mt,ot=mt);return e&&Ye.forEach(function(jb){return t(F,jb)}),xt&&fa(F,Qe),He}function jt(F,B,W,he){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var He=W.key;B!==null;){if(B.key===He){if(He=W.type,He===N){if(B.tag===7){a(F,B.sibling),he=u(B,W.props.children),he.return=F,F=he;break e}}else if(B.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===oe&&Qf(He)===B.type){a(F,B.sibling),he=u(B,W.props),cl(he,W),he.return=F,F=he;break e}a(F,B);break}else t(F,B);B=B.sibling}W.type===N?(he=ua(W.props.children,F.mode,he,W.key),he.return=F,F=he):(he=yo(W.type,W.key,W.props,null,F.mode,he),cl(he,W),he.return=F,F=he)}return v(F);case E:e:{for(He=W.key;B!==null;){if(B.key===He)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){a(F,B.sibling),he=u(B,W.children||[]),he.return=F,F=he;break e}else{a(F,B);break}else t(F,B);B=B.sibling}he=xc(W,F.mode,he),he.return=F,F=he}return v(F);case oe:return He=W._init,W=He(W._payload),jt(F,B,W,he)}if(ce(W))return Ze(F,B,W,he);if(Ne(W)){if(He=Ne(W),typeof He!="function")throw Error(o(150));return W=He.call(W),Ke(F,B,W,he)}if(typeof W.then=="function")return jt(F,B,Uo(W),he);if(W.$$typeof===U)return jt(F,B,jo(F,W),he);Mo(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,B!==null&&B.tag===6?(a(F,B.sibling),he=u(B,W),he.return=F,F=he):(a(F,B),he=pc(W,F.mode,he),he.return=F,F=he),v(F)):a(F,B)}return function(F,B,W,he){try{il=0;var He=jt(F,B,W,he);return Ja=null,He}catch(Ye){if(Ye===Jn||Ye===So)throw Ye;var ot=_s(29,Ye,null,F.mode);return ot.lanes=he,ot.return=F,ot}finally{}}}var en=Xf(!0),Zf=Xf(!1),Hs=P(null),rr=null;function $r(e){var t=e.alternate;k(Qt,Qt.current&1),k(Hs,e),rr===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(rr=e)}function Jf(e){if(e.tag===22){if(k(Qt,Qt.current),k(Hs,e),rr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(rr=e)}}else Hr()}function Hr(){k(Qt,Qt.current),k(Hs,Hs.current)}function yr(e){se(Hs),rr===e&&(rr=null),se(Qt)}var Qt=P(0);function Bo(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Qc(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xc={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Ts(),u=Mr(i);u.payload=t,a!=null&&(u.callback=a),t=Br(e,u,i),t!==null&&(Rs(t,e,i),tl(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Ts(),u=Mr(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Br(e,u,i),t!==null&&(Rs(t,e,i),tl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ts(),i=Mr(a);i.tag=2,t!=null&&(i.callback=t),t=Br(e,i,a),t!==null&&(Rs(t,e,a),tl(t,e,a))}};function em(e,t,a,i,u,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,v):t.prototype&&t.prototype.isPureReactComponent?!Yn(a,i)||!Yn(u,f):!0}function tm(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Xc.enqueueReplaceState(t,t.state,null)}function va(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sm(e){zo(e)}function rm(e){console.error(e)}function am(e){zo(e)}function $o(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function nm(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Zc(e,t,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){$o(e,t)},a}function lm(e){return e=Mr(e),e.tag=3,e}function om(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){nm(t,a,i)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){nm(t,a,i),typeof u!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function jy(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,u,!0),a=Hs.current,a!==null){switch(a.tag){case 13:return rr===null?jd():a.alternate===null&&Ht===0&&(Ht=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===_c?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Sd(e,i,u)),!1;case 22:return a.flags|=65536,i===_c?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Sd(e,i,u)),!1}throw Error(o(435,a.tag))}return Sd(e,i,u),jd(),!1}if(xt)return t=Hs.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==vc&&(e=Error(o(422),{cause:i}),Kn(Ms(e,a)))):(i!==vc&&(t=Error(o(423),{cause:i}),Kn(Ms(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Ms(i,a),u=Zc(e.stateNode,i,u),Dc(e,u),Ht!==4&&(Ht=2)),!1;var f=Error(o(520),{cause:i});if(f=Ms(f,a),pl===null?pl=[f]:pl.push(f),Ht!==4&&(Ht=2),t===null)return!0;i=Ms(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Zc(a.stateNode,i,e),Dc(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gr===null||!Gr.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=lm(u),om(u,e,a,i),Dc(a,u),!1}a=a.return}while(a!==null);return!1}var im=Error(o(461)),Jt=!1;function as(e,t,a,i){t.child=e===null?Zf(t,null,a,i):en(t,e.child,a,i)}function cm(e,t,a,i,u){a=a.render;var f=t.ref;if("ref"in i){var v={};for(var S in i)S!=="ref"&&(v[S]=i[S])}else v=i;return xa(t),i=Uc(e,t,a,v,f,u),S=Mc(),e!==null&&!Jt?(Bc(e,t,u),br(e,t,u)):(xt&&S&&yc(t),t.flags|=1,as(e,t,i,u),t.child)}function dm(e,t,a,i,u){if(e===null){var f=a.type;return typeof f=="function"&&!gc(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,um(e,t,f,i,u)):(e=yo(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ld(e,u)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yn,a(v,i)&&e.ref===t.ref)return br(e,t,u)}return t.flags|=1,e=hr(f,i),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,a,i,u){if(e!==null){var f=e.memoizedProps;if(Yn(f,i)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=i=f,ld(e,u))(e.flags&131072)!==0&&(Jt=!0);else return t.lanes=e.lanes,br(e,t,u)}return Jc(e,t,a,i,u)}function hm(e,t,a){var i=t.pendingProps,u=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=f!==null?f.baseLanes|a:a,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~i}else t.childLanes=0,t.child=null;return fm(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&No(t,f!==null?f.cachePool:null),f!==null?uf(t,f):Rc(),Jf(t);else return t.lanes=t.childLanes=536870912,fm(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(No(t,f.cachePool),uf(t,f),Hr(),t.memoizedState=null):(e!==null&&No(t,null),Rc(),Hr());return as(e,t,u,a),t.child}function fm(e,t,a,i){var u=Ec();return u=u===null?null:{parent:Kt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&No(t,null),Rc(),Jf(t),e!==null&&Qn(e,t,i,!0),null}function Ho(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Jc(e,t,a,i,u){return xa(t),a=Uc(e,t,a,i,void 0,u),i=Mc(),e!==null&&!Jt?(Bc(e,t,u),br(e,t,u)):(xt&&i&&yc(t),t.flags|=1,as(e,t,a,u),t.child)}function mm(e,t,a,i,u,f){return xa(t),t.updateQueue=null,a=ff(t,i,a,u),hf(e),i=Mc(),e!==null&&!Jt?(Bc(e,t,f),br(e,t,f)):(xt&&i&&yc(t),t.flags|=1,as(e,t,a,f),t.child)}function gm(e,t,a,i,u){if(xa(t),t.stateNode===null){var f=qa,v=a.contextType;typeof v=="object"&&v!==null&&(f=ds(v)),f=new a(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},kc(t),v=a.contextType,f.context=typeof v=="object"&&v!==null?ds(v):qa,f.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Qc(t,a,v,i),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Xc.enqueueReplaceState(f,f.state,null),rl(t,i,f,u),sl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var S=t.memoizedProps,R=va(a,S);f.props=R;var Z=f.context,ue=a.contextType;v=qa,typeof ue=="object"&&ue!==null&&(v=ds(ue));var pe=a.getDerivedStateFromProps;ue=typeof pe=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,ue||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||Z!==v)&&tm(t,f,i,v),Ur=!1;var ee=t.memoizedState;f.state=ee,rl(t,i,f,u),sl(),Z=t.memoizedState,S||ee!==Z||Ur?(typeof pe=="function"&&(Qc(t,a,pe,i),Z=t.memoizedState),(R=Ur||em(t,a,R,i,ee,Z,v))?(ue||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=Z),f.props=i,f.state=Z,f.context=v,i=R):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Ac(e,t),v=t.memoizedProps,ue=va(a,v),f.props=ue,pe=t.pendingProps,ee=f.context,Z=a.contextType,R=qa,typeof Z=="object"&&Z!==null&&(R=ds(Z)),S=a.getDerivedStateFromProps,(Z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==pe||ee!==R)&&tm(t,f,i,R),Ur=!1,ee=t.memoizedState,f.state=ee,rl(t,i,f,u),sl();var re=t.memoizedState;v!==pe||ee!==re||Ur||e!==null&&e.dependencies!==null&&wo(e.dependencies)?(typeof S=="function"&&(Qc(t,a,S,i),re=t.memoizedState),(ue=Ur||em(t,a,ue,i,ee,re,R)||e!==null&&e.dependencies!==null&&wo(e.dependencies))?(Z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,re,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,re,R)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=re),f.props=i,f.state=re,f.context=R,i=ue):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&ee===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ee===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,Ho(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=en(t,e.child,null,u),t.child=en(t,null,a,u)):as(e,t,a,u),t.memoizedState=f.state,e=t.child):e=br(e,t,u),e}function pm(e,t,a,i){return Wn(),t.flags|=256,as(e,t,a,i),t.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:sf()}}function sd(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Fs),e}function xm(e,t,a){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Qt.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(xt){if(u?$r(t):Hr(),xt){var S=$t,R;if(R=S){e:{for(R=S,S=sr;R.nodeType!==8;){if(!S){S=null;break e}if(R=Vs(R.nextSibling),R===null){S=null;break e}}S=R}S!==null?(t.memoizedState={dehydrated:S,treeContext:ha!==null?{id:fr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},R=_s(18,null,null,0),R.stateNode=S,R.return=t,t.child=R,ms=t,$t=null,R=!0):R=!1}R||ga(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $d(S)?t.lanes=32:t.lanes=536870912,null;yr(t)}return S=i.children,i=i.fallback,u?(Hr(),u=t.mode,S=Fo({mode:"hidden",children:S},u),i=ua(i,u,a,null),S.return=t,i.return=t,S.sibling=i,t.child=S,u=t.child,u.memoizedState=td(a),u.childLanes=sd(e,v,a),t.memoizedState=ed,i):($r(t),rd(t,S))}if(R=e.memoizedState,R!==null&&(S=R.dehydrated,S!==null)){if(f)t.flags&256?($r(t),t.flags&=-257,t=ad(e,t,a)):t.memoizedState!==null?(Hr(),t.child=e.child,t.flags|=128,t=null):(Hr(),u=i.fallback,S=t.mode,i=Fo({mode:"visible",children:i.children},S),u=ua(u,S,a,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,en(t,e.child,null,a),i=t.child,i.memoizedState=td(a),i.childLanes=sd(e,v,a),t.memoizedState=ed,t=u);else if($r(t),$d(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Z=v.dgst;v=Z,i=Error(o(419)),i.stack="",i.digest=v,Kn({value:i,source:null,stack:null}),t=ad(e,t,a)}else if(Jt||Qn(e,t,a,!1),v=(a&e.childLanes)!==0,Jt||v){if(v=St,v!==null&&(i=a&-a,i=(i&42)!==0?1:Tt(i),i=(i&(v.suspendedLanes|a))!==0?0:i,i!==0&&i!==R.retryLane))throw R.retryLane=i,Pa(e,i),Rs(v,e,i),im;S.data==="$?"||jd(),t=ad(e,t,a)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,$t=Vs(S.nextSibling),ms=t,xt=!0,ma=null,sr=!1,e!==null&&(zs[$s++]=fr,zs[$s++]=mr,zs[$s++]=ha,fr=e.id,mr=e.overflow,ha=t),t=rd(t,i.children),t.flags|=4096);return t}return u?(Hr(),u=i.fallback,S=t.mode,R=e.child,Z=R.sibling,i=hr(R,{mode:"hidden",children:i.children}),i.subtreeFlags=R.subtreeFlags&65011712,Z!==null?u=hr(Z,u):(u=ua(u,S,a,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,S=e.child.memoizedState,S===null?S=td(a):(R=S.cachePool,R!==null?(Z=Kt._currentValue,R=R.parent!==Z?{parent:Z,pool:Z}:R):R=sf(),S={baseLanes:S.baseLanes|a,cachePool:R}),u.memoizedState=S,u.childLanes=sd(e,v,a),t.memoizedState=ed,i):($r(t),a=e.child,e=a.sibling,a=hr(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function rd(e,t){return t=Fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fo(e,t){return e=_s(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ad(e,t,a){return en(t,e.child,null,a),e=rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ym(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),jc(e.return,t,a)}function nd(e,t,a,i,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=a,f.tailMode=u)}function bm(e,t,a){var i=t.pendingProps,u=i.revealOrder,f=i.tail;if(as(e,t,i.children,a),i=Qt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,a,t);else if(e.tag===19)ym(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(k(Qt,i),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Bo(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),nd(t,!1,u,a,f);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Bo(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}nd(t,!0,a,null,f);break;case"together":nd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function br(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=hr(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=hr(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ld(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wo(e)))}function Ny(e,t,a){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),Lr(t,Kt,e.memoizedState.cache),Wn();break;case 27:case 5:Ie(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:Lr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?($r(t),t.flags|=128,null):(a&t.child.childLanes)!==0?xm(e,t,a):($r(t),e=br(e,t,a),e!==null?e.sibling:null);$r(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Qn(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return bm(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),k(Qt,Qt.current),i)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,a);case 24:Lr(t,Kt,e.memoizedState.cache)}return br(e,t,a)}function vm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Jt=!0;else{if(!ld(e,a)&&(t.flags&128)===0)return Jt=!1,Ny(e,t,a);Jt=(e.flags&131072)!==0}else Jt=!1,xt&&(t.flags&1048576)!==0&&Kh(t,vo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,u=i._init;if(i=u(i._payload),t.type=i,typeof i=="function")gc(i)?(e=va(i,e),t.tag=1,t=gm(null,t,i,e,a)):(t.tag=0,t=Jc(null,t,i,e,a));else{if(i!=null){if(u=i.$$typeof,u===K){t.tag=11,t=cm(null,t,i,e,a);break e}else if(u===V){t.tag=14,t=dm(null,t,i,e,a);break e}}throw t=X(i)||i,Error(o(306,t,""))}}return t;case 0:return Jc(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=va(i,t.pendingProps),gm(e,t,i,u,a);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,Ac(e,t),rl(t,i,null,a);var v=t.memoizedState;if(i=v.cache,Lr(t,Kt,i),i!==f.cache&&Nc(t,[Kt],a,!0),sl(),i=v.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=pm(e,t,i,a);break e}else if(i!==u){u=Ms(Error(o(424)),t),Kn(u),t=pm(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Vs(e.firstChild),ms=t,xt=!0,ma=null,sr=!0,a=Zf(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wn(),i===u){t=br(e,t,a);break e}as(e,t,i,a)}t=t.child}return t;case 26:return Ho(e,t),e===null?(a=S0(t.type,null,t.pendingProps,null))?t.memoizedState=a:xt||(a=t.type,e=t.pendingProps,i=ti(q.current).createElement(a),i[At]=t,i[ut]=e,ls(i,a,e),ye(i),t.stateNode=i):t.memoizedState=S0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ie(t),e===null&&xt&&(i=t.stateNode=w0(t.type,t.pendingProps,q.current),ms=t,sr=!0,u=$t,Kr(t.type)?(Hd=u,$t=Vs(i.firstChild)):$t=u),as(e,t,t.pendingProps.children,a),Ho(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xt&&((u=i=$t)&&(i=Xy(i,t.type,t.pendingProps,sr),i!==null?(t.stateNode=i,ms=t,$t=Vs(i.firstChild),sr=!1,u=!0):u=!1),u||ga(t)),Ie(t),u=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,i=f.children,Md(u,f)?i=null:v!==null&&Md(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Uc(e,t,gy,null,null,a),Cl._currentValue=u),Ho(e,t),as(e,t,i,a),t.child;case 6:return e===null&&xt&&((e=a=$t)&&(a=Zy(a,t.pendingProps,sr),a!==null?(t.stateNode=a,ms=t,$t=null,e=!0):e=!1),e||ga(t)),null;case 13:return xm(e,t,a);case 4:return xe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=en(t,null,i,a):as(e,t,i,a),t.child;case 11:return cm(e,t,t.type,t.pendingProps,a);case 7:return as(e,t,t.pendingProps,a),t.child;case 8:return as(e,t,t.pendingProps.children,a),t.child;case 12:return as(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Lr(t,t.type,i.value),as(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,xa(t),u=ds(u),i=i(u),t.flags|=1,as(e,t,i,a),t.child;case 14:return dm(e,t,t.type,t.pendingProps,a);case 15:return um(e,t,t.type,t.pendingProps,a);case 19:return bm(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=Fo(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=hr(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return hm(e,t,a);case 24:return xa(t),i=ds(Kt),e===null?(u=Ec(),u===null&&(u=St,f=Sc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:i,cache:u},kc(t),Lr(t,Kt,u)):((e.lanes&a)!==0&&(Ac(e,t),rl(t,null,null,a),sl()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Lr(t,Kt,i)):(i=f.cache,Lr(t,Kt,i),i!==u.cache&&Nc(t,[Kt],a,!0))),as(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function vr(e){e.flags|=4}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A0(t)){if(t=Hs.current,t!==null&&((ht&4194048)===ht?rr!==null:(ht&62914560)!==ht&&(ht&536870912)===0||t!==rr))throw el=_c,rf;e.flags|=8192}}function Io(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Os():536870912,e.lanes|=t,an|=t)}function dl(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function Sy(e,t,a){var i=t.pendingProps;switch(bc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return Ut(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pr(Kt),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?vr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zh())),Ut(t),null;case 26:return a=t.memoizedState,e===null?(vr(t),a!==null?(Ut(t),wm(t,a)):(Ut(t),t.flags&=-16777217)):a?a!==e.memoizedState?(vr(t),Ut(t),wm(t,a)):(Ut(t),t.flags&=-16777217):(e.memoizedProps!==i&&vr(t),Ut(t),t.flags&=-16777217),null;case 27:Me(t),a=q.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vr(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return Ut(t),null}e=J.current,Vn(t)?Qh(t):(e=w0(u,i,a),t.stateNode=e,vr(t))}return Ut(t),null;case 5:if(Me(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vr(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return Ut(t),null}if(e=J.current,Vn(t))Qh(t);else{switch(u=ti(q.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?u.createElement(a,{is:i.is}):u.createElement(a)}}e[At]=t,e[ut]=i;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(ls(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&vr(t)}}return Ut(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vr(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(e=q.current,Vn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=ms,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[At]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||m0(e.nodeValue,a)),e||ga(t)}else e=ti(e).createTextNode(i),e[At]=t,t.stateNode=e}return Ut(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Vn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[At]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ut(t),u=!1}else u=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(yr(t),t):(yr(t),null)}if(yr(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var f=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Io(t,t.updateQueue),Ut(t),null;case 4:return ze(),e===null&&Td(t.stateNode.containerInfo),Ut(t),null;case 10:return pr(t.type),Ut(t),null;case 19:if(se(Qt),u=t.memoizedState,u===null)return Ut(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)dl(u,!1);else{if(Ht!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Bo(e),f!==null){for(t.flags|=128,dl(u,!1),e=f.updateQueue,t.updateQueue=e,Io(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Wh(a,e),a=a.sibling;return k(Qt,Qt.current&1|2),t.child}e=e.sibling}u.tail!==null&&$e()>Yo&&(t.flags|=128,i=!0,dl(u,!1),t.lanes=4194304)}else{if(!i)if(e=Bo(f),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Io(t,e),dl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!xt)return Ut(t),null}else 2*$e()-u.renderingStartTime>Yo&&a!==536870912&&(t.flags|=128,i=!0,dl(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=$e(),t.sibling=null,e=Qt.current,k(Qt,i?e&1|2:e&1),t):(Ut(t),null);case 22:case 23:return yr(t),Oc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),a=t.updateQueue,a!==null&&Io(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&se(ya),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pr(Kt),Ut(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Cy(e,t){switch(bc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(Kt),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 13:if(yr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(Qt),null;case 4:return ze(),null;case 10:return pr(t.type),null;case 22:case 23:return yr(t),Oc(),e!==null&&se(ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pr(Kt),null;case 25:return null;default:return null}}function jm(e,t){switch(bc(t),t.tag){case 3:pr(Kt),ze();break;case 26:case 27:case 5:Me(t);break;case 4:ze();break;case 13:yr(t);break;case 19:se(Qt);break;case 10:pr(t.type);break;case 22:case 23:yr(t),Oc(),e!==null&&se(ya);break;case 24:pr(Kt)}}function ul(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var f=a.create,v=a.inst;i=f(),v.destroy=i}a=a.next}while(a!==u)}}catch(S){Nt(t,t.return,S)}}function Fr(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var v=i.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,u=t;var R=a,Z=S;try{Z()}catch(ue){Nt(u,R,ue)}}}i=i.next}while(i!==f)}}catch(ue){Nt(t,t.return,ue)}}function Nm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{df(t,a)}catch(i){Nt(e,e.return,i)}}}function Sm(e,t,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Nt(e,t,i)}}function hl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){Nt(e,t,u)}}function ar(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){Nt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Nt(e,t,u)}else a.current=null}function Cm(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){Nt(e,e.return,u)}}function od(e,t,a){try{var i=e.stateNode;Gy(i,e.type,a,t),i[ut]=t}catch(u){Nt(e,e.return,u)}}function Em(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ei));else if(i!==4&&(i===27&&Kr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(cd(e,t,a),e=e.sibling;e!==null;)cd(e,t,a),e=e.sibling}function Po(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function _m(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ls(t,i,a),t[At]=e,t[ut]=a}catch(f){Nt(e,e.return,f)}}var wr=!1,Pt=!1,dd=!1,km=typeof WeakSet=="function"?WeakSet:Set,es=null;function Ey(e,t){if(e=e.containerInfo,Ld=oi,e=zh(e),ic(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,S=-1,R=-1,Z=0,ue=0,pe=e,ee=null;t:for(;;){for(var re;pe!==a||u!==0&&pe.nodeType!==3||(S=v+u),pe!==f||i!==0&&pe.nodeType!==3||(R=v+i),pe.nodeType===3&&(v+=pe.nodeValue.length),(re=pe.firstChild)!==null;)ee=pe,pe=re;for(;;){if(pe===e)break t;if(ee===a&&++Z===u&&(S=v),ee===f&&++ue===i&&(R=v),(re=pe.nextSibling)!==null)break;pe=ee,ee=pe.parentNode}pe=re}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:e,selectionRange:a},oi=!1,es=t;es!==null;)if(t=es,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,es=e;else for(;es!==null;){switch(t=es,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,i=a.stateNode;try{var Ze=va(a.type,u,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(Ze,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(Ke){Nt(a,a.return,Ke)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,es=e;break}es=t.return}}function Am(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(e,a),i&4&&ul(5,a);break;case 1:if(Ir(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){Nt(a,a.return,v)}else{var u=va(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Nt(a,a.return,v)}}i&64&&Nm(a),i&512&&hl(a,a.return);break;case 3:if(Ir(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{df(e,t)}catch(v){Nt(a,a.return,v)}}break;case 27:t===null&&i&4&&_m(a);case 26:case 5:Ir(e,a),t===null&&i&4&&Cm(a),i&512&&hl(a,a.return);break;case 12:Ir(e,a);break;case 13:Ir(e,a),i&4&&Rm(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Uy.bind(null,a),Jy(e,a))));break;case 22:if(i=a.memoizedState!==null||wr,!i){t=t!==null&&t.memoizedState!==null||Pt,u=wr;var f=Pt;wr=i,(Pt=t)&&!f?Pr(e,a,(a.subtreeFlags&8772)!==0):Ir(e,a),wr=u,Pt=f}break;case 30:break;default:Ir(e,a)}}function Dm(e){var t=e.alternate;t!==null&&(e.alternate=null,Dm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&De(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,bs=!1;function jr(e,t,a){for(a=a.child;a!==null;)Tm(e,t,a),a=a.sibling}function Tm(e,t,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Y,a)}catch{}switch(a.tag){case 26:Pt||ar(a,t),jr(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||ar(a,t);var i=Rt,u=bs;Kr(a.type)&&(Rt=a.stateNode,bs=!1),jr(e,t,a),wl(a.stateNode),Rt=i,bs=u;break;case 5:Pt||ar(a,t);case 6:if(i=Rt,u=bs,Rt=null,jr(e,t,a),Rt=i,bs=u,Rt!==null)if(bs)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(a.stateNode)}catch(f){Nt(a,t,f)}else try{Rt.removeChild(a.stateNode)}catch(f){Nt(a,t,f)}break;case 18:Rt!==null&&(bs?(e=Rt,b0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Al(e)):b0(Rt,a.stateNode));break;case 4:i=Rt,u=bs,Rt=a.stateNode.containerInfo,bs=!0,jr(e,t,a),Rt=i,bs=u;break;case 0:case 11:case 14:case 15:Pt||Fr(2,a,t),Pt||Fr(4,a,t),jr(e,t,a);break;case 1:Pt||(ar(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Sm(a,t,i)),jr(e,t,a);break;case 21:jr(e,t,a);break;case 22:Pt=(i=Pt)||a.memoizedState!==null,jr(e,t,a),Pt=i;break;default:jr(e,t,a)}}function Rm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(a){Nt(t,t.return,a)}}function _y(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new km),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new km),t;default:throw Error(o(435,e.tag))}}function ud(e,t){var a=_y(e);t.forEach(function(i){var u=My.bind(null,e,i);a.has(i)||(a.add(i),i.then(u,u))})}function ks(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],f=e,v=t,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Kr(S.type)){Rt=S.stateNode,bs=!1;break e}break;case 5:Rt=S.stateNode,bs=!1;break e;case 3:case 4:Rt=S.stateNode.containerInfo,bs=!0;break e}S=S.return}if(Rt===null)throw Error(o(160));Tm(f,v,u),Rt=null,bs=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}var Gs=null;function Om(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ks(t,e),As(e),i&4&&(Fr(3,e,e.return),ul(3,e),Fr(5,e,e.return));break;case 1:ks(t,e),As(e),i&512&&(Pt||a===null||ar(a,a.return)),i&64&&wr&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Gs;if(ks(t,e),As(e),i&512&&(Pt||a===null||ar(a,a.return)),i&4){var f=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Oe]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),ls(f,i,a),f[At]=e,ye(f),i=f;break e;case"link":var v=_0("link","href",u).get(i+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}f=u.createElement(i),ls(f,i,a),u.head.appendChild(f);break;case"meta":if(v=_0("meta","content",u).get(i+(a.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}f=u.createElement(i),ls(f,i,a),u.head.appendChild(f);break;default:throw Error(o(468,i))}f[At]=e,ye(f),i=f}e.stateNode=i}else k0(u,e.type,e.stateNode);else e.stateNode=E0(u,i,e.memoizedProps);else f!==i?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,i===null?k0(u,e.type,e.stateNode):E0(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:ks(t,e),As(e),i&512&&(Pt||a===null||ar(a,a.return)),a!==null&&i&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ks(t,e),As(e),i&512&&(Pt||a===null||ar(a,a.return)),e.flags&32){u=e.stateNode;try{Ma(u,"")}catch(re){Nt(e,e.return,re)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,od(e,u,a!==null?a.memoizedProps:u)),i&1024&&(dd=!0);break;case 6:if(ks(t,e),As(e),i&4){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(re){Nt(e,e.return,re)}}break;case 3:if(ai=null,u=Gs,Gs=si(t.containerInfo),ks(t,e),Gs=u,As(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(re){Nt(e,e.return,re)}dd&&(dd=!1,Lm(e));break;case 4:i=Gs,Gs=si(e.stateNode.containerInfo),ks(t,e),As(e),Gs=i;break;case 12:ks(t,e),As(e);break;case 13:ks(t,e),As(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xd=$e()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ud(e,i)));break;case 22:u=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,Z=wr,ue=Pt;if(wr=Z||u,Pt=ue||R,ks(t,e),Pt=ue,wr=Z,As(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||R||wr||Pt||wa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){R=a=t;try{if(f=R.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=R.stateNode;var pe=R.memoizedProps.style,ee=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(re){Nt(R,R.return,re)}}}else if(t.tag===6){if(a===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(re){Nt(R,R.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,ud(e,a))));break;case 19:ks(t,e),As(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ud(e,i)));break;case 30:break;case 21:break;default:ks(t,e),As(e)}}function As(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Em(i)){a=i;break}i=i.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var u=a.stateNode,f=id(e);Po(e,f,u);break;case 5:var v=a.stateNode;a.flags&32&&(Ma(v,""),a.flags&=-33);var S=id(e);Po(e,S,v);break;case 3:case 4:var R=a.stateNode.containerInfo,Z=id(e);cd(e,Z,R);break;default:throw Error(o(161))}}catch(ue){Nt(e,e.return,ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ir(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fr(4,t,t.return),wa(t);break;case 1:ar(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Sm(t,t.return,a),wa(t);break;case 27:wl(t.stateNode);case 26:case 5:ar(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function Pr(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:Pr(u,f,a),ul(4,f);break;case 1:if(Pr(u,f,a),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Z){Nt(i,i.return,Z)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)cf(R[u],S)}catch(Z){Nt(i,i.return,Z)}}a&&v&64&&Nm(f),hl(f,f.return);break;case 27:_m(f);case 26:case 5:Pr(u,f,a),a&&i===null&&v&4&&Cm(f),hl(f,f.return);break;case 12:Pr(u,f,a);break;case 13:Pr(u,f,a),a&&v&4&&Rm(u,f);break;case 22:f.memoizedState===null&&Pr(u,f,a),hl(f,f.return);break;case 30:break;default:Pr(u,f,a)}t=t.sibling}}function hd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xn(a))}function fd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xn(e))}function nr(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Um(e,t,a,i),t=t.sibling}function Um(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:nr(e,t,a,i),u&2048&&ul(9,t);break;case 1:nr(e,t,a,i);break;case 3:nr(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xn(e)));break;case 12:if(u&2048){nr(e,t,a,i),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Nt(t,t.return,R)}}else nr(e,t,a,i);break;case 13:nr(e,t,a,i);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?nr(e,t,a,i):fl(e,t):f._visibility&2?nr(e,t,a,i):(f._visibility|=2,tn(e,t,a,i,(t.subtreeFlags&10256)!==0)),u&2048&&hd(v,t);break;case 24:nr(e,t,a,i),u&2048&&fd(t.alternate,t);break;default:nr(e,t,a,i)}}function tn(e,t,a,i,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,v=t,S=a,R=i,Z=v.flags;switch(v.tag){case 0:case 11:case 15:tn(f,v,S,R,u),ul(8,v);break;case 23:break;case 22:var ue=v.stateNode;v.memoizedState!==null?ue._visibility&2?tn(f,v,S,R,u):fl(f,v):(ue._visibility|=2,tn(f,v,S,R,u)),u&&Z&2048&&hd(v.alternate,v);break;case 24:tn(f,v,S,R,u),u&&Z&2048&&fd(v.alternate,v);break;default:tn(f,v,S,R,u)}t=t.sibling}}function fl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:fl(a,i),u&2048&&hd(i.alternate,i);break;case 24:fl(a,i),u&2048&&fd(i.alternate,i);break;default:fl(a,i)}t=t.sibling}}var ml=8192;function sn(e){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Mm(e),e=e.sibling}function Mm(e){switch(e.tag){case 26:sn(e),e.flags&ml&&e.memoizedState!==null&&hb(Gs,e.memoizedState,e.memoizedProps);break;case 5:sn(e);break;case 3:case 4:var t=Gs;Gs=si(e.stateNode.containerInfo),sn(e),Gs=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ml,ml=16777216,sn(e),ml=t):sn(e));break;default:sn(e)}}function Bm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];es=i,$m(i,e)}Bm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Fr(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qo(e)):gl(e);break;default:gl(e)}}function qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];es=i,$m(i,e)}Bm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fr(8,t,t.return),qo(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,qo(t));break;default:qo(t)}e=e.sibling}}function $m(e,t){for(;es!==null;){var a=es;switch(a.tag){case 0:case 11:case 15:Fr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Xn(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,es=i;else e:for(a=e;es!==null;){i=es;var u=i.sibling,f=i.return;if(Dm(i),i===a){es=null;break e}if(u!==null){u.return=f,es=u;break e}es=f}}}var ky={getCacheForType:function(e){var t=ds(Kt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Ay=typeof WeakMap=="function"?WeakMap:Map,yt=0,St=null,it=null,ht=0,bt=0,Ds=null,qr=!1,rn=!1,md=!1,Nr=0,Ht=0,Yr=0,ja=0,gd=0,Fs=0,an=0,pl=null,vs=null,pd=!1,xd=0,Yo=1/0,Go=null,Gr=null,ns=0,Vr=null,nn=null,ln=0,yd=0,bd=null,Hm=null,xl=0,vd=null;function Ts(){if((yt&2)!==0&&ht!==0)return ht&-ht;if(j.T!==null){var e=Va;return e!==0?e:_d()}return qs()}function Fm(){Fs===0&&(Fs=(ht&536870912)===0||xt?Dt():536870912);var e=Hs.current;return e!==null&&(e.flags|=32),Fs}function Rs(e,t,a){(e===St&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(on(e,0),Wr(e,ht,Fs,!1)),ps(e,a),((yt&2)===0||e!==St)&&(e===St&&((yt&2)===0&&(ja|=a),Ht===4&&Wr(e,ht,Fs,!1)),lr(e))}function Im(e,t,a){if((yt&6)!==0)throw Error(o(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Ge(e,t),u=i?Ry(e,t):Nd(e,t,!0),f=i;do{if(u===0){rn&&!i&&Wr(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!Dy(a)){u=Nd(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var S=e;u=pl;var R=S.current.memoizedState.isDehydrated;if(R&&(on(S,v).flags|=256),v=Nd(S,v,!1),v!==2){if(md&&!R){S.errorRecoveryDisabledLanes|=f,ja|=f,u=4;break e}f=vs,vs=u,f!==null&&(vs===null?vs=f:vs.push.apply(vs,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){on(e,0),Wr(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Wr(i,t,Fs,!qr);break e;case 2:vs=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(u=xd+300-$e(),10<u)){if(Wr(i,t,Fs,!qr),Ve(i,0,!0)!==0)break e;i.timeoutHandle=x0(Pm.bind(null,i,a,vs,Go,pd,t,Fs,ja,an,qr,f,2,-0,0),u);break e}Pm(i,a,vs,Go,pd,t,Fs,ja,an,qr,f,0,-0,0)}}break}while(!0);lr(e)}function Pm(e,t,a,i,u,f,v,S,R,Z,ue,pe,ee,re){if(e.timeoutHandle=-1,pe=t.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:ub},Mm(t),pe=fb(),pe!==null)){e.cancelPendingCommit=pe(Qm.bind(null,e,t,f,a,i,u,v,S,R,ue,1,ee,re)),Wr(e,f,v,!Z);return}Qm(e,t,f,a,i,u,v,S,R)}function Dy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],f=u.getSnapshot;u=u.value;try{if(!Es(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t,a,i){t&=~gd,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-ae(u),v=1<<f;i[f]=-1,u&=~v}a!==0&&Xe(e,a,t)}function Vo(){return(yt&6)===0?(yl(0),!1):!0}function wd(){if(it!==null){if(bt===0)var e=it.return;else e=it,gr=pa=null,zc(e),Ja=null,il=0,e=it;for(;e!==null;)jm(e.alternate,e),e=e.return;it=null}}function on(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wd(),St=e,it=a=hr(e.current,null),ht=t,bt=0,Ds=null,qr=!1,rn=Ge(e,t),md=!1,an=Fs=gd=ja=Yr=Ht=0,vs=pl=null,pd=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-ae(i),f=1<<u;t|=e[u],i&=~f}return Nr=t,go(),a}function qm(e,t){lt=null,j.H=Lo,t===Jn||t===So?(t=lf(),bt=3):t===rf?(t=lf(),bt=4):bt=t===im?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ds=t,it===null&&(Ht=1,$o(e,Ms(t,e.current)))}function Ym(){var e=j.H;return j.H=Lo,e===null?Lo:e}function Gm(){var e=j.A;return j.A=ky,e}function jd(){Ht=4,qr||(ht&4194048)!==ht&&Hs.current!==null||(rn=!0),(Yr&134217727)===0&&(ja&134217727)===0||St===null||Wr(St,ht,Fs,!1)}function Nd(e,t,a){var i=yt;yt|=2;var u=Ym(),f=Gm();(St!==e||ht!==t)&&(Go=null,on(e,t)),t=!1;var v=Ht;e:do try{if(bt!==0&&it!==null){var S=it,R=Ds;switch(bt){case 8:wd(),v=6;break e;case 3:case 2:case 9:case 6:Hs.current===null&&(t=!0);var Z=bt;if(bt=0,Ds=null,cn(e,S,R,Z),a&&rn){v=0;break e}break;default:Z=bt,bt=0,Ds=null,cn(e,S,R,Z)}}Ty(),v=Ht;break}catch(ue){qm(e,ue)}while(!0);return t&&e.shellSuspendCounter++,gr=pa=null,yt=i,j.H=u,j.A=f,it===null&&(St=null,ht=0,go()),v}function Ty(){for(;it!==null;)Vm(it)}function Ry(e,t){var a=yt;yt|=2;var i=Ym(),u=Gm();St!==e||ht!==t?(Go=null,Yo=$e()+500,on(e,t)):rn=Ge(e,t);e:do try{if(bt!==0&&it!==null){t=it;var f=Ds;t:switch(bt){case 1:bt=0,Ds=null,cn(e,t,f,1);break;case 2:case 9:if(af(f)){bt=0,Ds=null,Wm(t);break}t=function(){bt!==2&&bt!==9||St!==e||(bt=7),lr(e)},f.then(t,t);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:af(f)?(bt=0,Ds=null,Wm(t)):(bt=0,Ds=null,cn(e,t,f,7));break;case 5:var v=null;switch(it.tag){case 26:v=it.memoizedState;case 5:case 27:var S=it;if(!v||A0(v)){bt=0,Ds=null;var R=S.sibling;if(R!==null)it=R;else{var Z=S.return;Z!==null?(it=Z,Wo(Z)):it=null}break t}}bt=0,Ds=null,cn(e,t,f,5);break;case 6:bt=0,Ds=null,cn(e,t,f,6);break;case 8:wd(),Ht=6;break e;default:throw Error(o(462))}}Oy();break}catch(ue){qm(e,ue)}while(!0);return gr=pa=null,j.H=i,j.A=u,yt=a,it!==null?0:(St=null,ht=0,go(),Ht)}function Oy(){for(;it!==null&&!me();)Vm(it)}function Vm(e){var t=vm(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?Wo(e):it=t}function Wm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=mm(a,t,t.pendingProps,t.type,void 0,ht);break;case 11:t=mm(a,t,t.pendingProps,t.type.render,t.ref,ht);break;case 5:zc(t);default:jm(a,t),t=it=Wh(t,Nr),t=vm(a,t,Nr)}e.memoizedProps=e.pendingProps,t===null?Wo(e):it=t}function cn(e,t,a,i){gr=pa=null,zc(t),Ja=null,il=0;var u=t.return;try{if(jy(e,u,t,a,ht)){Ht=1,$o(e,Ms(a,e.current)),it=null;return}}catch(f){if(u!==null)throw it=u,f;Ht=1,$o(e,Ms(a,e.current)),it=null;return}t.flags&32768?(xt||i===1?e=!0:rn||(ht&536870912)!==0?e=!1:(qr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Hs.current,i!==null&&i.tag===13&&(i.flags|=16384))),Km(t,e)):Wo(t)}function Wo(e){var t=e;do{if((t.flags&32768)!==0){Km(t,qr);return}e=t.return;var a=Sy(t.alternate,t,Nr);if(a!==null){it=a;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Ht===0&&(Ht=5)}function Km(e,t){do{var a=Cy(e.alternate,e);if(a!==null){a.flags&=32767,it=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=a}while(e!==null);Ht=6,it=null}function Qm(e,t,a,i,u,f,v,S,R){e.cancelPendingCommit=null;do Ko();while(ns!==0);if((yt&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=fc,Rr(e,a,f,v,S,R),e===St&&(it=St=null,ht=0),nn=t,Vr=e,ln=a,yd=f,bd=u,Hm=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,By(Re,function(){return t0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null,u=M.p,M.p=2,v=yt,yt|=4;try{Ey(e,t,a)}finally{yt=v,M.p=u,j.T=i}}ns=1,Xm(),Zm(),Jm()}}function Xm(){if(ns===1){ns=0;var e=Vr,t=nn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var i=M.p;M.p=2;var u=yt;yt|=4;try{Om(t,e);var f=Ud,v=zh(e.containerInfo),S=f.focusedElem,R=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&Bh(S.ownerDocument.documentElement,S)){if(R!==null&&ic(S)){var Z=R.start,ue=R.end;if(ue===void 0&&(ue=Z),"selectionStart"in S)S.selectionStart=Z,S.selectionEnd=Math.min(ue,S.value.length);else{var pe=S.ownerDocument||document,ee=pe&&pe.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ze=S.textContent.length,Ke=Math.min(R.start,Ze),jt=R.end===void 0?Ke:Math.min(R.end,Ze);!re.extend&&Ke>jt&&(v=jt,jt=Ke,Ke=v);var F=Mh(S,Ke),B=Mh(S,jt);if(F&&B&&(re.rangeCount!==1||re.anchorNode!==F.node||re.anchorOffset!==F.offset||re.focusNode!==B.node||re.focusOffset!==B.offset)){var W=pe.createRange();W.setStart(F.node,F.offset),re.removeAllRanges(),Ke>jt?(re.addRange(W),re.extend(B.node,B.offset)):(W.setEnd(B.node,B.offset),re.addRange(W))}}}}for(pe=[],re=S;re=re.parentNode;)re.nodeType===1&&pe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<pe.length;S++){var he=pe[S];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}oi=!!Ld,Ud=Ld=null}finally{yt=u,M.p=i,j.T=a}}e.current=t,ns=2}}function Zm(){if(ns===2){ns=0;var e=Vr,t=nn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var i=M.p;M.p=2;var u=yt;yt|=4;try{Am(e,t.alternate,t)}finally{yt=u,M.p=i,j.T=a}}ns=3}}function Jm(){if(ns===4||ns===3){ns=0,Se();var e=Vr,t=nn,a=ln,i=Hm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ns=5:(ns=0,nn=Vr=null,e0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Gr=null),Ft(a),t=t.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Y,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=j.T,u=M.p,M.p=2,j.T=null;try{for(var f=e.onRecoverableError,v=0;v<i.length;v++){var S=i[v];f(S.value,{componentStack:S.stack})}}finally{j.T=t,M.p=u}}(ln&3)!==0&&Ko(),lr(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===vd?xl++:(xl=0,vd=e):xl=0,yl(0)}}function e0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xn(t)))}function Ko(e){return Xm(),Zm(),Jm(),t0()}function t0(){if(ns!==5)return!1;var e=Vr,t=yd;yd=0;var a=Ft(ln),i=j.T,u=M.p;try{M.p=32>a?32:a,j.T=null,a=bd,bd=null;var f=Vr,v=ln;if(ns=0,nn=Vr=null,ln=0,(yt&6)!==0)throw Error(o(331));var S=yt;if(yt|=4,zm(f.current),Um(f,f.current,v,a),yt=S,yl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Y,f)}catch{}return!0}finally{M.p=u,j.T=i,e0(e,t)}}function s0(e,t,a){t=Ms(a,t),t=Zc(e.stateNode,t,2),e=Br(e,t,2),e!==null&&(ps(e,2),lr(e))}function Nt(e,t,a){if(e.tag===3)s0(e,e,a);else for(;t!==null;){if(t.tag===3){s0(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gr===null||!Gr.has(i))){e=Ms(a,e),a=lm(2),i=Br(t,a,2),i!==null&&(om(a,i,t,e),ps(i,2),lr(i));break}}t=t.return}}function Sd(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Ay;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(md=!0,u.add(a),e=Ly.bind(null,e,t,a),t.then(e,e))}function Ly(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,St===e&&(ht&a)===a&&(Ht===4||Ht===3&&(ht&62914560)===ht&&300>$e()-xd?(yt&2)===0&&on(e,0):gd|=a,an===ht&&(an=0)),lr(e)}function r0(e,t){t===0&&(t=Os()),e=Pa(e,t),e!==null&&(ps(e,t),lr(e))}function Uy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),r0(e,a)}function My(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(t),r0(e,a)}function By(e,t){return nt(e,t)}var Qo=null,dn=null,Cd=!1,Xo=!1,Ed=!1,Na=0;function lr(e){e!==dn&&e.next===null&&(dn===null?Qo=dn=e:dn=dn.next=e),Xo=!0,Cd||(Cd=!0,$y())}function yl(e,t){if(!Ed&&Xo){Ed=!0;do for(var a=!1,i=Qo;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var v=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-ae(42|e)+1)-1,f&=u&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o0(i,f))}else f=ht,f=Ve(i,i===St?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Ge(i,f)||(a=!0,o0(i,f));i=i.next}while(a);Ed=!1}}function zy(){a0()}function a0(){Xo=Cd=!1;var e=0;Na!==0&&(Vy()&&(e=Na),Na=0);for(var t=$e(),a=null,i=Qo;i!==null;){var u=i.next,f=n0(i,t);f===0?(i.next=null,a===null?Qo=u:a.next=u,u===null&&(dn=a)):(a=i,(e!==0||(f&3)!==0)&&(Xo=!0)),i=u}yl(e)}function n0(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-ae(f),S=1<<v,R=u[v];R===-1?((S&a)===0||(S&i)!==0)&&(u[v]=st(S,t)):R<=t&&(e.expiredLanes|=S),f&=~S}if(t=St,a=ht,a=Ve(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&fe(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ge(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&fe(i),Ft(a)){case 2:case 8:a=ge;break;case 32:a=Re;break;case 268435456:a=ft;break;default:a=Re}return i=l0.bind(null,e),a=nt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&fe(i),e.callbackPriority=2,e.callbackNode=null,2}function l0(e,t){if(ns!==0&&ns!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ko()&&e.callbackNode!==a)return null;var i=ht;return i=Ve(e,e===St?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Im(e,i,t),n0(e,$e()),e.callbackNode!=null&&e.callbackNode===a?l0.bind(null,e):null)}function o0(e,t){if(Ko())return null;Im(e,t,!0)}function $y(){Ky(function(){(yt&6)!==0?nt(O,zy):a0()})}function _d(){return Na===0&&(Na=Dt()),Na}function i0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oo(""+e)}function c0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Hy(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var f=i0((u[ut]||null).action),v=i.submitter;v&&(t=(t=v[ut]||null)?i0(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var S=new ho("action","action",null,i,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Na!==0){var R=v?c0(u,v):new FormData(u);Vc(a,{pending:!0,data:R,method:u.method,action:f},null,R)}}else typeof f=="function"&&(S.preventDefault(),R=v?c0(u,v):new FormData(u),Vc(a,{pending:!0,data:R,method:u.method,action:f},f,R))},currentTarget:u}]})}}for(var kd=0;kd<hc.length;kd++){var Ad=hc[kd],Fy=Ad.toLowerCase(),Iy=Ad[0].toUpperCase()+Ad.slice(1);Ys(Fy,"on"+Iy)}Ys(Fh,"onAnimationEnd"),Ys(Ih,"onAnimationIteration"),Ys(Ph,"onAnimationStart"),Ys("dblclick","onDoubleClick"),Ys("focusin","onFocus"),Ys("focusout","onBlur"),Ys(ny,"onTransitionRun"),Ys(ly,"onTransitionStart"),Ys(oy,"onTransitionCancel"),Ys(qh,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function d0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var v=i.length-1;0<=v;v--){var S=i[v],R=S.instance,Z=S.currentTarget;if(S=S.listener,R!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=Z;try{f(u)}catch(ue){zo(ue)}u.currentTarget=null,f=R}else for(v=0;v<i.length;v++){if(S=i[v],R=S.instance,Z=S.currentTarget,S=S.listener,R!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=Z;try{f(u)}catch(ue){zo(ue)}u.currentTarget=null,f=R}}}}function ct(e,t){var a=t[tr];a===void 0&&(a=t[tr]=new Set);var i=e+"__bubble";a.has(i)||(u0(t,e,2,!1),a.add(i))}function Dd(e,t,a){var i=0;t&&(i|=4),u0(a,e,i,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Zo]){e[Zo]=!0,ke.forEach(function(a){a!=="selectionchange"&&(Py.has(a)||Dd(a,!1,e),Dd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zo]||(t[Zo]=!0,Dd("selectionchange",!1,t))}}function u0(e,t,a,i){switch(U0(t)){case 2:var u=pb;break;case 8:u=xb;break;default:u=Yd}a=u.bind(null,t,a,e),u=void 0,!Ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Rd(e,t,a,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var S=i.stateNode.containerInfo;if(S===u)break;if(v===4)for(v=i.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;S!==null;){if(v=Le(S),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){i=f=v;continue e}S=S.parentNode}}i=i.return}xh(function(){var Z=f,ue=Xi(a),pe=[];e:{var ee=Yh.get(e);if(ee!==void 0){var re=ho,Ze=e;switch(e){case"keypress":if(co(a)===0)break e;case"keydown":case"keyup":re=Bx;break;case"focusin":Ze="focus",re=rc;break;case"focusout":Ze="blur",re=rc;break;case"beforeblur":case"afterblur":re=rc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Hx;break;case Fh:case Ih:case Ph:re=kx;break;case qh:re=Ix;break;case"scroll":case"scrollend":re=Nx;break;case"wheel":re=qx;break;case"copy":case"cut":case"paste":re=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=jh;break;case"toggle":case"beforetoggle":re=Gx}var Ke=(t&4)!==0,jt=!Ke&&(e==="scroll"||e==="scrollend"),F=Ke?ee!==null?ee+"Capture":null:ee;Ke=[];for(var B=Z,W;B!==null;){var he=B;if(W=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||W===null||F===null||(he=zn(B,F),he!=null&&Ke.push(vl(B,he,W))),jt)break;B=B.return}0<Ke.length&&(ee=new re(ee,Ze,null,a,ue),pe.push({event:ee,listeners:Ke}))}}if((t&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",ee&&a!==Qi&&(Ze=a.relatedTarget||a.fromElement)&&(Le(Ze)||Ze[zt]))break e;if((re||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ze=a.relatedTarget||a.toElement,re=Z,Ze=Ze?Le(Ze):null,Ze!==null&&(jt=d(Ze),Ke=Ze.tag,Ze!==jt||Ke!==5&&Ke!==27&&Ke!==6)&&(Ze=null)):(re=null,Ze=Z),re!==Ze)){if(Ke=vh,he="onMouseLeave",F="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ke=jh,he="onPointerLeave",F="onPointerEnter",B="pointer"),jt=re==null?ee:pt(re),W=Ze==null?ee:pt(Ze),ee=new Ke(he,B+"leave",re,a,ue),ee.target=jt,ee.relatedTarget=W,he=null,Le(ue)===Z&&(Ke=new Ke(F,B+"enter",Ze,a,ue),Ke.target=W,Ke.relatedTarget=jt,he=Ke),jt=he,re&&Ze)t:{for(Ke=re,F=Ze,B=0,W=Ke;W;W=un(W))B++;for(W=0,he=F;he;he=un(he))W++;for(;0<B-W;)Ke=un(Ke),B--;for(;0<W-B;)F=un(F),W--;for(;B--;){if(Ke===F||F!==null&&Ke===F.alternate)break t;Ke=un(Ke),F=un(F)}Ke=null}else Ke=null;re!==null&&h0(pe,ee,re,Ke,!1),Ze!==null&&jt!==null&&h0(pe,jt,Ze,Ke,!0)}}e:{if(ee=Z?pt(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var He=Dh;else if(kh(ee))if(Th)He=sy;else{He=ey;var ot=Jx}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Ki(Z.elementType)&&(He=Dh):He=ty;if(He&&(He=He(e,Z))){Ah(pe,He,a,ue);break e}ot&&ot(e,ee,Z),e==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Wi(ee,"number",ee.value)}switch(ot=Z?pt(Z):window,e){case"focusin":(kh(ot)||ot.contentEditable==="true")&&(Ha=ot,cc=Z,Gn=null);break;case"focusout":Gn=cc=Ha=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,$h(pe,a,ue);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":$h(pe,a,ue)}var Ye;if(nc)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else $a?Eh(e,a)&&(Qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(Nh&&a.locale!=="ko"&&($a||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&$a&&(Ye=yh()):(Or=ue,ec="value"in Or?Or.value:Or.textContent,$a=!0)),ot=Jo(Z,Qe),0<ot.length&&(Qe=new wh(Qe,e,null,a,ue),pe.push({event:Qe,listeners:ot}),Ye?Qe.data=Ye:(Ye=_h(a),Ye!==null&&(Qe.data=Ye)))),(Ye=Wx?Kx(e,a):Qx(e,a))&&(Qe=Jo(Z,"onBeforeInput"),0<Qe.length&&(ot=new wh("onBeforeInput","beforeinput",null,a,ue),pe.push({event:ot,listeners:Qe}),ot.data=Ye)),Hy(pe,e,Z,a,ue)}d0(pe,t)})}function vl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Jo(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=zn(e,a),u!=null&&i.unshift(vl(e,u,f)),u=zn(e,t),u!=null&&i.push(vl(e,u,f))),e.tag===3)return i;e=e.return}return[]}function un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h0(e,t,a,i,u){for(var f=t._reactName,v=[];a!==null&&a!==i;){var S=a,R=S.alternate,Z=S.stateNode;if(S=S.tag,R!==null&&R===i)break;S!==5&&S!==26&&S!==27||Z===null||(R=Z,u?(Z=zn(a,f),Z!=null&&v.unshift(vl(a,Z,R))):u||(Z=zn(a,f),Z!=null&&v.push(vl(a,Z,R)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var qy=/\r\n?/g,Yy=/\u0000|\uFFFD/g;function f0(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(Yy,"")}function m0(e,t){return t=f0(t),f0(e)===t}function ei(){}function wt(e,t,a,i,u,f){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ma(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ma(e,""+i);break;case"className":ao(e,"class",i);break;case"tabIndex":ao(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(e,a,i);break;case"style":gh(e,i,f);break;case"data":if(t!=="object"){ao(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=oo(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&wt(e,t,"name",u.name,u,null),wt(e,t,"formEncType",u.formEncType,u,null),wt(e,t,"formMethod",u.formMethod,u,null),wt(e,t,"formTarget",u.formTarget,u,null)):(wt(e,t,"encType",u.encType,u,null),wt(e,t,"method",u.method,u,null),wt(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=oo(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ei);break;case"onScroll":i!=null&&ct("scroll",e);break;case"onScrollEnd":i!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=oo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":ct("beforetoggle",e),ct("toggle",e),ro(e,"popover",i);break;case"xlinkActuate":dr(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":dr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":dr(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":dr(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":dr(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":dr(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":dr(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":dr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":dr(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ro(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wx.get(a)||a,ro(e,a,i))}}function Od(e,t,a,i,u,f){switch(a){case"style":gh(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Ma(e,i):(typeof i=="number"||typeof i=="bigint")&&Ma(e,""+i);break;case"onScroll":i!=null&&ct("scroll",e);break;case"onScrollEnd":i!=null&&ct("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yt.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):ro(e,a,i)}}}function ls(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var i=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:wt(e,t,f,v,a,null)}}u&&wt(e,t,"srcSet",a.srcSet,a,null),i&&wt(e,t,"src",a.src,a,null);return;case"input":ct("invalid",e);var S=f=v=u=null,R=null,Z=null;for(i in a)if(a.hasOwnProperty(i)){var ue=a[i];if(ue!=null)switch(i){case"name":u=ue;break;case"type":v=ue;break;case"checked":R=ue;break;case"defaultChecked":Z=ue;break;case"value":f=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(o(137,t));break;default:wt(e,t,i,ue,a,null)}}uh(e,f,S,R,Z,v,u,!1),no(e);return;case"select":ct("invalid",e),i=v=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":i=S;default:wt(e,t,u,S,a,null)}t=f,a=v,e.multiple=!!i,t!=null?Ua(e,!!i,t,!1):a!=null&&Ua(e,!!i,a,!0);return;case"textarea":ct("invalid",e),f=u=i=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:wt(e,t,v,S,a,null)}fh(e,i,u,f),no(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(i=a[R],i!=null))switch(R){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:wt(e,t,R,i,a,null)}return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(i=0;i<bl.length;i++)ct(bl[i],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(i=a[Z],i!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:wt(e,t,Z,i,a,null)}return;default:if(Ki(t)){for(ue in a)a.hasOwnProperty(ue)&&(i=a[ue],i!==void 0&&Od(e,t,ue,i,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(i=a[S],i!=null&&wt(e,t,S,i,a,null))}function Gy(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,S=null,R=null,Z=null,ue=null;for(re in a){var pe=a[re];if(a.hasOwnProperty(re)&&pe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":R=pe;default:i.hasOwnProperty(re)||wt(e,t,re,null,i,pe)}}for(var ee in i){var re=i[ee];if(pe=a[ee],i.hasOwnProperty(ee)&&(re!=null||pe!=null))switch(ee){case"type":f=re;break;case"name":u=re;break;case"checked":Z=re;break;case"defaultChecked":ue=re;break;case"value":v=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(o(137,t));break;default:re!==pe&&wt(e,t,ee,re,i,pe)}}Vi(e,v,S,R,Z,ue,f,u);return;case"select":re=v=S=ee=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":re=R;default:i.hasOwnProperty(f)||wt(e,t,f,null,i,R)}for(u in i)if(f=i[u],R=a[u],i.hasOwnProperty(u)&&(f!=null||R!=null))switch(u){case"value":ee=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==R&&wt(e,t,u,f,i,R)}t=S,a=v,i=re,ee!=null?Ua(e,!!a,ee,!1):!!i!=!!a&&(t!=null?Ua(e,!!a,t,!0):Ua(e,!!a,a?[]:"",!1));return;case"textarea":re=ee=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:wt(e,t,S,null,i,u)}for(v in i)if(u=i[v],f=a[v],i.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":ee=u;break;case"defaultValue":re=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==f&&wt(e,t,v,u,i,f)}hh(e,ee,re);return;case"option":for(var Ze in a)if(ee=a[Ze],a.hasOwnProperty(Ze)&&ee!=null&&!i.hasOwnProperty(Ze))switch(Ze){case"selected":e.selected=!1;break;default:wt(e,t,Ze,null,i,ee)}for(R in i)if(ee=i[R],re=a[R],i.hasOwnProperty(R)&&ee!==re&&(ee!=null||re!=null))switch(R){case"selected":e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:wt(e,t,R,ee,i,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in a)ee=a[Ke],a.hasOwnProperty(Ke)&&ee!=null&&!i.hasOwnProperty(Ke)&&wt(e,t,Ke,null,i,ee);for(Z in i)if(ee=i[Z],re=a[Z],i.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,t));break;default:wt(e,t,Z,ee,i,re)}return;default:if(Ki(t)){for(var jt in a)ee=a[jt],a.hasOwnProperty(jt)&&ee!==void 0&&!i.hasOwnProperty(jt)&&Od(e,t,jt,void 0,i,ee);for(ue in i)ee=i[ue],re=a[ue],!i.hasOwnProperty(ue)||ee===re||ee===void 0&&re===void 0||Od(e,t,ue,ee,i,re);return}}for(var F in a)ee=a[F],a.hasOwnProperty(F)&&ee!=null&&!i.hasOwnProperty(F)&&wt(e,t,F,null,i,ee);for(pe in i)ee=i[pe],re=a[pe],!i.hasOwnProperty(pe)||ee===re||ee==null&&re==null||wt(e,t,pe,ee,i,re)}var Ld=null,Ud=null;function ti(e){return e.nodeType===9?e:e.ownerDocument}function g0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bd=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,Ky=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(e){return y0.resolve(null).then(e).catch(Qy)}:x0;function Qy(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function b0(e,t){var a=t,i=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<i&&8>i){a=i;var v=e.ownerDocument;if(a&1&&wl(v.documentElement),a&2&&wl(v.body),a&4)for(a=v.head,wl(a),v=a.firstChild;v;){var S=v.nextSibling,R=v.nodeName;v[Oe]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(u===0){e.removeChild(f),Al(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:i=a.charCodeAt(0)-48;else i=0;a=f}while(a);Al(t)}function zd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),De(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xy(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Oe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vs(e.nextSibling),e===null)break}return null}function Zy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vs(e.nextSibling),e===null))return null;return e}function $d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Jy(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Hd=null;function v0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function w0(e,t,a){switch(t=ti(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function wl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);De(e)}var Is=new Map,j0=new Set;function si(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sr=M.d;M.d={f:eb,r:tb,D:sb,C:rb,L:ab,m:nb,X:ob,S:lb,M:ib};function eb(){var e=Sr.f(),t=Vo();return e||t}function tb(e){var t=We(e);t!==null&&t.tag===5&&t.type==="form"?If(t):Sr.r(e)}var hn=typeof document>"u"?null:document;function N0(e,t,a){var i=hn;if(i&&typeof t=="string"&&t){var u=Us(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),j0.has(u)||(j0.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),ls(t,"link",e),ye(t),i.head.appendChild(t)))}}function sb(e){Sr.D(e),N0("dns-prefetch",e,null)}function rb(e,t){Sr.C(e,t),N0("preconnect",e,t)}function ab(e,t,a){Sr.L(e,t,a);var i=hn;if(i&&e&&t){var u='link[rel="preload"][as="'+Us(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Us(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Us(a.imageSizes)+'"]')):u+='[href="'+Us(e)+'"]';var f=u;switch(t){case"style":f=fn(e);break;case"script":f=mn(e)}Is.has(f)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Is.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(jl(f))||t==="script"&&i.querySelector(Nl(f))||(t=i.createElement("link"),ls(t,"link",e),ye(t),i.head.appendChild(t)))}}function nb(e,t){Sr.m(e,t);var a=hn;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Us(i)+'"][href="'+Us(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mn(e)}if(!Is.has(f)&&(e=p({rel:"modulepreload",href:e},t),Is.set(f,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}i=a.createElement("link"),ls(i,"link",e),ye(i),a.head.appendChild(i)}}}function lb(e,t,a){Sr.S(e,t,a);var i=hn;if(i&&e){var u=Ue(i).hoistableStyles,f=fn(e);t=t||"default";var v=u.get(f);if(!v){var S={loading:0,preload:null};if(v=i.querySelector(jl(f)))S.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Is.get(f))&&Fd(e,a);var R=v=i.createElement("link");ye(R),ls(R,"link",e),R._p=new Promise(function(Z,ue){R.onload=Z,R.onerror=ue}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ri(v,t,i)}v={type:"stylesheet",instance:v,count:1,state:S},u.set(f,v)}}}function ob(e,t){Sr.X(e,t);var a=hn;if(a&&e){var i=Ue(a).hoistableScripts,u=mn(e),f=i.get(u);f||(f=a.querySelector(Nl(u)),f||(e=p({src:e,async:!0},t),(t=Is.get(u))&&Id(e,t),f=a.createElement("script"),ye(f),ls(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function ib(e,t){Sr.M(e,t);var a=hn;if(a&&e){var i=Ue(a).hoistableScripts,u=mn(e),f=i.get(u);f||(f=a.querySelector(Nl(u)),f||(e=p({src:e,async:!0,type:"module"},t),(t=Is.get(u))&&Id(e,t),f=a.createElement("script"),ye(f),ls(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function S0(e,t,a,i){var u=(u=q.current)?si(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=fn(a.href),a=Ue(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fn(a.href);var f=Ue(u).hoistableStyles,v=f.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=u.querySelector(jl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Is.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Is.set(e,a),f||cb(u,e,a,v.state))),t&&i===null)throw Error(o(528,""));return v}if(t&&i!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=mn(a),a=Ue(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function fn(e){return'href="'+Us(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function C0(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function cb(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ls(t,"link",a),ye(t),e.head.appendChild(t))}function mn(e){return'[src="'+Us(e)+'"]'}function Nl(e){return"script[async]"+e}function E0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Us(a.href)+'"]');if(i)return t.instance=i,ye(i),i;var u=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ye(i),ls(i,"style",u),ri(i,a.precedence,e),t.instance=i;case"stylesheet":u=fn(a.href);var f=e.querySelector(jl(u));if(f)return t.state.loading|=4,t.instance=f,ye(f),f;i=C0(a),(u=Is.get(u))&&Fd(i,u),f=(e.ownerDocument||e).createElement("link"),ye(f);var v=f;return v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),ls(f,"link",i),t.state.loading|=4,ri(f,a.precedence,e),t.instance=f;case"script":return f=mn(a.src),(u=e.querySelector(Nl(f)))?(t.instance=u,ye(u),u):(i=a,(u=Is.get(f))&&(i=p({},a),Id(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),ye(u),ls(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,ri(i,a.precedence,e));return t.instance}function ri(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,v=0;v<i.length;v++){var S=i[v];if(S.dataset.precedence===t)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ai=null;function _0(e,t,a){if(ai===null){var i=new Map,u=ai=new Map;u.set(a,i)}else u=ai,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Oe]||f[At]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var S=i.get(v);S?S.push(f):i.set(v,[f])}}return i}function k0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function db(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function A0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Sl=null;function ub(){}function hb(e,t,a){if(Sl===null)throw Error(o(475));var i=Sl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=fn(a.href),f=e.querySelector(jl(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=ni.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=f,ye(f);return}f=e.ownerDocument||e,a=C0(a),(u=Is.get(u))&&Fd(a,u),f=f.createElement("link"),ye(f);var v=f;v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),ls(f,"link",a),t.instance=f}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=ni.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function fb(){if(Sl===null)throw Error(o(475));var e=Sl;return e.stylesheets&&e.count===0&&Pd(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Pd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ni(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var li=null;function Pd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,li=new Map,t.forEach(mb,e),li=null,ni.call(e))}function mb(e,t){if(!(t.state.loading&4)){var a=li.get(e);if(a)var i=a.get(null);else{a=new Map,li.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),i=v)}i&&a.set(null,i)}u=t.instance,v=u.getAttribute("data-precedence"),f=a.get(v)||i,f===i&&a.set(null,u),a.set(v,u),this.count++,i=ni.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Cl={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function gb(e,t,a,i,u,f,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function D0(e,t,a,i,u,f,v,S,R,Z,ue,pe){return e=new gb(e,t,a,v,S,R,Z,pe),t=1,f===!0&&(t|=24),f=_s(3,null,null,t),e.current=f,f.stateNode=e,t=Sc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:a,cache:t},kc(f),e}function T0(e){return e?(e=qa,e):qa}function R0(e,t,a,i,u,f){u=T0(u),i.context===null?i.context=u:i.pendingContext=u,i=Mr(t),i.payload={element:a},f=f===void 0?null:f,f!==null&&(i.callback=f),a=Br(e,i,t),a!==null&&(Rs(a,e,t),tl(a,e,t))}function O0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function qd(e,t){O0(e,t),(e=e.alternate)&&O0(e,t)}function L0(e){if(e.tag===13){var t=Pa(e,67108864);t!==null&&Rs(t,e,67108864),qd(e,67108864)}}var oi=!0;function pb(e,t,a,i){var u=j.T;j.T=null;var f=M.p;try{M.p=2,Yd(e,t,a,i)}finally{M.p=f,j.T=u}}function xb(e,t,a,i){var u=j.T;j.T=null;var f=M.p;try{M.p=8,Yd(e,t,a,i)}finally{M.p=f,j.T=u}}function Yd(e,t,a,i){if(oi){var u=Gd(i);if(u===null)Rd(e,t,i,ii,a),M0(e,i);else if(bb(u,e,t,a,i))i.stopPropagation();else if(M0(e,i),t&4&&-1<yb.indexOf(e)){for(;u!==null;){var f=We(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Te(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var R=1<<31-ae(v);S.entanglements[1]|=R,v&=~R}lr(f),(yt&6)===0&&(Yo=$e()+500,yl(0))}}break;case 13:S=Pa(f,2),S!==null&&Rs(S,f,2),Vo(),qd(f,2)}if(f=Gd(i),f===null&&Rd(e,t,i,ii,a),f===u)break;u=f}u!==null&&i.stopPropagation()}else Rd(e,t,i,null,a)}}function Gd(e){return e=Xi(e),Vd(e)}var ii=null;function Vd(e){if(ii=null,e=Le(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ii=e,null}function U0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case O:return 2;case ge:return 8;case Re:case Fe:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Wd=!1,Qr=null,Xr=null,Zr=null,El=new Map,_l=new Map,Jr=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(e,t){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function kl(e,t,a,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=We(t),t!==null&&L0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function bb(e,t,a,i,u){switch(t){case"focusin":return Qr=kl(Qr,e,t,a,i,u),!0;case"dragenter":return Xr=kl(Xr,e,t,a,i,u),!0;case"mouseover":return Zr=kl(Zr,e,t,a,i,u),!0;case"pointerover":var f=u.pointerId;return El.set(f,kl(El.get(f)||null,e,t,a,i,u)),!0;case"gotpointercapture":return f=u.pointerId,_l.set(f,kl(_l.get(f)||null,e,t,a,i,u)),!0}return!1}function B0(e){var t=Le(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Lt(e.priority,function(){if(a.tag===13){var i=Ts();i=Tt(i);var u=Pa(a,i);u!==null&&Rs(u,a,i),qd(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Qi=i,a.target.dispatchEvent(i),Qi=null}else return t=We(a),t!==null&&L0(t),e.blockedOn=a,!1;t.shift()}return!0}function z0(e,t,a){ci(e)&&a.delete(t)}function vb(){Wd=!1,Qr!==null&&ci(Qr)&&(Qr=null),Xr!==null&&ci(Xr)&&(Xr=null),Zr!==null&&ci(Zr)&&(Zr=null),El.forEach(z0),_l.forEach(z0)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Wd||(Wd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vb)))}var ui=null;function $0(e){ui!==e&&(ui=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ui===e&&(ui=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(Vd(i||a)===null)continue;break}var f=We(a);f!==null&&(e.splice(t,3),t-=3,Vc(f,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function Al(e){function t(R){return di(R,e)}Qr!==null&&di(Qr,e),Xr!==null&&di(Xr,e),Zr!==null&&di(Zr,e),El.forEach(t),_l.forEach(t);for(var a=0;a<Jr.length;a++){var i=Jr[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)B0(a),a.blockedOn===null&&Jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],f=a[i+1],v=u[ut]||null;if(typeof f=="function")v||$0(a);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[ut]||null)S=v.formAction;else if(Vd(u)!==null)continue}else S=v.action;typeof S=="function"?a[i+1]=S:(a.splice(i,3),i-=3),$0(a)}}}function Kd(e){this._internalRoot=e}hi.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,i=Ts();R0(a,i,e,t,null,null)},hi.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;R0(e.current,2,null,e,null,null),Vo(),t[zt]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=qs();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Jr.length&&t!==0&&t<Jr[a].priority;a++);Jr.splice(a,0,e),a===0&&B0(e)}};var H0=r.version;if(H0!=="19.1.1")throw Error(o(527,H0,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var wb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Y=fi.inject(wb),je=fi}catch{}}return Tl.createRoot=function(e,t){if(!c(e))throw Error(o(299));var a=!1,i="",u=sm,f=rm,v=am,S=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=D0(e,1,!1,null,null,a,i,u,f,v,S,null),e[zt]=t.current,Td(e),new Kd(t)},Tl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(o(299));var i=!1,u="",f=sm,v=rm,S=am,R=null,Z=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(Z=a.formState)),t=D0(e,1,!0,t,a??null,i,u,f,v,S,R,Z),t.context=T0(null),a=t.current,i=Ts(),i=Tt(i),u=Mr(i),u.callback=null,Br(a,u,i),a=i,t.current.lanes=a,ps(t,a),lr(t),e[zt]=t.current,Td(e),new hi(t)},Tl.version="19.1.1",Tl}var Q0;function Tb(){if(Q0)return Zd.exports;Q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Zd.exports=Db(),Zd.exports}var Rb=Tb();/**
 * react-router v7.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var X0="popstate";function Ob(n={}){function r(o,c){let{pathname:d,search:h,hash:m}=o.location;return xu("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(o,c){return typeof c=="string"?c:Fl(c)}return Ub(r,l,null,n)}function Ot(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Qs(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Lb(){return Math.random().toString(36).substring(2,10)}function Z0(n,r){return{usr:n.state,key:n.key,idx:r}}function xu(n,r,l=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?Dn(r):r,state:l,key:r&&r.key||o||Lb()}}function Fl({pathname:n="/",search:r="",hash:l=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function Dn(n){let r={};if(n){let l=n.indexOf("#");l>=0&&(r.hash=n.substring(l),n=n.substring(0,l));let o=n.indexOf("?");o>=0&&(r.search=n.substring(o),n=n.substring(0,o)),n&&(r.pathname=n)}return r}function Ub(n,r,l,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,h=c.history,m="POP",x=null,g=p();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function p(){return(h.state||{idx:null}).idx}function y(){m="POP";let _=p(),D=_==null?null:_-g;g=_,x&&x({action:m,location:A.location,delta:D})}function w(_,D){m="PUSH";let T=xu(A.location,_,D);g=p()+1;let U=Z0(T,g),K=A.createHref(T);try{h.pushState(U,"",K)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(K)}d&&x&&x({action:m,location:A.location,delta:1})}function E(_,D){m="REPLACE";let T=xu(A.location,_,D);g=p();let U=Z0(T,g),K=A.createHref(T);h.replaceState(U,"",K),d&&x&&x({action:m,location:A.location,delta:0})}function N(_){return Mb(_)}let A={get action(){return m},get location(){return n(c,h)},listen(_){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(X0,y),x=_,()=>{c.removeEventListener(X0,y),x=null}},createHref(_){return r(c,_)},createURL:N,encodeLocation(_){let D=N(_);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:E,go(_){return h.go(_)}};return A}function Mb(n,r=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(l,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Fl(n);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Zg(n,r,l="/"){return Bb(n,r,l,!1)}function Bb(n,r,l,o){let c=typeof r=="string"?Dn(r):r,d=kr(c.pathname||"/",l);if(d==null)return null;let h=Jg(n);zb(h);let m=null;for(let x=0;m==null&&x<h.length;++x){let g=Kb(d);m=Vb(h[x],g,o)}return m}function Jg(n,r=[],l=[],o="",c=!1){let d=(h,m,x=c,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(o)&&x)return;Ot(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length)}let y=_r([o,p.relativePath]),w=l.concat(p);h.children&&h.children.length>0&&(Ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Jg(h.children,r,w,y,x)),!(h.path==null&&!h.index)&&r.push({path:y,score:Yb(y,h.index),routesMeta:w})};return n.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let x of ep(h.path))d(h,m,!0,x)}),r}function ep(n){let r=n.split("/");if(r.length===0)return[];let[l,...o]=r,c=l.endsWith("?"),d=l.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let h=ep(o.join("/")),m=[];return m.push(...h.map(x=>x===""?d:[d,x].join("/"))),c&&m.push(...h),m.map(x=>n.startsWith("/")&&x===""?"/":x)}function zb(n){n.sort((r,l)=>r.score!==l.score?l.score-r.score:Gb(r.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var $b=/^:[\w-]+$/,Hb=3,Fb=2,Ib=1,Pb=10,qb=-2,J0=n=>n==="*";function Yb(n,r){let l=n.split("/"),o=l.length;return l.some(J0)&&(o+=qb),r&&(o+=Fb),l.filter(c=>!J0(c)).reduce((c,d)=>c+($b.test(d)?Hb:d===""?Ib:Pb),o)}function Gb(n,r){return n.length===r.length&&n.slice(0,-1).every((o,c)=>o===r[c])?n[n.length-1]-r[r.length-1]:0}function Vb(n,r,l=!1){let{routesMeta:o}=n,c={},d="/",h=[];for(let m=0;m<o.length;++m){let x=o[m],g=m===o.length-1,p=d==="/"?r:r.slice(d.length)||"/",y=ki({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},p),w=x.route;if(!y&&g&&l&&!o[o.length-1].route.index&&(y=ki({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},p)),!y)return null;Object.assign(c,y.params),h.push({params:c,pathname:_r([d,y.pathname]),pathnameBase:Jb(_r([d,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(d=_r([d,y.pathnameBase]))}return h}function ki(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,o]=Wb(n.path,n.caseSensitive,n.end),c=r.match(l);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((g,{paramName:p,isOptional:y},w)=>{if(p==="*"){let N=m[w]||"";h=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const E=m[w];return y&&!E?g[p]=void 0:g[p]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:h,pattern:n}}function Wb(n,r=!1,l=!0){Qs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,x)=>(o.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function Kb(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Qs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function kr(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let l=r.endsWith("/")?r.length-1:r.length,o=n.charAt(l);return o&&o!=="/"?null:n.slice(l)||"/"}function Qb(n,r="/"){let{pathname:l,search:o="",hash:c=""}=typeof n=="string"?Dn(n):n;return{pathname:l?l.startsWith("/")?l:Xb(l,r):r,search:ev(o),hash:tv(c)}}function Xb(n,r){let l=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function su(n,r,l,o){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zb(n){return n.filter((r,l)=>l===0||r.route.path&&r.route.path.length>0)}function Hu(n){let r=Zb(n);return r.map((l,o)=>o===r.length-1?l.pathname:l.pathnameBase)}function Fu(n,r,l,o=!1){let c;typeof n=="string"?c=Dn(n):(c={...n},Ot(!c.pathname||!c.pathname.includes("?"),su("?","pathname","search",c)),Ot(!c.pathname||!c.pathname.includes("#"),su("#","pathname","hash",c)),Ot(!c.search||!c.search.includes("#"),su("#","search","hash",c)));let d=n===""||c.pathname==="",h=d?"/":c.pathname,m;if(h==null)m=l;else{let y=r.length-1;if(!o&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),y-=1;c.pathname=w.join("/")}m=y>=0?r[y]:"/"}let x=Qb(c,m),g=h&&h!=="/"&&h.endsWith("/"),p=(d||h===".")&&l.endsWith("/");return!x.pathname.endsWith("/")&&(g||p)&&(x.pathname+="/"),x}var _r=n=>n.join("/").replace(/\/\/+/g,"/"),Jb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ev=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tv=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var tp=["POST","PUT","PATCH","DELETE"];new Set(tp);var rv=["GET",...tp];new Set(rv);var Tn=b.createContext(null);Tn.displayName="DataRouter";var Oi=b.createContext(null);Oi.displayName="DataRouterState";b.createContext(!1);var sp=b.createContext({isTransitioning:!1});sp.displayName="ViewTransition";var av=b.createContext(new Map);av.displayName="Fetchers";var nv=b.createContext(null);nv.displayName="Await";var Xs=b.createContext(null);Xs.displayName="Navigation";var ql=b.createContext(null);ql.displayName="Location";var Zs=b.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var Iu=b.createContext(null);Iu.displayName="RouteError";function lv(n,{relative:r}={}){Ot(Rn(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=b.useContext(Xs),{hash:c,pathname:d,search:h}=Gl(n,{relative:r}),m=d;return l!=="/"&&(m=d==="/"?l:_r([l,d])),o.createHref({pathname:m,search:h,hash:c})}function Rn(){return b.useContext(ql)!=null}function Js(){return Ot(Rn(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ql).location}var rp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ap(n){b.useContext(Xs).static||b.useLayoutEffect(n)}function Bt(){let{isDataRoute:n}=b.useContext(Zs);return n?bv():ov()}function ov(){Ot(Rn(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(Tn),{basename:r,navigator:l}=b.useContext(Xs),{matches:o}=b.useContext(Zs),{pathname:c}=Js(),d=JSON.stringify(Hu(o)),h=b.useRef(!1);return ap(()=>{h.current=!0}),b.useCallback((x,g={})=>{if(Qs(h.current,rp),!h.current)return;if(typeof x=="number"){l.go(x);return}let p=Fu(x,JSON.parse(d),c,g.relative==="path");n==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:_r([r,p.pathname])),(g.replace?l.replace:l.push)(p,g.state,g)},[r,l,d,c,n])}b.createContext(null);function Yl(){let{matches:n}=b.useContext(Zs),r=n[n.length-1];return r?r.params:{}}function Gl(n,{relative:r}={}){let{matches:l}=b.useContext(Zs),{pathname:o}=Js(),c=JSON.stringify(Hu(l));return b.useMemo(()=>Fu(n,JSON.parse(c),o,r==="path"),[n,c,o,r])}function iv(n,r){return np(n,r)}function np(n,r,l,o,c){Ot(Rn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(Xs),{matches:h}=b.useContext(Zs),m=h[h.length-1],x=m?m.params:{},g=m?m.pathname:"/",p=m?m.pathnameBase:"/",y=m&&m.route;{let T=y&&y.path||"";lp(g,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let w=Js(),E;if(r){let T=typeof r=="string"?Dn(r):r;Ot(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),E=T}else E=w;let N=E.pathname||"/",A=N;if(p!=="/"){let T=p.replace(/^\//,"").split("/");A="/"+N.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=Zg(n,{pathname:A});Qs(y||_!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Qs(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=fv(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},x,T.params),pathname:_r([p,d.encodeLocation?d.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:_r([p,d.encodeLocation?d.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),h,l,o,c);return r&&D?b.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function cv(){let n=yv(),r=sv(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),l?b.createElement("pre",{style:c},l):null,h)}var dv=b.createElement(cv,null),uv=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){this.props.unstable_onError?this.props.unstable_onError(n,r):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?b.createElement(Zs.Provider,{value:this.props.routeContext},b.createElement(Iu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hv({routeContext:n,match:r,children:l}){let o=b.useContext(Tn);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Zs.Provider,{value:n},l)}function fv(n,r=[],l=null,o=null,c=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(r.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let d=n,h=l?.errors;if(h!=null){let g=d.findIndex(p=>p.route.id&&h?.[p.route.id]!==void 0);Ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let m=!1,x=-1;if(l)for(let g=0;g<d.length;g++){let p=d[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(x=g),p.route.id){let{loaderData:y,errors:w}=l,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){m=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((g,p,y)=>{let w,E=!1,N=null,A=null;l&&(w=h&&p.route.id?h[p.route.id]:void 0,N=p.route.errorElement||dv,m&&(x<0&&y===0?(lp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):x===y&&(E=!0,A=p.route.hydrateFallbackElement||null)));let _=r.concat(d.slice(0,y+1)),D=()=>{let T;return w?T=N:E?T=A:p.route.Component?T=b.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=g,b.createElement(hv,{match:p,routeContext:{outlet:g,matches:_,isDataRoute:l!=null},children:T})};return l&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?b.createElement(uv,{location:l.location,revalidation:l.revalidation,component:N,error:w,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:o}):D()},null)}function Pu(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mv(n){let r=b.useContext(Tn);return Ot(r,Pu(n)),r}function gv(n){let r=b.useContext(Oi);return Ot(r,Pu(n)),r}function pv(n){let r=b.useContext(Zs);return Ot(r,Pu(n)),r}function qu(n){let r=pv(n),l=r.matches[r.matches.length-1];return Ot(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function xv(){return qu("useRouteId")}function yv(){let n=b.useContext(Iu),r=gv("useRouteError"),l=qu("useRouteError");return n!==void 0?n:r.errors?.[l]}function bv(){let{router:n}=mv("useNavigate"),r=qu("useNavigate"),l=b.useRef(!1);return ap(()=>{l.current=!0}),b.useCallback(async(c,d={})=>{Qs(l.current,rp),l.current&&(typeof c=="number"?n.navigate(c):await n.navigate(c,{fromRouteId:r,...d}))},[n,r])}var eg={};function lp(n,r,l){!r&&!eg[n]&&(eg[n]=!0,Qs(!1,l))}b.memo(vv);function vv({routes:n,future:r,state:l,unstable_onError:o}){return np(n,void 0,l,o,r)}function op({to:n,replace:r,state:l,relative:o}){Ot(Rn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Xs);Qs(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Zs),{pathname:h}=Js(),m=Bt(),x=Fu(n,Hu(d),h,o==="path"),g=JSON.stringify(x);return b.useEffect(()=>{m(JSON.parse(g),{replace:r,state:l,relative:o})},[m,g,o,r,l]),null}function Ct(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wv({basename:n="/",children:r=null,location:l,navigationType:o="POP",navigator:c,static:d=!1}){Ot(!Rn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:h,navigator:c,static:d,future:{}}),[h,c,d]);typeof l=="string"&&(l=Dn(l));let{pathname:x="/",search:g="",hash:p="",state:y=null,key:w="default"}=l,E=b.useMemo(()=>{let N=kr(x,h);return N==null?null:{location:{pathname:N,search:g,hash:p,state:y,key:w},navigationType:o}},[h,x,g,p,y,w,o]);return Qs(E!=null,`<Router basename="${h}"> is not able to match the URL "${x}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:b.createElement(Xs.Provider,{value:m},b.createElement(ql.Provider,{children:r,value:E}))}function jv({children:n,location:r}){return iv(yu(n),r)}function yu(n,r=[]){let l=[];return b.Children.forEach(n,(o,c)=>{if(!b.isValidElement(o))return;let d=[...r,c];if(o.type===b.Fragment){l.push.apply(l,yu(o.props.children,d));return}Ot(o.type===Ct,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=yu(o.props.children,d)),l.push(h)}),l}var Ni="get",Si="application/x-www-form-urlencoded";function Li(n){return n!=null&&typeof n.tagName=="string"}function Nv(n){return Li(n)&&n.tagName.toLowerCase()==="button"}function Sv(n){return Li(n)&&n.tagName.toLowerCase()==="form"}function Cv(n){return Li(n)&&n.tagName.toLowerCase()==="input"}function Ev(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _v(n,r){return n.button===0&&(!r||r==="_self")&&!Ev(n)}var mi=null;function kv(){if(mi===null)try{new FormData(document.createElement("form"),0),mi=!1}catch{mi=!0}return mi}var Av=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ru(n){return n!=null&&!Av.has(n)?(Qs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Si}"`),null):n}function Dv(n,r){let l,o,c,d,h;if(Sv(n)){let m=n.getAttribute("action");o=m?kr(m,r):null,l=n.getAttribute("method")||Ni,c=ru(n.getAttribute("enctype"))||Si,d=new FormData(n)}else if(Nv(n)||Cv(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=n.getAttribute("formaction")||m.getAttribute("action");if(o=x?kr(x,r):null,l=n.getAttribute("formmethod")||m.getAttribute("method")||Ni,c=ru(n.getAttribute("formenctype"))||ru(m.getAttribute("enctype"))||Si,d=new FormData(m,n),!kv()){let{name:g,type:p,value:y}=n;if(p==="image"){let w=g?`${g}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else g&&d.append(g,y)}}else{if(Li(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Ni,o=null,c=Si,h=n}return d&&c==="text/plain"&&(h=d,d=void 0),{action:o,method:l.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yu(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Tv(n,r,l){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${l}`:r&&kr(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function Rv(n,r){if(n.id in r)return r[n.id];try{let l=await import(n.module);return r[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ov(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Lv(n,r,l){let o=await Promise.all(n.map(async c=>{let d=r.routes[c.route.id];if(d){let h=await Rv(d,l);return h.links?h.links():[]}return[]}));return zv(o.flat(1).filter(Ov).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function tg(n,r,l,o,c,d){let h=(x,g)=>l[g]?x.route.id!==l[g].route.id:!0,m=(x,g)=>l[g].pathname!==x.pathname||l[g].route.path?.endsWith("*")&&l[g].params["*"]!==x.params["*"];return d==="assets"?r.filter((x,g)=>h(x,g)||m(x,g)):d==="data"?r.filter((x,g)=>{let p=o.routes[x.route.id];if(!p||!p.hasLoader)return!1;if(h(x,g)||m(x,g))return!0;if(x.route.shouldRevalidate){let y=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Uv(n,r,{includeHydrateFallback:l}={}){return Mv(n.map(o=>{let c=r.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Mv(n){return[...new Set(n)]}function Bv(n){let r={},l=Object.keys(n).sort();for(let o of l)r[o]=n[o];return r}function zv(n,r){let l=new Set;return new Set(r),n.reduce((o,c)=>{let d=JSON.stringify(Bv(c));return l.has(d)||(l.add(d),o.push({key:d,link:c})),o},[])}function ip(){let n=b.useContext(Tn);return Yu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $v(){let n=b.useContext(Oi);return Yu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gu=b.createContext(void 0);Gu.displayName="FrameworkContext";function cp(){let n=b.useContext(Gu);return Yu(n,"You must render this element inside a <HydratedRouter> element"),n}function Hv(n,r){let l=b.useContext(Gu),[o,c]=b.useState(!1),[d,h]=b.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:g,onMouseLeave:p,onTouchStart:y}=r,w=b.useRef(null);b.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let A=D=>{D.forEach(T=>{h(T.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[n]),b.useEffect(()=>{if(o){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[o]);let E=()=>{c(!0)},N=()=>{c(!1),h(!1)};return l?n!=="intent"?[d,w,{}]:[d,w,{onFocus:Rl(m,E),onBlur:Rl(x,N),onMouseEnter:Rl(g,E),onMouseLeave:Rl(p,N),onTouchStart:Rl(y,E)}]:[!1,w,{}]}function Rl(n,r){return l=>{n&&n(l),l.defaultPrevented||r(l)}}function Fv({page:n,...r}){let{router:l}=ip(),o=b.useMemo(()=>Zg(l.routes,n,l.basename),[l.routes,n,l.basename]);return o?b.createElement(Pv,{page:n,matches:o,...r}):null}function Iv(n){let{manifest:r,routeModules:l}=cp(),[o,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Lv(n,r,l).then(h=>{d||c(h)}),()=>{d=!0}},[n,r,l]),o}function Pv({page:n,matches:r,...l}){let o=Js(),{manifest:c,routeModules:d}=cp(),{basename:h}=ip(),{loaderData:m,matches:x}=$v(),g=b.useMemo(()=>tg(n,r,x,c,o,"data"),[n,r,x,c,o]),p=b.useMemo(()=>tg(n,r,x,c,o,"assets"),[n,r,x,c,o]),y=b.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let N=new Set,A=!1;if(r.forEach(D=>{let T=c.routes[D.route.id];!T||!T.hasLoader||(!g.some(U=>U.route.id===D.route.id)&&D.route.id in m&&d[D.route.id]?.shouldRevalidate||T.hasClientLoader?A=!0:N.add(D.route.id))}),N.size===0)return[];let _=Tv(n,h,"data");return A&&N.size>0&&_.searchParams.set("_routes",r.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[_.pathname+_.search]},[h,m,o,c,g,r,n,d]),w=b.useMemo(()=>Uv(p,c),[p,c]),E=Iv(p);return b.createElement(b.Fragment,null,y.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...l})),w.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...l})),E.map(({key:N,link:A})=>b.createElement("link",{key:N,nonce:l.nonce,...A})))}function qv(...n){return r=>{n.forEach(l=>{typeof l=="function"?l(r):l!=null&&(l.current=r)})}}var dp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dp&&(window.__reactRouterVersion="7.9.0")}catch{}function Yv({basename:n,children:r,window:l}){let o=b.useRef();o.current==null&&(o.current=Ob({window:l,v5Compat:!0}));let c=o.current,[d,h]=b.useState({action:c.action,location:c.location}),m=b.useCallback(x=>{b.startTransition(()=>h(x))},[h]);return b.useLayoutEffect(()=>c.listen(m),[c,m]),b.createElement(wv,{basename:n,children:r,location:d.location,navigationType:d.action,navigator:c})}var up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=b.forwardRef(function({onClick:r,discover:l="render",prefetch:o="none",relative:c,reloadDocument:d,replace:h,state:m,target:x,to:g,preventScrollReset:p,viewTransition:y,...w},E){let{basename:N}=b.useContext(Xs),A=typeof g=="string"&&up.test(g),_,D=!1;if(typeof g=="string"&&A&&(_=g,dp))try{let le=new URL(window.location.href),be=g.startsWith("//")?new URL(le.protocol+g):new URL(g),_e=kr(be.pathname,N);be.origin===le.origin&&_e!=null?g=_e+be.search+be.hash:D=!0}catch{Qs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=lv(g,{relative:c}),[U,K,$]=Hv(o,w),I=Kv(g,{replace:h,state:m,target:x,preventScrollReset:p,relative:c,viewTransition:y});function V(le){r&&r(le),le.defaultPrevented||I(le)}let oe=b.createElement("a",{...w,...$,href:_||T,onClick:D||d?r:V,ref:qv(E,K),target:x,"data-discover":!A&&l==="render"?"true":void 0});return U&&!A?b.createElement(b.Fragment,null,oe,b.createElement(Fv,{page:T})):oe});Vl.displayName="Link";var Gv=b.forwardRef(function({"aria-current":r="page",caseSensitive:l=!1,className:o="",end:c=!1,style:d,to:h,viewTransition:m,children:x,...g},p){let y=Gl(h,{relative:g.relative}),w=Js(),E=b.useContext(Oi),{navigator:N,basename:A}=b.useContext(Xs),_=E!=null&&e2(y)&&m===!0,D=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,T=w.pathname,U=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;l||(T=T.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&A&&(U=kr(U,A)||U);const K=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=T===D||!c&&T.startsWith(D)&&T.charAt(K)==="/",I=U!=null&&(U===D||!c&&U.startsWith(D)&&U.charAt(D.length)==="/"),V={isActive:$,isPending:I,isTransitioning:_},oe=$?r:void 0,le;typeof o=="function"?le=o(V):le=[o,$?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let be=typeof d=="function"?d(V):d;return b.createElement(Vl,{...g,"aria-current":oe,className:le,ref:p,style:be,to:h,viewTransition:m},typeof x=="function"?x(V):x)});Gv.displayName="NavLink";var Vv=b.forwardRef(({discover:n="render",fetcherKey:r,navigate:l,reloadDocument:o,replace:c,state:d,method:h=Ni,action:m,onSubmit:x,relative:g,preventScrollReset:p,viewTransition:y,...w},E)=>{let N=Zv(),A=Jv(m,{relative:g}),_=h.toLowerCase()==="get"?"get":"post",D=typeof m=="string"&&up.test(m),T=U=>{if(x&&x(U),U.defaultPrevented)return;U.preventDefault();let K=U.nativeEvent.submitter,$=K?.getAttribute("formmethod")||h;N(K||U.currentTarget,{fetcherKey:r,method:$,navigate:l,replace:c,state:d,relative:g,preventScrollReset:p,viewTransition:y})};return b.createElement("form",{ref:E,method:_,action:A,onSubmit:o?x:T,...w,"data-discover":!D&&n==="render"?"true":void 0})});Vv.displayName="Form";function Wv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hp(n){let r=b.useContext(Tn);return Ot(r,Wv(n)),r}function Kv(n,{target:r,replace:l,state:o,preventScrollReset:c,relative:d,viewTransition:h}={}){let m=Bt(),x=Js(),g=Gl(n,{relative:d});return b.useCallback(p=>{if(_v(p,r)){p.preventDefault();let y=l!==void 0?l:Fl(x)===Fl(g);m(n,{replace:y,state:o,preventScrollReset:c,relative:d,viewTransition:h})}},[x,m,g,l,o,r,n,c,d,h])}var Qv=0,Xv=()=>`__${String(++Qv)}__`;function Zv(){let{router:n}=hp("useSubmit"),{basename:r}=b.useContext(Xs),l=xv();return b.useCallback(async(o,c={})=>{let{action:d,method:h,encType:m,formData:x,body:g}=Dv(o,r);if(c.navigate===!1){let p=c.fetcherKey||Xv();await n.fetch(p,l,c.action||d,{preventScrollReset:c.preventScrollReset,formData:x,body:g,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await n.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:x,body:g,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,r,l])}function Jv(n,{relative:r}={}){let{basename:l}=b.useContext(Xs),o=b.useContext(Zs);Ot(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...Gl(n||".",{relative:r})},h=Js();if(n==null){d.search=h.search;let m=new URLSearchParams(d.search),x=m.getAll("index");if(x.some(p=>p==="")){m.delete("index"),x.filter(y=>y).forEach(y=>m.append("index",y));let p=m.toString();d.search=p?`?${p}`:""}}return(!n||n===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(d.pathname=d.pathname==="/"?l:_r([l,d.pathname])),Fl(d)}function e2(n,{relative:r}={}){let l=b.useContext(sp);Ot(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=hp("useViewTransitionState"),c=Gl(n,{relative:r});if(!l.isTransitioning)return!1;let d=kr(l.currentLocation.pathname,o)||l.currentLocation.pathname,h=kr(l.nextLocation.pathname,o)||l.nextLocation.pathname;return ki(c.pathname,h)!=null||ki(c.pathname,d)!=null}var t2=Xg();const s2=zu(t2);function r2(n){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",r.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n))}const a2=n=>{switch(n){case"success":return o2;case"info":return c2;case"warning":return i2;case"error":return d2;default:return null}},n2=Array(12).fill(0),l2=({visible:n,className:r})=>Ee.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":n},Ee.createElement("div",{className:"sonner-spinner"},n2.map((l,o)=>Ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),o2=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i2=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c2=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d2=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),u2=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),h2=()=>{const[n,r]=Ee.useState(document.hidden);return Ee.useEffect(()=>{const l=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",l),()=>window.removeEventListener("visibilitychange",l)},[]),n};let bu=1;class f2{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const l=this.subscribers.indexOf(r);this.subscribers.splice(l,1)}),this.publish=r=>{this.subscribers.forEach(l=>l(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var l;const{message:o,...c}=r,d=typeof r?.id=="number"||((l=r.id)==null?void 0:l.length)>0?r.id:bu++,h=this.toasts.find(x=>x.id===d),m=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),h?this.toasts=this.toasts.map(x=>x.id===d?(this.publish({...x,...r,id:d,title:o}),{...x,...r,id:d,dismissible:m,title:o}):x):this.addToast({title:o,...c,dismissible:m,id:d}),d},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(l=>l({id:r,dismiss:!0})))):this.toasts.forEach(l=>{this.subscribers.forEach(o=>o({id:l.id,dismiss:!0}))}),r),this.message=(r,l)=>this.create({...l,message:r}),this.error=(r,l)=>this.create({...l,message:r,type:"error"}),this.success=(r,l)=>this.create({...l,type:"success",message:r}),this.info=(r,l)=>this.create({...l,type:"info",message:r}),this.warning=(r,l)=>this.create({...l,type:"warning",message:r}),this.loading=(r,l)=>this.create({...l,type:"loading",message:r}),this.promise=(r,l)=>{if(!l)return;let o;l.loading!==void 0&&(o=this.create({...l,promise:r,type:"loading",message:l.loading,description:typeof l.description!="function"?l.description:void 0}));const c=Promise.resolve(r instanceof Function?r():r);let d=o!==void 0,h;const m=c.then(async g=>{if(h=["resolve",g],Ee.isValidElement(g))d=!1,this.create({id:o,type:"default",message:g});else if(g2(g)&&!g.ok){d=!1;const y=typeof l.error=="function"?await l.error(`HTTP error! status: ${g.status}`):l.error,w=typeof l.description=="function"?await l.description(`HTTP error! status: ${g.status}`):l.description,N=typeof y=="object"&&!Ee.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:w,...N})}else if(g instanceof Error){d=!1;const y=typeof l.error=="function"?await l.error(g):l.error,w=typeof l.description=="function"?await l.description(g):l.description,N=typeof y=="object"&&!Ee.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:w,...N})}else if(l.success!==void 0){d=!1;const y=typeof l.success=="function"?await l.success(g):l.success,w=typeof l.description=="function"?await l.description(g):l.description,N=typeof y=="object"&&!Ee.isValidElement(y)?y:{message:y};this.create({id:o,type:"success",description:w,...N})}}).catch(async g=>{if(h=["reject",g],l.error!==void 0){d=!1;const p=typeof l.error=="function"?await l.error(g):l.error,y=typeof l.description=="function"?await l.description(g):l.description,E=typeof p=="object"&&!Ee.isValidElement(p)?p:{message:p};this.create({id:o,type:"error",description:y,...E})}}).finally(()=>{d&&(this.dismiss(o),o=void 0),l.finally==null||l.finally.call(l)}),x=()=>new Promise((g,p)=>m.then(()=>h[0]==="reject"?p(h[1]):g(h[1])).catch(p));return typeof o!="string"&&typeof o!="number"?{unwrap:x}:Object.assign(o,{unwrap:x})},this.custom=(r,l)=>{const o=l?.id||bu++;return this.create({jsx:r(o),id:o,...l}),o},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ws=new f2,m2=(n,r)=>{const l=r?.id||bu++;return ws.addToast({title:n,...r,id:l}),l},g2=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",p2=m2,x2=()=>ws.toasts,y2=()=>ws.getActiveToasts(),L=Object.assign(p2,{success:ws.success,info:ws.info,warning:ws.warning,error:ws.error,custom:ws.custom,message:ws.message,promise:ws.promise,dismiss:ws.dismiss,loading:ws.loading},{getHistory:x2,getToasts:y2});r2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function gi(n){return n.label!==void 0}const b2=3,v2="24px",w2="16px",sg=4e3,j2=356,N2=14,S2=45,C2=200;function or(...n){return n.filter(Boolean).join(" ")}function E2(n){const[r,l]=n.split("-"),o=[];return r&&o.push(r),l&&o.push(l),o}const _2=n=>{var r,l,o,c,d,h,m,x,g;const{invert:p,toast:y,unstyled:w,interacting:E,setHeights:N,visibleToasts:A,heights:_,index:D,toasts:T,expanded:U,removeToast:K,defaultRichColors:$,closeButton:I,style:V,cancelButtonStyle:oe,actionButtonStyle:le,className:be="",descriptionClassName:_e="",duration:Ne,position:Q,gap:X,expandByDefault:ce,classNames:j,icons:M,closeButtonAriaLabel:te="Close toast"}=n,[z,C]=Ee.useState(null),[P,se]=Ee.useState(null),[k,J]=Ee.useState(!1),[de,q]=Ee.useState(!1),[we,xe]=Ee.useState(!1),[ze,Ie]=Ee.useState(!1),[Me,at]=Ee.useState(!1),[nt,fe]=Ee.useState(0),[me,Se]=Ee.useState(0),$e=Ee.useRef(y.duration||Ne||sg),G=Ee.useRef(null),O=Ee.useRef(null),ge=D===0,Re=D+1<=A,Fe=y.type,ft=y.dismissible!==!1,ve=y.className||"",Pe=y.descriptionClassName||"",Y=Ee.useMemo(()=>_.findIndex(Xe=>Xe.toastId===y.id)||0,[_,y.id]),je=Ee.useMemo(()=>{var Xe;return(Xe=y.closeButton)!=null?Xe:I},[y.closeButton,I]),Ce=Ee.useMemo(()=>y.duration||Ne||sg,[y.duration,Ne]),ae=Ee.useRef(0),qe=Ee.useRef(0),gt=Ee.useRef(0),H=Ee.useRef(null),[ie,Be]=Q.split("-"),Te=Ee.useMemo(()=>_.reduce((Xe,_t,Tt)=>Tt>=Y?Xe:Xe+_t.height,0),[_,Y]),Ve=h2(),Ge=y.invert||p,st=Fe==="loading";qe.current=Ee.useMemo(()=>Y*X+Te,[Y,Te]),Ee.useEffect(()=>{$e.current=Ce},[Ce]),Ee.useEffect(()=>{J(!0)},[]),Ee.useEffect(()=>{const Xe=O.current;if(Xe){const _t=Xe.getBoundingClientRect().height;return Se(_t),N(Tt=>[{toastId:y.id,height:_t,position:y.position},...Tt]),()=>N(Tt=>Tt.filter(Ft=>Ft.toastId!==y.id))}},[N,y.id]),Ee.useLayoutEffect(()=>{if(!k)return;const Xe=O.current,_t=Xe.style.height;Xe.style.height="auto";const Tt=Xe.getBoundingClientRect().height;Xe.style.height=_t,Se(Tt),N(Ft=>Ft.find(Lt=>Lt.toastId===y.id)?Ft.map(Lt=>Lt.toastId===y.id?{...Lt,height:Tt}:Lt):[{toastId:y.id,height:Tt,position:y.position},...Ft])},[k,y.title,y.description,N,y.id,y.jsx,y.action,y.cancel]);const Dt=Ee.useCallback(()=>{q(!0),fe(qe.current),N(Xe=>Xe.filter(_t=>_t.toastId!==y.id)),setTimeout(()=>{K(y)},C2)},[y,K,N,qe]);Ee.useEffect(()=>{if(y.promise&&Fe==="loading"||y.duration===1/0||y.type==="loading")return;let Xe;return U||E||Ve?(()=>{if(gt.current<ae.current){const Ft=new Date().getTime()-ae.current;$e.current=$e.current-Ft}gt.current=new Date().getTime()})():(()=>{$e.current!==1/0&&(ae.current=new Date().getTime(),Xe=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Dt()},$e.current))})(),()=>clearTimeout(Xe)},[U,E,y,Fe,Ve,Dt]),Ee.useEffect(()=>{y.delete&&(Dt(),y.onDismiss==null||y.onDismiss.call(y,y))},[Dt,y.delete]);function Os(){var Xe;if(M?.loading){var _t;return Ee.createElement("div",{className:or(j?.loader,y==null||(_t=y.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":Fe==="loading"},M.loading)}return Ee.createElement(l2,{className:or(j?.loader,y==null||(Xe=y.classNames)==null?void 0:Xe.loader),visible:Fe==="loading"})}const Cs=y.icon||M?.[Fe]||a2(Fe);var ps,Rr;return Ee.createElement("li",{tabIndex:0,ref:O,className:or(be,ve,j?.toast,y==null||(r=y.classNames)==null?void 0:r.toast,j?.default,j?.[Fe],y==null||(l=y.classNames)==null?void 0:l[Fe]),"data-sonner-toast":"","data-rich-colors":(ps=y.richColors)!=null?ps:$,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":k,"data-promise":!!y.promise,"data-swiped":Me,"data-removed":de,"data-visible":Re,"data-y-position":ie,"data-x-position":Be,"data-index":D,"data-front":ge,"data-swiping":we,"data-dismissible":ft,"data-type":Fe,"data-invert":Ge,"data-swipe-out":ze,"data-swipe-direction":P,"data-expanded":!!(U||ce&&k),"data-testid":y.testId,style:{"--index":D,"--toasts-before":D,"--z-index":T.length-D,"--offset":`${de?nt:qe.current}px`,"--initial-height":ce?"auto":`${me}px`,...V,...y.style},onDragEnd:()=>{xe(!1),C(null),H.current=null},onPointerDown:Xe=>{Xe.button!==2&&(st||!ft||(G.current=new Date,fe(qe.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(xe(!0),H.current={x:Xe.clientX,y:Xe.clientY})))},onPointerUp:()=>{var Xe,_t,Tt;if(ze||!ft)return;H.current=null;const Ft=Number(((Xe=O.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qs=Number(((_t=O.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Lt=new Date().getTime()-((Tt=G.current)==null?void 0:Tt.getTime()),kt=z==="x"?Ft:qs,At=Math.abs(kt)/Lt;if(Math.abs(kt)>=S2||At>.11){fe(qe.current),y.onDismiss==null||y.onDismiss.call(y,y),se(z==="x"?Ft>0?"right":"left":qs>0?"down":"up"),Dt(),Ie(!0);return}else{var ut,zt;(ut=O.current)==null||ut.style.setProperty("--swipe-amount-x","0px"),(zt=O.current)==null||zt.style.setProperty("--swipe-amount-y","0px")}at(!1),xe(!1),C(null)},onPointerMove:Xe=>{var _t,Tt,Ft;if(!H.current||!ft||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const Lt=Xe.clientY-H.current.y,kt=Xe.clientX-H.current.x;var At;const ut=(At=n.swipeDirections)!=null?At:E2(Q);!z&&(Math.abs(kt)>1||Math.abs(Lt)>1)&&C(Math.abs(kt)>Math.abs(Lt)?"x":"y");let zt={x:0,y:0};const tr=fs=>1/(1.5+Math.abs(fs)/20);if(z==="y"){if(ut.includes("top")||ut.includes("bottom"))if(ut.includes("top")&&Lt<0||ut.includes("bottom")&&Lt>0)zt.y=Lt;else{const fs=Lt*tr(Lt);zt.y=Math.abs(fs)<Math.abs(Lt)?fs:Lt}}else if(z==="x"&&(ut.includes("left")||ut.includes("right")))if(ut.includes("left")&&kt<0||ut.includes("right")&&kt>0)zt.x=kt;else{const fs=kt*tr(kt);zt.x=Math.abs(fs)<Math.abs(kt)?fs:kt}(Math.abs(zt.x)>0||Math.abs(zt.y)>0)&&at(!0),(Tt=O.current)==null||Tt.style.setProperty("--swipe-amount-x",`${zt.x}px`),(Ft=O.current)==null||Ft.style.setProperty("--swipe-amount-y",`${zt.y}px`)}},je&&!y.jsx&&Fe!=="loading"?Ee.createElement("button",{"aria-label":te,"data-disabled":st,"data-close-button":!0,onClick:st||!ft?()=>{}:()=>{Dt(),y.onDismiss==null||y.onDismiss.call(y,y)},className:or(j?.closeButton,y==null||(o=y.classNames)==null?void 0:o.closeButton)},(Rr=M?.close)!=null?Rr:u2):null,(Fe||y.icon||y.promise)&&y.icon!==null&&(M?.[Fe]!==null||y.icon)?Ee.createElement("div",{"data-icon":"",className:or(j?.icon,y==null||(c=y.classNames)==null?void 0:c.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Os():null,y.type!=="loading"?Cs:null):null,Ee.createElement("div",{"data-content":"",className:or(j?.content,y==null||(d=y.classNames)==null?void 0:d.content)},Ee.createElement("div",{"data-title":"",className:or(j?.title,y==null||(h=y.classNames)==null?void 0:h.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?Ee.createElement("div",{"data-description":"",className:or(_e,Pe,j?.description,y==null||(m=y.classNames)==null?void 0:m.description)},typeof y.description=="function"?y.description():y.description):null),Ee.isValidElement(y.cancel)?y.cancel:y.cancel&&gi(y.cancel)?Ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||oe,onClick:Xe=>{gi(y.cancel)&&ft&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Xe),Dt())},className:or(j?.cancelButton,y==null||(x=y.classNames)==null?void 0:x.cancelButton)},y.cancel.label):null,Ee.isValidElement(y.action)?y.action:y.action&&gi(y.action)?Ee.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||le,onClick:Xe=>{gi(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Xe),!Xe.defaultPrevented&&Dt())},className:or(j?.actionButton,y==null||(g=y.classNames)==null?void 0:g.actionButton)},y.action.label):null)};function rg(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function k2(n,r){const l={};return[n,r].forEach((o,c)=>{const d=c===1,h=d?"--mobile-offset":"--offset",m=d?w2:v2;function x(g){["top","right","bottom","left"].forEach(p=>{l[`${h}-${p}`]=typeof g=="number"?`${g}px`:g})}typeof o=="number"||typeof o=="string"?x(o):typeof o=="object"?["top","right","bottom","left"].forEach(g=>{o[g]===void 0?l[`${h}-${g}`]=m:l[`${h}-${g}`]=typeof o[g]=="number"?`${o[g]}px`:o[g]}):x(m)}),l}const A2=Ee.forwardRef(function(r,l){const{id:o,invert:c,position:d="bottom-right",hotkey:h=["altKey","KeyT"],expand:m,closeButton:x,className:g,offset:p,mobileOffset:y,theme:w="light",richColors:E,duration:N,style:A,visibleToasts:_=b2,toastOptions:D,dir:T=rg(),gap:U=N2,icons:K,containerAriaLabel:$="Notifications"}=r,[I,V]=Ee.useState([]),oe=Ee.useMemo(()=>o?I.filter(k=>k.toasterId===o):I.filter(k=>!k.toasterId),[I,o]),le=Ee.useMemo(()=>Array.from(new Set([d].concat(oe.filter(k=>k.position).map(k=>k.position)))),[oe,d]),[be,_e]=Ee.useState([]),[Ne,Q]=Ee.useState(!1),[X,ce]=Ee.useState(!1),[j,M]=Ee.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Ee.useRef(null),z=h.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=Ee.useRef(null),P=Ee.useRef(!1),se=Ee.useCallback(k=>{V(J=>{var de;return(de=J.find(q=>q.id===k.id))!=null&&de.delete||ws.dismiss(k.id),J.filter(({id:q})=>q!==k.id)})},[]);return Ee.useEffect(()=>ws.subscribe(k=>{if(k.dismiss){requestAnimationFrame(()=>{V(J=>J.map(de=>de.id===k.id?{...de,delete:!0}:de))});return}setTimeout(()=>{s2.flushSync(()=>{V(J=>{const de=J.findIndex(q=>q.id===k.id);return de!==-1?[...J.slice(0,de),{...J[de],...k},...J.slice(de+1)]:[k,...J]})})})}),[I]),Ee.useEffect(()=>{if(w!=="system"){M(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:J})=>{M(J?"dark":"light")})}catch{k.addListener(({matches:de})=>{try{M(de?"dark":"light")}catch(q){console.error(q)}})}},[w]),Ee.useEffect(()=>{I.length<=1&&Q(!1)},[I]),Ee.useEffect(()=>{const k=J=>{var de;if(h.every(xe=>J[xe]||J.code===xe)){var we;Q(!0),(we=te.current)==null||we.focus()}J.code==="Escape"&&(document.activeElement===te.current||(de=te.current)!=null&&de.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[h]),Ee.useEffect(()=>{if(te.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,P.current=!1)}},[te.current]),Ee.createElement("section",{ref:l,"aria-label":`${$} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},le.map((k,J)=>{var de;const[q,we]=k.split("-");return oe.length?Ee.createElement("ol",{key:k,dir:T==="auto"?rg():T,tabIndex:-1,ref:te,className:g,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":q,"data-x-position":we,style:{"--front-toast-height":`${((de=be[0])==null?void 0:de.height)||0}px`,"--width":`${j2}px`,"--gap":`${U}px`,...A,...k2(p,y)},onBlur:xe=>{P.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(P.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||P.current||(P.current=!0,C.current=xe.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{X||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},oe.filter(xe=>!xe.position&&J===0||xe.position===k).map((xe,ze)=>{var Ie,Me;return Ee.createElement(_2,{key:xe.id,icons:K,index:ze,toast:xe,defaultRichColors:E,duration:(Ie=D?.duration)!=null?Ie:N,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:c,visibleToasts:_,closeButton:(Me=D?.closeButton)!=null?Me:x,interacting:X,position:k,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:se,toasts:oe.filter(at=>at.position==xe.position),heights:be.filter(at=>at.position==xe.position),setHeights:_e,expandByDefault:m,gap:U,expanded:Ne,swipeDirections:r.swipeDirections})})):null}))}),qt=({children:n})=>{const r=Js();return localStorage.getItem("token")?s.jsx(s.Fragment,{children:n}):s.jsx(op,{to:"/login",state:{from:r},replace:!0})};function fp(n,r){return function(){return n.apply(r,arguments)}}const{toString:D2}=Object.prototype,{getPrototypeOf:Vu}=Object,{iterator:Ui,toStringTag:mp}=Symbol,Mi=(n=>r=>{const l=D2.call(r);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),er=n=>(n=n.toLowerCase(),r=>Mi(r)===n),Bi=n=>r=>typeof r===n,{isArray:On}=Array,_n=Bi("undefined");function Wl(n){return n!==null&&!_n(n)&&n.constructor!==null&&!_n(n.constructor)&&js(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const gp=er("ArrayBuffer");function T2(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&gp(n.buffer),r}const R2=Bi("string"),js=Bi("function"),pp=Bi("number"),Kl=n=>n!==null&&typeof n=="object",O2=n=>n===!0||n===!1,Ci=n=>{if(Mi(n)!=="object")return!1;const r=Vu(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(mp in n)&&!(Ui in n)},L2=n=>{if(!Kl(n)||Wl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},U2=er("Date"),M2=er("File"),B2=er("Blob"),z2=er("FileList"),$2=n=>Kl(n)&&js(n.pipe),H2=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||js(n.append)&&((r=Mi(n))==="formdata"||r==="object"&&js(n.toString)&&n.toString()==="[object FormData]"))},F2=er("URLSearchParams"),[I2,P2,q2,Y2]=["ReadableStream","Request","Response","Headers"].map(er),G2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ql(n,r,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let o,c;if(typeof n!="object"&&(n=[n]),On(n))for(o=0,c=n.length;o<c;o++)r.call(null,n[o],o,n);else{if(Wl(n))return;const d=l?Object.getOwnPropertyNames(n):Object.keys(n),h=d.length;let m;for(o=0;o<h;o++)m=d[o],r.call(null,n[m],m,n)}}function xp(n,r){if(Wl(n))return null;r=r.toLowerCase();const l=Object.keys(n);let o=l.length,c;for(;o-- >0;)if(c=l[o],r===c.toLowerCase())return c;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yp=n=>!_n(n)&&n!==ka;function vu(){const{caseless:n,skipUndefined:r}=yp(this)&&this||{},l={},o=(c,d)=>{const h=n&&xp(l,d)||d;Ci(l[h])&&Ci(c)?l[h]=vu(l[h],c):Ci(c)?l[h]=vu({},c):On(c)?l[h]=c.slice():(!r||!_n(c))&&(l[h]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Ql(arguments[c],o);return l}const V2=(n,r,l,{allOwnKeys:o}={})=>(Ql(r,(c,d)=>{l&&js(c)?n[d]=fp(c,l):n[d]=c},{allOwnKeys:o}),n),W2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),K2=(n,r,l,o)=>{n.prototype=Object.create(r.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),l&&Object.assign(n.prototype,l)},Q2=(n,r,l,o)=>{let c,d,h;const m={};if(r=r||{},n==null)return r;do{for(c=Object.getOwnPropertyNames(n),d=c.length;d-- >0;)h=c[d],(!o||o(h,n,r))&&!m[h]&&(r[h]=n[h],m[h]=!0);n=l!==!1&&Vu(n)}while(n&&(!l||l(n,r))&&n!==Object.prototype);return r},X2=(n,r,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=r.length;const o=n.indexOf(r,l);return o!==-1&&o===l},Z2=n=>{if(!n)return null;if(On(n))return n;let r=n.length;if(!pp(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=n[r];return l},J2=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&Vu(Uint8Array)),e1=(n,r)=>{const o=(n&&n[Ui]).call(n);let c;for(;(c=o.next())&&!c.done;){const d=c.value;r.call(n,d[0],d[1])}},t1=(n,r)=>{let l;const o=[];for(;(l=n.exec(r))!==null;)o.push(l);return o},s1=er("HTMLFormElement"),r1=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,c){return o.toUpperCase()+c}),ag=(({hasOwnProperty:n})=>(r,l)=>n.call(r,l))(Object.prototype),a1=er("RegExp"),bp=(n,r)=>{const l=Object.getOwnPropertyDescriptors(n),o={};Ql(l,(c,d)=>{let h;(h=r(c,d,n))!==!1&&(o[d]=h||c)}),Object.defineProperties(n,o)},n1=n=>{bp(n,(r,l)=>{if(js(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=n[l];if(js(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},l1=(n,r)=>{const l={},o=c=>{c.forEach(d=>{l[d]=!0})};return On(n)?o(n):o(String(n).split(r)),l},o1=()=>{},i1=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function c1(n){return!!(n&&js(n.append)&&n[mp]==="FormData"&&n[Ui])}const d1=n=>{const r=new Array(10),l=(o,c)=>{if(Kl(o)){if(r.indexOf(o)>=0)return;if(Wl(o))return o;if(!("toJSON"in o)){r[c]=o;const d=On(o)?[]:{};return Ql(o,(h,m)=>{const x=l(h,c+1);!_n(x)&&(d[m]=x)}),r[c]=void 0,d}}return o};return l(n,0)},u1=er("AsyncFunction"),h1=n=>n&&(Kl(n)||js(n))&&js(n.then)&&js(n.catch),vp=((n,r)=>n?setImmediate:r?((l,o)=>(ka.addEventListener("message",({source:c,data:d})=>{c===ka&&d===l&&o.length&&o.shift()()},!1),c=>{o.push(c),ka.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",js(ka.postMessage)),f1=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||vp,m1=n=>n!=null&&js(n[Ui]),ne={isArray:On,isArrayBuffer:gp,isBuffer:Wl,isFormData:H2,isArrayBufferView:T2,isString:R2,isNumber:pp,isBoolean:O2,isObject:Kl,isPlainObject:Ci,isEmptyObject:L2,isReadableStream:I2,isRequest:P2,isResponse:q2,isHeaders:Y2,isUndefined:_n,isDate:U2,isFile:M2,isBlob:B2,isRegExp:a1,isFunction:js,isStream:$2,isURLSearchParams:F2,isTypedArray:J2,isFileList:z2,forEach:Ql,merge:vu,extend:V2,trim:G2,stripBOM:W2,inherits:K2,toFlatObject:Q2,kindOf:Mi,kindOfTest:er,endsWith:X2,toArray:Z2,forEachEntry:e1,matchAll:t1,isHTMLForm:s1,hasOwnProperty:ag,hasOwnProp:ag,reduceDescriptors:bp,freezeMethods:n1,toObjectSet:l1,toCamelCase:r1,noop:o1,toFiniteNumber:i1,findKey:xp,global:ka,isContextDefined:yp,isSpecCompliantForm:c1,toJSONObject:d1,isAsyncFn:u1,isThenable:h1,setImmediate:vp,asap:f1,isIterable:m1};function tt(n,r,l,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}ne.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const wp=tt.prototype,jp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{jp[n]={value:n}});Object.defineProperties(tt,jp);Object.defineProperty(wp,"isAxiosError",{value:!0});tt.from=(n,r,l,o,c,d)=>{const h=Object.create(wp);ne.toFlatObject(n,h,function(p){return p!==Error.prototype},g=>g!=="isAxiosError");const m=n&&n.message?n.message:"Error",x=r==null&&n?n.code:r;return tt.call(h,m,x,l,o,c),n&&h.cause==null&&Object.defineProperty(h,"cause",{value:n,configurable:!0}),h.name=n&&n.name||"Error",d&&Object.assign(h,d),h};const g1=null;function wu(n){return ne.isPlainObject(n)||ne.isArray(n)}function Np(n){return ne.endsWith(n,"[]")?n.slice(0,-2):n}function ng(n,r,l){return n?n.concat(r).map(function(c,d){return c=Np(c),!l&&d?"["+c+"]":c}).join(l?".":""):r}function p1(n){return ne.isArray(n)&&!n.some(wu)}const x1=ne.toFlatObject(ne,{},null,function(r){return/^is[A-Z]/.test(r)});function zi(n,r,l){if(!ne.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,l=ne.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!ne.isUndefined(_[A])});const o=l.metaTokens,c=l.visitor||p,d=l.dots,h=l.indexes,x=(l.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(r);if(!ne.isFunction(c))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(ne.isDate(N))return N.toISOString();if(ne.isBoolean(N))return N.toString();if(!x&&ne.isBlob(N))throw new tt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(N)||ne.isTypedArray(N)?x&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,A,_){let D=N;if(N&&!_&&typeof N=="object"){if(ne.endsWith(A,"{}"))A=o?A:A.slice(0,-2),N=JSON.stringify(N);else if(ne.isArray(N)&&p1(N)||(ne.isFileList(N)||ne.endsWith(A,"[]"))&&(D=ne.toArray(N)))return A=Np(A),D.forEach(function(U,K){!(ne.isUndefined(U)||U===null)&&r.append(h===!0?ng([A],K,d):h===null?A:A+"[]",g(U))}),!1}return wu(N)?!0:(r.append(ng(_,A,d),g(N)),!1)}const y=[],w=Object.assign(x1,{defaultVisitor:p,convertValue:g,isVisitable:wu});function E(N,A){if(!ne.isUndefined(N)){if(y.indexOf(N)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(N),ne.forEach(N,function(D,T){(!(ne.isUndefined(D)||D===null)&&c.call(r,D,ne.isString(T)?T.trim():T,A,w))===!0&&E(D,A?A.concat(T):[T])}),y.pop()}}if(!ne.isObject(n))throw new TypeError("data must be an object");return E(n),r}function lg(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function Wu(n,r){this._pairs=[],n&&zi(n,this,r)}const Sp=Wu.prototype;Sp.append=function(r,l){this._pairs.push([r,l])};Sp.toString=function(r){const l=r?function(o){return r.call(this,o,lg)}:lg;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function y1(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Cp(n,r,l){if(!r)return n;const o=l&&l.encode||y1;ne.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let d;if(c?d=c(r,l):d=ne.isURLSearchParams(r)?r.toString():new Wu(r,l).toString(o),d){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+d}return n}class og{constructor(){this.handlers=[]}use(r,l,o){return this.handlers.push({fulfilled:r,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ne.forEach(this.handlers,function(o){o!==null&&r(o)})}}const Ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b1=typeof URLSearchParams<"u"?URLSearchParams:Wu,v1=typeof FormData<"u"?FormData:null,w1=typeof Blob<"u"?Blob:null,j1={isBrowser:!0,classes:{URLSearchParams:b1,FormData:v1,Blob:w1},protocols:["http","https","file","blob","url","data"]},Ku=typeof window<"u"&&typeof document<"u",ju=typeof navigator=="object"&&navigator||void 0,N1=Ku&&(!ju||["ReactNative","NativeScript","NS"].indexOf(ju.product)<0),S1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",C1=Ku&&window.location.href||"http://localhost",E1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ku,hasStandardBrowserEnv:N1,hasStandardBrowserWebWorkerEnv:S1,navigator:ju,origin:C1},Symbol.toStringTag,{value:"Module"})),hs={...E1,...j1};function _1(n,r){return zi(n,new hs.classes.URLSearchParams,{visitor:function(l,o,c,d){return hs.isNode&&ne.isBuffer(l)?(this.append(o,l.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...r})}function k1(n){return ne.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function A1(n){const r={},l=Object.keys(n);let o;const c=l.length;let d;for(o=0;o<c;o++)d=l[o],r[d]=n[d];return r}function _p(n){function r(l,o,c,d){let h=l[d++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),x=d>=l.length;return h=!h&&ne.isArray(c)?c.length:h,x?(ne.hasOwnProp(c,h)?c[h]=[c[h],o]:c[h]=o,!m):((!c[h]||!ne.isObject(c[h]))&&(c[h]=[]),r(l,o,c[h],d)&&ne.isArray(c[h])&&(c[h]=A1(c[h])),!m)}if(ne.isFormData(n)&&ne.isFunction(n.entries)){const l={};return ne.forEachEntry(n,(o,c)=>{r(k1(o),c,l,0)}),l}return null}function D1(n,r,l){if(ne.isString(n))try{return(r||JSON.parse)(n),ne.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(n)}const Xl={transitional:Ep,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const o=l.getContentType()||"",c=o.indexOf("application/json")>-1,d=ne.isObject(r);if(d&&ne.isHTMLForm(r)&&(r=new FormData(r)),ne.isFormData(r))return c?JSON.stringify(_p(r)):r;if(ne.isArrayBuffer(r)||ne.isBuffer(r)||ne.isStream(r)||ne.isFile(r)||ne.isBlob(r)||ne.isReadableStream(r))return r;if(ne.isArrayBufferView(r))return r.buffer;if(ne.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let m;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return _1(r,this.formSerializer).toString();if((m=ne.isFileList(r))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return zi(m?{"files[]":r}:r,x&&new x,this.formSerializer)}}return d||c?(l.setContentType("application/json",!1),D1(r)):r}],transformResponse:[function(r){const l=this.transitional||Xl.transitional,o=l&&l.forcedJSONParsing,c=this.responseType==="json";if(ne.isResponse(r)||ne.isReadableStream(r))return r;if(r&&ne.isString(r)&&(o&&!this.responseType||c)){const h=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(r,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?tt.from(m,tt.ERR_BAD_RESPONSE,this,null,this.response):m}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],n=>{Xl.headers[n]={}});const T1=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),R1=n=>{const r={};let l,o,c;return n&&n.split(`
`).forEach(function(h){c=h.indexOf(":"),l=h.substring(0,c).trim().toLowerCase(),o=h.substring(c+1).trim(),!(!l||r[l]&&T1[l])&&(l==="set-cookie"?r[l]?r[l].push(o):r[l]=[o]:r[l]=r[l]?r[l]+", "+o:o)}),r},ig=Symbol("internals");function Ol(n){return n&&String(n).trim().toLowerCase()}function Ei(n){return n===!1||n==null?n:ne.isArray(n)?n.map(Ei):String(n)}function O1(n){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(n);)r[o[1]]=o[2];return r}const L1=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function au(n,r,l,o,c){if(ne.isFunction(o))return o.call(this,r,l);if(c&&(r=l),!!ne.isString(r)){if(ne.isString(o))return r.indexOf(o)!==-1;if(ne.isRegExp(o))return o.test(r)}}function U1(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,o)=>l.toUpperCase()+o)}function M1(n,r){const l=ne.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+l,{value:function(c,d,h){return this[o].call(this,r,c,d,h)},configurable:!0})})}let Ns=class{constructor(r){r&&this.set(r)}set(r,l,o){const c=this;function d(m,x,g){const p=Ol(x);if(!p)throw new Error("header name must be a non-empty string");const y=ne.findKey(c,p);(!y||c[y]===void 0||g===!0||g===void 0&&c[y]!==!1)&&(c[y||x]=Ei(m))}const h=(m,x)=>ne.forEach(m,(g,p)=>d(g,p,x));if(ne.isPlainObject(r)||r instanceof this.constructor)h(r,l);else if(ne.isString(r)&&(r=r.trim())&&!L1(r))h(R1(r),l);else if(ne.isObject(r)&&ne.isIterable(r)){let m={},x,g;for(const p of r){if(!ne.isArray(p))throw TypeError("Object iterator must return a key-value pair");m[g=p[0]]=(x=m[g])?ne.isArray(x)?[...x,p[1]]:[x,p[1]]:p[1]}h(m,l)}else r!=null&&d(l,r,o);return this}get(r,l){if(r=Ol(r),r){const o=ne.findKey(this,r);if(o){const c=this[o];if(!l)return c;if(l===!0)return O1(c);if(ne.isFunction(l))return l.call(this,c,o);if(ne.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=Ol(r),r){const o=ne.findKey(this,r);return!!(o&&this[o]!==void 0&&(!l||au(this,this[o],o,l)))}return!1}delete(r,l){const o=this;let c=!1;function d(h){if(h=Ol(h),h){const m=ne.findKey(o,h);m&&(!l||au(o,o[m],m,l))&&(delete o[m],c=!0)}}return ne.isArray(r)?r.forEach(d):d(r),c}clear(r){const l=Object.keys(this);let o=l.length,c=!1;for(;o--;){const d=l[o];(!r||au(this,this[d],d,r,!0))&&(delete this[d],c=!0)}return c}normalize(r){const l=this,o={};return ne.forEach(this,(c,d)=>{const h=ne.findKey(o,d);if(h){l[h]=Ei(c),delete l[d];return}const m=r?U1(d):String(d).trim();m!==d&&delete l[d],l[m]=Ei(c),o[m]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return ne.forEach(this,(o,c)=>{o!=null&&o!==!1&&(l[c]=r&&ne.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const o=new this(r);return l.forEach(c=>o.set(c)),o}static accessor(r){const o=(this[ig]=this[ig]={accessors:{}}).accessors,c=this.prototype;function d(h){const m=Ol(h);o[m]||(M1(c,h),o[m]=!0)}return ne.isArray(r)?r.forEach(d):d(r),this}};Ns.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Ns.prototype,({value:n},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(o){this[l]=o}}});ne.freezeMethods(Ns);function nu(n,r){const l=this||Xl,o=r||l,c=Ns.from(o.headers);let d=o.data;return ne.forEach(n,function(m){d=m.call(l,d,c.normalize(),r?r.status:void 0)}),c.normalize(),d}function kp(n){return!!(n&&n.__CANCEL__)}function Ln(n,r,l){tt.call(this,n??"canceled",tt.ERR_CANCELED,r,l),this.name="CanceledError"}ne.inherits(Ln,tt,{__CANCEL__:!0});function Ap(n,r,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?n(l):r(new tt("Request failed with status code "+l.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function B1(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function z1(n,r){n=n||10;const l=new Array(n),o=new Array(n);let c=0,d=0,h;return r=r!==void 0?r:1e3,function(x){const g=Date.now(),p=o[d];h||(h=g),l[c]=x,o[c]=g;let y=d,w=0;for(;y!==c;)w+=l[y++],y=y%n;if(c=(c+1)%n,c===d&&(d=(d+1)%n),g-h<r)return;const E=p&&g-p;return E?Math.round(w*1e3/E):void 0}}function $1(n,r){let l=0,o=1e3/r,c,d;const h=(g,p=Date.now())=>{l=p,c=null,d&&(clearTimeout(d),d=null),n(...g)};return[(...g)=>{const p=Date.now(),y=p-l;y>=o?h(g,p):(c=g,d||(d=setTimeout(()=>{d=null,h(c)},o-y)))},()=>c&&h(c)]}const Ai=(n,r,l=3)=>{let o=0;const c=z1(50,250);return $1(d=>{const h=d.loaded,m=d.lengthComputable?d.total:void 0,x=h-o,g=c(x),p=h<=m;o=h;const y={loaded:h,total:m,progress:m?h/m:void 0,bytes:x,rate:g||void 0,estimated:g&&m&&p?(m-h)/g:void 0,event:d,lengthComputable:m!=null,[r?"download":"upload"]:!0};n(y)},l)},cg=(n,r)=>{const l=n!=null;return[o=>r[0]({lengthComputable:l,total:n,loaded:o}),r[1]]},dg=n=>(...r)=>ne.asap(()=>n(...r)),H1=hs.hasStandardBrowserEnv?((n,r)=>l=>(l=new URL(l,hs.origin),n.protocol===l.protocol&&n.host===l.host&&(r||n.port===l.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,F1=hs.hasStandardBrowserEnv?{write(n,r,l,o,c,d){const h=[n+"="+encodeURIComponent(r)];ne.isNumber(l)&&h.push("expires="+new Date(l).toGMTString()),ne.isString(o)&&h.push("path="+o),ne.isString(c)&&h.push("domain="+c),d===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function I1(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function P1(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function Dp(n,r,l){let o=!I1(r);return n&&(o||l==!1)?P1(n,r):r}const ug=n=>n instanceof Ns?{...n}:n;function Da(n,r){r=r||{};const l={};function o(g,p,y,w){return ne.isPlainObject(g)&&ne.isPlainObject(p)?ne.merge.call({caseless:w},g,p):ne.isPlainObject(p)?ne.merge({},p):ne.isArray(p)?p.slice():p}function c(g,p,y,w){if(ne.isUndefined(p)){if(!ne.isUndefined(g))return o(void 0,g,y,w)}else return o(g,p,y,w)}function d(g,p){if(!ne.isUndefined(p))return o(void 0,p)}function h(g,p){if(ne.isUndefined(p)){if(!ne.isUndefined(g))return o(void 0,g)}else return o(void 0,p)}function m(g,p,y){if(y in r)return o(g,p);if(y in n)return o(void 0,g)}const x={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,p,y)=>c(ug(g),ug(p),y,!0)};return ne.forEach(Object.keys({...n,...r}),function(p){const y=x[p]||c,w=y(n[p],r[p],p);ne.isUndefined(w)&&y!==m||(l[p]=w)}),l}const Tp=n=>{const r=Da({},n);let{data:l,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:d,headers:h,auth:m}=r;if(r.headers=h=Ns.from(h),r.url=Cp(Dp(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),ne.isFormData(l)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(ne.isFunction(l.getHeaders)){const x=l.getHeaders(),g=["content-type","content-length"];Object.entries(x).forEach(([p,y])=>{g.includes(p.toLowerCase())&&h.set(p,y)})}}if(hs.hasStandardBrowserEnv&&(o&&ne.isFunction(o)&&(o=o(r)),o||o!==!1&&H1(r.url))){const x=c&&d&&F1.read(d);x&&h.set(c,x)}return r},q1=typeof XMLHttpRequest<"u",Y1=q1&&function(n){return new Promise(function(l,o){const c=Tp(n);let d=c.data;const h=Ns.from(c.headers).normalize();let{responseType:m,onUploadProgress:x,onDownloadProgress:g}=c,p,y,w,E,N;function A(){E&&E(),N&&N(),c.cancelToken&&c.cancelToken.unsubscribe(p),c.signal&&c.signal.removeEventListener("abort",p)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function D(){if(!_)return;const U=Ns.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),$={data:!m||m==="text"||m==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:U,config:n,request:_};Ap(function(V){l(V),A()},function(V){o(V),A()},$),_=null}"onloadend"in _?_.onloadend=D:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(D)},_.onabort=function(){_&&(o(new tt("Request aborted",tt.ECONNABORTED,n,_)),_=null)},_.onerror=function(K){const $=K&&K.message?K.message:"Network Error",I=new tt($,tt.ERR_NETWORK,n,_);I.event=K||null,o(I),_=null},_.ontimeout=function(){let K=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const $=c.transitional||Ep;c.timeoutErrorMessage&&(K=c.timeoutErrorMessage),o(new tt(K,$.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,n,_)),_=null},d===void 0&&h.setContentType(null),"setRequestHeader"in _&&ne.forEach(h.toJSON(),function(K,$){_.setRequestHeader($,K)}),ne.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),m&&m!=="json"&&(_.responseType=c.responseType),g&&([w,N]=Ai(g,!0),_.addEventListener("progress",w)),x&&_.upload&&([y,E]=Ai(x),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",E)),(c.cancelToken||c.signal)&&(p=U=>{_&&(o(!U||U.type?new Ln(null,n,_):U),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(p),c.signal&&(c.signal.aborted?p():c.signal.addEventListener("abort",p)));const T=B1(c.url);if(T&&hs.protocols.indexOf(T)===-1){o(new tt("Unsupported protocol "+T+":",tt.ERR_BAD_REQUEST,n));return}_.send(d||null)})},G1=(n,r)=>{const{length:l}=n=n?n.filter(Boolean):[];if(r||l){let o=new AbortController,c;const d=function(g){if(!c){c=!0,m();const p=g instanceof Error?g:this.reason;o.abort(p instanceof tt?p:new Ln(p instanceof Error?p.message:p))}};let h=r&&setTimeout(()=>{h=null,d(new tt(`timeout ${r} of ms exceeded`,tt.ETIMEDOUT))},r);const m=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),n=null)};n.forEach(g=>g.addEventListener("abort",d));const{signal:x}=o;return x.unsubscribe=()=>ne.asap(m),x}},V1=function*(n,r){let l=n.byteLength;if(l<r){yield n;return}let o=0,c;for(;o<l;)c=o+r,yield n.slice(o,c),o=c},W1=async function*(n,r){for await(const l of K1(n))yield*V1(l,r)},K1=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:l,value:o}=await r.read();if(l)break;yield o}}finally{await r.cancel()}},hg=(n,r,l,o)=>{const c=W1(n,r);let d=0,h,m=x=>{h||(h=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:g,value:p}=await c.next();if(g){m(),x.close();return}let y=p.byteLength;if(l){let w=d+=y;l(w)}x.enqueue(new Uint8Array(p))}catch(g){throw m(g),g}},cancel(x){return m(x),c.return()}},{highWaterMark:2})},fg=64*1024,{isFunction:pi}=ne,Rp=(({fetch:n,Request:r,Response:l})=>({fetch:n,Request:r,Response:l}))(ne.global),{ReadableStream:mg,TextEncoder:gg}=ne.global,pg=(n,...r)=>{try{return!!n(...r)}catch{return!1}},Q1=n=>{const{fetch:r,Request:l,Response:o}=Object.assign({},Rp,n),c=pi(r),d=pi(l),h=pi(o);if(!c)return!1;const m=c&&pi(mg),x=c&&(typeof gg=="function"?(N=>A=>N.encode(A))(new gg):async N=>new Uint8Array(await new l(N).arrayBuffer())),g=d&&m&&pg(()=>{let N=!1;const A=new l(hs.origin,{body:new mg,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!A}),p=h&&m&&pg(()=>ne.isReadableStream(new o("").body)),y={stream:p&&(N=>N.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!y[N]&&(y[N]=(A,_)=>{let D=A&&A[N];if(D)return D.call(A);throw new tt(`Response type '${N}' is not supported`,tt.ERR_NOT_SUPPORT,_)})});const w=async N=>{if(N==null)return 0;if(ne.isBlob(N))return N.size;if(ne.isSpecCompliantForm(N))return(await new l(hs.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(N)||ne.isArrayBuffer(N))return N.byteLength;if(ne.isURLSearchParams(N)&&(N=N+""),ne.isString(N))return(await x(N)).byteLength},E=async(N,A)=>{const _=ne.toFiniteNumber(N.getContentLength());return _??w(A)};return async N=>{let{url:A,method:_,data:D,signal:T,cancelToken:U,timeout:K,onDownloadProgress:$,onUploadProgress:I,responseType:V,headers:oe,withCredentials:le="same-origin",fetchOptions:be}=Tp(N);V=V?(V+"").toLowerCase():"text";let _e=G1([T,U&&U.toAbortSignal()],K),Ne=null;const Q=_e&&_e.unsubscribe&&(()=>{_e.unsubscribe()});let X;try{if(I&&g&&_!=="get"&&_!=="head"&&(X=await E(oe,D))!==0){let C=new l(A,{method:"POST",body:D,duplex:"half"}),P;if(ne.isFormData(D)&&(P=C.headers.get("content-type"))&&oe.setContentType(P),C.body){const[se,k]=cg(X,Ai(dg(I)));D=hg(C.body,fg,se,k)}}ne.isString(le)||(le=le?"include":"omit");const ce=d&&"credentials"in l.prototype,j={...be,signal:_e,method:_.toUpperCase(),headers:oe.normalize().toJSON(),body:D,duplex:"half",credentials:ce?le:void 0};Ne=d&&new l(A,j);let M=await(d?r(Ne,be):r(A,j));const te=p&&(V==="stream"||V==="response");if(p&&($||te&&Q)){const C={};["status","statusText","headers"].forEach(J=>{C[J]=M[J]});const P=ne.toFiniteNumber(M.headers.get("content-length")),[se,k]=$&&cg(P,Ai(dg($),!0))||[];M=new o(hg(M.body,fg,se,()=>{k&&k(),Q&&Q()}),C)}V=V||"text";let z=await y[ne.findKey(y,V)||"text"](M,N);return!te&&Q&&Q(),await new Promise((C,P)=>{Ap(C,P,{data:z,headers:Ns.from(M.headers),status:M.status,statusText:M.statusText,config:N,request:Ne})})}catch(ce){throw Q&&Q(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,N,Ne),{cause:ce.cause||ce}):tt.from(ce,ce&&ce.code,N,Ne)}}},X1=new Map,Op=n=>{let r=ne.merge.call({skipUndefined:!0},Rp,n?n.env:null);const{fetch:l,Request:o,Response:c}=r,d=[o,c,l];let h=d.length,m=h,x,g,p=X1;for(;m--;)x=d[m],g=p.get(x),g===void 0&&p.set(x,g=m?new Map:Q1(r)),p=g;return g};Op();const Nu={http:g1,xhr:Y1,fetch:{get:Op}};ne.forEach(Nu,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const xg=n=>`- ${n}`,Z1=n=>ne.isFunction(n)||n===null||n===!1,Lp={getAdapter:(n,r)=>{n=ne.isArray(n)?n:[n];const{length:l}=n;let o,c;const d={};for(let h=0;h<l;h++){o=n[h];let m;if(c=o,!Z1(o)&&(c=Nu[(m=String(o)).toLowerCase()],c===void 0))throw new tt(`Unknown adapter '${m}'`);if(c&&(ne.isFunction(c)||(c=c.get(r))))break;d[m||"#"+h]=c}if(!c){const h=Object.entries(d).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=l?h.length>1?`since :
`+h.map(xg).join(`
`):" "+xg(h[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c},adapters:Nu};function lu(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ln(null,n)}function yg(n){return lu(n),n.headers=Ns.from(n.headers),n.data=nu.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Lp.getAdapter(n.adapter||Xl.adapter,n)(n).then(function(o){return lu(n),o.data=nu.call(n,n.transformResponse,o),o.headers=Ns.from(o.headers),o},function(o){return kp(o)||(lu(n),o&&o.response&&(o.response.data=nu.call(n,n.transformResponse,o.response),o.response.headers=Ns.from(o.response.headers))),Promise.reject(o)})}const Up="1.12.1",$i={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{$i[n]=function(o){return typeof o===n||"a"+(r<1?"n ":" ")+n}});const bg={};$i.transitional=function(r,l,o){function c(d,h){return"[Axios v"+Up+"] Transitional option '"+d+"'"+h+(o?". "+o:"")}return(d,h,m)=>{if(r===!1)throw new tt(c(h," has been removed"+(l?" in "+l:"")),tt.ERR_DEPRECATED);return l&&!bg[h]&&(bg[h]=!0,console.warn(c(h," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(d,h,m):!0}};$i.spelling=function(r){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function J1(n,r,l){if(typeof n!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let c=o.length;for(;c-- >0;){const d=o[c],h=r[d];if(h){const m=n[d],x=m===void 0||h(m,d,n);if(x!==!0)throw new tt("option "+d+" must be "+x,tt.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new tt("Unknown option "+d,tt.ERR_BAD_OPTION)}}const _i={assertOptions:J1,validators:$i},ir=_i.validators;let Aa=class{constructor(r){this.defaults=r||{},this.interceptors={request:new og,response:new og}}async request(r,l){try{return await this._request(r,l)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=Da(this.defaults,l);const{transitional:o,paramsSerializer:c,headers:d}=l;o!==void 0&&_i.assertOptions(o,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),c!=null&&(ne.isFunction(c)?l.paramsSerializer={serialize:c}:_i.assertOptions(c,{encode:ir.function,serialize:ir.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),_i.assertOptions(l,{baseUrl:ir.spelling("baseURL"),withXsrfToken:ir.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let h=d&&ne.merge(d.common,d[l.method]);d&&ne.forEach(["delete","get","head","post","put","patch","common"],N=>{delete d[N]}),l.headers=Ns.concat(h,d);const m=[];let x=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(l)===!1||(x=x&&A.synchronous,m.unshift(A.fulfilled,A.rejected))});const g=[];this.interceptors.response.forEach(function(A){g.push(A.fulfilled,A.rejected)});let p,y=0,w;if(!x){const N=[yg.bind(this),void 0];for(N.unshift(...m),N.push(...g),w=N.length,p=Promise.resolve(l);y<w;)p=p.then(N[y++],N[y++]);return p}w=m.length;let E=l;for(y=0;y<w;){const N=m[y++],A=m[y++];try{E=N(E)}catch(_){A.call(this,_);break}}try{p=yg.call(this,E)}catch(N){return Promise.reject(N)}for(y=0,w=g.length;y<w;)p=p.then(g[y++],g[y++]);return p}getUri(r){r=Da(this.defaults,r);const l=Dp(r.baseURL,r.url,r.allowAbsoluteUrls);return Cp(l,r.params,r.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(r){Aa.prototype[r]=function(l,o){return this.request(Da(o||{},{method:r,url:l,data:(o||{}).data}))}});ne.forEach(["post","put","patch"],function(r){function l(o){return function(d,h,m){return this.request(Da(m||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Aa.prototype[r]=l(),Aa.prototype[r+"Form"]=l(!0)});let ew=class Mp{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(d){l=d});const o=this;this.promise.then(c=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](c);o._listeners=null}),this.promise.then=c=>{let d;const h=new Promise(m=>{o.subscribe(m),d=m}).then(c);return h.cancel=function(){o.unsubscribe(d)},h},r(function(d,h,m){o.reason||(o.reason=new Ln(d,h,m),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=o=>{r.abort(o)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new Mp(function(c){r=c}),cancel:r}}};function tw(n){return function(l){return n.apply(null,l)}}function sw(n){return ne.isObject(n)&&n.isAxiosError===!0}const Su={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Su).forEach(([n,r])=>{Su[r]=n});function Bp(n){const r=new Aa(n),l=fp(Aa.prototype.request,r);return ne.extend(l,Aa.prototype,r,{allOwnKeys:!0}),ne.extend(l,r,null,{allOwnKeys:!0}),l.create=function(c){return Bp(Da(n,c))},l}const Ae=Bp(Xl);Ae.Axios=Aa;Ae.CanceledError=Ln;Ae.CancelToken=ew;Ae.isCancel=kp;Ae.VERSION=Up;Ae.toFormData=zi;Ae.AxiosError=tt;Ae.Cancel=Ae.CanceledError;Ae.all=function(r){return Promise.all(r)};Ae.spread=tw;Ae.isAxiosError=sw;Ae.mergeConfig=Da;Ae.AxiosHeaders=Ns;Ae.formToJSON=n=>_p(ne.isHTMLForm(n)?new FormData(n):n);Ae.getAdapter=Lp.getAdapter;Ae.HttpStatusCode=Su;Ae.default=Ae;const{Axios:DS,AxiosError:TS,CanceledError:RS,isCancel:OS,CancelToken:LS,VERSION:US,all:MS,Cancel:BS,isAxiosError:zS,spread:$S,toFormData:HS,AxiosHeaders:FS,HttpStatusCode:IS,formToJSON:PS,getAdapter:qS,mergeConfig:YS}=Ae,is="http://localhost:1000",rw=async(n,r)=>{try{return(await Ae.post(`${is}/api/v1/users/register`,{email:n,role:r})).data}catch(l){throw new Error(l.response.data.message)}},aw=async n=>{try{return(await Ae.post(`${is}/api/v1/users/get-userid-by-email`,{email:n})).data}catch(r){throw new Error(r.response.data.message)}},nw=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ae.delete(`${is}/api/v1/users/delete-account/${r}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},lw=async(n,r,l,o,c,d,h,m)=>{try{const x=localStorage.getItem("token"),g=localStorage.getItem("userId");if(!x)throw new Error("Authentication token not found. Please login again.");if(!g)throw new Error("User ID not found. Please login again.");return(await Ae.patch(`${is}/api/v1/users/teacher-profile/${g}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,yearsOfExperience:d,phone:h,phone_e164:m},{headers:{Authorization:`Bearer ${x}`}})).data}catch(x){throw console.error("Teacher profile API error:",x),x.response?.data?.message?new Error(x.response.data.message):x.message?new Error(x.message):new Error("Failed to create teacher profile. Please try again.")}},ow=async(n,r,l,o,c,d,h,m)=>{try{const x=localStorage.getItem("token"),g=localStorage.getItem("userId");if(!x)throw new Error("Authentication token not found. Please login again.");if(!g)throw new Error("User ID not found. Please login again.");return(await Ae.patch(`${is}/api/v1/users/student-profile/${g}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,grade:d,phone:h,phone_e164:m},{headers:{Authorization:`Bearer ${x}`}})).data}catch(x){throw console.error("Student profile API error:",x),x.response?.data?.message?new Error(x.response.data.message):x.message?new Error(x.message):new Error("Failed to create student profile. Please try again.")}},Ta=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ae.get(`${is}/api/v1/users/user-profile/${r}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},iw=async(n,r,l,o,c,d,h,m,x,g,p)=>{try{const y=localStorage.getItem("token"),w=localStorage.getItem("userId");return(await Ae.patch(`${is}/api/v1/users/student-profile-update/${w}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,grade:d,yearsOfExperience:h,phone:m,email:x,avatar:g,phone_e164:p},{headers:{Authorization:`Bearer ${y}`}})).data}catch(y){throw new Error(y.response.data.message)}},cw=async(n,r,l,o,c,d,h,m,x,g)=>{try{const p=localStorage.getItem("token"),y=localStorage.getItem("userId");return(await Ae.patch(`${is}/api/v1/users/teacher-profile-update/${y}`,{fullname:n,username:r,birthday:l,gender:o,school_id:c,yearsOfExperience:d,phone:h,email:m,avatar:x,phone_e164:g},{headers:{Authorization:`Bearer ${p}`}})).data}catch(p){throw new Error(p.response.data.message)}},dw=async n=>{try{const r=localStorage.getItem("token"),l=localStorage.getItem("userId"),o=new FormData;return o.append("avatar",n),(await Ae.post(`${is}/api/v1/users/upload-avatar/${l}`,o,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},uw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${is}/api/v1/users/all-users`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},vg=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${is}/api/v1/users/update-user-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},zp=async(n,r,l,o,c,d,h,m,x,g,p)=>{try{const y=localStorage.getItem("token"),w=localStorage.getItem("userId");return(await Ae.patch(`${is}/api/v1/users/teacher-profile-and-custom-locality/${w}`,{fullname:n,username:r,birthday:l,gender:o,custom_locality_name:c,custom_school_name:d,yearsOfExperience:h,phone:m,email:x,avatar:g,phone_e164:p},{headers:{Authorization:`Bearer ${y}`}})).data}catch(y){throw new Error(y.response.data.message)}},hw=async(n,r,l,o,c,d,h,m,x)=>{try{const g=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ae.patch(`${is}/api/v1/users/teacher-profile-custom-school-name/${p}`,{fullname:n,username:r,birthday:l,gender:o,locality:c,custom_school_name:d,yearsOfExperience:h,phone:m,phone_e164:x},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},$p=async(n,r,l,o,c,d,h,m,x)=>{try{const g=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ae.patch(`${is}/api/v1/users/student-profile-and-custom-locality/${p}`,{fullname:n,username:r,birthday:l,gender:o,custom_locality_name:c,custom_school_name:d,grade:h,phone:m,phone_e164:x},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},fw=async(n,r,l,o,c,d,h,m,x)=>{try{const g=localStorage.getItem("token"),p=localStorage.getItem("userId");return(await Ae.patch(`${is}/api/v1/users/student-profile-custom-school-name/${p}`,{fullname:n,username:r,birthday:l,gender:o,locality:c,custom_school_name:d,grade:h,phone:m,phone_e164:x},{headers:{Authorization:`Bearer ${g}`}})).data}catch(g){throw new Error(g.response.data.message)}},mw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${is}/api/v1/users/send-superuser-invite`,{userame:n,email:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},gw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${is}/api/v1/users/remove-superuser-invite`,{username:n,email:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},na="http://localhost:1000",pw=async n=>{try{const r=localStorage.getItem("token"),l=new FormData;return l.append("file",n),(await Ae.post(`${na}/api/v1/organisers/organiser-approval-edvince-upload`,l,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},xw=async(n,r,l,o)=>{try{const c=localStorage.getItem("token"),d=localStorage.getItem("userId");return(await Ae.post(`${na}/api/v1/organisers/organiser-approval-request/${d}`,{school_id:n,locality_id:r,role:l,evidenceDocs:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response.data.message)}},yw=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("userId");return(await Ae.get(`${na}/api/v1/organisers/verify-organiser/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},bw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${na}/api/v1/organisers/all-organisers`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},vw=async(n,r)=>{try{const l=localStorage.getItem("token"),o=localStorage.getItem("userId");return(await Ae.patch(`${na}/api/v1/organisers/update-organiser-status/${n}`,{status:r,userId:o},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},ww=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${na}/api/v1/organisers/delete-organiser/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},jw=async(n,r,l,o,c,d,h)=>{try{const m=localStorage.getItem("token");return(await Ae.post(`${na}/api/v1/organisers/add-organiser-by-super-user`,{user_id:n,school_id:r,locality_id:l,role:o,evidence:c,status:d,actioned_by_user_id:h},{headers:{Authorization:`Bearer ${m}`}})).data}catch(m){throw new Error(m.response.data.message)}},Nw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.post(`${na}/api/v1/organisers/assign-organiser-to-school`,{userId:n},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Qu="http://localhost:1000",Sw=async()=>{try{const n=localStorage.getItem("token");if(!n)throw new Error("Authentication token not found. Please login again.");return(await Ae.get(`${Qu}/api/v1/localities/all-localities`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Get localities API error:",n),n.response?.data?.message?new Error(n.response.data.message):n.message?new Error(n.message):new Error("Failed to load localities. Please try again.")}},Cw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.post(`${Qu}/api/v1/localities/merge-localities`,{primaryLocalityId:n,secondaryLocalityId:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Ew=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Qu}/api/v1/localities/delete-locality/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Un="http://localhost:1000",_w=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Un}/api/v1/schools/all-schools`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Get schools API error:",n),n.response?.data?.message?new Error(n.response.data.message):n.message?new Error(n.message):new Error("Failed to load schools. Please try again.")}},kw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${Un}/api/v1/schools/update-school-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Aw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Un}/api/v1/schools/delete-school/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Dw=async(n,r,l,o,c)=>{try{const d=localStorage.getItem("token");return(await Ae.patch(`${Un}/api/v1/schools/update-school/${n}`,{code:r,name:l,locality_id:o,area_id:c},{headers:{Authorization:`Bearer ${d}`}})).data}catch(d){throw new Error(d.response.data.message)}},Tw=async(n,r,l,o)=>{try{const c=localStorage.getItem("token");return(await Ae.post(`${Un}/api/v1/schools/create-school`,{code:n,name:r,locality_id:l,area_id:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response.data.message)}},Rw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.post(`${Un}/api/v1/schools/merge-schools`,{primarySchoolId:n,secondarySchoolId:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Xu="http://localhost:1000",Ow=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Xu}/api/v1/areas/all-areas`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Get areas API error:",n),new Error(n.response.data.message)}},Lw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${Xu}/api/v1/areas/update-area-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Uw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Xu}/api/v1/areas/delete-area/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Dr="http://localhost:1000",Hp=async n=>{try{const r=localStorage.getItem("token"),l=new FormData;return l.append("file",n),(await Ae.post(`${Dr}/api/v1/events/create-event-images-upload`,l,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(r.response.data.message)}},Mw=async(n,r,l,o,c,d,h,m,x,g,p,y,w,E,N)=>{try{const A=localStorage.getItem("token"),_=localStorage.getItem("organiserId");return(await Ae.post(`${Dr}/api/v1/events/create-event/${_}`,{name:n,description:r,start_date:l,end_date:o,cover_image:c,logo_image:d,locality_id:h,school_id:m,area_id:x,number_of_seats:g,fees_per_delegate:p,total_revenue:y,website:w,instagram:E,organiser_id:N},{headers:{Authorization:`Bearer ${A}`}})).data}catch(A){throw new Error(A.response.data.message)}},Fp=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Dr}/api/v1/events/get-events`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},Ip=async()=>{try{const n=localStorage.getItem("token"),r=localStorage.getItem("organiserId");return(await Ae.get(`${Dr}/api/v1/events/get-events-of-organiser/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},Pp=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${Dr}/api/v1/events/get-event-by-id/${n}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Bw=async(n,r,l,o,c,d,h,m,x,g,p,y,w,E)=>{try{const N=localStorage.getItem("token");return(await Ae.patch(`${Dr}/api/v1/events/update-event/${n}`,{name:r,description:l,start_date:o,end_date:c,cover_image:d,locality_id:h,school_id:m,area_id:x,number_of_seats:g,fees_per_delegate:p,total_revenue:y,website:w,instagram:E},{headers:{Authorization:`Bearer ${N}`}})).data}catch(N){throw new Error(N.response.data.message)}},zw=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Dr}/api/v1/events/all-events`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response.data.message)}},$w=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${Dr}/api/v1/events/update-event-status/${n}`,{status:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response.data.message)}},Hw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Dr}/api/v1/events/delete-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},Hi="http://localhost:1000",wg=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Hi}/api/v1/leadership-roles/all-leadership-roles`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response?.data?.message||"Failed to fetch leadership roles")}},Fw=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.post(`${Hi}/api/v1/leadership-roles/add-leadership-role`,{abbr:n,leadership_role:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to create leadership role")}},Iw=async(n,r,l)=>{try{const o=localStorage.getItem("token");return(await Ae.patch(`${Hi}/api/v1/leadership-roles/update-leadership-role/${n}`,{abbr:r,leadership_role:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to update leadership role")}},Pw=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Hi}/api/v1/leadership-roles/delete-leadership-role/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete leadership role")}},qw="modulepreload",Yw=function(n){return"/"+n},jg={},Zl=function(r,l,o){let c=Promise.resolve();if(l&&l.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),x=m?.nonce||m?.getAttribute("nonce");c=g(l.map(p=>{if(p=Yw(p),p in jg)return;jg[p]=!0;const y=p.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":qw,y||(E.as="script"),E.crossOrigin="",E.href=p,x&&E.setAttribute("nonce",x),document.head.appendChild(E),y)return new Promise((N,A)=>{E.addEventListener("load",N),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(m){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=m,window.dispatchEvent(x),!x.defaultPrevented)throw m}return c.then(m=>{for(const x of m||[])x.status==="rejected"&&d(x.reason);return r().catch(d)})},Gw=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...l)=>Zl(async()=>{const{default:o}=await Promise.resolve().then(()=>Mn);return{default:o}},[]).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)};class Zu extends Error{constructor(r,l="FunctionsError",o){super(r),this.name=l,this.context=o}}class Vw extends Zu{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ng extends Zu{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Sg extends Zu{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Cu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Cu||(Cu={}));var Ww=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};class Kw{constructor(r,{headers:l={},customFetch:o,region:c=Cu.Any}={}){this.url=r,this.headers=l,this.region=c,this.fetch=Gw(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,l={}){var o;return Ww(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=l;let m={},{region:x}=l;x||(x=this.region);const g=new URL(`${this.url}/${r}`);x&&x!=="any"&&(m["x-region"]=x,g.searchParams.set("forceFunctionRegion",x));let p;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(m["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(m["Content-Type"]="application/json",p=JSON.stringify(h)));const y=yield this.fetch(g.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:p}).catch(A=>{throw new Vw(A)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new Ng(y);if(!y.ok)throw new Sg(y);let E=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return E==="application/json"?N=yield y.json():E==="application/octet-stream"?N=yield y.blob():E==="text/event-stream"?N=y:E==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(c){return{data:null,error:c,response:c instanceof Sg||c instanceof Ng?c.context:void 0}}})}}var ss={},gn={},pn={},xn={},yn={},bn={},Qw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kn=Qw();const Xw=kn.fetch,qp=kn.fetch.bind(kn),Yp=kn.Headers,Zw=kn.Request,Jw=kn.Response,Mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yp,Request:Zw,Response:Jw,default:qp,fetch:Xw},Symbol.toStringTag,{value:"Module"})),ej=Nb(Mn);var xi={},Cg;function Gp(){if(Cg)return xi;Cg=1,Object.defineProperty(xi,"__esModule",{value:!0});class n extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return xi.default=n,xi}var Eg;function Vp(){if(Eg)return bn;Eg=1;var n=bn&&bn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(bn,"__esModule",{value:!0});const r=n(ej),l=n(Gp());class o{constructor(d){var h,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let x=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,y,w,E;let N=null,A=null,_=null,D=g.status,T=g.statusText;if(g.ok){if(this.method!=="HEAD"){const I=await g.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?A=I:A=JSON.parse(I))}const K=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),$=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");K&&$&&$.length>1&&(_=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(N={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,_=null,D=406,T="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const K=await g.text();try{N=JSON.parse(K),Array.isArray(N)&&g.status===404&&(A=[],N=null,D=200,T="OK")}catch{g.status===404&&K===""?(D=204,T="No Content"):N={message:K}}if(N&&this.isMaybeSingle&&(!((E=N?.details)===null||E===void 0)&&E.includes("0 rows"))&&(N=null,D=200,T="OK"),N&&this.shouldThrowOnError)throw new l.default(N)}return{error:N,data:A,count:_,status:D,statusText:T}});return this.shouldThrowOnError||(x=x.catch(g=>{var p,y,w;return{error:{message:`${(p=g?.name)!==null&&p!==void 0?p:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),x.then(d,h)}returns(){return this}overrideTypes(){return this}}return bn.default=o,bn}var _g;function Wp(){if(_g)return yn;_g=1;var n=yn&&yn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(yn,"__esModule",{value:!0});const r=n(Vp());class l extends r.default{select(c){let d=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:x=m}={}){const g=x?`${x}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:m=h}={}){const x=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(x,`${c}`),this.url.searchParams.set(g,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:x=!1,format:g="text"}={}){var p;const y=[c?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,x?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return yn.default=l,yn}var kg;function Ju(){if(kg)return xn;kg=1;var n=xn&&xn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xn,"__esModule",{value:!0});const r=n(Wp());class l extends r.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:m}={}){let x="";m==="plain"?x="pl":m==="phrase"?x="ph":m==="websearch"&&(x="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${x}fts${g}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return xn.default=l,xn}var Ag;function Kp(){if(Ag)return pn;Ag=1;var n=pn&&pn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(pn,"__esModule",{value:!0});const r=n(Ju());class l{constructor(c,{headers:d={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(c,{head:d=!1,count:h}={}){const m=d?"HEAD":"GET";let x=!1;const g=(c??"*").split("").map(p=>/\s/.test(p)&&!x?"":(p==='"'&&(x=!x),p)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var m;const x="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:x=!0}={}){var g;const p="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),x||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((w,E)=>w.concat(Object.keys(E)),[]);if(y.length>0){const w=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return pn.default=l,pn}var Dg;function tj(){if(Dg)return gn;Dg=1;var n=gn&&gn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(gn,"__esModule",{value:!0});const r=n(Kp()),l=n(Ju());class o{constructor(d,{headers:h={},schema:m,fetch:x}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=x}from(d){const h=new URL(`${this.url}/${d}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:x=!1,count:g}={}){var p;let y;const w=new URL(`${this.url}/rpc/${d}`);let E;m||x?(y=m?"HEAD":"GET",Object.entries(h).filter(([A,_])=>_!==void 0).map(([A,_])=>[A,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([A,_])=>{w.searchParams.append(A,_)})):(y="POST",E=h);const N=new Headers(this.headers);return g&&N.set("Prefer",`count=${g}`),new l.default({method:y,url:w,headers:N,schema:this.schemaName,body:E,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return gn.default=o,gn}var Tg;function sj(){if(Tg)return ss;Tg=1;var n=ss&&ss.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ss,"__esModule",{value:!0}),ss.PostgrestError=ss.PostgrestBuilder=ss.PostgrestTransformBuilder=ss.PostgrestFilterBuilder=ss.PostgrestQueryBuilder=ss.PostgrestClient=void 0;const r=n(tj());ss.PostgrestClient=r.default;const l=n(Kp());ss.PostgrestQueryBuilder=l.default;const o=n(Ju());ss.PostgrestFilterBuilder=o.default;const c=n(Wp());ss.PostgrestTransformBuilder=c.default;const d=n(Vp());ss.PostgrestBuilder=d.default;const h=n(Gp());return ss.PostgrestError=h.default,ss.default={PostgrestClient:r.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},ss}var rj=sj();const aj=zu(rj),{PostgrestClient:nj,PostgrestQueryBuilder:GS,PostgrestFilterBuilder:VS,PostgrestTransformBuilder:WS,PostgrestBuilder:KS,PostgrestError:QS}=aj;class lj{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let l=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(l+=`

Suggested solution: ${r.workaround}`),new Error(l)}static createWebSocket(r,l){const o=this.getWebSocketConstructor();return new o(r,l)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const oj="2.15.5",ij=`realtime-js/${oj}`,cj="1.0.0",Eu=1e4,dj=1e3,uj=100;var Bl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Bl||(Bl={}));var Xt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Xt||(Xt={}));var Ks;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ks||(Ks={}));var _u;(function(n){n.websocket="websocket"})(_u||(_u={}));var _a;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(_a||(_a={}));class hj{constructor(){this.HEADER_LENGTH=1}decode(r,l){return r.constructor===ArrayBuffer?l(this._binaryDecode(r)):l(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const l=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,l,o)}_decodeBroadcast(r,l,o){const c=l.getUint8(1),d=l.getUint8(2);let h=this.HEADER_LENGTH+2;const m=o.decode(r.slice(h,h+c));h=h+c;const x=o.decode(r.slice(h,h+d));h=h+d;const g=JSON.parse(o.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:x,payload:g}}}class Qp{constructor(r,l){this.callback=r,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Et||(Et={}));const Rg=(n,r,l={})=>{var o;const c=(o=l.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,h)=>(d[h]=fj(h,n,r,c),d),{})},fj=(n,r,l,o)=>{const c=r.find(m=>m.name===n),d=c?.type,h=l[n];return d&&!o.includes(d)?Xp(d,h):ku(h)},Xp=(n,r)=>{if(n.charAt(0)==="_"){const l=n.slice(1,n.length);return xj(r,l)}switch(n){case Et.bool:return mj(r);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return gj(r);case Et.json:case Et.jsonb:return pj(r);case Et.timestamp:return yj(r);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return ku(r);default:return ku(r)}},ku=n=>n,mj=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},gj=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},pj=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(r){return console.log(`JSON parse error: ${r}`),n}return n},xj=(n,r)=>{if(typeof n!="string")return n;const l=n.length-1,o=n[l];if(n[0]==="{"&&o==="}"){let d;const h=n.slice(1,l);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>Xp(r,m))}return n},yj=n=>typeof n=="string"?n.replace(" ","T"):n,Zp=n=>{let r=n;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class ou{constructor(r,l,o={},c=Eu){this.channel=r,this.event=l,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,l){var o;return this._hasReceived(r)&&l((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:l}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(l))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Og;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Og||(Og={}));class zl{constructor(r,l){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,c,d,h),this.pendingDiffs.forEach(x=>{this.state=zl.syncDiff(this.state,x,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=zl.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,l,o,c){const d=this.cloneDeep(r),h=this.transformState(l),m={},x={};return this.map(d,(g,p)=>{h[g]||(x[g]=p)}),this.map(h,(g,p)=>{const y=d[g];if(y){const w=p.map(_=>_.presence_ref),E=y.map(_=>_.presence_ref),N=p.filter(_=>E.indexOf(_.presence_ref)<0),A=y.filter(_=>w.indexOf(_.presence_ref)<0);N.length>0&&(m[g]=N),A.length>0&&(x[g]=A)}else m[g]=p}),this.syncDiff(d,{joins:m,leaves:x},o,c)}static syncDiff(r,l,o,c){const{joins:d,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(d,(m,x)=>{var g;const p=(g=r[m])!==null&&g!==void 0?g:[];if(r[m]=this.cloneDeep(x),p.length>0){const y=r[m].map(E=>E.presence_ref),w=p.filter(E=>y.indexOf(E.presence_ref)<0);r[m].unshift(...w)}o(m,p,x)}),this.map(h,(m,x)=>{let g=r[m];if(!g)return;const p=x.map(y=>y.presence_ref);g=g.filter(y=>p.indexOf(y.presence_ref)<0),r[m]=g,c(m,g,x),g.length===0&&delete r[m]}),r}static map(r,l){return Object.getOwnPropertyNames(r).map(o=>l(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((l,o)=>{const c=r[o];return"metas"in c?l[o]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[o]=c,l},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Lg||(Lg={}));var $l;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})($l||($l={}));var Er;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class eh{constructor(r,l={config:{}},o){this.topic=r,this.params=l,this.socket=o,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new ou(this,Ks.join,this.params,this.timeout),this.rejoinTimer=new Qp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ks.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new zl(this),this.broadcastEndpointURL=Zp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,l=this.timeout){var o,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:h,presence:m,private:x}}=this.params,g=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(E=>E.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[$l.PRESENCE]&&this.bindings[$l.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,y={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:p}),postgres_changes:g,private:x};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(E=>r?.(Er.CHANNEL_ERROR,E)),this._onClose(()=>r?.(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:E})=>{var N;if(this.socket.setAuth(),E===void 0){r?.(Er.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,_=(N=A?.length)!==null&&N!==void 0?N:0,D=[];for(let T=0;T<_;T++){const U=A[T],{filter:{event:K,schema:$,table:I,filter:V}}=U,oe=E&&E[T];if(oe&&oe.event===K&&oe.schema===$&&oe.table===I&&oe.filter===V)D.push(Object.assign(Object.assign({},U),{id:oe.id}));else{this.unsubscribe(),this.state=Xt.errored,r?.(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,r&&r(Er.SUBSCRIBED);return}}).receive("error",E=>{this.state=Xt.errored,r?.(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{r?.(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,l={}){return await this.send({type:"presence",event:"track",payload:r},l.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,l,o){return this.state===Xt.joined&&r===$l.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,l,o)}async send(r,l={}){var o,c;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:h}=r,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,x;const g=this._push(r.type,r,l.timeout||this.timeout);r.type==="broadcast"&&!(!((x=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||x===void 0)&&x.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Xt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ks.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new ou(this,Ks.leave,{},r),o.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xt.closed,this.bindings={}}async _fetchWithTimeout(r,l,o){const c=new AbortController,d=setTimeout(()=>c.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),h}_push(r,l,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ou(this,r,l,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>uj){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(r,l,o){return l}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,l,o){var c,d;const h=r.toLocaleLowerCase(),{close:m,error:x,leave:g,join:p}=Ks;if(o&&[m,x,g,p].indexOf(h)>=0&&o!==this._joinRef())return;let w=this._onMessage(h,l,o);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var N,A,_;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((_=(A=E.filter)===null||A===void 0?void 0:A.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===h}).map(E=>E.callback(w,o)):(d=this.bindings[h])===null||d===void 0||d.filter(E=>{var N,A,_,D,T,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const K=E.id,$=(N=E.filter)===null||N===void 0?void 0:N.event;return K&&((A=l.ids)===null||A===void 0?void 0:A.includes(K))&&($==="*"||$?.toLocaleLowerCase()===((_=l.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const K=(T=(D=E?.filter)===null||D===void 0?void 0:D.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return K==="*"||K===((U=l?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:A,table:_,commit_timestamp:D,type:T,errors:U}=N;w=Object.assign(Object.assign({},{schema:A,table:_,commit_timestamp:D,eventType:T,new:{},old:{},errors:U}),this._getPayloadRecords(N))}E.callback(w,o)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,l,o){const c=r.toLocaleLowerCase(),d={type:c,filter:l,callback:o};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(r,l){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&eh.isEqual(c.filter,l))})),this}static isEqual(r,l){if(Object.keys(r).length!==Object.keys(l).length)return!1;for(const o in r)if(r[o]!==l[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Ks.close,{},r)}_onError(r){this._on(Ks.error,{},l=>r(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const l={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(l.new=Rg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(l.old=Rg(r.columns,r.old_record)),l}}const iu=()=>{},yi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bj=[1e3,2e3,5e3,1e4],vj=1e4,wj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jj{constructor(r,l){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=yi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iu,this.ref=0,this.reconnectTimer=null,this.logger=iu,this.conn=null,this.sendBuffer=[],this.serializer=new hj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Zl(async()=>{const{default:m}=await Promise.resolve().then(()=>Mn);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((o=l?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${r}/${_u.websocket}`,this.httpEndpoint=Zp(r),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lj.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const l=r.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cj}))}disconnect(r,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const l=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const r=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,l,o){this.logger(r,l,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Bl.connecting:return _a.Connecting;case Bl.open:return _a.Open;case Bl.closing:return _a.Closing;default:return _a.Closed}}isConnected(){return this.connectionState()===_a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,l={config:{}}){const o=`realtime:${r}`,c=this.getChannels().find(d=>d.topic===o);if(c)return c;{const d=new eh(`realtime:${r}`,l,this);return this.channels.push(d),d}}push(r){const{topic:l,event:o,payload:c,ref:d}=r,h=()=>{this.encode(r,m=>{var x;(x=this.conn)===null||x===void 0||x.send(m)})};this.log("push",`${l} ${o} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(dj,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},yi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let l=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${r}"`),l.unsubscribe())}_remove(r){this.channels=this.channels.filter(l=>l.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:d,ref:h}=l,m=h?`(${h})`:"",x=d.status||"";this.log("receive",`${x} ${o} ${c} ${m}`.trim(),d),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(c,d,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(r){var l;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var l;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Ks.error))}_appendParams(r,l){if(Object.keys(l).length===0)return r;const o=r.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${r}${o}${c}`}_workerObjectUrl(r){let l;if(r)l=r;else{const o=new Blob([wj],{type:"application/javascript"});l=URL.createObjectURL(o)}return l}_setConnectionState(r,l=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(r=null){let l;r?l=r:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(o=>{const c={access_token:l,version:ij};l&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Ks.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${r}`,l)})}_triggerStateCallbacks(r,l){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(l)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Qp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var l,o,c,d,h,m,x,g,p;if(this.transport=(l=r?.transport)!==null&&l!==void 0?l:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Eu,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:yi.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:iu,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=r?.reconnectAfterMs)!==null&&x!==void 0?x:(y=>bj[y-1]||vj),this.encode=(g=r?.encode)!==null&&g!==void 0?g:((y,w)=>w(JSON.stringify(y))),this.decode=(p=r?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class th extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Zt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Nj extends th{constructor(r,l,o){super(r),this.name="StorageApiError",this.status=l,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Au extends th{constructor(r,l){super(r),this.name="StorageUnknownError",this.originalError=l}}var Sj=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};const Jp=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...l)=>Zl(async()=>{const{default:o}=await Promise.resolve().then(()=>Mn);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},Cj=()=>Sj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zl(()=>Promise.resolve().then(()=>Mn),void 0)).Response:Response}),Du=n=>{if(Array.isArray(n))return n.map(l=>Du(l));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([l,o])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[c]=Du(o)}),r},Ej=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ra=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};const cu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_j=(n,r,l)=>Ra(void 0,void 0,void 0,function*(){const o=yield Cj();n instanceof o&&!l?.noResolveJson?n.json().then(c=>{const d=n.status||500,h=c?.statusCode||d+"";r(new Nj(cu(c),d,h))}).catch(c=>{r(new Au(cu(c),c))}):r(new Au(cu(n),n))}),kj=(n,r,l,o)=>{const c={method:n,headers:r?.headers||{}};return n==="GET"||!o?c:(Ej(o)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(o)):c.body=o,r?.duplex&&(c.duplex=r.duplex),Object.assign(Object.assign({},c),l))};function Jl(n,r,l,o,c,d){return Ra(this,void 0,void 0,function*(){return new Promise((h,m)=>{n(l,kj(r,o,c,d)).then(x=>{if(!x.ok)throw x;return o?.noResolveJson?x:x.json()}).then(x=>h(x)).catch(x=>_j(x,m,o))})})}function Di(n,r,l,o){return Ra(this,void 0,void 0,function*(){return Jl(n,"GET",r,l,o)})}function cr(n,r,l,o,c){return Ra(this,void 0,void 0,function*(){return Jl(n,"POST",r,o,c,l)})}function Tu(n,r,l,o,c){return Ra(this,void 0,void 0,function*(){return Jl(n,"PUT",r,o,c,l)})}function Aj(n,r,l,o){return Ra(this,void 0,void 0,function*(){return Jl(n,"HEAD",r,Object.assign(Object.assign({},l),{noResolveJson:!0}),o)})}function ex(n,r,l,o,c){return Ra(this,void 0,void 0,function*(){return Jl(n,"DELETE",r,o,c,l)})}var gs=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};const Dj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ug={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tj{constructor(r,l={},o,c){this.shouldThrowOnError=!1,this.url=r,this.headers=l,this.bucketId=o,this.fetch=Jp(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,l,o,c){return gs(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Ug),c);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const x=h.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),x&&d.append("metadata",this.encodeMetadata(x)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",h.cacheControl),x&&d.append("metadata",this.encodeMetadata(x))):(d=o,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,x&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const g=this._removeEmptyFolders(l),p=this._getFinalPath(g),y=yield(r=="PUT"?Tu:cr)(this.fetch,`${this.url}/object/${p}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Zt(d))return{data:null,error:d};throw d}})}upload(r,l,o){return gs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,l,o)})}uploadToSignedUrl(r,l,o,c){return gs(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",l);try{let x;const g=Object.assign({upsert:Ug.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(x=new FormData,x.append("cacheControl",g.cacheControl),x.append("",o)):typeof FormData<"u"&&o instanceof FormData?(x=o,x.append("cacheControl",g.cacheControl)):(x=o,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const y=yield Tu(this.fetch,m.toString(),x,{headers:p});return{data:{path:d,fullPath:y.Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Zt(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(r,l){return gs(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const c=Object.assign({},this.headers);l?.upsert&&(c["x-upsert"]="true");const d=yield cr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new th("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}update(r,l,o){return gs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,l,o)})}move(r,l,o){return gs(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}})}copy(r,l,o){return gs(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:l,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}})}createSignedUrl(r,l,o){return gs(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),d=yield cr(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:l},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}})}createSignedUrls(r,l,o){return gs(this,void 0,void 0,function*(){try{const c=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}})}download(r,l){return gs(this,void 0,void 0,function*(){const c=typeof l?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(l?.transform||{}),h=d?`?${d}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield Di(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Zt(m))return{data:null,error:m};throw m}})}info(r){return gs(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{const o=yield Di(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:Du(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}exists(r){return gs(this,void 0,void 0,function*(){const l=this._getFinalPath(r);try{return yield Aj(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o)&&o instanceof Au){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,l){const o=this._getFinalPath(r),c=[],d=l?.download?`download=${l.download===!0?"":l.download}`:"";d!==""&&c.push(d);const m=typeof l?.transform<"u"?"render/image":"object",x=this.transformOptsToQueryString(l?.transform||{});x!==""&&c.push(x);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${g}`)}}}remove(r){return gs(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}list(r,l,o){return gs(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Dj),l),{prefix:r||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}})}listV2(r,l){return gs(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const l=[];return r.width&&l.push(`width=${r.width}`),r.height&&l.push(`height=${r.height}`),r.resize&&l.push(`resize=${r.resize}`),r.format&&l.push(`format=${r.format}`),r.quality&&l.push(`quality=${r.quality}`),l.join("&")}}const Rj="2.12.1",Oj={"X-Client-Info":`storage-js/${Rj}`};var vn=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};class Lj{constructor(r,l={},o,c){this.shouldThrowOnError=!1;const d=new URL(r);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Oj),l),this.fetch=Jp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}getBucket(r){return vn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}createBucket(r,l={public:!1}){return vn(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}updateBucket(r,l){return vn(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}emptyBucket(r){return vn(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}deleteBucket(r){return vn(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}}class Uj extends Lj{constructor(r,l={},o,c){super(r,l,o,c)}from(r){return new Tj(this.url,this.headers,r,this.fetch)}}const Mj="2.57.4";let Ul="";typeof Deno<"u"?Ul="deno":typeof document<"u"?Ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ul="react-native":Ul="node";const Bj={"X-Client-Info":`supabase-js-${Ul}/${Mj}`},zj={headers:Bj},$j={schema:"public"},Hj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fj={};var Ij=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};const Pj=n=>{let r;return n?r=n:typeof fetch>"u"?r=qp:r=fetch,(...l)=>r(...l)},qj=()=>typeof Headers>"u"?Yp:Headers,Yj=(n,r,l)=>{const o=Pj(l),c=qj();return(d,h)=>Ij(void 0,void 0,void 0,function*(){var m;const x=(m=yield r())!==null&&m!==void 0?m:n;let g=new c(h?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${x}`),o(d,Object.assign(Object.assign({},h),{headers:g}))})};var Gj=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};function Vj(n){return n.endsWith("/")?n:n+"/"}function Wj(n,r){var l,o;const{db:c,auth:d,realtime:h,global:m}=n,{db:x,auth:g,realtime:p,global:y}=r,w={db:Object.assign(Object.assign({},x),c),auth:Object.assign(Object.assign({},g),d),realtime:Object.assign(Object.assign({},p),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),m),{headers:Object.assign(Object.assign({},(l=y?.headers)!==null&&l!==void 0?l:{}),(o=m?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Gj(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function Kj(n){const r=n?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vj(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tx="2.71.1",Cn=30*1e3,Ru=3,du=Ru*Cn,Qj="http://localhost:9999",Xj="supabase.auth.token",Zj={"X-Client-Info":`gotrue-js/${tx}`},Ou="X-Supabase-Api-Version",sx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eN=600*1e3;class sh extends Error{constructor(r,l,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=o}}function et(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class tN extends sh{constructor(r,l,o){super(r,l,o),this.name="AuthApiError",this.status=l,this.code=o}}function sN(n){return et(n)&&n.name==="AuthApiError"}class rx extends sh{constructor(r,l){super(r),this.name="AuthUnknownError",this.originalError=l}}class la extends sh{constructor(r,l,o,c){super(r,o,c),this.name=l,this.status=o}}class sa extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rN(n){return et(n)&&n.name==="AuthSessionMissingError"}class bi extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vi extends la{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class wi extends la{constructor(r,l=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aN(n){return et(n)&&n.name==="AuthImplicitGrantRedirectError"}class Mg extends la{constructor(r,l=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lu extends la{constructor(r,l){super(r,"AuthRetryableFetchError",l,void 0)}}function uu(n){return et(n)&&n.name==="AuthRetryableFetchError"}class Bg extends la{constructor(r,l,o){super(r,"AuthWeakPasswordError",l,"weak_password"),this.reasons=o}}class Uu extends la{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zg=` 	
\r=`.split(""),nN=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<zg.length;r+=1)n[zg[r].charCodeAt(0)]=-2;for(let r=0;r<Ti.length;r+=1)n[Ti[r].charCodeAt(0)]=r;return n})();function $g(n,r,l){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;l(Ti[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;l(Ti[o]),r.queuedBits-=6}}function ax(n,r,l){const o=nN[n];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)l(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Hg(n){const r=[],l=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{iN(h,o,l)};for(let h=0;h<n.length;h+=1)ax(n.charCodeAt(h),c,d);return r.join("")}function lN(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function oN(n,r){for(let l=0;l<n.length;l+=1){let o=n.charCodeAt(l);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(n.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}lN(o,r)}}function iN(n,r,l){if(r.utf8seq===0){if(n<=127){l(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&l(r.codepoint)}}function cN(n){const r=[],l={queue:0,queuedBits:0},o=c=>{r.push(c)};for(let c=0;c<n.length;c+=1)ax(n.charCodeAt(c),l,o);return new Uint8Array(r)}function dN(n){const r=[];return oN(n,l=>r.push(l)),new Uint8Array(r)}function uN(n){const r=[],l={queue:0,queuedBits:0},o=c=>{r.push(c)};return n.forEach(c=>$g(c,l,o)),$g(null,l,o),r.join("")}function hN(n){return Math.round(Date.now()/1e3)+n}function fN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)})}const Ws=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},nx=()=>{if(!Ws())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function mN(n){const r={},l=new URL(n);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{r[d]=c})}catch{}return l.searchParams.forEach((o,c)=>{r[c]=o}),r}const lx=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...l)=>Zl(async()=>{const{default:o}=await Promise.resolve().then(()=>Mn);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},gN=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",En=async(n,r,l)=>{await n.setItem(r,JSON.stringify(l))},Ca=async(n,r)=>{const l=await n.getItem(r);if(!l)return null;try{return JSON.parse(l)}catch{return l}},ta=async(n,r)=>{await n.removeItem(r)};class Fi{constructor(){this.promise=new Fi.promiseConstructor((r,l)=>{this.resolve=r,this.reject=l})}}Fi.promiseConstructor=Promise;function hu(n){const r=n.split(".");if(r.length!==3)throw new Uu("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Jj.test(r[o]))throw new Uu("JWT not in base64url format");return{header:JSON.parse(Hg(r[0])),payload:JSON.parse(Hg(r[1])),signature:cN(r[2]),raw:{header:r[0],payload:r[1]}}}async function pN(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function xN(n,r){return new Promise((o,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await n(d);if(!r(d,null,h)){o(h);return}}catch(h){if(!r(d,h)){c(h);return}}})()})}function yN(n){return("0"+n.toString(16)).substr(-2)}function bN(){const r=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(r),Array.from(r,yN).join("")}async function vN(n){const l=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(o);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function wN(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const l=await vN(n);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(n,r,l=!1){const o=bN();let c=o;l&&(c+="/PASSWORD_RECOVERY"),await En(n,`${r}-code-verifier`,c);const d=await wN(o);return[d,o===d?"plain":"s256"]}const jN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NN(n){const r=n.headers.get(Ou);if(!r||!r.match(jN))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function SN(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function CN(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(n){if(!EN.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fu(){const n={};return new Proxy(n,{get:(r,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const o=l.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fg(n){return JSON.parse(JSON.stringify(n))}var _N=function(n,r){var l={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(l[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(l[o[c]]=n[o[c]]);return l};const Ea=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kN=[502,503,504];async function Ig(n){var r;if(!gN(n))throw new Lu(Ea(n),0);if(kN.includes(n.status))throw new Lu(Ea(n),n.status);let l;try{l=await n.json()}catch(d){throw new rx(Ea(d),d)}let o;const c=NN(n);if(c&&c.getTime()>=sx["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?o=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(o=l.error_code),o){if(o==="weak_password")throw new Bg(Ea(l),n.status,((r=l.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new sa}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Bg(Ea(l),n.status,l.weak_password.reasons);throw new tN(Ea(l),n.status||500,o)}const AN=(n,r,l,o)=>{const c={method:n,headers:r?.headers||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),l))};async function dt(n,r,l,o){var c;const d=Object.assign({},o?.headers);d[Ou]||(d[Ou]=sx["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const h=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",x=await DN(n,r,l+m,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(x):{data:Object.assign({},x),error:null}}async function DN(n,r,l,o,c,d){const h=AN(r,o,c,d);let m;try{m=await n(l,Object.assign({},h))}catch(x){throw console.error(x),new Lu(Ea(x),0)}if(m.ok||await Ig(m),o?.noResolveJson)return m;try{return await m.json()}catch(x){await Ig(x)}}function Cr(n){var r;let l=null;LN(n)&&(l=Object.assign({},n),n.expires_at||(l.expires_at=hN(n.expires_in)));const o=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:l,user:o},error:null}}function Pg(n){const r=Cr(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0)&&(r.data.weak_password=n.weak_password),r}function ra(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function TN(n){return{data:n,error:null}}function RN(n){const{action_link:r,email_otp:l,hashed_token:o,redirect_to:c,verification_type:d}=n,h=_N(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:l,hashed_token:o,redirect_to:c,verification_type:d},x=Object.assign({},h);return{data:{properties:m,user:x},error:null}}function ON(n){return n}function LN(n){return n.access_token&&n.refresh_token&&n.expires_in}const mu=["global","local","others"];var UN=function(n,r){var l={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(l[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(l[o[c]]=n[o[c]]);return l};class MN{constructor({url:r="",headers:l={},fetch:o}){this.url=r,this.headers=l,this.fetch=lx(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,l=mu[0]){if(mu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mu.join(", ")}`);try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,l={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ra})}catch(o){if(et(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:l}=r,o=UN(r,["options"]),c=Object.assign(Object.assign({},o),l);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:RN,redirectTo:l?.redirectTo})}catch(l){if(et(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(r){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:ra})}catch(l){if(et(l))return{data:{user:null},error:l};throw l}}async listUsers(r){var l,o,c,d,h,m,x;try{const g={nextPage:null,lastPage:0,total:0},p=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(l=r?.page)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:"",per_page:(d=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ON});if(p.error)throw p.error;const y=await p.json(),w=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(x=(m=p.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&x!==void 0?x:[];return E.length>0&&(E.forEach(N=>{const A=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);g[`${_}Page`]=A}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(et(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){jn(r);try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:ra})}catch(l){if(et(l))return{data:{user:null},error:l};throw l}}async updateUserById(r,l){jn(r);try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:l,headers:this.headers,xform:ra})}catch(o){if(et(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,l=!1){jn(r);try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:l},xform:ra})}catch(o){if(et(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){jn(r.userId);try{const{data:l,error:o}=await dt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:o}}catch(l){if(et(l))return{data:null,error:l};throw l}}async _deleteFactor(r){jn(r.userId),jn(r.id);try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(l){if(et(l))return{data:null,error:l};throw l}}}function qg(n={}){return{getItem:r=>n[r]||null,setItem:(r,l)=>{n[r]=l},removeItem:r=>{delete n[r]}}}function BN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ox extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class zN extends ox{}async function $N(n,r,l){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await l()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(r===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new zN(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Nn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}BN();const HN={url:Qj,storageKey:Xj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yg(n,r,l){return await l()}const Sn={};class Il{constructor(r){var l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Il.nextInstanceID,Il.nextInstanceID+=1,this.instanceID>0&&Ws()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},HN),r);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new MN({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=lx(c.fetch),this.lock=c.lock||Yg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Ws()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=$N:this.lock=Yg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=qg(this.memoryStorage)),Ws()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,l;return(l=(r=Sn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(r){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,l;return(l=(r=Sn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tx}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const l=mN(window.location.href);let o="none";if(this._isImplicitGrantCallback(l)?o="implicit":await this._isPKCECallback(l)&&(o="pkce"),Ws()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),aN(d)){const x=(r=d.details)===null||r===void 0?void 0:r.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return et(l)?{error:l}:{error:new rx("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var l,o,c;try{const d=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(l=r?.options)===null||l===void 0?void 0:l.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Cr}),{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const x=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(d){if(et(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var l,o,c;try{let d;if("email"in r){const{email:p,password:y,options:w}=r;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await wn(this.storage,this.storageKey)),d=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:y,data:(l=w?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:E,code_challenge_method:N},xform:Cr})}else if("phone"in r){const{phone:p,password:y,options:w}=r;d=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Cr})}else throw new vi("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const x=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(d){if(et(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let l;if("email"in r){const{email:d,password:h,options:m}=r;l=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Pg})}else if("phone"in r){const{phone:d,password:h,options:m}=r;l=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Pg})}else throw new vi("You must provide either an email or phone number and a password");const{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new bi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(l){if(et(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(r){var l,o,c,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(l=r.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:l}=r;if(l==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}async signInWithSolana(r){var l,o,c,d,h,m,x,g,p,y,w,E;let N,A;if("message"in r)N=r.message,A=r.signature;else{const{chain:_,wallet:D,statement:T,options:U}=r;let K;if(Ws())if(typeof D=="object")K=D;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))K=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=D}const $=new URL((l=U?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in K&&K.signIn){const I=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),T?{statement:T}:null));let V;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")V=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)V=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)N=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),A=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(c=(o=U?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=U?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((x=U?.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((y=(p=U?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...U.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const I=await K.signMessage(new TextEncoder().encode(N),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=I}}try{const{data:_,error:D}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:uN(A)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Cr});if(D)throw D;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new bi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:D})}catch(_){if(et(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(r){const l=await Ca(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(l??"").split("/");try{const{data:d,error:h}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Cr});if(await ta(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new bi}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(et(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:l,provider:o,token:c,access_token:d,nonce:h}=r,m=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Cr}),{data:x,error:g}=m;return g?{data:{user:null,session:null},error:g}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new bi}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:g})}catch(l){if(et(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(r){var l,o,c,d,h;try{if("email"in r){const{email:m,options:x}=r;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await wn(this.storage,this.storageKey));const{error:y}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=x?.data)!==null&&l!==void 0?l:{},create_user:(o=x?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:m,options:x}=r,{data:g,error:p}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=x?.data)!==null&&c!==void 0?c:{},create_user:(d=x?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},channel:(h=x?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:p}}throw new vi("You must provide either an email or phone number.")}catch(m){if(et(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var l,o;try{let c,d;"options"in r&&(c=(l=r.options)===null||l===void 0?void 0:l.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:m}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Cr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const x=h.session,g=h.user;return x?.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(c){if(et(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(r){var l,o,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await wn(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(l=r.options)===null||l===void 0?void 0:l.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:TN})}catch(d){if(et(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;if(o)throw o;if(!l)throw new sa;const{error:c}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:c}})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const l=`${this.url}/resend`;if("email"in r){const{email:o,type:c,options:d}=r,{error:h}=await dt(this.fetch,"POST",l,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:o,type:c,options:d}=r,{data:h,error:m}=await dt(this.fetch,"POST",l,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new vi("You must provide either an email or phone number and a type")}catch(l){if(et(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(r,l){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=l();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await r(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const l=await Ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?r=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<du:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Ca(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=fu()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(x,g,p)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,g,p))})}return{data:{session:r},error:null}}const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:ra}):await this._useSession(async l=>{var o,c,d;const{data:h,error:m}=l;if(m)throw m;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sa}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:ra})})}catch(l){if(et(l))return rN(l)&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(r,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,l))}async _updateUser(r,l={}){try{return await this._useSession(async o=>{const{data:c,error:d}=o;if(d)throw d;if(!c.session)throw new sa;const h=c.session;let m=null,x=null;this.flowType==="pkce"&&r.email!=null&&([m,x]=await wn(this.storage,this.storageKey));const{data:g,error:p}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:x}),jwt:h.access_token,xform:ra});if(p)throw p;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(et(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new sa;const l=Date.now()/1e3;let o=l,c=!0,d=null;const{payload:h}=hu(r.access_token);if(h.exp&&(o=h.exp,c=o<=l),c){const{session:m,error:x}=await this._callRefreshToken(r.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:x}=await this._getUser(r.access_token);if(x)throw x;d={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:o-l,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(l){if(et(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async l=>{var o;if(!r){const{data:h,error:m}=l;if(m)throw m;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new sa;const{session:c,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(et(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(r,l){try{if(!Ws())throw new wi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new wi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wi("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Mg("No code detected.");const{data:T,error:U}=await this._exchangeCodeForSession(r.code);if(U)throw U;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:x,token_type:g}=r;if(!d||!m||!h||!g)throw new wi("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(m);let w=p+y;x&&(w=parseInt(x));const E=w-p;E*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${y}s`);const N=w-y;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,p);const{data:A,error:_}=await this._getUser(d);if(_)throw _;const D={provider_token:o,provider_refresh_token:c,access_token:d,expires_in:y,expires_at:w,refresh_token:h,token_type:g,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:r.type},error:null}}catch(o){if(et(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const l=await Ca(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&l)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async l=>{var o;const{data:c,error:d}=l;if(d)return{error:d};const h=(o=c.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(sN(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const l=fN(),o={id:l,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async l=>{var o,c;try{const{data:{session:d},error:h}=l;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,l={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await wn(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(et(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:l,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=l.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(l){if(et(l))return{data:null,error:l};throw l}}async linkIdentity(r){var l;try{const{data:o,error:c}=await this._useSession(async d=>{var h,m,x,g,p;const{data:y,error:w}=d;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(x=r.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",E,{headers:this.headers,jwt:(p=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return Ws()&&!(!((l=r.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(et(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async l=>{var o,c;const{data:d,error:h}=l;if(h)throw h;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(et(l))return{data:null,error:l};throw l}}async _refreshAccessToken(r){const l=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{const o=Date.now();return await xN(async c=>(c>0&&await pN(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Cr})),(c,d)=>{const h=200*Math.pow(2,c);return d&&uu(d)&&Date.now()+h-o<Cn})}catch(o){if(this._debug(l,"error",o),et(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(l,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,l){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",l,"url",o),Ws()&&!l.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,l;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Ca(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await En(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h?.user)!==null&&r!==void 0?r:fu()}else if(c&&!c.user&&!c.user){const h=await Ca(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await ta(this.storage,this.storageKey+"-user"),await En(this.storage,this.storageKey,c)):c.user=fu()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const d=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<du;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${du}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),uu(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var l,o;if(!r)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Fi;const{data:d,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!d.session)throw new sa;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={session:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),et(d)){const h={session:null,error:d};return uu(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,l,o=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",l,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:l});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,l)}catch(x){d.push(x)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const l=Object.assign({},r),o=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&l.user&&await En(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const d=Fg(c);await En(this.storage,this.storageKey,d)}else{const c=Fg(l);await En(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ta(this.storage,this.storageKey),await ta(this.storage,this.storageKey+"-code-verifier"),await ta(this.storage,this.storageKey+"-user"),this.userStorage&&await ta(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ws()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async l=>{const{data:{session:o}}=l;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-r)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Cn}ms, refresh threshold is ${Ru} ticks`),c<=Ru&&await this._callRefreshToken(o.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof ox)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ws()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const l=`#_onVisibilityChanged(${r})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,l,o){const c=[`provider=${encodeURIComponent(l)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,h]=await wn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);c.push(d.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async l=>{var o;const{data:c,error:d}=l;return d?{data:null,error:d}:await dt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(l){if(et(l))return{data:null,error:l};throw l}}async _enroll(r){try{return await this._useSession(async l=>{var o,c;const{data:d,error:h}=l;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:x,error:g}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&(!((c=x?.totp)===null||c===void 0)&&c.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(l){if(et(l))return{data:null,error:l};throw l}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var o;const{data:c,error:d}=l;if(d)return{data:null,error:d};const{data:h,error:m}=await dt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(l){if(et(l))return{data:null,error:l};throw l}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var o;const{data:c,error:d}=l;return d?{data:null,error:d}:await dt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(l){if(et(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(r){const{data:l,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:l.id,code:r.code})}async _listFactors(){const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const o=r?.factors||[],c=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var l,o;const{data:{session:c},error:d}=r;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=hu(c.access_token);let m=null;h.aal&&(m=h.aal);let x=m;((o=(l=c.user.factors)===null||l===void 0?void 0:l.filter(y=>y.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(x="aal2");const p=h.amr||[];return{data:{currentLevel:m,nextLevel:x,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(r,l={keys:[]}){let o=l.keys.find(m=>m.kid===r);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(m=>m.kid===r),o&&this.jwks_cached_at+eN>c)return o;const{data:d,error:h}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,o=d.keys.find(m=>m.kid===r),!o)?null:o}async getClaims(r,l={}){try{let o=r;if(!o){const{data:E,error:N}=await this.getSession();if(N||!E.session)return{data:null,error:N};o=E.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:x}}=hu(o);l?.allowExpired||SN(d.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!g){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:d,header:c,signature:h},error:null}}const p=CN(c.alg),y=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,h,dN(`${m}.${x}`)))throw new Uu("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}}}Il.nextInstanceID=0;const FN=Il;class IN extends FN{constructor(r){super(r)}}var PN=function(n,r,l,o){function c(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function m(p){try{g(o.next(p))}catch(y){h(y)}}function x(p){try{g(o.throw(p))}catch(y){h(y)}}function g(p){p.done?d(p.value):c(p.value).then(m,x)}g((o=o.apply(n,r||[])).next())})};class qN{constructor(r,l,o){var c,d,h;this.supabaseUrl=r,this.supabaseKey=l;const m=Kj(r);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const x=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:$j,realtime:Fj,auth:Object.assign(Object.assign({},Hj),{storageKey:x}),global:zj},p=Wj(o??{},g);this.storageKey=(c=p.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=p.global.headers)!==null&&d!==void 0?d:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch),this.fetch=Yj(l,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new nj(new URL("rest/v1",m).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Uj(this.storageUrl.href,this.headers,this.fetch,o?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Kw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,l={},o={}){return this.rest.rpc(r,l,o)}channel(r,l={config:{}}){return this.realtime.channel(r,l)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,l;return PN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(l=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:l,detectSessionInUrl:o,storage:c,userStorage:d,storageKey:h,flowType:m,lock:x,debug:g},p,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IN({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),p),storageKey:h,autoRefreshToken:r,persistSession:l,detectSessionInUrl:o,storage:c,userStorage:d,flowType:m,lock:x,debug:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new jj(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,o)=>{this._handleTokenChanged(l,"CLIENT",o?.access_token)})}_handleTokenChanged(r,l,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YN=(n,r,l)=>new qN(n,r,l);function GN(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}GN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VN="https://nmarfwjjsmnnxjmcvubr.supabase.co",WN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tYXJmd2pqc21ubnhqbWN2dWJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3MjEyMTQsImV4cCI6MjA3MzI5NzIxNH0.SptKmkp2qsWK7AQnqzfOxNW4EO88G_UKqTcpZQhAEVg",aa=YN(VN,WN),ix=b.createContext(void 0),KN=()=>{const n=b.useContext(ix);if(n===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return n},QN=({children:n})=>{const[r,l]=b.useState(null),[o,c]=b.useState(null),[d,h]=b.useState(!0);b.useEffect(()=>{aa.auth.getSession().then(({data:{session:p}})=>{c(p),l(p?.user??null),p?.access_token?localStorage.setItem("token",p.access_token):localStorage.removeItem("token"),h(!1)});const{data:{subscription:g}}=aa.auth.onAuthStateChange((p,y)=>{c(y),l(y?.user??null),y?.access_token?localStorage.setItem("token",y.access_token):localStorage.removeItem("token"),h(!1)});return()=>g.unsubscribe()},[]);const x={user:r,session:o,loading:d,signOut:async()=>{await aa.auth.signOut()}};return s.jsx(ix.Provider,{value:x,children:n})},Ii="http://localhost:1000",cx=async()=>{try{const n=localStorage.getItem("token");return(await Ae.get(`${Ii}/api/v1/committees/all-committees`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw new Error(n.response?.data?.message||"Failed to fetch committees")}},XN=async(n,r,l)=>{try{const o=localStorage.getItem("token");return console.log("abbr",n),console.log("committee",r),console.log("category",l),(await Ae.post(`${Ii}/api/v1/committees/add-committee`,{abbr:n,committee:r,category:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to create committee")}},ZN=async(n,r,l,o)=>{try{const c=localStorage.getItem("token");return(await Ae.patch(`${Ii}/api/v1/committees/update-committee/${n}`,{abbr:r,committee:l,category:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to update committee")}},JN=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Ii}/api/v1/committees/delete-committee/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete committee")}},rh="http://localhost:1000",dx=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${rh}/api/v1/registerations/get-registrations/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response.data.message)}},e4=async(n,r,l)=>{try{const o=localStorage.getItem("token"),c=localStorage.getItem("userId");return(await Ae.post(`${rh}/api/v1/registerations/event-registration-teacher/${c}`,{eventId:n,foodPreference:r,foodAllergies:l},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response.data.message)}},t4=async(n,r,l,o,c,d)=>{try{const h=localStorage.getItem("token"),m=localStorage.getItem("userId");return(await Ae.post(`${rh}/api/v1/registerations/event-registration-student/${m}`,{munExperience:n,preferredCommittee1:r,foodPreference:l,foodAllergies:o,emergencyContactName:c,emergencyMobileNumber:d},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}})).data}catch(h){throw new Error(h.response.data.message)}},ux=b.createContext(void 0),s4=({children:n})=>{const{user:r,session:l,loading:o}=KN(),[c,d]=b.useState(null),[h,m]=b.useState(!1),[x,g]=b.useState(!0),[p,y]=b.useState(!1),[w,E]=b.useState([]),[N,A]=b.useState([]),[_,D]=b.useState([]),[T,U]=b.useState([]),[K,$]=b.useState([]),[I,V]=b.useState([]),[oe,le]=b.useState([]),[be,_e]=b.useState([]),[Ne,Q]=b.useState([]),[X,ce]=b.useState({eventsUpcoming:5,eventsCompleted:5,users:900,organisers:80,pendingApprovals:3,schools:70}),j=b.useCallback(async()=>{try{g(!0);const q=!!(r&&l?.access_token);if(y(q),r?.user_metadata?.role?d(r.user_metadata.role):d("student"),l?.access_token){const we=await uw();we.success?E(we.data):L.error(we.message);const xe=await bw();A(xe.data);const ze=await wg();le(ze.data)}}catch{p&&L.error("JWT token is expired. Please login again.")}finally{g(!1)}},[r,l,p]),M=b.useCallback(async()=>{try{const q=await zw();q.success?D(q.data):L.error(q.message)}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),te=b.useCallback(async()=>{try{const q=await Sw();q.success?U(q.data):L.error(q.message)}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),z=b.useCallback(async()=>{try{const q=await _w();q.success?$(q.data):L.error(q.message)}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),C=b.useCallback(async()=>{try{const q=await Ow();q.success?V(q.data):L.error(q.message)}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),P=b.useCallback(async()=>{try{const q=await wg();q.success?le(q.data):L.error(q.message),le(q.data||[])}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),se=b.useCallback(async()=>{try{const q=await cx();q.success?_e(q.data):L.error(q.message)}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),k=b.useCallback(async q=>{try{if(!q)return;const we=await dx(q);we.success?Q(we.data||[]):L.error(we.message)}catch{p&&L.error("JWT token is expired. Please login again.")}},[p]),J=q=>{ce(we=>({...we,...q}))};b.useEffect(()=>{o||(j(),M(),P(),z(),te(),C(),se())},[r,l,o,j,M,P,z,te,C]);const de={userType:c,isOrganiser:h,isLoading:x,loginStatus:p,dashboardStats:X,allUsers:w,allEvents:_,allLocalities:T,allSchools:K,allAreas:I,allLeadershipRoles:oe,allCommittees:be,allRegistrations:Ne,setAllEvents:D,setAllLocalities:U,setAllSchools:$,setAllAreas:V,setAllLeadershipRoles:le,setAllUsers:E,setAllOrganisers:A,setAllRegistrations:Q,allOrganisers:N,setUserType:d,setIsOrganiser:m,setLoginStatus:y,updateDashboardStats:J,refreshUserData:j,refreshEventsData:M,refreshLocalitiesData:te,refreshSchoolsData:z,refreshAreasData:C,refreshLeadershipRolesData:P,refreshCommitteesData:se,refreshRegistrationsData:k};return s.jsx(ux.Provider,{value:de,children:n})},Wt=()=>{const n=b.useContext(ux);return n===void 0?(console.error("useApp - Context is undefined, this should not happen if component is wrapped in AppProvider"),console.error("Stack trace:",new Error().stack),{userType:null,isOrganiser:!1,isLoading:!0,loginStatus:!1,allUsers:[],allOrganisers:[],allEvents:[],allLocalities:[],allSchools:[],allAreas:[],allLeadershipRoles:[],allCommittees:[],allRegistrations:[],dashboardStats:{eventsUpcoming:0,eventsCompleted:0,users:0,organisers:0,pendingApprovals:0,schools:0},setUserType:()=>{},setIsOrganiser:()=>{},setLoginStatus:()=>{},updateDashboardStats:()=>{},refreshUserData:async()=>{},setAllUsers:()=>{},setAllOrganisers:()=>{},setAllEvents:()=>{},setAllLocalities:()=>{},setAllSchools:()=>{},setAllAreas:()=>{},setAllLeadershipRoles:()=>{},refreshEventsData:async()=>{},refreshLocalitiesData:async()=>{},refreshSchoolsData:async()=>{},refreshAreasData:async()=>{},refreshLeadershipRolesData:async()=>{},refreshCommitteesData:async()=>{},setAllRegistrations:()=>{},refreshRegistrationsData:async r=>{}}):n},Hl=({variant:n="primary",size:r="medium",children:l,className:o="",...c})=>{const d="btn font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",h={primary:"bg-[#A88554] hover:bg-[#9a7849] text-white focus:ring-[#A88554] shadow-lg",secondary:"bg-[#1E395D] hover:bg-[#1a324f] text-white focus:ring-[#1E395D]",outline:"bg-white border border-gray-300 hover:border-gray-400 text-gray-700 focus:ring-gray-300","role-select":"bg-white border border-gray-300 hover:border-gray-400 text-gray-700 focus:ring-gray-300","role-select-active":"bg-[#C7A87D] hover:bg-[#b89a6a] text-white border border-[#C7A87D] focus:ring-[#C7A87D] shadow-lg"},m={small:"px-3 py-1 text-xs",medium:"px-5 py-2 text-sm",large:"px-6 py-3 text-base"},x=`${d} ${h[n]} ${m[r]} ${o}`;return s.jsx("button",{className:x,...c,children:l})},hx=({error:n,className:r="",containerClassName:l="",...o})=>s.jsxs("div",{className:`w-full ${l}`,children:[s.jsx("input",{className:`w-full px-3.5 py-3.5 border border-black rounded-[16px] text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r}`,...o}),n&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:n})]}),fx=({error:n,className:r="",containerClassName:l="",...o})=>{const[c,d]=b.useState(!1),h=()=>{d(!c)};return s.jsxs("div",{className:`w-full ${l}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",className:`w-full px-3.5 py-3.5 pr-10 border border-black rounded-[16px] text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r}`,...o}),s.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 focus:outline-none",children:c?s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),n&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:n})]})},r4="/assets/Logo-1VuMq3k9.png",Bn=({size:n="medium",className:r=""})=>{const l={small:"h-6 w-auto",medium:"h-10 w-auto",large:"h-12 w-auto",figma:"w-[375px] h-[82px] flex-shrink-0"};return s.jsx("div",{className:`flex items-center justify-start ${r}`,children:s.jsx("img",{src:r4,alt:"MunQuest Logo",className:`${l[n]} object-contain`})})};class Ml extends Error{}Ml.prototype.name="InvalidTokenError";function a4(n){return decodeURIComponent(atob(n).replace(/(.)/g,(r,l)=>{let o=l.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function n4(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return a4(r)}catch{return atob(r)}}function l4(n,r){if(typeof n!="string")throw new Ml("Invalid token specified: must be a string");r||(r={});const l=r.header===!0?0:1,o=n.split(".")[l];if(typeof o!="string")throw new Ml(`Invalid token specified: missing part #${l+1}`);let c;try{c=n4(o)}catch(d){throw new Ml(`Invalid token specified: invalid base64 for part #${l+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Ml(`Invalid token specified: invalid json for part #${l+1} (${d.message})`)}}const Pl="/assets/student-DiMAztY4.png",Mu="/assets/teacher-CmMFUZ4w.png",Bu=n=>n==="student"?Pl:Mu,o4=()=>{localStorage.removeItem("userAvatar")},i4=async()=>{try{const n=localStorage.getItem("userAvatar");if(n)return n;const r=await Ta();if(r.success&&r.data.avatar)return localStorage.setItem("userAvatar",r.data.avatar),r.data.avatar;const l=localStorage.getItem("token");if(l){const o=l4(l);return Bu(o.role)}return Pl}catch(n){return console.error("Error getting user avatar:",n),Pl}},eo=({size:n="medium",className:r="",onClick:l,showBorder:o=!1,forceRefresh:c=!1})=>{const[d,h]=b.useState(""),[m,x]=b.useState(!0),[g,p]=b.useState(Date.now()),y=async()=>{try{x(!0);const N=await i4();h(N),p(Date.now())}catch(N){console.error("Error loading avatar:",N);const A=localStorage.getItem("userRole");h(Bu(A||"student")),p(Date.now())}finally{x(!1)}};b.useEffect(()=>{y()},[]),b.useEffect(()=>{const N=()=>{p(Date.now()),y()},A=()=>{p(Date.now()),y()};return window.addEventListener("storage",N),window.addEventListener("avatarUpdated",A),()=>{window.removeEventListener("storage",N),window.removeEventListener("avatarUpdated",A)}},[]),b.useEffect(()=>{c&&y()},[c]),b.useEffect(()=>{const N=setInterval(()=>{const A=Date.now();if(A-g>2e3){const _=localStorage.getItem("userAvatar");_&&_!==d&&y(),p(A)}},2e3);return()=>clearInterval(N)},[d,g]);const w={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},E=o?"border-2 border-white shadow-lg":"";return m?s.jsx("div",{className:`${w[n]} bg-gray-200 rounded-full flex items-center justify-center ${r}`,onClick:l,children:s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:`${w[n]}  rounded-full flex items-center justify-center cursor-pointer ${E} ${r}`,onClick:l,children:s.jsx("img",{src:d,alt:"User Avatar",className:"w-full h-full rounded-full object-cover",onError:N=>{const A=localStorage.getItem("userRole")||"student";N.currentTarget.src=Bu(A)}})})},Ar=({size:n="medium",className:r="",text:l="Uploading..."})=>{const o={small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8"};return s.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[s.jsx("div",{className:`${o[n]} border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin`}),l&&s.jsx("span",{className:"text-sm text-gray-600 mt-2",children:l})]})},mx=({startDate:n,endDate:r,onDateRangeChange:l,onClose:o,maxDays:c=7})=>{const[d,h]=b.useState(new Date),[m,x]=b.useState(n?new Date(n):null),[g,p]=b.useState(r?new Date(r):null),[y,w]=b.useState(null),[E,N]=b.useState(""),[A,_]=b.useState(!1),D=b.useRef(null),T=new Date;T.setHours(0,0,0,0),b.useEffect(()=>{const j=M=>{D.current&&!D.current.contains(M.target)&&o()};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[o]);const U=j=>{const M=j.getFullYear(),te=j.getMonth(),z=new Date(M,te,1),P=new Date(M,te+1,0).getDate(),se=z.getDay(),k=[],J=new Date(M,te-1,0);for(let q=se-1;q>=0;q--)k.push({date:new Date(M,te-1,J.getDate()-q),isCurrentMonth:!1,isToday:!1,isPast:!0});for(let q=1;q<=P;q++){const we=new Date(M,te,q),xe=we.getTime()===T.getTime(),ze=we<T;k.push({date:we,isCurrentMonth:!0,isToday:xe,isPast:ze})}const de=42-k.length;for(let q=1;q<=de;q++)k.push({date:new Date(M,te+1,q),isCurrentMonth:!1,isToday:!1,isPast:!1});return k},K=j=>{const M=j.getDate().toString().padStart(2,"0"),te=(j.getMonth()+1).toString().padStart(2,"0"),z=j.getFullYear();return`${M} / ${te} / ${z}`},$=j=>!m||!g?!1:j>=m&&j<=g,I=j=>!!(m&&j.getTime()===m.getTime()||g&&j.getTime()===g.getTime()),V=j=>{if(!y||!m)return!1;const M=m<y?m:y,te=m<y?y:m;return j>=M&&j<=te},oe=j=>{if(j<T){N("Past dates cannot be selected");return}N(""),!m||m&&g?(x(j),p(null),_(!0)):(j<m?(p(m),x(j)):p(j),_(!1))},le=j=>{A&&m&&w(j)},be=()=>{if(m&&g){if(Math.ceil((g.getTime()-m.getTime())/864e5)+1>c){N(`Maximum event length is ${c} consecutive days`);return}const M=m.toISOString().split("T")[0],te=g.toISOString().split("T")[0];l(M,te),o()}},_e=()=>{o()},Ne=j=>{h(M=>{const te=new Date(M);return j==="prev"?te.setMonth(M.getMonth()-1):te.setMonth(M.getMonth()+1),te})},Q=j=>j.toLocaleDateString("en-US",{month:"long",year:"numeric"}),X=U(d),ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.jsxs("div",{ref:D,className:"absolute top-full left-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-4 mt-2",style:{minWidth:"320px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>Ne("prev"),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Q(d)}),s.jsx("button",{onClick:()=>Ne("next"),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:ce.map(j=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:j},j))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:X.map((j,M)=>{const te=I(j.date),z=$(j.date),C=V(j.date),P=j.isPast&&!j.isCurrentMonth;return s.jsx("button",{onClick:()=>oe(j.date),onMouseEnter:()=>le(j.date),onMouseLeave:()=>w(null),disabled:P,className:`
                relative h-8 w-8 text-sm rounded-full transition-colors
                ${j.isCurrentMonth?"text-gray-900":"text-gray-400"}
                ${P?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-100"}
                ${te?"bg-purple-600 text-white":""}
                ${z&&!te?"bg-purple-100":""}
                ${C&&!te&&!z?"bg-purple-50":""}
                ${j.isToday?"font-bold":""}
              `,children:j.date.getDate()},M)})}),s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Date"}),s.jsx("input",{type:"text",value:m?K(m):"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",placeholder:"DD / MM / YYYY"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Date"}),s.jsx("input",{type:"text",value:g?K(g):"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",placeholder:"DD / MM / YYYY"})]})]}),E&&s.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:E}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{onClick:_e,className:"flex-1 px-4 py-2 border border-purple-600 text-purple-600 rounded-md hover:bg-purple-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:be,disabled:!m||!g,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Apply"})]})]})},Tr=({isOpen:n,onClose:r,onConfirm:l,title:o,message:c,confirmText:d="Yes",cancelText:h="No",confirmButtonColor:m="text-red-600"})=>n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h2",{className:"text-xl font-bold text-black mb-4 text-center",children:o}),s.jsx("p",{className:"text-black text-center mb-6 leading-relaxed",children:c}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:l,className:`px-6 py-2 rounded-lg text-sm font-bold ${m} hover:opacity-80 transition-opacity`,children:d}),s.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-100 transition-colors",children:h})]})]})}):null,c4=({isOpen:n,onKeepEditing:r,onDiscardChanges:l})=>n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h2",{className:"text-xl font-bold text-black mb-4 text-center",children:"Unsaved Changes"}),s.jsx("p",{className:"text-black text-center mb-6 leading-relaxed",children:"Your changes have not been saved."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg text-sm font-bold text-blue-600 hover:bg-blue-50 transition-colors",children:"Keep Editing"}),s.jsx("button",{onClick:l,className:"px-6 py-2 rounded-lg text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:"Discard Changes"})]})]})}):null,d4="data:image/svg+xml,%3csvg%20width='60'%20height='70'%20viewBox='0%200%2060%2070'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M54.2671%2060H36.9357C36.5306%2060%2036.2028%2059.6709%2036.2028%2059.2665V47.5354C36.2028%2044.1161%2033.4206%2041.3328%2030%2041.3328C26.5794%2041.3328%2023.7966%2044.1155%2023.7966%2047.5354V59.2665C23.7966%2059.6715%2023.4681%2060%2023.0637%2060H5.73286C5.32784%2060%205%2059.6709%205%2059.2665V29.7917C5%2029.5672%205.10333%2029.3542%205.28%2029.2151L29.5465%2010.1569C29.8125%209.9477%2030.1869%209.9477%2030.4529%2010.1569L54.72%2029.2151C54.8967%2029.3548%2055%2029.5678%2055%2029.7917V59.2665C55%2059.6715%2054.6722%2060%2054.2671%2060ZM37.6691%2058.5324H53.533V30.1495L41.7665%2020.908L30%2011.6666L6.46699%2030.1495V58.5331H22.3302V47.5354C22.3302%2043.3061%2025.7713%2039.8658%2030%2039.8658C34.2287%2039.8658%2037.6691%2043.3068%2037.6691%2047.5354V58.5324Z'%20fill='black'/%3e%3c/svg%3e",u4="data:image/svg+xml,%3csvg%20width='38'%20height='50'%20viewBox='0%200%2038%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.9999%200C16.2094%200%2013.9885%202.2779%2013.9885%205.01139V6.32118C7.95204%208.42825%203.90876%2014.0661%203.90876%2020.5581V30.1822C3.90876%2031.9476%203.39623%2033.5991%202.48507%2035.0797L1.34612%2036.9021C0.434955%2038.3257%200.378008%2040.0342%201.17527%2041.4579C1.97254%2042.9385%203.45318%2043.7927%205.10466%2043.7927H12.2231C12.5078%2047.2665%2015.4122%2050%2018.9429%2050C22.4737%2050%2025.378%2047.2665%2025.6627%2043.7927H32.8951C34.5466%2043.7927%2036.0272%2042.9385%2036.8245%2041.4579C37.6217%2039.9772%2037.5648%2038.2688%2036.6536%2036.8451L35.5147%2035.0797C34.5466%2033.5991%2034.034%2031.8337%2034.034%2030.0683V20.5581C34.034%2014.123%2029.9908%208.42825%2023.9543%206.32118V5.01139C24.0682%202.22096%2021.7903%200%2018.9999%200ZM18.9999%2048.2916C16.3803%2048.2916%2014.2732%2046.3554%2013.9885%2043.7927H24.0682C23.7265%2046.3554%2021.6195%2048.2916%2018.9999%2048.2916ZM32.3826%2020.5581V30.1253C32.3826%2032.2323%2033.009%2034.2825%2034.1479%2036.1048L35.2869%2037.8702C35.8564%2038.7244%2035.9133%2039.8064%2035.4008%2040.7175C34.8883%2041.6287%2033.9771%2042.1982%2032.952%2042.1982H5.10466C4.0796%2042.1982%203.16844%2041.6856%202.65591%2040.7745C2.14338%2039.8633%202.20033%2038.8383%202.76981%2037.9271L3.90876%2036.1048C4.99076%2034.3394%205.61719%2032.3462%205.61719%2030.2961V20.5581C5.61719%2014.6355%209.43268%209.51025%2015.0705%207.74487L15.6969%207.57403V5.01139C15.6969%203.18907%2017.1776%201.70843%2018.9999%201.70843C20.8222%201.70843%2022.3028%203.18907%2022.3028%205.01139V7.57403L22.9293%207.74487C28.624%209.51025%2032.3826%2014.6355%2032.3826%2020.5581Z'%20fill='black'/%3e%3c/svg%3e",gx="/assets/organiser_icon-DBiM919n.svg",h4="/assets/super_user_icon-ksD-coqW.svg",f4="/assets/showprofile_icon-DlOL1YGI.svg",m4="data:image/svg+xml,%3csvg%20width='30'%20height='18'%20viewBox='0%200%2030%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2062%2014.2268V15.3093C13.2062%2016.7938%2012%2018%2010.5154%2018H2.69069C1.20615%2018%20-3.33786e-05%2016.7938%20-3.33786e-05%2015.3093V2.69072C-3.33786e-05%201.20619%201.20615%200%202.69069%200H10.5058C11.9903%200%2013.1965%201.20619%2013.1965%202.69072V3.23678C13.1965%203.38079%2013.0834%203.49485%2012.9384%203.49485C12.7944%203.49485%2012.6804%203.38177%2012.6804%203.23678V2.69072C12.6804%201.48454%2011.7013%200.515134%2010.5048%200.515134H2.68005C1.47386%200.515134%200.504462%201.49419%200.504462%202.69072V15.2986C0.504462%2016.5048%201.48351%2017.4742%202.68005%2017.4742H10.5058C11.712%2017.4742%2012.6814%2016.4952%2012.6814%2015.2986V14.2162C12.6814%2014.0722%2012.7944%2013.9581%2012.9394%2013.9581C13.0825%2013.9591%2013.2062%2014.0828%2013.2062%2014.2268Z'%20fill='black'/%3e%3cpath%20d='M8.12432%205.15434C8.21711%205.05093%208.38239%205.04126%208.48482%205.13405L12.7113%208.80382C12.7731%208.85601%2012.8041%208.92753%2012.8041%209.00002C12.8041%209.0725%2012.7731%209.14402%2012.7113%209.19622L8.48482%2012.866C8.4336%2012.9075%208.37174%2012.9278%208.31955%2012.9278C8.24706%2012.9278%208.17554%2012.8969%208.12335%2012.8351C8.03057%2012.7316%208.0412%2012.5673%208.14365%2012.4746L11.8753%209.23778C11.8646%209.23778%2011.855%209.25808%2011.8337%209.25808H4.19454C4.05053%209.25808%203.93648%209.145%203.93648%209.00002C3.93648%208.85601%204.04956%208.74196%204.19454%208.74196H11.8357C11.856%208.74196%2011.856%208.75259%2011.8773%208.76225L8.14563%205.52547C8.04124%205.43268%208.03154%205.26838%208.12432%205.15434ZM12.0618%209.08218L12.1546%209.00002L12.0618%208.91787C12.0724%208.9488%2012.0927%208.9691%2012.0927%209.00002C12.0927%209.03095%2012.0724%209.05125%2012.0618%209.08218Z'%20fill='black'/%3e%3c/svg%3e",g4=async(n,r,l)=>{try{const{data:o,error:c}=await aa.auth.signUp({email:n,password:r,options:{data:{role:l}}});if(c)throw new Error(c.message);return{success:!0,message:"Sign up successful! Please check your email to verify your account.",data:o}}catch(o){return{success:!1,message:o.message||"Sign up failed"}}},p4=async(n,r)=>{try{const{data:l,error:o}=await aa.auth.signInWithPassword({email:n,password:r});if(o)throw new Error(o.message);return{success:!0,message:"Login successful!",data:l,token:l.session?.access_token}}catch(l){return{success:!1,message:l.message||"Login failed"}}},x4=async()=>{try{const{error:n}=await aa.auth.signOut();if(n)throw new Error(n.message);return{success:!0,message:"Logged out successfully"}}catch(n){return{success:!1,message:n.message||"Logout failed"}}},y4=async n=>{try{const{data:r,error:l}=await aa.auth.updateUser({password:n});if(l)throw new Error(l.message);return{success:!0,message:"Password updated successfully!",data:r}}catch(r){return{success:!1,message:r.message||"Failed to update password"}}},b4=async n=>{try{const{data:r,error:l}=await aa.auth.resend({type:"signup",email:n});if(l)throw new Error(l.message);return{success:!0,message:"Verification email sent successfully! Please check your inbox.",data:r}}catch(r){return{success:!1,message:r.message||"Failed to resend verification email"}}},rs=({showNavigation:n=!0})=>{const r=Bt(),o=Js().pathname==="/super-user";let c=null;try{c=Wt().userType}catch(D){console.error("Error accessing AppContext in Header:",D),c=localStorage.getItem("userType")||"student"}const[d,h]=b.useState(!1),[m,x]=b.useState(!1),g=b.useRef(null);b.useEffect(()=>{const D=localStorage.getItem("organiserId");h(!!(D&&D!=="null"))},[]);const p=async()=>{r(c==="student"?"/student-profile-page":c==="teacher"?"/teacher-profile-page":c==="organizer"?"/organiser":"/profile-page")},y=()=>{const D=localStorage.getItem("organiserId");r(D?"/organiser":"/home")},w=()=>{r("/organiser")},E=()=>{r("/super-user")},N=()=>{x(!m)},A=async()=>{x(!1),await p()},_=async()=>{x(!1),await x4(),localStorage.removeItem("token"),localStorage.removeItem("userAvatar"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("organiserId"),h(!1),r("/login")};return b.useEffect(()=>{const D=T=>{g.current&&!g.current.contains(T.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),s.jsx("div",{className:"bg-white shadow-sm",style:{height:"100px"},children:s.jsx("div",{className:"mx-auto px-6 py-4",style:{maxWidth:"88rem",height:"100%"},children:s.jsxs("div",{className:"flex items-center justify-between",style:{height:"100%"},children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Bn,{size:"medium"})}),n&&s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:y,children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:d4,alt:"Home",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Home"})]}),o&&s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[s.jsx("div",{onClick:E,className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:h4,alt:"Superuser",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Superuser"})]}),!o&&s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:u4,alt:"Notification",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Notification"})]}),!o&&d&&c!=="organizer"&&s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[s.jsx("div",{onClick:w,className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-1",children:s.jsx("img",{src:gx,alt:"Organiser",className:"w-6 h-6"})}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Organiser"})]}),s.jsxs("div",{className:"relative",ref:g,children:[s.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:N,children:[s.jsx(eo,{size:"medium",className:"mb-1"}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Profile"})]}),m&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[s.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-[#D9C7A1] transition-colors duration-200 flex items-center",onClick:A,children:[s.jsx("div",{className:"flex items-center mr-3",children:s.jsx("img",{src:f4,alt:"Profile"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:"Show Profile"})]}),s.jsx("div",{className:"border-t border-gray-200"}),s.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-[#D9C7A1] transition-colors duration-200 flex items-center",onClick:_,children:[s.jsx("div",{className:"flex items-center mr-3",children:s.jsx("img",{src:m4,alt:"Logout"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:"Log Out"})]})]})]})]})]})})})},v4=({events:n,onAction:r})=>{const[l,o]=b.useState(null),[c,d]=b.useState(null),{refreshEventsData:h}=Wt(),m=p=>{o(l===p?null:p)},x=async(p,y)=>{d(y);try{if(p==="delete"){const w=await Hw(y);w.success?(L.success(w.message),await h()):L.error(w.message)}else{const w=await $w(y,p);w.success?(L.success(w.message),await h()):L.error(w.message)}r(p,y)}catch(w){console.error("Error updating event status:",w),L.error("Failed to update event status")}finally{d(null)}o(null)},g=p=>{if(!p)return"text-gray-600";switch(p.toLowerCase()){case"pending":return"text-yellow-500";case"flagged":return"text-yellow-500";case"blocked":return"text-red-600";case"approved":return"text-green-600";case"rejected":return"text-red-600";default:return"text-gray-600"}};return s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-8 gap-2 mb-2",children:["Event ID","Event Name","Locality","Date","Fees","Event Phase","Event Status"].map((p,y)=>s.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${y<4?"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between":"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center"}`,children:[s.jsx("span",{children:p}),y<4&&s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},p))}),n.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No events found"}):n.map(p=>s.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:p?.id.split("-")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:p?.name||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:p?.locality?.name||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:p?.start_date+" - "+p?.end_date||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:p?.fees_per_delegate||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:p?.event_phase||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===p?.id?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("span",{className:`font-medium ${g(p?.status)}`,children:p?.status||"N/A"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>m(p?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===p?.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[p?.status?.toLowerCase()==="pending"&&s.jsx("button",{onClick:()=>x("approved",p?.id||""),disabled:c===p?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===p?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),p?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>x("flagged",p?.id||""),disabled:c===p?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===p?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Flag"}),p?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>x("blocked",p?.id||""),disabled:c===p?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===p?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Block"}),(p?.status?.toLowerCase()==="flagged"||p?.status?.toLowerCase()==="blocked")&&s.jsx("button",{onClick:()=>x("approved",p?.id||""),disabled:c===p?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===p?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),s.jsx("button",{onClick:()=>x("delete",p?.id||""),disabled:c===p?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===p?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},p?.id||Math.random()))]})},w4=({activeSection:n,onSectionChange:r,usersSubSection:l,setUsersSubSection:o,schoolsSubSection:c,setSchoolsSubSection:d})=>{const h=[{id:"events-related",label:"Events Related"},{id:"users-related",label:"Users Related"},{id:"schools-related",label:"Schools Related"}],m={"events-related":[{id:"events",label:"Events"},{id:"organisers",label:"Organisers"},{id:"leadership-roles",label:"Leadership Roles"},{id:"committees",label:"Committees"}],"users-related":[{id:"users",label:"Users"},{id:"superusers",label:"Superusers"}],"schools-related":[{id:"schools",label:"Schools"},{id:"localities",label:"Localities"}],"schools-city-related":[{id:"DU",label:"Dubai"},{id:"AD",label:"Abu Dhabi"},{id:"AIN",label:"Al Ain"},{id:"SH",label:"Sharjah"},{id:"AJ",label:"Ajman"},{id:"RAK",label:"Ras Al Khaimah"},{id:"UAQ",label:"Umm Al Quwain"},{id:"other",label:"Other"}]},x=(w,E=!1,N=!1,A=0)=>{const _="font-medium transition-colors duration-200";if(E)return A===3?`${_} ${w?"bg-[#84B5F3] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`:`${_} ${w?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`;if(N&&!w)return`${_} bg-[#607DA3] text-white`;if(A===1)return`${_} ${w?"bg-[#1E395D] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`;if(A===2)return`${_} ${w?"bg-[#607DA3] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`},g=w=>n===w||w==="masterlists"&&["events-related","users-related","schools-related","events","organisers","leadership-roles","committees","students","teachers","users","superusers","users-students","users-teachers","schools","localities","dubai","abu-dhabi","al-ain","sharjah","ajman","ras-al-khaimah","umm-al-quwain","other"].includes(n),p=w=>w==="events-related"?n==="events-related"||n==="events"||n==="organisers"||n==="leadership-roles"||n==="committees"||n==="students"||n==="teachers":w==="users-related"?n==="users-related"||n==="users"||n==="superusers":w==="schools-related"?n==="schools-related"||n==="schools"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other":w==="organisers"?n==="students"||n==="teachers":w==="users"?n==="users"||n==="users-students":w==="superusers"?n==="superusers"||n==="users-teachers":w==="schools"?n==="schools"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other":w==="localities"?n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other":n===w,y=w=>w==="events-related"?["events","organisers","leadership-roles","committees","students","teachers"].includes(n):w==="users-related"?["users","superusers","users-students","users-teachers"].includes(n):w==="schools-related"?["schools","localities"].includes(n):w==="organisers"?["students","teachers"].includes(n):!1;return b.useEffect(()=>{d(0),o(!0)},[n]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>r("dashboard"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(g("dashboard"),!1,!1,1)}`,children:"Dashboard"}),s.jsx("button",{onClick:()=>r("events"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(g("masterlists"),!1,!1,1)}`,children:"Masterlists"})]}),(g("masterlists")||n==="events"||n==="students"||n==="teachers"||n==="users"||n==="superusers"||n==="global-students"||n==="global-teachers"||n==="users-students"||n==="users-teachers"||n==="schools"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex space-x-2",children:h.map(w=>s.jsx("button",{onClick:()=>{r(w.id==="users-related"?"users":w.id==="schools-related"?"schools":w.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(w.id),!1,y(w.id),2)}`,children:w.label},w.id))}),n==="events-related"||n==="events"||n==="organisers"||n==="leadership-roles"||n==="committees"||n==="students"||n==="teachers"?s.jsx("div",{className:"flex space-x-2",children:m["events-related"]?.map(w=>s.jsx("button",{onClick:()=>r(w.id==="organisers"?"students":w.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(w.id),!0,y(w.id),3)}`,children:w.label},w.id))}):null,n==="students"||n==="teachers"?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>r("students"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p("students"),!0,!1,4)}`,children:"Students"}),s.jsx("button",{onClick:()=>r("teachers"),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p("teachers"),!0,!1,4)}`,children:"Teachers"})]}):null,n==="users-related"||n==="users"||n==="superusers"||n==="users-students"||n==="users-teachers"?s.jsx("div",{className:"flex space-x-2",children:m["users-related"]?.map(w=>s.jsx("button",{onClick:()=>{r(w.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(w.id),!0,y(w.id),3)}`,children:w.label},w.id))}):null,n==="users-related"||n==="users"||n==="superusers"||n==="users-students"||n==="users-teachers"?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{o(!0)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${l?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:"Students"}),s.jsx("button",{onClick:()=>{o(!1)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${l?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100":"bg-[#C6DAF4] text-white"}`,children:"Teachers"})]}):null,n==="schools-related"||n==="schools"||n==="departments"||n==="programs"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other"?s.jsx("div",{className:"flex space-x-2",children:m["schools-related"]?.map(w=>s.jsx("button",{onClick:()=>{r(w.id)},className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] ${x(p(w.id),!0,y(w.id),3)}`,children:w.label},w.id))}):null,n==="schools-related"||n==="schools"||n==="departments"||n==="programs"||n==="localities"||n==="dubai"||n==="abu-dhabi"||n==="al-ain"||n==="sharjah"||n==="ajman"||n==="ras-al-khaimah"||n==="umm-al-quwain"||n==="other"?s.jsx("div",{className:"flex space-x-2",children:m["schools-city-related"]?.map((w,E)=>s.jsx("button",{onClick:()=>{console.log("MasterlistsNavigation - School locality clicked:",w.label,"index:",E),d(E)},className:`w-[130px] h-[58px] px-[5px] py-[5px] text-sm rounded-[20px] font-medium transition-colors duration-200 ${c===E?"bg-[#C6DAF4] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:w.label},w.id))}):null]})]})},j4=()=>{const[n,r]=b.useState(""),{allEvents:l}=Wt(),o=b.useMemo(()=>{if(!l||l.length===0)return console.log("EventsPage: No events found or empty array"),[];if(!n.trim())return console.log("EventsPage: No search term, returning all events"),l;const d=n.toLowerCase();return l.filter(h=>{const m=h?.name?.toLowerCase()||"",x=h?.locality?.name?.toLowerCase()||"",g=h?.id?.toString().toLowerCase()||"";return m.includes(d)||x.includes(d)||g.includes(d)})},[l,n]),c=(d,h)=>{console.log(`Action: ${d} on Event: ${h}`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:d=>r(d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(v4,{events:o,onAction:c})]})},An="data:image/svg+xml,%3csvg%20width='14'%20height='20'%20viewBox='0%200%2014%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%200H3C1.483%200%200.25%201.233%200.25%202.75V17.336C0.25%2018.529%201.221%2019.5%202.414%2019.5C2.983%2019.5%203.54%2019.27%203.944%2018.866L5.823%2016.987C6.45%2016.358%207.548%2016.358%208.176%2016.987L10.055%2018.866C10.458%2019.268%2011.016%2019.499%2011.585%2019.499C12.778%2019.499%2013.749%2018.528%2013.749%2017.335V2.75C13.749%201.233%2012.516%200%2010.999%200H11Z'%20fill='%23C2A46D'/%3e%3c/svg%3e",N4=({organisers:n,onAction:r,organiserType:l="all"})=>{const[o,c]=b.useState(null),[d,h]=b.useState(null),[m,x]=b.useState(!1),[g,p]=b.useState(""),[y,w]=b.useState([]),[E,N]=b.useState(null),[A,_]=b.useState(null),[D,T]=b.useState(!1),[U,K]=b.useState([]),[$,I]=b.useState(!1),[V,oe]=b.useState(null),le=b.useRef(null),{refreshUserData:be,allUsers:_e}=Wt();b.useEffect(()=>{const k=J=>{le.current&&!le.current.contains(J.target)&&T(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),b.useEffect(()=>{if(!g.trim())w(n);else{const k=n.filter(J=>{const de=g.toLowerCase(),q=J?.users?.username||"",we=J?.users?.fullname||"",xe=J?.users?.school_location||"",ze=J?.school?.name||J?.school||"",Ie=J?.role||"";return q.toLowerCase().includes(de)||we.toLowerCase().includes(de)||xe.toLowerCase().includes(de)||ze.toLowerCase().includes(de)||Ie.toLowerCase().includes(de)});w(k)}},[g,n]);const Ne=k=>{c(o===k?null:k)},Q=()=>{x(!0),_(null),T(!1),K([]),N({id:"",username:"",locality:"",fullname:"",school:"",role:"",evidence:"",status:"pending",users:{id:""},created_at:null,actioned_at:null})},X=(k,J)=>{N(de=>({...de,[k]:J})),J.trim()?(T(!0),_(null),ce(J.trim())):(T(!1),_(null),K([]),N(de=>({...de,fullname:"",locality:"",school:"",role:"",evidence:""})))},ce=k=>{const J=new Set(n.map(q=>q.users?.id||q.id)),de=_e.filter(q=>{const we=q.username?.toLowerCase().includes(k.toLowerCase()),xe=!J.has(q.id);let ze=!0;return l==="students"?ze=q.role==="student":l==="teachers"&&(ze=q.role==="teacher"),we&&xe&&ze});K(de)},j=k=>{N(J=>({...J,user_id:k.id||"",school_id:k.school_id||"",locality_id:k.school.locality_id||"",username:k.username||"",fullname:k.fullname||"",locality:k.school.code||"",school:k.school?.name||"",role:k.role_in_event||k.role||"",evidence:k.evidence||"Internal",users:{id:k.id||""},...l==="students"?{grade:k.grade||""}:{years_of_experience:k.years_of_experience||""}})),_(!0),T(!1),K([])},M=async()=>{try{if(!E.username||!E.fullname||!E.school){L.error("Please fill in all required fields (Username, Name, School)");return}const k=localStorage.getItem("userId"),J=await jw(E.user_id||"",E.school_id||"",E.locality_id||"",E.role,E.evidence,"pending",k||"");J.success?(L.success("New organiser added successfully!"),x(!1),_(null),T(!1),K([]),N({id:"",username:"",fullname:"",locality:"",school:"",role:"",evidence:"",status:"pending",users:{id:""},created_at:null,actioned_at:null}),await be()):L.error(J.message||"Failed to save new organiser")}catch(k){console.error("Error saving new organiser:",k),L.error(k.message||"Failed to save new organiser")}},te=k=>{oe(k),I(!0),c(null)},z=async()=>{if(V){h(V);try{const k=await ww(V);k.success?(L.success(k.message),await be(),r("delete",V)):L.error(k.message)}catch(k){console.error("Error deleting organiser:",k),L.error("Failed to delete organiser")}finally{h(null),I(!1),oe(null)}}},C=()=>{I(!1),oe(null)},P=async(k,J)=>{h(J);try{const de=await vw(J,k);de.success?(L.success(de.message),await be()):L.error(de.message),r(k,J)}catch(de){console.error("Error updating organiser status:",de),L.error("Failed to update organiser status")}finally{h(null)}c(null)},se=k=>{if(!k)return"text-gray-600";switch(k.toLowerCase()){case"approved":return"text-green-600";case"pending":return"text-orange-500";case"rejected":return"text-red-600";case"flagged":return"text-yellow-500";case"blocked":return"text-red-600";default:return"text-gray-600"}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search organisers...",value:g,onChange:k=>p(k.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("div",{className:"grid grid-cols-12 gap-2 mb-2",children:["UserID","Organiser ID","Username","Name",l==="students"?"Academic Level":"Teaching Experience","School","Role in Event","Evidence","Date Received","Date Actioned","Status"," "].map((k,J)=>k===" "?s.jsx("div",{},k):s.jsxs("div",{className:`px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${J<4?"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between":"bg-[#F0F7FF] border border-[#4A5F7A] flex items-center"}`,children:[s.jsx("span",{children:k}),J<4&&s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},k))}),y.length===0&&!m?s.jsx("div",{className:"text-center py-8 text-gray-500",children:g?"No organisers found matching your search":"No organisers found"}):y.length>0?y.map(k=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:k?.users.id.split("-")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:k?.id.split("-")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.users.username||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.users.fullname||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:l==="students"?k?.users?.grade||"N/A":k?.users?.years_of_experience||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.school?.name||k?.school||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.role||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.evidence?typeof k.evidence=="object"&&k.evidence.file_url?s.jsx("div",{className:"flex items-center justify-center",children:k.evidence.file_url==="Internal"?s.jsx("span",{children:k.evidence.file_url}):s.jsxs("button",{onClick:()=>window.open(k.evidence.file_url,"_blank"),className:"flex items-center justify-center p-1 rounded hover:bg-gray-100 transition-colors duration-200",title:"Click to open document",children:["Document",s.jsx("svg",{className:"w-5 h-5 text-blue-600 hover:text-blue-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})}):s.jsx("span",{children:typeof k.evidence=="string"?k.evidence:"Document"}):"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.created_at?.split("T")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:k?.actioned_at?.split("T")[0]||"N/A"}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:d===k?.id?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("span",{className:`font-medium ${se(k?.status)}`,children:k?.status||"N/A"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>Ne(k?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===k?.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[k?.status?.toLowerCase()!=="approved"&&s.jsx("button",{onClick:()=>P("approved",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Approve"}),k?.status?.toLowerCase()!=="rejected"&&s.jsx("button",{onClick:()=>P("rejected",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Reject"}),k?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>P("flagged",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Flag"}),k?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>P("blocked",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Block"}),(k?.status?.toLowerCase()==="flagged"||k?.status?.toLowerCase()==="blocked")&&s.jsx("button",{onClick:()=>P("approved",k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Activate"}),s.jsx("button",{onClick:()=>te(k?.id||""),disabled:d===k?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===k?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},k?.id||Math.random())):null,m&&s.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.users?.id?.split("-")[0],placeholder:"Auto populated",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.organiser_id||"N/A",placeholder:"Auto populated",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsxs("div",{ref:le,className:`px-3 py-2 text-sm rounded-md border relative ${A===!0?"bg-green-50 border-green-300":A===!1?"bg-red-50 border-red-300":"bg-white border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"text",value:E.username,onChange:k=>X("username",k.target.value),onFocus:()=>{E.username.trim()&&(T(!0),ce(E.username.trim()))},placeholder:"Enter username to populate fields",className:"w-full border-none outline-none text-sm bg-transparent",autoComplete:"off"}),A===!0&&s.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),A===!1&&s.jsx("svg",{className:"w-4 h-4 text-red-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),D&&U.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:U.map((k,J)=>s.jsxs("div",{onClick:()=>j(k),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium text-gray-900",children:k.username}),s.jsx("div",{className:"text-xs text-gray-500",children:k.fullname}),s.jsxs("div",{className:"text-xs text-gray-400",children:[k.school?.name||k.school_name||k.schoolName||k.school||"No school","  ",k.locality?.name||k.school_location||k.locality||"No location"]})]},k.id||J))}),D&&U.length===0&&E.username.trim()&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50",children:s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No available users found"})})]}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.fullname,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:l==="students"?E.grade||"":E.years_of_experience||"",disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.school,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.role,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.evidence,disabled:!0,placeholder:"Auto populated",className:"w-full border-none outline-none text-sm"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.created_at?.split("T")[0]||"N/A",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:E.actioned_at?.split("T")[0]||"N/A",className:"w-full border-none outline-none text-sm",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("span",{className:"font-medium text-orange-500",children:"Pending"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("img",{src:An,alt:"Save",className:"w-4 h-4"})})})]}),s.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[s.jsx("button",{onClick:Q,disabled:m,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${m?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:M,disabled:!m,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${m?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),s.jsx(Tr,{isOpen:$,onClose:C,onConfirm:z,title:"Confirm Delete",message:"Are you sure you want to delete this organiser? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},gu=({type:n="organisers"})=>{const[r,l]=b.useState(""),{allOrganisers:o}=Wt(),c=o.filter(g=>g.users.role==="student"),d=o.filter(g=>g.users.role==="teacher"),h=()=>{switch(n){case"students":return c||[];case"teachers":return d||[];default:return o||[]}},m=b.useMemo(()=>{const g=h();if(!g||g.length===0)return[];if(!r.trim())return g;const p=r.toLowerCase();return g.filter(y=>{const w=y?.users?.fullname?.toLowerCase()||"",E=y?.users?.username?.toLowerCase()||"",N=y?.school?.name?.toLowerCase()||y?.school?.toLowerCase()||"",A=y?.users?.id?.toString().toLowerCase()||"",_=y?.role?.toLowerCase()||"",D=y?.users?.school_location?.toLowerCase()||"";return w.includes(p)||E.includes(p)||N.includes(p)||A.includes(p)||_.includes(p)||D.includes(p)})},[n,o,r]),x=g=>{};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:r,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(N4,{organisers:m,onAction:x,organiserType:n==="students"?"students":n==="teachers"?"teachers":"all"})]})},Mt={success:n=>L.success(n),error:n=>L.error(n),warning:n=>L.warning(n),info:n=>L.info(n),loading:n=>L.loading(n),promise:(n,{loading:r,success:l,error:o})=>L.promise(n,{loading:r,success:l,error:o})},S4=({leadershipRoles:n,onRefresh:r})=>{const[l,o]=b.useState(!1),[c,d]=b.useState(null),[h,m]=b.useState(null),[x,g]=b.useState({abbr:"",leadership_role:""}),[p,y]=b.useState({abbr:"",leadership_role:""}),[w,E]=b.useState(""),[N,A]=b.useState([]),[_,D]=b.useState(!1),[T,U]=b.useState(null);b.useEffect(()=>{if(!w.trim())A(n);else{const Q=n.filter(X=>{const ce=w.toLowerCase();return X.id.toLowerCase().includes(ce)||X.abbr.toLowerCase().includes(ce)||X.leadership_role.toLowerCase().includes(ce)});A(Q)}},[w,n]);const K=async()=>{if(!x.abbr.trim()||!x.leadership_role.trim()){Mt.error("Please fill in all fields");return}try{const Q=await Fw(x.abbr.trim(),x.leadership_role.trim());Q.success?Mt.success("Leadership role created successfully"):Mt.error(Q.message||"Failed to create leadership role"),g({abbr:"",leadership_role:""}),o(!1),r()}catch(Q){Mt.error(Q.message||"Failed to create leadership role")}},$=async Q=>{if(!p.abbr.trim()||!p.leadership_role.trim()){Mt.error("Please fill in all fields");return}try{const X=await Iw(Q,p.abbr.trim(),p.leadership_role.trim());X.success?Mt.success("Leadership role updated successfully"):Mt.error(X.message||"Failed to update leadership role"),y({abbr:"",leadership_role:""}),d(null),r()}catch(X){Mt.error(X.message||"Failed to update leadership role")}},I=Q=>{U(Q),D(!0),m(null)},V=async()=>{if(T)try{const Q=await Pw(T);Q.success?Mt.success("Leadership role deleted successfully"):Mt.error(Q.message||"Failed to delete leadership role"),r()}catch(Q){Mt.error(Q.message||"Failed to delete leadership role")}finally{D(!1),U(null)}},oe=()=>{D(!1),U(null)},le=Q=>{console.log("Edit button clicked for role:",Q),y({abbr:Q.abbr,leadership_role:Q.leadership_role}),d(Q.id),m(null)},be=Q=>{m(h===Q?null:Q)};b.useEffect(()=>{const Q=X=>{h&&(X.target.closest(".context-menu")||m(null))};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[h]);const _e=()=>{d(null),y({abbr:"",leadership_role:""})},Ne=()=>{o(!1),g({abbr:"",leadership_role:""}),m(null)};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search",value:w,onChange:Q=>E(Q.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_0.25fr] gap-2 mb-2",children:["ID","ABBR","Leadership Role"," "].map(Q=>Q===" "?s.jsx("div",{},Q):s.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:Q}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},Q))}),N.length===0&&!l?s.jsx("div",{className:"text-center py-8 text-gray-500",children:w?"No leadership roles found matching your search":"No leadership roles found"}):N.length>0?N.map(Q=>s.jsxs("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_auto] gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:Q.id}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:c===Q.id?s.jsx("input",{type:"text",value:p.abbr,onChange:X=>y({...p,abbr:X.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Abbreviation"}):Q.abbr}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:c===Q.id?s.jsx("input",{type:"text",value:p.leadership_role,onChange:X=>y({...p,leadership_role:X.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Leadership Role Title"}):Q.leadership_role}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[c===Q.id?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>$(Q.id),className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:An,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:_e,className:"text-red-600 hover:text-red-800 text-sm",children:""})]}):s.jsx("button",{onClick:()=>be(Q.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),h===Q.id&&!l&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 context-menu",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:X=>{X.preventDefault(),X.stopPropagation(),console.log("Edit button clicked"),le(Q)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Edit"}),s.jsx("button",{onClick:X=>{X.preventDefault(),X.stopPropagation(),console.log("Add button clicked from dropdown"),o(!0),m(null)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Add"}),s.jsx("button",{onClick:X=>{X.preventDefault(),X.stopPropagation(),console.log("Delete button clicked"),I(Q.id)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Delete"})]})})]})})]},Q.id)):null,l&&s.jsxs("div",{className:"w-[600px] grid grid-cols-[0.5fr_0.5fr_2fr_auto] gap-2 mb-2",children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:"Auto generated",placeholder:"Auto generated",className:"w-full border-none outline-none text-sm text-gray-500",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:x.abbr,onChange:Q=>g({...x,abbr:Q.target.value}),placeholder:"Add an abbreviation",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:x.leadership_role,onChange:Q=>g({...x,leadership_role:Q.target.value}),placeholder:"Add a title",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:K,className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:An,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:Ne,className:"text-red-600 hover:text-red-800 text-sm",children:"cancel"})]})})]}),s.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>o(!0),disabled:l,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${l?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:K,disabled:!l,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${l?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),s.jsx(Tr,{isOpen:_,onClose:oe,onConfirm:V,title:"Delete Leadership Role",message:"Are you sure you want to delete this leadership role? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},C4=()=>{const[n,r]=b.useState(""),{allLeadershipRoles:l,refreshLeadershipRolesData:o,isLoading:c}=Wt(),d=b.useMemo(()=>{if(!l||l.length===0)return[];if(!n.trim())return l;const h=n.toLowerCase();return l.filter(m=>{const x=String(m.id||"").toLowerCase(),g=String(m.abbr||m.abbr||"").toLowerCase(),p=String(m.leadership_role||m.leadership_role||"").toLowerCase();return x.includes(h)||g.includes(h)||p.includes(h)})},[l,n]);return c?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading leadership roles..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:h=>r(h.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(S4,{leadershipRoles:d,onRefresh:o})]})},E4=({committees:n,onRefresh:r,committeeType:l})=>{const[o,c]=b.useState(!1),[d,h]=b.useState(null),[m,x]=b.useState(null),[g,p]=b.useState({abbr:"",committee:""}),[y,w]=b.useState({abbr:"",committee:""}),[E,N]=b.useState(""),[A,_]=b.useState([]),[D,T]=b.useState(!1),[U,K]=b.useState(null);b.useEffect(()=>{let X=n.filter(ce=>ce.category===l);if(E.trim()){const ce=E.toLowerCase();X=X.filter(j=>String(j.id).toLowerCase().includes(ce)||j.abbr.toLowerCase().includes(ce)||j.committee.toLowerCase().includes(ce))}_(X)},[E,n,l]);const $=async()=>{if(!g.abbr.trim()||!g.committee.trim()){Mt.error("Please fill in all fields");return}try{const X=await XN(g.abbr.trim(),g.committee.trim(),l);X.success?Mt.success("Committee created successfully"):Mt.error(X.message||"Failed to create committee"),p({abbr:"",committee:""}),c(!1),r()}catch(X){Mt.error(X.message||"Failed to create committee")}},I=async X=>{if(!y.abbr.trim()||!y.committee.trim()){Mt.error("Please fill in all fields");return}try{const ce=await ZN(X,y.abbr.trim(),y.committee.trim(),l);ce.success?Mt.success("Committee updated successfully"):Mt.error(ce.message||"Failed to update committee"),w({abbr:"",committee:""}),h(null),r()}catch(ce){Mt.error(ce.message||"Failed to update committee")}},V=X=>{K(X),T(!0),x(null)},oe=async()=>{if(U)try{const X=await JN(U);X.success?Mt.success("Committee deleted successfully"):Mt.error(X.message||"Failed to delete committee"),r()}catch(X){Mt.error(X.message||"Failed to delete committee")}finally{T(!1),K(null)}},le=()=>{T(!1),K(null)},be=X=>{console.log("Edit button clicked for committee:",X),w({abbr:X.abbr,committee:X.committee}),h(X.id),x(null)},_e=X=>{x(m===X?null:X)};b.useEffect(()=>{const X=ce=>{m&&(ce.target.closest(".context-menu")||x(null))};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[m]);const Ne=()=>{h(null),w({abbr:"",committee:""})},Q=()=>{c(!1),p({abbr:"",committee:""}),x(null)};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 w-[400px]",children:s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search",value:E,onChange:X=>N(X.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-[10px] focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:["ID","ABBR","Committee"," "].map(X=>X===" "?s.jsx("div",{},X):s.jsxs("div",{className:"px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:X}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},X))}),A.length===0&&!o?s.jsx("div",{className:"text-center py-8 text-gray-500",children:E?"No committees found matching your search":"No committees found"}):A.length>0?A.map(X=>s.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:X.id}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:d===X.id?s.jsx("input",{type:"text",value:y.abbr,onChange:ce=>w({...y,abbr:ce.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Abbreviation"}):X.abbr}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:d===X.id?s.jsx("input",{type:"text",value:y.committee,onChange:ce=>w({...y,committee:ce.target.value}),className:"w-full border-none outline-none text-sm bg-transparent",placeholder:"Committee Name"}):X.committee}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative",children:[d===X.id?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>I(X.id),className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:An,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:Ne,className:"text-red-600 hover:text-red-800 text-sm",children:""})]}):s.jsx("button",{onClick:()=>_e(X.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),m===X.id&&!o&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200 context-menu",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),console.log("Edit button clicked"),be(X)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Edit"}),s.jsx("button",{onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),console.log("Add button clicked from dropdown"),c(!0),x(null)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Add"}),s.jsx("button",{onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),console.log("Delete button clicked"),V(X.id)},className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900",children:"Delete"})]})})]})})]},X.id)):null,o&&s.jsxs("div",{className:"grid gap-2 mb-2",style:{gridTemplateColumns:"70px 120px 0.5fr 60px"},children:[s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:"Auto generated",placeholder:"Auto generated",className:"w-full border-none outline-none text-sm text-gray-500",disabled:!0})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:g.abbr,onChange:X=>p({...g,abbr:X.target.value}),placeholder:"Add an abbreviation",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:g.committee,onChange:X=>p({...g,committee:X.target.value}),placeholder:"Add a name",className:"w-full border-none outline-none text-sm bg-transparent"})}),s.jsx("div",{className:"px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:$,className:"hover:opacity-80 transition-opacity duration-200",children:s.jsx("img",{src:An,alt:"Save",className:"w-5 h-5"})}),s.jsx("button",{onClick:Q,className:"text-red-600 hover:text-red-800 text-sm",children:"cancel"})]})})]}),s.jsxs("div",{className:"flex justify-start space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>c(!0),disabled:o,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] mr-[10px] transition-colors duration-200 ${o?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:$,disabled:!o,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${o?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),s.jsx(Tr,{isOpen:D,onClose:le,onConfirm:oe,title:"Delete Committee",message:"Are you sure you want to delete this committee? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},_4=()=>{const[n,r]=b.useState("country"),[l,o]=b.useState([]),[c,d]=b.useState(!0),h=[{id:"country",name:"Country Committees",label:"Country Committees"},{id:"role",name:"Role Committees",label:"Role Committees"},{id:"crisis",name:"Crisis Committees",label:"Crisis Committees"},{id:"open",name:"Open Committees",label:"Open Committees"}],m=async()=>{try{d(!0);const p=await cx();o(p.data||[])}catch(p){console.error("Error fetching committees:",p),Mt.error(p.message||"Failed to fetch committees"),o([])}finally{d(!1)}},x=p=>{r(p)},g=()=>{m()};return b.useEffect(()=>{m()},[]),c?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Ar,{size:"large",text:"Loading committees..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2",children:h.map(p=>s.jsx("button",{onClick:()=>x(p.id),className:`text-sm font-medium transition-colors ${n===p.id?"bg-[#C6DAF4] text-white":"bg-white text-black border border-gray-800"}`,style:{width:"200px",height:"58px",borderRadius:"20px",padding:"5px"},children:p.label},p.id))}),s.jsx(E4,{committees:l,onRefresh:g,committeeType:n})]})},k4=()=>{const n=Bt(),[r,l]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState("student"),[m,x]=b.useState(!1),[g,p]=b.useState({}),y=E=>{h(E)},w=async()=>{try{x(!0);const E={},N=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(r){if(!N.test(r)){E.email="Please enter a valid Gmail address",L.error("Please enter a valid Gmail address"),x(!1);return}}else{E.email="Email is required",L.error("Email is required"),x(!1);return}if(o){if(o.length<6){E.password="Password must be at least 6 characters",L.error("Password must be at least 6 characters"),x(!1);return}}else{E.password="Password is required",L.error("Password is required"),x(!1);return}if(Object.keys(E).length>0){p(E),L.error("Please fill in all required fields"),x(!1);return}const A=await g4(r,o,d);if(A.success){const _=await rw(r,d);if(!_.success)throw new Error(_.message);L.success("Account created successfully!"),n("/email-verification",{state:{email:r}})}else throw new Error(A.message)}catch(E){L.error(E.message)}finally{x(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:s.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:s.jsxs("div",{className:"flex h-[760px]",children:[s.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[s.jsx("div",{className:"mb-10",children:s.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:s.jsx(Bn,{size:"figma"})})}),s.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),s.jsx("div",{className:"flex items-center mt-20 mb-10",children:s.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),s.jsx("div",{className:"mt-16",children:s.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),s.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(hx,{type:"email",name:"email",placeholder:"Email",value:r,onChange:E=>l(E.target.value),error:g.email,className:"w-full"}),s.jsx(fx,{name:"password",placeholder:"Password",value:o,onChange:E=>c(E.target.value),error:g.password,className:"w-full"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Hl,{type:"button",variant:d==="student"?"role-select-active":"role-select",onClick:()=>y("student"),className:"flex-1 py-3.5 rounded-[16px] text-sm font-medium text-black",children:"Student"}),s.jsx(Hl,{type:"button",variant:d==="teacher"?"role-select-active":"role-select",onClick:()=>y("teacher"),className:"flex-1 py-3.5 rounded-[16px] text-sm font-medium border border-black",children:"Teacher"})]}),s.jsx(Hl,{variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold",style:{backgroundColor:"#C2A46D"},onClick:w,disabled:m,children:m?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):"Sign Up"}),s.jsxs("div",{className:"flex justify-between items-center text-xs mt-5",children:[s.jsxs("span",{className:"text-gray-600",children:["Have an account?"," ",s.jsx(Vl,{to:"/login",className:"text-[#1E395D] hover:underline font-medium underline",children:"Log In"})]}),s.jsx("a",{href:"#",className:"text-[#1E395D] hover:underline font-medium underline",children:"Read Terms and Conditions"})]})]})})})]})})})},A4=async()=>{try{const n=await Ta();return!!(n.data&&n.data.fullname&&n.data.username)}catch{return!1}},D4=()=>{const n=Bt(),[r,l]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState(!1),[m,x]=b.useState({}),g=async(p,y)=>{try{h(!0);const w={},E=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(p){if(!E.test(p)){w.email="Please enter a valid Gmail address",L.error("Please enter a valid Gmail address"),h(!1);return}}else{w.email="Email is required",L.error("Email is required"),h(!1);return}if(y){if(y.length<6){w.password="Password must be at least 6 characters",L.error("Password must be at least 6 characters"),h(!1);return}}else{w.password="Password is required",L.error("Password is required"),h(!1);return}if(Object.keys(w).length>0){x(w),L.error("Please fill in all required fields"),h(!1);return}const N=await p4(p,y);if(!N.success)throw new Error(N.message);const A=await aw(p);if(A.success){localStorage.setItem("userId",A.user.id),localStorage.setItem("userRole",A.user.role);const U=await yw();U.success&&localStorage.setItem("organiserId",U.data.id)}else throw new Error(A.message);if(L.success("Login successful"),N.data?.session?.access_token)localStorage.setItem("token",N.data.session.access_token);else throw new Error(N.message);const _=localStorage.getItem("userRole")||"student",D=localStorage.getItem("organiserId"),T=await A4();n(D?"/organiser":_==="student"?T?"/student-home":"/student-profile":T?"/teacher-home":"/teacher-profile")}catch(w){L.error(w.message)}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:s.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:s.jsxs("div",{className:"flex h-[760px]",children:[s.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[s.jsx("div",{className:"mb-10",children:s.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:s.jsx(Bn,{size:"figma"})})}),s.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),s.jsx("div",{className:"flex items-center mt-20 mb-10",children:s.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),s.jsx("div",{className:"mt-16",children:s.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),s.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:s.jsx("div",{className:"w-full max-w-md mb-20",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(hx,{type:"email",name:"email",placeholder:"Email",value:r,onChange:p=>l(p.target.value),error:m.email,className:"w-full"}),s.jsx(fx,{name:"password",placeholder:"Password",value:o,onChange:p=>c(p.target.value),error:m.password,className:"w-full"}),s.jsx(Hl,{type:"button",onClick:()=>g(r,o),variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold",style:{backgroundColor:"#C2A46D"},disabled:d,children:d?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})}):"Log In"}),s.jsxs("div",{className:"flex justify-between items-center text-xs mt-5",children:[s.jsxs("span",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(Vl,{to:"/signup",className:"text-[#1E395D] hover:underline font-medium underline",children:"Sign Up"})]}),s.jsx("a",{href:"#",className:"text-[#1E395D] hover:underline font-medium underline",children:"Forgot Password?"})]})]})})})]})})})},T4=()=>{const n=Js(),r=Bt(),l=n.state?.email||"",[o,c]=b.useState(!1),[d,h]=b.useState(0);Ee.useEffect(()=>{l||r("/signup")},[l,r]);const m=async()=>{if(d>0){L.error(`Please wait ${d} seconds before resending`);return}try{c(!0);const x=await b4(l);if(x.success){L.success(x.message),h(60);const g=setInterval(()=>{h(p=>p<=1?(clearInterval(g),0):p-1)},1e3)}else L.error(x.message)}catch(x){L.error(x.message||"Failed to resend verification email")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7F7F7] flex items-center justify-center p-6",children:s.jsx("div",{className:"overflow-hidden w-full max-w-5xl",children:s.jsxs("div",{className:"flex h-[760px]",children:[s.jsxs("div",{className:"w-[566px] bg-[#1E395D] flex flex-col items-center justify-end p-12 relative flex-shrink-0 rounded-[32px]",children:[s.jsx("div",{className:"mb-10",children:s.jsx("div",{className:"bg-[#F7F7F7] p-6 rounded-[24px] shadow-lg",children:s.jsx(Bn,{size:"figma"})})}),s.jsx("h2",{className:"text-[#F7F7F7] text-[21px] font-normal mb-12 text-center leading-normal font-[Poppins]",children:"Quest for Leadership, Quest for Change"}),s.jsx("div",{className:"flex items-center mt-20 mb-10",children:s.jsx("h1",{className:"text-[#F7F7F7] text-[32px] font-normal text-center leading-normal",children:'"Future Leaders Start Here"'})}),s.jsx("div",{className:"mt-16",children:s.jsx("p",{className:"text-[#AAA] text-center font-[Poppins] text-[16px] font-normal leading-normal",children:" Iman Praveesh Hassan"})})]}),s.jsx("div",{className:"flex flex-col items-center justify-center p-10 flex-1",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-[#C2A46D] rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),s.jsx("h1",{className:"text-[#1E395D] text-[32px] font-bold text-center leading-normal",children:"Verify Your Email"}),s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsx("p",{className:"text-gray-700 text-[16px] leading-relaxed",children:"We've sent a verification email to:"}),s.jsx("p",{className:"text-[#1E395D] text-[18px] font-semibold break-all px-2",children:l}),s.jsx("div",{className:"bg-[#FFF8E7] border-l-4 border-[#C2A46D] p-4 rounded-r-lg text-left",children:s.jsxs("p",{className:"text-gray-800 text-[14px] leading-relaxed",children:[s.jsx("span",{className:"font-semibold",children:" Important:"})," Please check your email inbox",s.jsx("span",{className:"font-semibold",children:" including Spam/Promotions folders"})," to verify your account."]})}),s.jsx("p",{className:"text-gray-600 text-[14px] leading-relaxed",children:"Click the verification link in the email to activate your account and log in."})]}),s.jsx(Hl,{variant:"primary",className:"w-full py-4 rounded-[32px] text-base font-bold mt-6",style:{backgroundColor:d>0?"#9CA3AF":"#C2A46D",cursor:d>0?"not-allowed":"pointer"},onClick:m,disabled:o||d>0,children:o?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{className:"ml-2",children:"Sending..."})]}):d>0?`Resend in ${d}s`:"Resend Verification Email"}),s.jsx("div",{className:"flex justify-center items-center text-sm mt-6",children:s.jsxs("span",{className:"text-gray-600",children:["Already verified?"," ",s.jsx(Vl,{to:"/login",className:"text-[#1E395D] hover:underline font-medium underline",children:"Log In"})]})}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("p",{className:"text-gray-500 text-xs",children:"Didn't receive the email? Check your spam folder or click resend."})})]})})})]})})})},Ss=({children:n,loadingText:r="Loading...",delay:l=1e3})=>{const[o,c]=b.useState(!0);return b.useEffect(()=>{const d=setTimeout(()=>{c(!1)},l);return()=>clearTimeout(d)},[l]),o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(Ar,{size:"large",text:r})}):s.jsx(s.Fragment,{children:n})},R4=()=>{const n=Bt(),[r,l]=b.useState(!0);b.useEffect(()=>{(async()=>{try{if(localStorage.getItem("organiserId")){const h=await Ip();if(h.success&&h.data&&h.data.length>0){n("/dashboard");return}}else{const h=await Fp();if(h.success&&h.data&&h.data.length>0){n("/dashboard");return}}}catch(d){console.error("Error checking events:",d)}finally{l(!1)}})()},[n]);const o=()=>{n("/request-approval")};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(Ar,{size:"large",text:"Loading events..."})}):s.jsx(Ss,{loadingText:"Loading Home...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(rs,{}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsx("div",{className:"mt-6 flex justify-end space-x-4",children:s.jsxs("button",{onClick:o,className:"bg-[#1E395D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#1a2f4a] transition-colors duration-200 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Organiser"]})})})}),s.jsx("div",{className:"bg-[#1E395D] min-h-[calc(100vh-200px)] flex flex-col items-center justify-center px-6",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-white rounded-lg p-8 inline-block",children:s.jsx(Bn,{size:"large"})})}),s.jsx("h2",{className:"text-white text-2xl md:text-3xl font-medium mb-8 leading-relaxed",children:"Quest for Leadership, Quest for Change"}),s.jsx("h1",{className:"text-white text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:'"Future Leaders Start Here"'})]})}),s.jsx("div",{className:"bg-[#1E395D] py-4",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-white text-sm",children:" Iman Praveesh Hassan"})})})]})})},O4=()=>{const n=Bt(),[r,l]=b.useState("Upcoming"),[o,c]=b.useState(!0),[d,h]=b.useState([]);b.useEffect(()=>{(async()=>{try{const E=await Fp();if(E.success&&E.data&&E.data.length>0)h(E.data);else{n("/home");return}}catch(E){console.error("Error checking events:",E),n("/home");return}finally{c(!1)}})()},[n]);const m=()=>{n("/request-approval")},x=async w=>{const E=localStorage.getItem("userRole");n(E==="student"?`/student-registration/${w}`:`/teacher-registration/${w}`)},p=(()=>{const w=new Date;switch(r){case"Upcoming":return d.filter(E=>new Date(E.start_date)>w&&E.status!=="cancelled");case"Registered":return[];case"Past":return d.filter(E=>new Date(E.start_date)<w&&E.status!=="cancelled");case"Cancelled":return d.filter(E=>E.status==="cancelled");default:return d}})();if(o)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(Ar,{size:"large",text:"Loading events..."})});const y=["Upcoming","Registered","Past","Cancelled"];return s.jsx(Ss,{loadingText:"Loading Dashboard...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(rs,{}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsxs("button",{onClick:m,className:"bg-[#1E395D] text-white font-medium flex items-center transition-colors duration-200",style:{width:160,height:40,borderRadius:30,borderWidth:1,borderStyle:"solid",padding:10},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6",children:s.jsx("div",{className:"flex space-x-8",children:y.map(w=>s.jsx("button",{onClick:()=>l(w),className:`py-4 px-1 text-sm font-medium border-b-2 transition-colors duration-200 ${r===w?"border-[#1E395D] text-[#1E395D]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:w},w))})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(w=>s.jsxs("div",{onClick:()=>x(w.id),className:"border border-gray-800 bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:s.jsx("img",{src:w.cover_image||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:w.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:w.name}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),w.start_date]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),w.locality.name]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),w.fees_per_delegate]})]})]})]},w.id))}),p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",r.toLowerCase()," events"]}),s.jsxs("p",{className:"text-gray-500",children:["There are no ",r.toLowerCase()," events at the moment."]})]})]})]})})},L4=()=>{const n=Bt(),[r,l]=b.useState(""),[o,c]=b.useState(""),[d,h]=b.useState(""),[m,x]=b.useState(""),[g,p]=b.useState(""),[y,w]=b.useState(""),[E,N]=b.useState([]),[A,_]=b.useState(!1),[D,T]=b.useState(!1);b.useEffect(()=>{async function I(){const V=await Ta();l(V.data.school.name),c(V.data.school.code),x(V.data.school.locality_id),h(V.data.school.id)}I()},[]);const U=async I=>{try{const V=I.target.files;if(V){T(!0);const oe=Array.from(V).map(be=>be.name),le=await pw(V[0]);le.success?(L.success(le.message),N(be=>[...be,...oe]),w(le.documentUrl)):L.error(le.message)}}catch(V){L.error(V.message)}finally{T(!1)}},K=I=>{N(V=>V.filter(oe=>oe!==I))},$=async()=>{if(!g.trim()){L.error("Please enter your role in event or in school");return}if(!y.trim()){L.error("Please upload evidence documents");return}_(!0);try{const I=await xw(d,m,g,y);I.success?(L.success(I.message),n("/request-under-verification")):(L.error(I.message),_(!1))}catch(I){L.error(I.message),_(!1)}finally{_(!1)}};return s.jsx(Ss,{loadingText:"Loading Request Approval...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(rs,{}),s.jsxs("div",{className:"max-w-[62rem] mx-auto px-6 py-12",children:[s.jsx("h1",{className:"font-bold text-[#C2A46D] mb-8 text-left",style:{fontSize:"40px"},children:"Request for Approval"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"font-bold text-black mb-6",style:{fontSize:"30px"},children:"Organiser Info"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School"}),s.jsx("input",{type:"text",disabled:!0,value:r,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter school name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Locality"}),s.jsx("input",{type:"text",disabled:!0,value:o,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter locality"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Role in Event or in School"}),s.jsx("input",{type:"text",value:g,onChange:I=>p(I.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",placeholder:"Enter your role"})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Evidence"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"text",placeholder:"E.g. Letter from School or / and ID",className:"w-[350px] px-4 py-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#607DA3] focus:border-transparent",readOnly:!0}),s.jsxs("label",{className:`px-4 py-3 rounded-r-lg transition-colors duration-200 ${D?"bg-gray-400 cursor-not-allowed":"bg-[#607DA3] text-white cursor-pointer hover:bg-[#1a2f4a]"}`,style:{height:"50px",display:"flex",alignItems:"center",justifyContent:"center"},children:[D?s.jsx(Ar,{size:"small",text:""}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("input",{type:"file",multiple:!0,onChange:U,disabled:D,className:"hidden"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"grey",fontSize:"12px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Uploaded Files"}),s.jsx("div",{className:"space-y-2",children:E.map((I,V)=>s.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-gray-50 px-4 py-3 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:I}),s.jsx("button",{onClick:()=>K(I),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},V))})]})]}),s.jsx("div",{className:"text-left",children:s.jsx("button",{onClick:$,disabled:A,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",backgroundColor:"#D9C7A1",color:"white",fontWeight:500,transition:"background-color 0.2s",opacity:A?.5:1,cursor:A?"not-allowed":"pointer"},onMouseOver:I=>I.currentTarget.style.background="#B8945F",onMouseOut:I=>I.currentTarget.style.background="#C2A46D",children:A?"Submitting...":"Submit"})})]})]})})},U4=()=>{const n=Bt();return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(rs,{}),s.jsx("div",{className:"max-w-[75rem] mx-auto px-6 py-12",style:{paddingTop:"15rem"},children:s.jsxs("div",{className:"text-left",children:[s.jsx("h1",{style:{color:"#000",textAlign:"center",fontSize:"40px",fontStyle:"normal",fontWeight:500,lineHeight:"150%",marginBottom:"1rem"},children:"Your request is under verification"}),s.jsx("p",{style:{color:"#000",textAlign:"center",fontSize:"30px",fontStyle:"normal",fontWeight:400,lineHeight:"150%",marginBottom:"1rem"},children:"We will notify you soon."}),s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",width:"140px",height:"60px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",backgroundColor:"#C2A46D",color:"white",fontWeight:500,fontSize:"16px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer",margin:"auto",marginTop:"3rem"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#B8945F",r.currentTarget.style.transform="translateY(-1px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="#C2A46D",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),s.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]})]})})]})},Ps="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.6807%200.569926C18.9446%20-0.18965%2017.7436%20-0.18965%2017.0075%200.569926L6.89579%2011.0041C6.35341%2011.5638%205.95266%2012.2696%205.75895%2013.043L5.087%2015.6815C4.89329%2016.4273%205.10032%2017.2006%205.62939%2017.7341C6.03014%2018.1476%206.54588%2018.36%207.08826%2018.36C7.26866%2018.36%207.45027%2018.3337%207.61733%2018.2938L10.1743%2017.6004C10.9237%2017.4005%2011.5944%2016.987%2012.1501%2016.4273L22.2618%205.99312C22.9979%205.23355%2022.9979%203.99424%2022.2618%203.23467L19.6807%200.569926ZM11.7131%2015.9751C11.2482%2016.4548%2010.6671%2016.8008%2010.0339%2016.9745L7.47693%2017.6679C6.98661%2017.8016%206.46963%2017.6541%206.10763%2017.2819C5.72021%2016.9071%205.59186%2016.3749%205.72021%2015.8676L6.39215%2013.2291C6.56043%2012.5757%206.89579%2011.9761%207.3607%2011.4963L15.4057%203.19473L19.7582%207.68598L11.7131%2015.9751ZM21.8248%205.54091L20.2098%207.20621L15.8573%202.71497L17.4712%201.04966C17.7169%200.796049%2018.0269%200.676106%2018.3489%200.676106C18.6722%200.676106%2018.9821%200.796039%2019.2267%201.04966L21.8224%203.72816C22.3018%204.22164%2022.3018%205.03367%2021.8248%205.54091Z'%20fill='black'/%3e%3cpath%20d='M22.2246%2011.6698C22.0442%2011.6698%2021.9014%2011.816%2021.9014%2012.0034V20.6785C21.9014%2021.9441%2020.9074%2022.971%2019.6797%2022.971H2.86691C1.64049%2022.971%200.645288%2021.9454%200.645288%2020.6785V3.32825C0.645288%202.06272%201.63925%201.03577%202.86691%201.03577H11.2739C11.4543%201.03577%2011.5972%200.889605%2011.5972%200.702199C11.5972%200.516054%2011.4543%200.369873%2011.2739%200.369873H2.86691C1.27849%200.369873%200%201.70289%200%203.32822V20.6785C0%2022.3038%201.29182%2023.6369%202.86691%2023.6369H19.681C21.2694%2023.6369%2022.5479%2022.3038%2022.5479%2020.6785V12.0034C22.5479%2011.8172%2022.4062%2011.6698%2022.2246%2011.6698Z'%20fill='black'/%3e%3c/svg%3e",M4=()=>{const n=Bt(),[r,l]=b.useState(1),[o,c]=b.useState(""),[d,h]=b.useState(""),[m,x]=b.useState(""),[g,p]=b.useState(""),[y,w]=b.useState(""),[E,N]=b.useState(null),[A,_]=b.useState(null),[D,T]=b.useState(""),[U,K]=b.useState(""),[$,I]=b.useState(""),[V,oe]=b.useState(""),[le,be]=b.useState(""),[_e,Ne]=b.useState(""),[Q,X]=b.useState(""),[ce,j]=b.useState(""),[M,te]=b.useState(""),[z,C]=b.useState({}),[P,se]=b.useState(!1),[k,J]=b.useState(!1),[de,q]=b.useState(!1),[we,xe]=b.useState(!1),ze=[{id:1,name:"Event Info",active:r===1},{id:2,name:"Seats & Fees",active:r===2},{id:3,name:"Event Links",active:r===3}];b.useEffect(()=>{async function ve(){const Pe=await Ta();c(Pe.data.school.name),h(Pe.data.school.code),x(Pe.data.school.locality_id),p(Pe.data.school.id),w(Pe.data.school.area_id)}ve()},[]);const Ie=()=>{const ve={};if(E||(ve.coverImage="Event cover image is required"),A||(ve.eventLogo="Event logo is required"),D.trim()||(ve.eventName="Event name is required"),U.trim()?U.trim().length>500&&(ve.eventDescription="Event description must be upto 500 characters"):ve.eventDescription="Event description is required",$||(ve.eventStartDate="Event start date is required"),V||(ve.eventEndDate="Event end date is required"),$&&V){const Pe=new Date($),Y=new Date(V);Pe>=Y&&(ve.eventEndDate="End date must be after start date")}return r===2&&(le.trim()?(isNaN(Number(le))||Number(le)<=0)&&(ve.numberOfSeats="Number of seats must be a positive number"):ve.numberOfSeats="Number of seats is required",_e.trim()?(isNaN(Number(_e))||Number(_e)<=0)&&(ve.feesPerDelegate="Fees per delegate must be a positive number"):ve.feesPerDelegate="Fees per delegate is required"),r===3&&(ce.trim()?$e(ce)||(ve.website="Please enter a valid website URL"):ve.website="Website is required",M.trim()?G(M)||(ve.instagram="Please enter a valid Instagram handle (e.g., @username)"):ve.instagram="Instagram handle is required"),C(ve),Object.keys(ve).length===0},Me=async()=>{if(r===1){if(!Ie()){L.error("Please fill in all required fields and ensure description is upto 500 characters");return}l(r+1)}else if(r===2){if(!Ie()){L.error("Please fill in all required fields for seats and fees");return}l(r+1)}else if(r===3){if(!Ie()){L.error("Please fill in all required fields for event links");return}try{xe(!0);const ve=localStorage.getItem("organiserId"),Pe=await Mw(D,U,$,V,E,A,m,g,y,le,_e,Q,ce,M,ve);Pe.success?(L.success(Pe.message),n("/event-create-success")):L.error(Pe.message)}catch(ve){L.error("Failed to create event: "+(ve.message||"Unknown error"))}finally{xe(!1)}}else l(r+1)},at=ve=>{z[ve]&&C(Pe=>{const Y={...Pe};return delete Y[ve],Y})},nt=(ve,Pe)=>{I(ve),oe(Pe),at("eventStartDate"),at("eventEndDate")},fe=()=>{q(!de)},me=()=>{q(!1)},Se=(ve,Pe)=>{const Y=Number(ve),je=Number(Pe);!isNaN(Y)&&!isNaN(je)&&Y>0&&je>0?X((Y*je).toString()):X("")},$e=ve=>{try{return new URL(ve.startsWith("http")?ve:`https://${ve}`),!0}catch{return!1}},G=ve=>/^@[a-zA-Z0-9._]+$/.test(ve),O=(ve,Pe,Y)=>{/[^0-9]/.test(ve)&&L.error("Only numbers are allowed in this field");const Ce=ve.replace(/[^0-9]/g,"");Pe(Ce),at(Y)},ge=async(ve,Pe)=>{try{const Y=ve.target.files;if(Y){Pe==="cover"?se(!0):J(!0);const je=await Hp(Y[0]);je.success?(L.success(je.message),Pe==="cover"?(N(je.imageUrl),at("coverImage")):(_(je.imageUrl),at("eventLogo"))):L.error(je.message)}}catch(Y){L.error(Y.message)}finally{Pe==="cover"?se(!1):J(!1)}},Re=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{style:{display:"flex",gap:"8rem",alignItems:"flex-end"},children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-center border-2 border-dashed",style:{width:"400px",height:"225px",flexShrink:0,borderRadius:"20px",background:"#D9C7A1",borderColor:z.coverImage?"#ef4444":"#d1d5db"},children:P?s.jsx(Ar,{size:"large",text:"Uploading..."}):E?s.jsx("img",{src:typeof E=="string"?E:URL.createObjectURL(E),alt:"Event Cover",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}}):s.jsx("div",{className:"text-center text-black font-medium",children:"Event Cover Image"})}),s.jsxs("label",{className:`absolute bottom-0 bg-white rounded-full p-2 shadow-md ${P?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,style:{right:"-2rem"},children:[s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:ve=>ve.target.files?.[0]&&ge(ve,"cover"),disabled:P,className:"hidden"})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"relative w-32 h-32",children:[s.jsx("div",{className:"flex items-center justify-center border-2 border-dashed",style:{width:"128px",height:"128px",flexShrink:0,borderRadius:"20px",background:"#D9C7A1",borderColor:z.eventLogo?"#ef4444":"#d1d5db"},children:k?s.jsx(Ar,{size:"medium",text:"Uploading..."}):A?s.jsx("img",{src:typeof A=="string"?A:URL.createObjectURL(A),alt:"Event Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px"}}):s.jsx("div",{className:"text-center text-black font-medium text-sm",children:"Event Logo"})}),s.jsxs("label",{className:`absolute bottom-0 bg-white rounded-full p-2 shadow-md ${k?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-gray-50"}`,style:{right:"-2rem"},children:[s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"}),s.jsx("input",{type:"file",accept:"image/*",onChange:ve=>ve.target.files?.[0]&&ge(ve,"logo"),disabled:k,className:"hidden"})]})]})})]}),s.jsxs("div",{className:"flex gap-8",children:[s.jsx("div",{children:z.coverImage&&s.jsx("div",{className:"text-red-500 text-sm mt-2",children:z.coverImage})}),s.jsx("div",{children:z.eventLogo&&s.jsx("div",{className:"text-red-500 text-sm mt-2",children:z.eventLogo})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Name"}),s.jsx("input",{type:"text",value:D,onChange:ve=>{T(ve.target.value),at("eventName")},placeholder:"E.g. Global Vision MUN 2025",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.eventName?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.eventName&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.eventName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Description"}),s.jsx("textarea",{value:U,onChange:ve=>{K(ve.target.value),at("eventDescription")},placeholder:"E.g. Describe the event (upto 500 characters)",maxLength:500,rows:4,style:{display:"flex",width:"400px",height:"100px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.eventDescription?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),s.jsx("div",{className:"flex justify-between w-[400px] text-sm mt-1",children:s.jsx("div",{className:z.eventDescription?"text-red-500":"text-gray-500",children:z.eventDescription||`${U.length}/500 maximum`})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Dates"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{onClick:fe,className:"flex items-center justify-between w-[400px] px-4 py-3 border border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",style:{border:z.eventStartDate||z.eventEndDate?"1px solid #ef4444":"1px solid #9CA3AF"},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Start Date"}),s.jsx("span",{className:"text-sm font-medium",children:$?new Date($).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]}),s.jsx("div",{className:"text-gray-400",children:"to"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),s.jsx("span",{className:"text-sm font-medium",children:V?new Date(V).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),de&&s.jsx(mx,{startDate:$,endDate:V,onDateRangeChange:nt,onClose:me,maxDays:7})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Select the start and end dates for your event"}),(z.eventStartDate||z.eventEndDate)&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.eventStartDate||z.eventEndDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School"}),s.jsx("input",{type:"text",value:o,disabled:!0,onChange:ve=>c(ve.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Locality"}),s.jsx("input",{type:"text",value:d,disabled:!0,onChange:ve=>h(ve.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none"}})]})]}),Fe=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"No. of Seats"}),s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:le,onChange:ve=>{O(ve.target.value,Pe=>{be(Pe),Se(Pe,_e)},"numberOfSeats")},placeholder:"E.g. 400",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.numberOfSeats?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.numberOfSeats&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.numberOfSeats})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Fees per Delegate"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px",fontWeight:500},children:"AED"}),s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:_e,onChange:ve=>{O(ve.target.value,Pe=>{Ne(Pe),Se(le,Pe)},"feesPerDelegate")},placeholder:"200",style:{display:"flex",width:"400px",height:"40px",padding:"10px 10px 10px 50px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.feesPerDelegate?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}})]}),z.feesPerDelegate&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.feesPerDelegate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Total Revenue"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px",fontWeight:500},children:"AED"}),s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:Q,readOnly:!0,placeholder:"80000",style:{display:"flex",width:"400px",height:"40px",padding:"10px 10px 10px 50px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:"1px solid #d1d5db",outline:"none",backgroundColor:"#f9fafb",color:"#6b7280"}})]})]})]}),ft=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Website"}),s.jsx("input",{type:"text",value:ce,onChange:ve=>{j(ve.target.value),at("website")},placeholder:"www.globalvisionmun.com",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.website?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.website&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.website})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Instagram"}),s.jsx("input",{type:"text",value:M,onChange:ve=>{te(ve.target.value),at("instagram")},placeholder:"@globalvisionmun",style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px",borderRadius:"5px",border:z.instagram?"1px solid #ef4444":"1px solid #d1d5db",outline:"none"}}),z.instagram&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:z.instagram})]})]});return s.jsx(Ss,{loadingText:"Loading Event Creation...",children:s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(rs,{}),s.jsx("div",{className:"py-3",children:s.jsx("div",{className:"mx-auto px-6",style:{maxWidth:"65rem"},children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("span",{className:"cursor-pointer",onClick:()=>n("/home"),style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Home"}),s.jsx("span",{className:"mx-2",style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:">"}),s.jsx("span",{className:"text-[#1E395D] font-medium",style:{color:"#C2A46D",fontSize:"25px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Event Info"})]})})}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"mx-auto px-6",style:{maxWidth:"65rem"},children:s.jsx("div",{className:"flex items-center space-x-4",children:ze.map((ve,Pe)=>s.jsxs(Ee.Fragment,{children:[s.jsx("div",{className:`font-medium transition-colors duration-200 cursor-pointer ${ve.active?"bg-[#1E395D] text-white":"bg-white text-gray-600 hover:text-gray-800"}`,style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px"},onClick:()=>l(ve.id),children:ve.name}),Pe<ze.length-1&&s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},ve.id))})})}),s.jsxs("div",{className:"mx-auto px-6 py-8",style:{maxWidth:"65rem"},children:[r===1&&Re(),r===2&&Fe(),r===3&&ft(),s.jsx("div",{className:"mt-12 text-left",children:s.jsx("button",{onClick:()=>{if(r===3)Me();else{if(!Ie()){L.error("Please fill in all required fields");return}l(r+1)}},disabled:we,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px",background:we?"#9CA3AF":"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:we?"not-allowed":"pointer",transition:"background 0.2s",opacity:we?.7:1},onMouseOver:ve=>!we&&(ve.currentTarget.style.background="#B8945F"),onMouseOut:ve=>!we&&(ve.currentTarget.style.background="#C2A46D"),children:we?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Creating..."})]}):"Continue"})})]})]})})},B4=()=>{const n=Bt();return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(rs,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Your event is created."})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"App Home"]}),s.jsxs("button",{onClick:()=>n("/organiser"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Organiser Home"]})]})]})]})},z4=()=>{const n=Bt(),[r,l]=b.useState([]),[o,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const x=await Ip();x.success?l(x.data||[]):L.error(x.message)}catch(x){console.error("Error fetching events:",x),L.error(x.message)}finally{c(!1)}})()},[]);const d=()=>{n("/event-create")},h=m=>{n(`/event-dashboard/${m}`)};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E395D] mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):s.jsx(Ss,{loadingText:"Loading Events...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{maxWidth:"max-w-[88rem]"}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-4xl font-medium text-[#C2A46D]",children:"Organiser Events"}),s.jsxs("button",{onClick:d,style:{display:"flex",width:"160px",height:"40px",padding:"10px",justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"30px",backgroundColor:"#1E395D",color:"white",fontWeight:500,transition:"background-color 0.2s"},className:"font-medium hover:bg-[#1a2f4a]",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events available"}),s.jsx("p",{className:"text-gray-500",children:"Please create an event to get started."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(m=>s.jsxs("div",{onClick:()=>h(m.id),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200 cursor-pointer",children:[s.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:s.jsx("img",{src:m.cover_image||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop",alt:m.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:m.name}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m.start_date," - ",m.end_date]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.locality.name]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),m.fees_per_delegate]})]}),s.jsx("div",{className:"text-sm text-[#1E395D] font-medium",children:"Click to manage event "})]})]},m.id))})]})]})})},Gg=n=>n.toLowerCase().trim().replace(/[^\w\s]/g,"").replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,""),$4=()=>Math.floor(1e3+Math.random()*9e3).toString(),H4=()=>String.fromCharCode(97+Math.floor(Math.random()*26)),Ri=n=>{if(!n||n.trim()==="")return"";const r=n.trim().split(/\s+/),l=r[0]||"",o=r.slice(1).join("")||"",c=Gg(l);let d="";if(c.length>=4)d=c.substring(0,4);else{const h=Gg(o);for(d=c+h;d.length<4;)d+=H4();d=d.substring(0,4)}return d+=$4(),d.toLowerCase()},F4=()=>{const[n,r]=b.useState("personal"),l=Bt(),{allLocalities:o,allSchools:c,refreshLocalitiesData:d,refreshSchoolsData:h,refreshAreasData:m}=Wt(),[x,g]=b.useState(!1),p=b.useRef(null),[y,w]=b.useState(""),[E,N]=b.useState(""),[A,_]=b.useState(""),[D,T]=b.useState(""),[U,K]=b.useState(""),[$,I]=b.useState(""),[V,oe]=b.useState(""),[le,be]=b.useState(null),[_e,Ne]=b.useState(""),[Q,X]=b.useState(""),[ce,j]=b.useState(""),[M,te]=b.useState(""),[z,C]=b.useState(""),[P,se]=b.useState(""),[k,J]=b.useState("+971"),[de,q]=b.useState([]),[we,xe]=b.useState(!1),[ze,Ie]=b.useState(""),[Me,at]=b.useState({}),nt=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],fe=ae=>{w(ae),N(ae);const qe=Ri(ae);_(qe)},me=ae=>{K(ae)},Se=ae=>{j(ae)},$e=(ae,qe)=>{const gt=ae.replace(/[^0-9]/g,""),H=`${qe}${gt}`;return console.log("Generating phone_e164:",{phone:ae,countryCode:qe,cleanPhone:gt,phoneE164:H}),H},G=ae=>{if(J(ae),g(!1),z){const qe=$e(z,ae);se(qe)}};b.useEffect(()=>{(async()=>{try{await Promise.all([d(),h(),m()])}catch(qe){console.error("Error loading data:",qe),L.error("Failed to load profile data. Please refresh the page.")}})()},[]);const O=ae=>{if(I(ae),be(null),X(""),Ie(""),Ne(""),ae!=="Other"&&oe(""),ae&&ae!=="Other"){const qe=c.filter(gt=>gt.locality.code===ae);q(qe)}else q([])},ge=ae=>{oe(ae),be(null),X(""),Ie(""),Ne(""),q([])},Re=ae=>{if(Ie(ae),ae.trim()===""){const qe=c.filter(gt=>gt.locality.code===$);q(qe)}else{const gt=c.filter(H=>H.locality.code===$).filter(H=>H.name?.toLowerCase().includes(ae.toLowerCase())||H.locality.code?.toLowerCase().includes(ae.toLowerCase()));q(gt)}},Fe=ae=>{console.log("handleSchoolSelect",ae);const qe=ae.name;be(ae),X(ae.id),Ie(qe),xe(!1),ae.id!=="UNLISTED"&&Ne("")},ft=ae=>{Ne(ae)};b.useEffect(()=>{const ae=qe=>{p.current&&!p.current.contains(qe.target)&&(g(!1),xe(!1))};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]);const ve=()=>{const ae=[{key:"personal",label:"Personal Info"},{key:"school",label:"School Info"},{key:"contact",label:"Contact Info"}];return s.jsx("div",{className:"flex items-center justify-start mb-8",children:ae.map((qe,gt)=>s.jsxs(Ee.Fragment,{children:[s.jsx("button",{className:`flex items-center justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${n===qe.key?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>r(qe.key),children:qe.label}),gt<ae.length-1&&s.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},qe.key))})},Pe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),s.jsx("input",{type:"text",name:"name",placeholder:"E.g. Sam Morgan Lee",value:E,onChange:ae=>fe(ae.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.name?"border-red-500":"border-gray-300"}`}),Me?.name&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.name}),A&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),s.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:A})]})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",name:"dateOfBirth",value:D,onChange:ae=>T(ae.target.value),className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.dateOfBirth?"border-red-500":"border-gray-300"}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),Me?.dateOfBirth&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),s.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(ae=>s.jsx("button",{type:"button",onClick:()=>me(ae),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-[200px] ${U===ae?"bg-[#D9C7A1] text-black border-[#D9C7A1]":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))}),Me?.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.gender})]})]}),Y=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:["Locality of School ",s.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%]",children:"(City or Town)"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"locality",value:$,onChange:ae=>O(ae.target.value),className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${Me?.locality?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a locality..."}),o.length>0?o.map(ae=>s.jsx("option",{value:ae.code,children:ae.name},ae.id)):s.jsx("option",{value:"",disabled:!0,children:"No localities loaded"})]}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Me?.locality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.locality}),$==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),s.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:V,onChange:ae=>ge(ae.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.customLocality?"border-red-500":"border-gray-300"}`}),Me?.customLocality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.customLocality})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsx("input",{type:"text",name:"schoolName",placeholder:$==="Other"?"School selection not available for custom locality":$?"Search by school name or code...":"Please select a city first",value:ze,onChange:ae=>Re(ae.target.value),onFocus:()=>xe(!0),disabled:!$||$==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.schoolName?"border-red-500":"border-gray-300"} ${!$||$==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("button",{type:"button",onClick:()=>{be(null),X(""),Ie(""),xe(!1)},disabled:!$||$==="Other",className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center transition-colors ${!$||$==="Other"?"bg-gray-200 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),we&&$&&$!=="Other"&&de.length>0&&s.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[de.map((ae,qe)=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Fe(ae),children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:ae.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",ae.code]}),ae.area&&ae.area.name!=="-"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ae.area.name}),ae.locality.name&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ae.locality.name})]},`${ae.code}-${qe}`)),s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Fe({id:"UNLISTED",name:"Unlisted / Not in the list / Other",code:"UNLISTED",locality:{name:"Unlisted / Not in the list / Other"}}),children:s.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),de.length===0&&ze&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',ze,'"']})]})]}),Me?.schoolName&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.schoolName}),(le&&le.id==="UNLISTED"||$==="Other")&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),s.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:_e,onChange:ae=>ft(ae.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.customSchool?"border-red-500":"border-gray-300"}`}),Me?.customSchool&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.customSchool})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Grade or Year or Programme"}),s.jsx("div",{className:"w-[400px] border border-gray-300 rounded-lg p-4 mb-4",children:s.jsx("div",{className:"flex gap-4 bg-white",children:["grade","year","programme","other"].map(ae=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"gradeType",value:ae,checked:ce===ae,onChange:()=>Se(ae),className:"mr-3 w-5 h-5 text-[#1E395D] focus:ring-[#1E395D]"}),s.jsx("span",{className:`text-sm capitalize ${ce===ae?"text-black":"text-gray-500"}`,children:ae})]},ae))})}),Me?.gradeType&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.gradeType})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"grade",value:M,onChange:ae=>te(ae.target.value),className:`w-full px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${Me?.grade?"border-red-500":"border-gray-300"}`,children:[ce==="grade"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Grade"}),s.jsx("option",{value:"grade-5",children:"Grade 5"}),s.jsx("option",{value:"grade-6",children:"Grade 6"}),s.jsx("option",{value:"grade-7",children:"Grade 7"}),s.jsx("option",{value:"grade-8",children:"Grade 8"}),s.jsx("option",{value:"grade-9",children:"Grade 9"}),s.jsx("option",{value:"grade-10",children:"Grade 10"}),s.jsx("option",{value:"grade-11",children:"Grade 11"}),s.jsx("option",{value:"grade-12",children:"Grade 12"})]}),ce==="year"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Year"}),s.jsx("option",{value:"year-6",children:"Year 6"}),s.jsx("option",{value:"year-7",children:"Year 7"}),s.jsx("option",{value:"year-8",children:"Year 8"}),s.jsx("option",{value:"year-9",children:"Year 9"}),s.jsx("option",{value:"year-10",children:"Year 10"}),s.jsx("option",{value:"year-11",children:"Year 11"}),s.jsx("option",{value:"year-12",children:"Year 12"}),s.jsx("option",{value:"year-13",children:"Year 13"})]}),ce==="programme"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Programme"}),s.jsx("option",{value:"PYP-5",children:"PYP 5"}),s.jsx("option",{value:"MYP-1",children:"MYP 1"}),s.jsx("option",{value:"MYP-2",children:"MYP 2"}),s.jsx("option",{value:"MYP-3",children:"MYP 3"}),s.jsx("option",{value:"MYP-4",children:"MYP 4"}),s.jsx("option",{value:"MYP-5",children:"MYP 5"}),s.jsx("option",{value:"IB-DP-1",children:"IB DP 1"}),s.jsx("option",{value:"IB-DP-2",children:"IB DP 2"})]}),ce==="other"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select Other"}),s.jsx("option",{value:"other-1",children:"Other 1"}),s.jsx("option",{value:"other-2",children:"Other 2"}),s.jsx("option",{value:"other-3",children:"Other 3"}),s.jsx("option",{value:"other-4",children:"Other 4"}),s.jsx("option",{value:"other-5",children:"Other 5"}),s.jsx("option",{value:"other-6",children:"Other 6"}),s.jsx("option",{value:"other-7",children:"Other 7"}),s.jsx("option",{value:"other-8",children:"Other 8"})]})]}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Me?.grade&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.grade})]})]}),je=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("div",{className:"flex border rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>g(!x),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:k}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:z,onChange:ae=>{/[^0-9\s]/.test(ae.target.value)&&L.error("Only numbers and spaces are allowed in phone number");const gt=ae.target.value.replace(/[^0-9\s]/g,"");C(gt);const H=$e(gt,k);se(H)},className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${Me?.phone?"border-red-500":"border-gray-300"}`})]}),x&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:nt.map(ae=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>G(ae.code),children:[s.jsx("span",{className:"text-lg mr-3",children:ae.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:ae.code}),s.jsx("span",{className:"text-sm text-gray-800",children:ae.country})]},ae.code))})]}),Me?.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:Me.phone})]})}),Ce=async(ae,qe,gt,H,ie,Be,Te,Ve)=>{try{let Ge=ie,st;$==="Other"?st=await $p(ae,qe,gt,H,V,_e,Be,Te,Ve):le&&le.id==="UNLISTED"?st=await fw(ae,qe,gt,H,$,_e,Be,Te,Ve):st=await ow(ae,qe,gt,H,Ge,Be,Te,Ve),st.success?(L.success("Student profile created successfully"),l("/student-home")):(at(st.errors),L.error(st.errors.message))}catch(Ge){const st=Ge?.errors||Ge||{message:"An unexpected error occurred"};at(st),L.error(st.message||"An unexpected error occurred")}};return s.jsx(Ss,{loadingText:"Loading Student Profile...",children:s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(rs,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-left",children:"Student Signup"}),ve()]}),s.jsxs("div",{className:"w-[400px] rounded-lg shadow-sm mb-8",style:{padding:"2rem 0.5rem"},children:[n==="personal"&&Pe(),n==="school"&&Y(),n==="contact"&&je()]}),s.jsx("div",{className:"flex justify-start",children:s.jsx("button",{type:"button",onClick:()=>{n==="personal"?E&&A&&D&&U?r("school"):L.error("Please fill in all personal information fields"):n==="school"?$==="Other"?V.trim()&&_e.trim()&&M?r("contact"):L.error("Please fill in all school information fields"):le&&le.id==="UNLISTED"?_e.trim()&&M?r("contact"):L.error("Please fill in all school information fields"):$&&le&&M?r("contact"):L.error("Please fill in all school information fields"):n==="contact"&&(z&&P?Ce(y,A,D,U,Q,M,z,P):L.error("Please fill in all contact information fields"))},className:"font-medium text-white transition-all",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",transition:"background-color 0.2s"},onMouseOver:ae=>ae.currentTarget.style.backgroundColor="#C2A46D",onMouseOut:ae=>ae.currentTarget.style.backgroundColor="#D9C7A1",children:"Continue"})})]})]})})},I4=()=>{const n=Bt(),{allLocalities:r,allSchools:l,refreshLocalitiesData:o,refreshSchoolsData:c,refreshAreasData:d}=Wt(),[h,m]=b.useState("personal"),[x,g]=b.useState(""),[p,y]=b.useState(""),[w,E]=b.useState(""),[N,A]=b.useState(""),[_,D]=b.useState(""),[T,U]=b.useState(""),[K,$]=b.useState(""),[I,V]=b.useState(null),[oe,le]=b.useState(""),[be,_e]=b.useState(""),[Ne,Q]=b.useState(""),[X,ce]=b.useState("+971"),[j,M]=b.useState([]),[te,z]=b.useState(!1),[C,P]=b.useState(""),[se,k]=b.useState({}),[J,de]=b.useState(!1),q=b.useRef(null),we=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}];b.useEffect(()=>{(async()=>{try{await Promise.all([o(),c(),d()])}catch(ge){console.error("Error loading data:",ge),L.error("Failed to load profile data. Please refresh the page.")}})()},[]);const xe=O=>{if(console.log("handleCityChange",O),console.log("allSchools",l),U(O),V(null),P(""),le(""),O!=="Other"&&$(""),O&&O!=="Other"){const ge=l.filter(Re=>Re.locality&&Re.locality.code===O);M(ge)}else M([])},ze=O=>{$(O),V(null),P(""),le(""),M([])},Ie=O=>{if(P(O),O.trim()===""){const ge=l.filter(Re=>Re.locality&&Re.locality.code===T);M(ge)}else{const Re=l.filter(Fe=>Fe.locality&&Fe.locality.code===T).filter(Fe=>Fe.name?.toLowerCase().includes(O.toLowerCase())||Fe.locality&&Fe.locality.code?.toLowerCase().includes(O.toLowerCase()));M(Re)}},Me=O=>{console.log("handleSchoolSelect",O);const ge=O.name;V(O),P(ge),z(!1),O.id!=="UNLISTED"&&le("")},at=O=>{le(O)};b.useEffect(()=>{const O=ge=>{q.current&&!q.current.contains(ge.target)&&(de(!1),z(!1))};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const nt=()=>{const O=[{key:"personal",label:"Personal Info"},{key:"school",label:"School Info"},{key:"contact",label:"Contact Info"}];return s.jsx("div",{className:"flex items-center justify-start mb-8",children:O.map((ge,Re)=>s.jsxs(Ee.Fragment,{children:[s.jsx("button",{className:`flex items-center justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${h===ge.key?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>m(ge.key),children:ge.label}),Re<O.length-1&&s.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},ge.key))})},fe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Name"}),s.jsx("input",{type:"text",name:"name",placeholder:"E.g. Sam Morgan Lee",value:x,onChange:O=>{g(O.target.value),y(O.target.value);const ge=Ri(O.target.value);E(ge)},className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.name?"border-red-500":"border-gray-300"}`}),se.name&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.name}),w&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),s.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:w})]})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",name:"dateOfBirth",value:N,onChange:O=>A(O.target.value),className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.dateOfBirth?"border-red-500":"border-gray-300"}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),se.dateOfBirth&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Gender"}),s.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(O=>s.jsx("button",{type:"button",onClick:()=>D(O),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-[200px] ${_===O?"bg-[#D9C7A1] text-black border-[#1E395D]":"bg-white text-black border-gray-300 hover:border-gray-400"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),se.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.gender})]})]}),me=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:["Locality of School ",s.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%]",children:"(City or Town)"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"locality",value:T,onChange:O=>xe(O.target.value),className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${se.locality?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a locality..."}),r.map(O=>s.jsx("option",{value:O.code,children:O.name},O.id))]}),s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),se.locality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.locality}),T==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),s.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:K,onChange:O=>ze(O.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.customLocality?"border-red-500":"border-gray-300"}`}),se.customLocality&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.customLocality})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"School Name"}),s.jsxs("div",{className:"relative",ref:q,children:[s.jsx("input",{type:"text",name:"schoolName",placeholder:T==="Other"?"School selection not available for custom locality":T?"Search by school name or code...":"Please select a city first",value:C,onChange:O=>Ie(O.target.value),onFocus:()=>z(!0),disabled:!T||T==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.schoolName?"border-red-500":"border-gray-300"} ${!T||T==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("button",{type:"button",onClick:()=>{V(null),P(""),z(!1)},disabled:!T||T==="Other",className:`absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center transition-colors ${!T||T==="Other"?"bg-gray-200 cursor-not-allowed":"bg-gray-300 hover:bg-gray-400"}`,children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),te&&T&&T!=="Other"&&j.length>0&&s.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[j.map((O,ge)=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Me(O),children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:O.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",O.code]}),O.area&&O.area.name!=="-"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.area.name}),O.locality&&O.locality.name&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.locality.name})]},`${O.code}-${ge}`)),s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>Me({id:"UNLISTED",name:"Unlisted / Not in the list / Other",code:"UNLISTED",locality:{name:"Unlisted / Not in the list / Other"}}),children:s.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),j.length===0&&C&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',C,'"']})]})]}),se.schoolName&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.schoolName}),(T==="Other"||I&&I.id==="UNLISTED")&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),s.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:oe,onChange:O=>at(O.target.value),className:`w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.customSchool?"border-red-500":"border-gray-300"}`}),se.customSchool&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.customSchool})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Years of Work Experience"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",name:"yearsOfExperience",placeholder:"E.g. 20",value:be,onChange:O=>{/[^0-9]/.test(O.target.value)&&L.error("Only numbers are allowed in this field");const Re=O.target.value.replace(/[^0-9]/g,"");_e(Re)},className:`w-[400px] px-4 py-4 pl-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.yearsOfExperience?"border-red-500":"border-gray-300"}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),se.yearsOfExperience&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.yearsOfExperience})]})]}),Se=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Mobile"}),s.jsxs("div",{className:"relative",ref:q,children:[s.jsxs("div",{className:"flex border rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>de(!J),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:X}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:Ne,onChange:O=>{/[^0-9\s]/.test(O.target.value)&&L.error("Only numbers and spaces are allowed in phone number");const Re=O.target.value.replace(/[^0-9\s]/g,"");Q(Re)},className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${se.phone?"border-red-500":"border-gray-300"}`})]}),J&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:we.map(O=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>ce(O.code),children:[s.jsx("span",{className:"text-lg mr-3",children:O.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:O.code}),s.jsx("span",{className:"text-sm text-gray-800",children:O.country})]},O.code))})]}),se.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.phone})]})}),$e=(O,ge)=>{const Re=O.replace(/[^0-9]/g,"");return`${ge}${Re}`},G=async(O,ge,Re,Fe,ft,ve,Pe,Y)=>{try{const je=$e(Pe,Y);let Ce;if(T==="Other"){const ae=`${K}`,qe=`${oe}`;Ce=await zp(O,ge,Re,Fe,ae,qe,ve,Pe,"",void 0,je)}else if(I&&I.id==="UNLISTED"){const ae=`${oe}`;Ce=await hw(O,ge,Re,Fe,T,ae,ve,Pe,je)}else Ce=await lw(O,ge,Re,Fe,ft,ve,Pe,je);Ce.success?(L.success("Teacher profile created successfully"),n("/teacher-home")):(k(Ce.errors),L.error(Ce.errors.message))}catch(je){console.error("Teacher Profile Error:",je),je.errors?(k(je.errors),L.error(je.errors.message)):L.error(je.message||"Failed to create teacher profile")}};return s.jsx(Ss,{loadingText:"Loading Teacher Profile...",children:s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx("div",{className:"shadow-sm",children:s.jsx("div",{className:"max-w-4xl px-6 py-4",children:s.jsx(Bn,{size:"medium"})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-left",children:"Teacher Signup"}),nt()]}),s.jsxs("div",{className:"w-[400px] rounded-lg shadow-sm mb-8",style:{padding:"2rem 0.5rem"},children:[h==="personal"&&fe(),h==="school"&&me(),h==="contact"&&Se()]}),s.jsx("div",{className:"flex justify-start",children:s.jsx("button",{type:"button",onClick:()=>{if(h==="personal")p&&N&&_?m("school"):L.error("Please fill in all personal information fields");else if(h==="school")T==="Other"?K.trim()&&oe.trim()&&be?m("contact"):L.error("Please fill in all school information fields"):I&&I.id==="UNLISTED"?oe.trim()&&be?m("contact"):L.error("Please fill in all school information fields"):T&&I&&be?m("contact"):L.error("Please fill in all school information fields");else if(h==="contact")if(Ne&&X){const O=T==="Other"||I&&I.id==="UNLISTED"?"":I?.id||"";G(x,w,N,_,O,be,Ne,X)}else L.error("Please fill in all contact information fields")},className:"font-medium text-white transition-all",style:{backgroundColor:"#D9C7A1",borderRadius:"30px",display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",transition:"background-color 0.2s"},onMouseOver:O=>O.currentTarget.style.backgroundColor="#C2A46D",onMouseOut:O=>O.currentTarget.style.backgroundColor="#D9C7A1",children:"Continue"})})]})]})})},ah=({userType:n,initialData:r})=>{const l=b.useRef(null),{allLocalities:o,refreshLocalitiesData:c,allSchools:d,refreshSchoolsData:h}=Wt();b.useEffect(()=>{(async()=>{try{await Promise.all([c(),h()])}catch(De){console.error("Error loading data:",De),L.error("Failed to load profile data. Please refresh the page.")}})()},[]);const m=[...o.map(Oe=>({value:Oe.code,label:Oe.name})),{value:"Other",label:"Unlisted / Not in the list / Other"}];b.useEffect(()=>{(async()=>{const De=await Ta(),Le={...De.data,username:De.data.username||"",fullname:De.data.fullname||"",birthday:De.data.birthday||"",gender:De.data.gender||"",locality:De.data.school.code||"",schoolName:De.data.school.name||"",school_id:De.data.school.id||"",grade:De.data.grade||"",year_of_work_experience:De.data.year_of_work_experience||"",phone_number:De.data.phone_number||"",email:De.data.email||"",avatar:De.data.avatar||(n==="student"?Pl:Mu)};g(Le),k(Le.fullname),de(Le.username),we(Le.birthday),ze(Le.gender),Me(Le.locality),nt(Le.schoolName),me(Le.school_id||""),$e(Le.grade),Re(Le.year_of_work_experience),ft(Le.phone_number),je(Le.country_code||"+971"),Pe(Be(Le.phone_number||"",Le.country_code||"+971")),ae(Le.email)})()},[n]);const[x,g]=b.useState({username:r?.username||"",fullname:r?.fullname||"",birthday:r?.birthday||"",gender:r?.gender||"",school_location:r?.school_location||"",school_name:r?.school_name||"",grade:r?.grade||"",email:r?.email||"",phone_number:r?.phone_number||"",name:r?.fullname||"",dateOfBirth:r?.birthday||"",locality:r?.school_location||"",schoolName:r?.school_name||"",gradeOrYear:r?.grade||"",mobile:r?.phone_number?`+971 ${r.phone_number}`:"",avatar:r?.avatar||(n==="student"?Pl:Mu)}),[p,y]=b.useState(null),[w,E]=b.useState(""),[N,A]=b.useState(""),[_,D]=b.useState(""),[T,U]=b.useState(!1),[K,$]=b.useState(!1),[I,V]=b.useState(!1),oe=b.useRef(null),[le,be]=b.useState([]),[_e,Ne]=b.useState([]),[Q,X]=b.useState(!1),[ce,j]=b.useState(""),[M,te]=b.useState(""),[z,C]=b.useState(""),[P]=b.useState({}),[se,k]=b.useState(""),[J,de]=b.useState(""),[q,we]=b.useState(""),[xe,ze]=b.useState(""),[Ie,Me]=b.useState(""),[at,nt]=b.useState(""),[fe,me]=b.useState(""),[Se,$e]=b.useState(""),[G,O]=b.useState(""),[ge,Re]=b.useState(""),[Fe,ft]=b.useState(""),[ve,Pe]=b.useState(""),[Y,je]=b.useState("+971"),[Ce,ae]=b.useState(""),[qe,gt]=b.useState(!1),[H,ie]=b.useState(!1),Be=(Oe,De)=>{const Le=Oe.replace(/[^0-9]/g,"");return`${De}${Le}`},Te=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],Ve=n==="student"?{grade:[{value:"grade-5",label:"Grade 5"},{value:"grade-6",label:"Grade 6"},{value:"grade-7",label:"Grade 7"},{value:"grade-8",label:"Grade 8"},{value:"grade-9",label:"Grade 9"},{value:"grade-10",label:"Grade 10"},{value:"grade-11",label:"Grade 11"},{value:"grade-12",label:"Grade 12"}],year:[{value:"year-6",label:"Year 6"},{value:"year-7",label:"Year 7"},{value:"year-8",label:"Year 8"},{value:"year-9",label:"Year 9"},{value:"year-10",label:"Year 10"},{value:"year-11",label:"Year 11"},{value:"year-12",label:"Year 12"},{value:"year-13",label:"Year 13"}],programme:[{value:"PYP-5",label:"PYP 5"},{value:"MYP-1",label:"MYP 1"},{value:"MYP-2",label:"MYP 2"},{value:"MYP-3",label:"MYP 3"},{value:"MYP-4",label:"MYP 4"},{value:"MYP-5",label:"MYP 5"},{value:"IB-DP-1",label:"IB DP 1"},{value:"IB-DP-2",label:"IB DP 2"}],other:[{value:"other-1",label:"Other 1"},{value:"other-2",label:"Other 2"},{value:"other-3",label:"Other 3"},{value:"other-4",label:"Other 4"},{value:"other-5",label:"Other 5"},{value:"other-6",label:"Other 6"},{value:"other-7",label:"Other 7"},{value:"other-8",label:"Other 8"}]}:["Primary Teacher","Secondary Teacher","Subject Teacher","Head of Department","Vice Principal","Principal","Counselor","Librarian","Other"],Ge=(Oe,De)=>{y(Oe),E(De)},st=(Oe,De)=>{switch(E(De),Oe){case"fullname":k(De);const Le=Ri(De);de(Le);break;case"username":de(De);break;case"birthday":we(De);break;case"gender":ze(De);break;case"school_location":Me(De);break;case"school_name":nt(De);break;case"school_id":me(De);break;case"grade":$e(De);break;case"gradeType":O(De);break;case"year_of_work_experience":Re(De);break;case"phone_number":ft(De);break;case"email":ae(De);break}},Dt=()=>{if(p)switch(p){case"fullname":k(x.fullname),de(x.username);break;case"username":de(x.username);break;case"birthday":we(x.birthday);break;case"gender":ze(x.gender);break;case"school_location":Me(x.school_location);break;case"school_name":nt(x.school_name);break;case"school_id":me(x.school_id||"");break;case"grade":$e(x.grade),O(x.grade_year_programme||"");break;case"year_of_work_experience":Re(String(x.year_of_work_experience||""));break;case"phone_number":ft(x.phone_number);break;case"email":ae(x.email);break}y(null),E("")},Os=async Oe=>{const De=Oe.target.files?.[0];if(De)try{gt(!0);const Le=await dw(De);Le.success?(o4(),localStorage.setItem("userAvatar",Le.avatarUrl),setTimeout(()=>{const We=new CustomEvent("avatarUpdated",{detail:{avatarUrl:Le.avatarUrl}});window.dispatchEvent(We)},100),L.success(Le.message)):L.error("Failed to upload avatar: "+Le.message)}catch(Le){L.error("Failed to upload avatar: "+Le.message)}finally{gt(!1)}},Cs=async()=>{if(N!==_){L.error("Passwords do not match");return}if(N.length<6){L.error("Password must be at least 6 characters");return}try{const Oe=await y4(N);Oe.success?(L.success(Oe.message),A(""),D(""),U(!1)):L.error(Oe.message)}catch(Oe){L.error("Failed to update password: "+(Oe.message||"Unknown error"))}},ps=Bt(),Rr=()=>{ie(!0)},Xe=async()=>{try{const Oe=await nw();Oe.success?(L.success(Oe.message),localStorage.removeItem("token"),localStorage.removeItem("userAvatar"),ps("/login")):L.error(Oe.message)}catch(Oe){L.error(Oe.message)}},_t=()=>{ie(!1),Xe()},Tt=()=>{ie(!1)};b.useEffect(()=>{const Oe=De=>{oe.current&&!oe.current.contains(De.target)&&($(!1),X(!1),V(!1))};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[]),b.useEffect(()=>{if(Ie&&Ie!=="Other"&&d.length>0){const Oe=d.filter(De=>De.locality?.name===Ie);be(Oe),Ne(Oe)}else be([]),Ne([])},[Ie,d]);const Ft=Oe=>{if(j(Oe),Oe.trim()==="")Ne(le);else{const De=le.filter(Le=>Le.name?.toLowerCase().includes(Oe.toLowerCase())||Le.code?.toLowerCase().includes(Oe.toLowerCase())||Le.locality?.name?.toLowerCase().includes(Oe.toLowerCase()));Ne(De)}},qs=Oe=>{te(Oe)},Lt=Oe=>{C(Oe)},kt=(Oe,De,Le)=>{const pt=p===De?w:Le,Ue=ye=>{st(De,ye)};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Oe}),s.jsx("div",{className:"flex gap-2",children:["male","female","other"].map(ye=>s.jsx("button",{type:"button",onClick:()=>Ue(ye),className:`px-4 py-2 rounded-lg text-sm font-medium border transition-all flex items-center justify-center w-24 ${pt===ye?"bg-[#C2A46D] text-white border-[#C2A46D]":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:ye.charAt(0).toUpperCase()+ye.slice(1)},ye))})]})},At=(Oe,De,Le)=>{const We=p===De,pt=We?w:Le,Ue=We?Ri(w):J;return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Oe}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:pt,onChange:ye=>st(De,ye.target.value),disabled:!We,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${We?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Oe.toLowerCase()}`}),!We&&s.jsx("button",{onClick:()=>Ge(De,Le),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),We&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Dt,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),We&&w&&s.jsx("div",{className:"w-[400px] mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Generated Username:"}),s.jsx("span",{className:"ml-2 font-mono text-sm font-medium text-[#1E395D]",children:Ue})]})})})]})},ut=(Oe,De,Le,We,pt,Ue)=>{const ye=p===De,ke=ye?w:(()=>{const Je=We.find(cs=>cs.value===Le);return Je?Je.label:Le})(),Yt=Je=>{Je.value==="Other"?(st(De,"Other"),me(""),nt(""),C(""),te("")):(st(De,Je.label),te(""),C(""))};return s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-base font-bold text-black mb-2",children:[Oe,s.jsx("span",{className:"text-[#7E7E7E] text-base font-normal leading-[150%] ml-1",children:"(City or Town)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{type:"button",onClick:()=>ye&&Ue(!1),disabled:!ye,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 text-left ${ye?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,children:ke}),!ye&&s.jsx("button",{onClick:()=>Ge(De,Le),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),!pt&&ye&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:We.map((Je,cs)=>s.jsx("div",{className:"w-[400px] px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{Yt(Je),Ue(!0)},children:typeof Je=="string"?Je:Je.label},cs))}),ye&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Dt,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),ye&&Le==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter Custom Locality"}),s.jsx("input",{type:"text",name:"customLocality",placeholder:"Enter your locality name...",value:M,onChange:Je=>qs(Je.target.value),className:"w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 border-gray-300"}),!M.trim()&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:'Custom locality is required when "Other" is selected'})]})]})},zt=(Oe,De,Le)=>{const We=p===De,pt=We?ce:Le,Ue=ke=>{We&&(j(ke),Ft(ke))},ye=ke=>{if(We){const Yt=ke.name;me(ke.id),st(De,Yt),j(Yt),X(!0)}};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Oe}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"schoolName",placeholder:Ie==="Other"?"School selection not available for custom locality":Ie?"Search by school name or code...":"Please select a city first",value:pt,onChange:ke=>Ue(ke.target.value),onFocus:()=>We&&X(!1),disabled:!We||!Ie||Ie==="Other",className:`w-[400px] px-4 py-4 pl-12 pr-12 border rounded-lg text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${We?"border-[#1E395D]":"border-gray-300 bg-gray-50"} ${!Ie||Ie==="Other"?"bg-gray-100 cursor-not-allowed":""}`}),s.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),!We&&s.jsx("button",{onClick:()=>Ge(De,Le),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),!Q&&Ie&&Ie!=="Other"&&_e.length>0&&We&&s.jsxs("div",{className:"absolute top-full left-0 z-10 w-[400px] mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[_e.map((ke,Yt)=>s.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>ye(ke),children:[s.jsx("div",{className:"font-medium text-sm text-gray-900",children:ke.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Code: ",ke.code]}),ke.area&&ke.area.name!=="-"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ke.area.name}),ke.locality.name&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ke.locality.name})]},`${ke.code}-${Yt}`)),s.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>ye({id:"UNLISTED",name:"Unlisted / Not in the list / Other"}),children:s.jsx("div",{className:"font-medium text-sm text-gray-900",children:"Unlisted / Not in the list / Other"})}),_e.length===0&&ce&&s.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No schools found matching "',ce,'"']})]}),We&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Dt,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),We&&Ie==="Other"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:"Enter School Name"}),s.jsx("input",{type:"text",name:"customSchool",placeholder:"Enter your school name...",value:z,onChange:ke=>Lt(ke.target.value),className:"w-[400px] px-4 py-4 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 border-gray-300"}),!z.trim()&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:'Custom school name is required when "Other" locality is selected'})]})]})},tr=(Oe,De,Le)=>{const We=p===De,pt=We?w:Le,Ue=ke=>{/[^0-9\s]/.test(ke)&&L.error("Only numbers and spaces are allowed in phone number");const Je=ke.replace(/[^0-9\s]/g,"");st(De,Je);const cs=Be(Je,Y);Pe(cs)},ye=ke=>{if(je(ke),V(!1),Fe){const Yt=Be(Fe,ke);Pe(Yt)}};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Oe}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-[400px] flex border rounded-lg bg-white",children:[s.jsxs("div",{className:`flex items-center px-4 py-4 border-r border-gray-300 cursor-pointer hover:bg-gray-50 ${We?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>We&&V(!I),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:Y}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",name:"phone",placeholder:"50 6362040",value:pt,onChange:ke=>Ue(ke.target.value),disabled:!We,className:`flex-1 px-4 py-4 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${We?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`})]}),I&&We&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Te.map(ke=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>ye(ke.code),children:[s.jsx("span",{className:"text-lg mr-3",children:ke.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:ke.code}),s.jsx("span",{className:"text-sm text-gray-800",children:ke.country})]},ke.code))}),!We&&s.jsx("button",{onClick:()=>Ge(De,Le),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),We&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Dt,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]})]})},fs=(Oe,De,Le,We="text")=>{const pt=p===De,Ue=pt?w:Le,ye=De==="year_of_work_experience",ke=ye?"number":We,Yt=ye?"numeric":void 0,Je=ye?"[0-9]*":void 0;return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:Oe}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:ke,inputMode:Yt,pattern:Je,value:Ue,onChange:cs=>{if(ye){/[^0-9]/.test(cs.target.value)&&L.error("Only numbers are allowed in this field");const so=cs.target.value.replace(/[^0-9]/g,"");st(De,so)}else st(De,cs.target.value)},disabled:!pt,style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:`border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500 w-full px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${pt?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Oe.toLowerCase()}`}),!pt&&s.jsx("button",{onClick:()=>Ge(De,Le),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"36.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),pt&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"35rem"},children:s.jsx("button",{onClick:Dt,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),P[De]&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:P[De]})]})},oa=(Oe,De,Le)=>{const We=p===De,pt=G,Ue=Le,ye=()=>n==="student"&&typeof Ve=="object"&&pt?Ve[pt]||[]:[],ke=Je=>{st("grade",Je)},Yt=Je=>{st("gradeType",Je),st("grade","")};return s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-bold text-black mb-2",children:Oe}),s.jsxs("div",{className:`w-[400px] relative border rounded-lg p-4 mb-4 ${We?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,children:[s.jsx("div",{className:"flex gap-4 bg-white",children:["grade","year","programme","other"].map(Je=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"gradeType",value:Je,checked:pt===Je,onChange:()=>Yt(Je),disabled:!We,className:"mr-3 w-5 h-5 text-[#1E395D] focus:ring-[#1E395D]"}),s.jsx("span",{className:`text-sm capitalize ${pt===Je?"text-black":"text-gray-500"}`,children:Je})]},Je))}),!We&&s.jsx("button",{onClick:()=>Ge(De,Le),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"-1.25rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),We&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"-1.6rem"},children:s.jsx("button",{onClick:Dt,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),s.jsx("div",{className:"relative",children:s.jsxs("select",{name:"grade",value:Ue,onChange:Je=>ke(Je.target.value),disabled:!We||!pt,className:`w-[400px] px-4 py-4 pr-10 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 appearance-none ${!We||!pt?"bg-gray-100 cursor-not-allowed":"border-gray-300"}`,children:[s.jsxs("option",{value:"",children:["Select ",pt||"option"]}),ye().map(Je=>s.jsx("option",{value:Je.value,children:Je.label},Je.value))]})})]})},Oa=async()=>{console.log(n);try{if(Ie==="Other"){if(!M.trim()){L.error("Please enter a custom locality name");return}if(!z.trim()){L.error("Please enter a custom school name");return}}const De=localStorage.getItem("userAvatar")||void 0;let Le;Ie==="Other"?n==="student"?Le=await $p(se,J,q,xe,M,z,Se,Fe,ve):Le=await zp(se,J,q,xe,M,z,ge,Fe,Ce,De,ve):Le=n==="student"?await iw(se,J,q,xe,fe,Se,ge,Fe,Ce,De,ve):await cw(se,J,q,xe,fe,ge,Fe,Ce,De,ve),Le.success?(L.success(Le.message),te(""),C("")):L.error("Failed to update profile: "+Le.message)}catch(Oe){L.error("Failed to update profile: "+Oe.data.message)}};return s.jsxs(Ss,{loadingText:"Loading Profile...",children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{}),s.jsxs("div",{className:"mx-auto py-8",style:{maxWidth:"65rem"},children:[s.jsxs("div",{className:"text-left mb-8",children:[s.jsxs("div",{className:"relative inline-block",children:[qe?s.jsx("div",{className:"w-32 h-32 border-4 border-white shadow-lg rounded-full flex items-center justify-center bg-gray-100",children:s.jsx(Ar,{size:"large",text:"Uploading..."})}):s.jsx(eo,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0}),s.jsx("button",{onClick:()=>!qe&&l.current?.click(),disabled:qe,className:`absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${qe?"bg-gray-300 cursor-not-allowed opacity-50":"hover:bg-gray-300"}`,style:{right:"-1.5rem",bottom:"-0.5rem"},children:s.jsx("img",{src:Ps,alt:"Edit Avatar",className:"w-4 h-4"})}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:Os,disabled:qe,className:"hidden"})]}),s.jsxs("h1",{className:"font-bold text-gray-900 mt-4",style:{fontSize:"30px"},children:[n==="student"?"Student":"Teacher"," Profile"]})]}),s.jsxs("div",{className:"rounded-lg shadow-sm p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Username"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:x.username,disabled:!0,style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Username is system generated"})]}),At("Name","fullname",se),fs("Date of Birth","birthday",q,"date"),kt("Gender","gender",xe),ut("Locality of School ","school_location",Ie,m,K,$),zt("School Name","school_name",at),n==="student"?oa("Grade or Year or Programme","grade",Se):fs("Years of Work Experience","year_of_work_experience",ge,"number"),fs("Email","email",Ce,"email"),tr("Mobile","phone_number",Fe),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Change Password"}),T?s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"password",placeholder:"New password",value:N,onChange:Oe=>A(Oe.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"}),s.jsx("input",{type:"password",placeholder:"Confirm new password",value:_,onChange:Oe=>D(Oe.target.value),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:Cs,className:"px-4 py-2 bg-[#D9C7A1] text-white rounded-lg text-sm hover:bg-[#C2A46D] transition-colors",children:"Save Password"}),s.jsx("button",{onClick:()=>{U(!1),A(""),D("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-400 transition-colors",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>U(!0),style:{display:"flex",width:"400px",height:"40px",padding:"10px",alignItems:"flex-start",gap:"10px"},className:"border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-500",children:"Click to change password"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("button",{onClick:Rr,className:"mb-2 underline cursor-pointer",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%",marginBottom:"0.5rem",display:"block"},children:"Delete Account"})}),s.jsx("div",{className:"flex justify-left",children:s.jsx("button",{onClick:()=>{Oa()},className:`text-white bg-[#D9C7A1] font-medium transition-all ${N?"hover:bg-[#C2A46D]":"bg-[#D9C7A1]  hover:bg-[#C2A46D]"}`,style:{display:"flex",width:"120px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",borderRadius:"30px"},children:"Save"})})]})]})]}),s.jsx(Tr,{isOpen:H,onClose:Tt,onConfirm:_t,title:"Confirm Delete",message:"Deleting your account will remove all information. This cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},P4=()=>{const n={username:"@samm1234",name:"Sam Morgan Lee",dateOfBirth:"2008-10-05",gender:"male",locality:"DU",schoolName:"Oasis World School",gradeOrYear:"IB DP 2",email:"samlee@gmail.com",mobile:"+971 50 6362040"};return s.jsx(ah,{userType:"student",initialData:n})},q4=()=>{const n={username:"@teach4567",name:"Dr. Sarah Johnson",dateOfBirth:"1985-03-15",gender:"female",locality:"DU",schoolName:"Oasis World School",gradeOrYear:"Head of Department",email:"sarah.johnson@oasis.edu",mobile:"+971 50 1234567"};return s.jsx(ah,{userType:"teacher",initialData:n})},Y4=()=>{const n=Bt();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(rs,{showNavigation:!1}),s.jsx("div",{className:"flex items-center justify-center flex-1",style:{height:"80vh"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-black text-center text-4xl font-medium leading-[150%] mb-8",children:"Your Student Profile is created."}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>{n("/home")},className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/student-profile-page"),className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})]})})]})},G4=()=>{const n=Bt();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(rs,{}),s.jsx("div",{className:"flex items-center justify-center flex-1",style:{height:"80vh"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-black text-center text-4xl font-medium leading-[150%] mb-8",children:"Your Teacher Profile is created."}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>{n("/home")},className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/teacher-profile-page"),className:"flex items-center font-medium transition-all",style:{width:"140px",height:"60px",borderRadius:"30px",opacity:1,gap:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"#C2A46D",padding:"23px",backgroundColor:"#C2A46D",color:"#F7F7F7"},children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})]})})]})},V4=()=>{const n=Bt(),r=b.useRef(null),{allLocalities:l}=Wt(),[o,c]=b.useState("personal"),[d,h]=b.useState(""),[m,x]=b.useState(""),[g,p]=b.useState(""),[y,w]=b.useState(""),[E,N]=b.useState(""),[A,_]=b.useState(""),[D,T]=b.useState(""),[U,K]=b.useState(""),[$,I]=b.useState(""),[V,oe]=b.useState(""),[le,be]=b.useState(""),[_e,Ne]=b.useState(""),[Q,X]=b.useState(""),[ce,j]=b.useState(""),[M,te]=b.useState(""),[z,C]=b.useState(""),[P,se]=b.useState(""),[k,J]=b.useState("UAE"),[de,q]=b.useState(""),[we,xe]=b.useState(!1),ze=[{code:"+971",country:"UAE",flag:""},{code:"+1",country:"USA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+86",country:"China",flag:""},{code:"+91",country:"India",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""}],Ie=O=>{J(O),xe(!1)};b.useEffect(()=>{(async()=>{try{const ge=await Ta();ge.success?(h(ge.data.username||""),x(ge.data.fullname||""),p(ge.data.birthday||""),w(ge.data.gender||""),_(ge.data.school.name||""),T(ge.data.school.locality_id||""),K(ge.data.grade||""),I(ge.data.email||""),oe(ge.data.phone_number||"")):L.error("Failed to get user by id: "+ge.message)}catch(ge){L.error("Failed to get user by id: "+ge.message)}})()},[]),b.useEffect(()=>{if(l&&l.length>0&&D){const O=l.find(ge=>{const Re=String(ge.id||"").toLowerCase(),Fe=String(D||"").toLowerCase();return Re===Fe});N(O&&O.name||"")}},[l,D]),b.useEffect(()=>{const O=ge=>{r.current&&!r.current.contains(ge.target)&&xe(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const Me=[{id:"personal",name:"Personal Info",active:o==="personal"},{id:"mun",name:"MUN Info",active:o==="mun"},{id:"food",name:"Food Info",active:o==="food"},{id:"emergency",name:"Emergency Info",active:o==="emergency"}],at=()=>{switch(o){case"personal":c("mun");break;case"mun":c("food");break;case"food":c("emergency");break;case"emergency":G();break}},nt=()=>s.jsx("div",{className:"flex items-center justify-left mb-8",children:Me.map((O,ge)=>s.jsxs(Ee.Fragment,{children:[s.jsx("div",{onClick:()=>c(O.id),style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px",background:O.active?"#395579":"#fff",border:"1px solid #000"},className:`text-sm font-medium transition-colors ${O.active?"text-white":"text-gray-700"}`,children:O.name}),ge<Me.length-1&&s.jsx("div",{className:"mx-2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},O.id))}),fe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"MUN Experience in Years"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("input",{type:"text",value:le,onChange:O=>be(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. 5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 1"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:_e,onChange:O=>Ne(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"UNSC",children:"UN Security Council"}),s.jsx("option",{value:"UNGA",children:"UN General Assembly"}),s.jsx("option",{value:"ECOSOC",children:"Economic and Social Council"}),s.jsx("option",{value:"UNHRC",children:"UN Human Rights Council"}),s.jsx("option",{value:"UNEP",children:"UN Environment Programme"})]}),s.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 2"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Q,onChange:O=>X(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"UNSC",children:"UN Security Council"}),s.jsx("option",{value:"UNGA",children:"UN General Assembly"}),s.jsx("option",{value:"ECOSOC",children:"Economic and Social Council"}),s.jsx("option",{value:"UNHRC",children:"UN Human Rights Council"}),s.jsx("option",{value:"UNEP",children:"UN Environment Programme"})]}),s.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Preferred Committee - Choice 3"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:ce,onChange:O=>j(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent appearance-none bg-white pr-10",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"UNSC",children:"UN Security Council"}),s.jsx("option",{value:"UNGA",children:"UN General Assembly"}),s.jsx("option",{value:"ECOSOC",children:"Economic and Social Council"}),s.jsx("option",{value:"UNHRC",children:"UN Human Rights Council"}),s.jsx("option",{value:"UNEP",children:"UN Environment Programme"})]}),s.jsx("div",{className:"absolute",style:{right:"17.75rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})]}),me=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Preference"}),s.jsx("div",{className:"flex space-x-4",children:["Vegetarian","Non-Vegetarian"].map(O=>s.jsx("button",{onClick:()=>te(O),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${M===O?"bg-[#C2A46D] text-white":"text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:O},O))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Allergies"}),s.jsx("input",{type:"text",value:z,onChange:O=>C(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Peanut"})]})]}),Se=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Emergency Contact Name"}),s.jsx("input",{type:"text",value:P,onChange:O=>se(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Alice Lee"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Emergency Mobile Number"}),s.jsxs("div",{className:"relative w-[400px]",ref:r,children:[s.jsxs("div",{className:"flex border border-gray-300 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center px-4 py-3 border-r border-gray-300 cursor-pointer hover:bg-gray-50",onClick:()=>xe(!we),children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:k}),s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9\\s]*",placeholder:"50 650 5005",value:de,onChange:O=>{/[^0-9\s]/.test(O.target.value)&&L.error("Only numbers and spaces are allowed in phone number");const Re=O.target.value.replace(/[^0-9\s]/g,"");q(Re)},className:"flex-1 px-4 py-3 text-sm bg-white placeholder-gray-500 focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200"})]}),we&&s.jsx("div",{className:"absolute top-full left-0 z-10 w-64 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ze.map(O=>s.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>Ie(O.code),children:[s.jsx("span",{className:"text-lg mr-3",children:O.flag}),s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:O.code}),s.jsx("span",{className:"text-sm text-gray-800",children:O.country})]},O.code))})]})]})]}),$e=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left mb-8",children:s.jsx("div",{className:"relative",children:s.jsx(eo,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Username"}),s.jsx("input",{type:"text",disabled:!0,value:d,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter username"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username is system generated"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:m||"",onChange:O=>x(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter your name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:g,onChange:O=>p(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter date of birth"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),s.jsx("div",{className:"flex space-x-4",children:["male","female","other"].map(O=>s.jsx("button",{onClick:()=>w(O),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y===O?"bg-[#C2A46D] text-white":" text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:O},O))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Place of School"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:E,onChange:O=>N(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter place of school"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:A,onChange:O=>_(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter school name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade or Year"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:U||"",onChange:O=>K(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter grade or year"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"email",disabled:!0,value:$||"",onChange:O=>I(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter email address"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"tel",disabled:!0,value:V||"",onChange:O=>oe(O.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter mobile number"})})]})]})]}),G=async()=>{try{const O=await t4(le,_e,M,z,P,de);O.success?(L.success("Registration completed successfully!"),n("/teacher-registration-success")):L.error("Failed to register for event: "+O.message)}catch(O){L.error("Failed to register for event: "+O.message)}};return s.jsx(Ss,{loadingText:"Loading Registration...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"mb-6",style:{color:"#000",fontSize:"18px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Review Info"}),nt()]}),s.jsxs("div",{className:"max-w-2xl",children:[o==="personal"&&$e(),o==="mun"&&fe(),o==="food"&&me(),o==="emergency"&&Se()]}),s.jsx("div",{className:"flex justify-left mt-8",children:s.jsx("button",{onClick:at,className:"font-medium text-white transition-all hover:opacity-90",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"160px",height:"50px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"16px"},children:"Continue"})})]})]})})},W4=()=>{const n=Bt();return s.jsx(Ss,{loadingText:"Loading Success Page...",children:s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(rs,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"You are registered to GMA MUN 2025"})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/event-create"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event"]})]})]})]})})},Vg="data:image/svg+xml,%3csvg%20width='30'%20height='26'%20viewBox='0%200%2030%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.5525%2016.5036C29.3126%2016.5036%2029.1226%2016.6919%2029.1226%2016.9334V21.0206C29.1226%2023.0297%2027.4919%2024.6443%2025.499%2024.6443L4.48329%2024.6427C2.47428%2024.6427%200.859651%2023.012%200.859651%2021.019V16.9318C0.859651%2016.6919%200.671307%2016.502%200.429825%2016.502C0.189968%2016.502%200%2016.6903%200%2016.9318V21.019C0%2023.4917%202.00901%2025.5007%204.48164%2025.5007H25.4813C27.9539%2025.5007%2029.9629%2023.4917%2029.9629%2021.019V16.9318C29.9822%2016.6919%2029.7939%2016.5036%2029.5525%2016.5036Z'%20fill='black'/%3e%3cpath%20d='M14.9916%200.5C14.7517%200.5%2014.5617%200.688345%2014.5617%200.929826V16.7266L10.1493%2012.0389C9.97707%2011.8667%209.71949%2011.8506%209.54888%2012.0212C9.37663%2012.1758%209.36054%2012.4511%209.53117%2012.6217L14.6825%2018.0998C14.7678%2018.1851%2014.8708%2018.2366%2014.9916%2018.2366C15.1123%2018.2366%2015.2153%2018.1851%2015.3006%2018.0998L20.452%2012.6217C20.6065%2012.4494%2020.6065%2012.1758%2020.4343%2012.0212C20.262%2011.8667%2019.9884%2011.8667%2019.8338%2012.0389L15.4214%2016.7266V0.929826C15.4214%200.706065%2015.2314%200.5%2014.9916%200.5Z'%20fill='black'/%3e%3c/svg%3e",K4=()=>{const{eventId:n}=Yl(),[r,l]=b.useState("Event Info"),[o,c]=b.useState(""),[d,h]=b.useState(""),[m,x]=b.useState(""),[g,p]=b.useState(""),[y,w]=b.useState(""),[E,N]=b.useState(""),[A,_]=b.useState(""),[D,T]=b.useState(""),[U,K]=b.useState(""),[$,I]=b.useState([]),[V,oe]=b.useState({committee:"",country:"",generalDocuments:[],committeeDocuments:[]}),[le,be]=b.useState({registrationNo:"",username:"",name:"",dateOfBirth:"",gender:"",schoolName:"",localityOfSchool:"",gradeOrYear:"",email:"",mobileNumber:"",munExperience:"",preferredCommittee1:"",preferredCommittee2:"",preferredCommittee3:"",foodPreference:"vegetarian",foodAllergies:"",emergencyContactName:"",emergencyMobileNumber:""}),[_e,Ne]=b.useState(!1),Q=["Event Info","Support Contact","Participation Info","Registration Info"];b.useEffect(()=>{(async()=>{try{const C=await Pp(n||"");C.success?(c(C.data[0].name),h(C.data[0].description),x(C.data[0].start_date),p(C.data[0].end_date),w(C.data[0].locality),N(C.data[0].fees_per_delegate),_(C.data[0].website),T(C.data[0].instagram),K(C.data[0].cover_image)):L.error("Failed to get event by id: "+C.message)}catch(C){L.error("Failed to get event by id: "+C.message)}})()},[n]),b.useEffect(()=>{(async()=>{try{I([{abbr:"DA",role:"Head of Delegate Affairs",username:"@iman1234",name:"Iman Praveesh Hassan",mobile:"971 506505125",email:"imanphassan@gmail.com"}])}catch{console.log("Support contact API not available, using placeholder data"),I([{abbr:"DA",role:"Head of Delegate Affairs",username:"@iman1234",name:"Iman Praveesh Hassan",mobile:"971 506505125",email:"imanphassan@gmail.com"}])}})()},[n]),b.useEffect(()=>{(async()=>{try{oe({committee:"",country:"",generalDocuments:[],committeeDocuments:[]})}catch{console.log("Participation info API not available, using placeholder data"),oe({committee:"UNGA - United Nations General Assembly",country:"Australia",generalDocuments:[{name:"MUN Handbook",url:"#"}],committeeDocuments:[{name:"UNGA_Agenda",url:"#"},{name:"UNGA_Resolutions",url:"#"}]})}})()},[n]),b.useEffect(()=>{(async()=>{try{be({registrationNo:"",username:"",name:"",dateOfBirth:"",gender:"",schoolName:"",localityOfSchool:"",gradeOrYear:"",email:"",mobileNumber:"",munExperience:"",preferredCommittee1:"",preferredCommittee2:"",preferredCommittee3:"",foodPreference:"vegetarian",foodAllergies:"",emergencyContactName:"",emergencyMobileNumber:""})}catch{be({registrationNo:"223344",username:"@sommt234",name:"Sam Morgen Lee",dateOfBirth:"5 Oct 2008",gender:"Male",schoolName:"Oasis World School",localityOfSchool:"Dubai",gradeOrYear:"IB DP 2",email:"somlee@gmail.com",mobileNumber:"+971 50 6382040",munExperience:"5",preferredCommittee1:"UNSC - United Nations Security Council",preferredCommittee2:"UNGA - United Nations General Assembly",preferredCommittee3:"WHO - World Health Organization",foodPreference:"vegetarian",foodAllergies:"Peanut",emergencyContactName:"Jim Morgan",emergencyMobileNumber:"+971 655 3131"})}})()},[n]);const X=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"w-[400px]",children:s.jsx("img",{src:U,alt:"Event",className:"w-[400px] h-64 object-cover rounded-lg"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Name"}),s.jsx("input",{type:"text",value:o,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Event Description"}),s.jsx("textarea",{value:d,readOnly:!0,rows:6,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700 resize-none"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"text",value:m+" - "+g,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Locality"}),s.jsx("input",{type:"text",value:y,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Fees"}),s.jsx("input",{type:"text",value:E,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"text",value:A,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-700 mb-2",children:"Instagram"}),s.jsx("input",{type:"text",value:D,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]})]}),ce=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex gap-4 mb-4 ",children:[s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"80px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"ABBR"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Role"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"140px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Username"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"200px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Name"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"120px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Mobile"})}),s.jsx("div",{className:"bg-[#E3F2FD] rounded-lg text-center border border-gray-800",style:{width:"220px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:"text-sm font-medium text-[#1976D2]",children:"Email"})})]}),$.length>0?$.map((z,C)=>s.jsxs("div",{className:"flex gap-4 mb-3",children:[s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"80px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.abbr})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"200px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.role})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"140px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.username})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"200px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.name})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"120px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.mobile})}),s.jsx("div",{className:"bg-white border border-gray-200 flex justify-center items-center rounded-lg text-center",style:{width:"220px",height:"60px"},children:s.jsx("span",{className:"text-sm text-gray-900",children:z.email})})]},C)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Support Contacts"}),s.jsx("p",{className:"text-gray-500",children:"Contact information will be displayed here when available."})]})]})}),j=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Committee"}),s.jsx("input",{type:"text",value:V.committee,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Country"}),s.jsx("input",{type:"text",value:V.country,readOnly:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Documents"}),s.jsx("div",{className:"flex items-start gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"General"}),s.jsx("div",{className:"space-y-3",children:V.generalDocuments.map((z,C)=>s.jsxs("div",{className:"w-[400px] w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[s.jsx("span",{className:"text-sm text-gray-900",children:z.name}),s.jsx("button",{onClick:()=>window.open(z.url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx("img",{src:Vg,alt:"Download",className:"w-4 h-4"})})]},C))})]})}),s.jsx("div",{className:"flex items-start gap-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Committee Related"}),s.jsx("div",{className:"space-y-3",children:V.committeeDocuments.map((z,C)=>s.jsxs("div",{className:"w-[400px] flex items-center justify-between bg-white border border-gray-300 rounded-lg px-4 py-3",children:[s.jsx("span",{className:"text-sm text-gray-900",children:z.name}),s.jsx("button",{onClick:()=>window.open(z.url,"_blank"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx("img",{src:Vg,alt:"Download",className:"w-4 h-4"})})]},C))})]})})]})]}),M=()=>s.jsx("div",{className:"flex gap-8",children:s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:s.jsx("div",{style:{width:"160px",height:"160px"},children:s.jsx(eo,{size:"large",className:"w-[160px] h-[160px]"})})}),s.jsxs("div",{className:"w-[400px] gap-6",style:{display:"flex",flexDirection:"column",gap:"15px"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Registration No."}),s.jsx("input",{type:"text",value:le.registrationNo,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:le.username,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Name"}),s.jsx("input",{type:"text",value:le.name,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"text",value:le.dateOfBirth,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Gender"}),s.jsx("input",{type:"text",value:le.gender,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"School Name"}),s.jsx("input",{type:"text",value:le.schoolName,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Locality of School"}),s.jsx("input",{type:"text",value:le.localityOfSchool,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Grade or Year"}),s.jsx("input",{type:"text",value:le.gradeOrYear,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"text",value:le.email,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mobile Number"}),s.jsx("input",{type:"text",value:le.mobileNumber,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"MUN Experience in Years"}),s.jsx("input",{type:"text",value:le.munExperience,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 1"}),s.jsx("input",{type:"text",value:le.preferredCommittee1,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 2"}),s.jsx("input",{type:"text",value:le.preferredCommittee2,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Preferred Committee - Choice 3"}),s.jsx("input",{type:"text",value:le.preferredCommittee3,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Preference"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${le.foodPreference==="vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Vegetarian"}),s.jsx("button",{className:`px-6 py-3 rounded-full text-sm font-medium transition-colors ${le.foodPreference==="non-vegetarian"?"bg-[#D9C7A1] text-gray-900":"bg-white text-gray-600 border border-gray-300"}`,children:"Non-Vegetarian"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Food Allergies"}),s.jsx("input",{type:"text",value:le.foodAllergies,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",value:le.emergencyContactName,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Emergency Mobile Number"}),s.jsx("input",{type:"text",value:le.emergencyMobileNumber,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50 text-gray-700"})]})]}),s.jsxs("div",{className:"mt-8 relative",children:[s.jsx("button",{onClick:()=>Ne(!_e),className:"bg-[#D9C7A1] text-gray-900 px-6 py-3 rounded-full font-medium hover:bg-[#C5B595] transition-colors",children:"Cancel Registration"}),_e&&s.jsxs("div",{className:"absolute top-12 left-0 bg-white border border-gray-800 rounded-lg p-4 shadow-lg z-50",children:[s.jsx("div",{className:"mb-3",children:s.jsx("h4",{className:"font-medium text-gray-900",children:"Confirm Cancel"})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{Ne(!1),L.success("Registration cancelled successfully")},className:"text-red-600 font-medium hover:text-red-800 transition-colors",children:"Yes"}),s.jsx("button",{onClick:()=>Ne(!1),className:"text-gray-900 font-medium hover:text-gray-700 transition-colors",children:"No"})]})]})]})]})}),te=()=>{switch(r){case"Event Info":return X();case"Support Contact":return ce();case"Participation Info":return j();case"Registration Info":return M();default:return X()}};return s.jsx(Ss,{loadingText:"Loading Delegate Page...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{}),s.jsxs("div",{className:"max-w-[80rem] px-6 py-8 flex flex-col items-left",style:{marginLeft:"13rem"},children:[s.jsx("div",{className:"flex items-center space-x-2 mb-8",children:Q.map((z,C)=>s.jsxs(Ee.Fragment,{children:[s.jsx("button",{className:`flex items-center border border-gray-800 justify-center w-[200px] h-[58px] p-[5px] rounded-[20px] text-sm font-medium transition-all ${r===z?"bg-[#1E395D] text-white":"bg-white text-gray-600 border border-gray-300"}`,onClick:()=>l(z),children:z}),C<Q.length-1&&s.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:">"})]},z))}),s.jsx("div",{className:"",children:s.jsx("div",{children:te()})})]})]})})},Q4=()=>{const n=Bt(),{eventId:r}=Yl(),{allLocalities:l}=Wt(),[o,c]=b.useState("personal"),[d,h]=b.useState(""),[m,x]=b.useState(""),[g,p]=b.useState(""),[y,w]=b.useState(""),[E,N]=b.useState(""),[A,_]=b.useState(""),[D,T]=b.useState(""),[U,K]=b.useState(""),[$,I]=b.useState(""),[V,oe]=b.useState(""),[le,be]=b.useState(""),[_e,Ne]=b.useState("");b.useEffect(()=>{(async()=>{try{const C=await Ta();C.success?(h(C.data.username||""),x(C.data.fullname||""),p(C.data.birthday||""),w(C.data.gender||""),_(C.data.school.name||""),T(C.data.school.locality_id||""),K(C.data.years_of_experience||""),I(C.data.email||""),oe(C.data.phone_number||"")):L.error("Failed to get user by id: "+C.message)}catch(C){L.error("Failed to get user by id: "+C.message)}})()},[]),b.useEffect(()=>{if(l&&l.length>0&&D){const z=l.find(C=>{const P=String(C.id||"").toLowerCase(),se=String(D||"").toLowerCase();return P===se});N(z&&z.name||"")}},[l,D]);const Q=[{id:"personal",name:"Personal Info",active:o==="personal"},{id:"food",name:"Food Info",active:o==="food"}],X=()=>{switch(o){case"personal":c("food");break;case"food":te();break}},ce=()=>s.jsx("div",{className:"flex items-center justify-left mb-8",children:Q.map((z,C)=>s.jsxs(Ee.Fragment,{children:[s.jsx("div",{onClick:()=>c(z.id),style:{display:"flex",width:"200px",height:"58px",padding:"5px",justifyContent:"center",alignItems:"center",borderRadius:"20px",background:z.active?"#395579":"#fff",border:"1px solid #000"},className:`text-sm font-medium transition-colors ${z.active?"text-white":"text-gray-700"}`,children:z.name}),C<Q.length-1&&s.jsx("div",{className:"mx-2 text-gray-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},z.id))}),j=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Preference"}),s.jsx("div",{className:"flex space-x-4",children:["Vegetarian","Non-Vegetarian"].map(z=>s.jsx("button",{onClick:()=>be(z),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${le===z?"bg-[#C2A46D] text-white":"text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Food Allergies"}),s.jsx("input",{type:"text",value:_e,onChange:z=>Ne(z.target.value),className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"E.g. Peanut"})]})]}),M=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left mb-8",children:s.jsx("div",{className:"relative",children:s.jsx(eo,{size:"large",className:"w-32 h-32 border-4 border-white shadow-lg",showBorder:!0})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Username"}),s.jsx("input",{type:"text",value:d,disabled:!0,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter username"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username is system generated"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:m,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter your name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Date of Birth"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:g,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter date of birth"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Gender"}),s.jsx("div",{className:"flex space-x-4",children:["male","female","other"].map(z=>s.jsx("button",{disabled:!0,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y.toLowerCase()===z.toLowerCase()?"bg-[#C2A46D] text-white":" text-gray-700 hover:bg-gray-300"}`,style:{border:"1px solid #000"},children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Place of School"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:E,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter place of school"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"School Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:A,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter school name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Years of Work Experience"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",disabled:!0,value:U,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter years of work experience"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Email"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"email",disabled:!0,value:$,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter email address"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{color:"#000",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Mobile"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"tel",disabled:!0,value:V,className:"w-[400px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent pr-10",placeholder:"Enter mobile number"})})]})]})]}),te=async()=>{try{const z=await e4(r,le,_e);z.success?(L.success("Registration completed successfully!"),n("/teacher-registration-success")):L.error("Failed to register for event: "+z.message)}catch(z){L.error("Failed to register for event: "+z.message)}};return s.jsx(Ss,{loadingText:"Loading Teacher Registration...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"mb-6",style:{color:"#000",fontSize:"18px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"Review Info"}),ce()]}),s.jsxs("div",{className:"max-w-2xl",children:[o==="personal"&&M(),o==="food"&&j()]}),s.jsx("div",{className:"flex justify-left mt-8",children:s.jsx("button",{onClick:X,className:"font-medium text-white transition-all hover:opacity-90",style:{backgroundColor:"#C2A46D",borderRadius:"30px",display:"flex",width:"160px",height:"50px",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontSize:"16px"},children:"Continue"})})]})]})})},X4=()=>{const n=Bt();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F8F8"},children:[s.jsx(rs,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",style:{color:"#000",fontSize:"48px",fontStyle:"normal",fontWeight:700,lineHeight:"150%"},children:"You are registered to GMA MUN 2025"})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>n("/home"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs("button",{onClick:()=>n("/event-create"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",borderRadius:"30px",background:"#C2A46D",color:"#fff",fontWeight:500,fontSize:"16px",border:"none",cursor:"pointer",transition:"background 0.2s"},onMouseOver:r=>r.currentTarget.style.background="#B8945F",onMouseOut:r=>r.currentTarget.style.background="#C2A46D",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Event"]})]})]})]})},Z4=({eventName:n,eventStartDate:r,eventEndDate:l,locality:o,area:c,feesPerDelegate:d,numberOfSeats:h,totalRevenue:m})=>n?s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Event"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px]  w-full",children:n})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Date"}),s.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:[r," - ",l]})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Locality"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:o})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Area"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:c||"N/A"})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Fees"}),s.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:["AED ",d]})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Delegates"}),s.jsx("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:h||"0"})]}),s.jsxs("div",{className:"flex justify-center items-center text-white border rounded-lg border border-gray-800",children:[s.jsx("div",{className:"bg-[#607DA3] text-sm font-medium px-2.5 py-2 h-full rounded-l-[5px] flex justify-center items-center",children:"Total Revenue"}),s.jsxs("div",{className:"text-lg text-gray-800 p-[10px] w-full",children:["AED ",m||"0"]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Allocation Summary"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-[800px] border border-gray-800 w-[570px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#607DA3] text-white ",children:[s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[19%]"}),s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Count"}),s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Seats"}),s.jsx("th",{className:"px-4 py-3 text-center border border-gray-800 w-[8%]",children:"Allocated"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-800",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Total"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"13"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"360"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"202"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3  text-center font-medium border border-gray-800",children:"Country Committees"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"5"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"150"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"100"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3  text-center font-medium border border-gray-800",children:"Crisis Committees"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"4"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"120"}),s.jsx("td",{className:"px-4 py-3  text-center border border-gray-800",children:"35"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Role Committees"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"3"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"90"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"67"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-center font-medium border border-gray-800",children:"Open Committees"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"}),s.jsx("td",{className:"px-4 py-3 text-center border border-gray-800",children:"0"})]})]})]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Allocation Status"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"grid grid-cols-5 gap-2 w-[840px]",children:[s.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[s.jsx("span",{children:"Committee Type"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[s.jsx("span",{children:"Committees"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:s.jsx("span",{children:"Seats Total"})}),s.jsx("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:s.jsx("span",{children:"Seats Assigned"})}),s.jsxs("div",{className:"bg-[#607DA3] text-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Country"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"WHO"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:s.jsx("span",{className:"text-red-600 font-medium",children:"Full"})}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Country"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"UNGA"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"25"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:s.jsx("span",{className:"text-orange-600 font-medium",children:"Filling"})}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"Crisis"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center font-medium",children:"CMC"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"30"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:"10"}),s.jsx("div",{className:"bg-white px-4 py-3 rounded-[5px] border border-gray-800 flex items-center",children:s.jsx("span",{className:"text-green-600 font-medium",children:"Open"})})]})})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events available"}),s.jsx("p",{className:"text-gray-500",children:"Please create an event to view the dashboard."})]}),J4=({eventName:n,coverImage:r,eventDescription:l,eventStartDate:o,eventEndDate:c,school:d,locality:h,numberOfSeats:m,feesPerDelegate:x,totalRevenue:g,website:p,instagram:y,isUploadingCoverImage:w,editingField:E,tempValue:N,showDatePicker:A,onFieldEdit:_,onFieldChange:D,onCancelEdit:T,onCoverImageUpload:U,onDateRangeChange:K,onDatePickerToggle:$,onDatePickerClose:I,onUpdateEvent:V,isSaving:oe})=>{const le=b.useRef(null),be=(Ne,Q,X,ce="text",j,M=!0)=>{const te=E===Q,z=te?N:X;return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:Ne}),s.jsxs("div",{className:"relative",children:[ce==="textarea"?s.jsx("textarea",{value:z,disabled:!te,onChange:C=>D(Q,C.target.value),rows:j||4,className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${te?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Ne.toLowerCase()}`}):s.jsx("input",{type:ce,value:z,disabled:!te,onChange:C=>D(Q,C.target.value),className:`w-[400px] px-4 py-3 border rounded-lg text-sm bg-white focus:outline-none focus:border-[#1E395D] focus:ring-2 focus:ring-[#1E395D] focus:ring-opacity-20 transition-all duration-200 ${te?"border-[#1E395D]":"border-gray-300 bg-gray-50"}`,placeholder:`Enter ${Ne.toLowerCase()}`}),!te&&M&&s.jsx("button",{onClick:()=>_(Q,X),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"43.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),te&&M&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"43rem"},children:s.jsx("button",{onClick:T,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]})]})},_e=(Ne,Q)=>{const X=E===Q;return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:Ne}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{onClick:()=>X&&$(),className:`w-[400px] px-4 py-3 border rounded-lg transition-colors ${X?"border-[#1E395D] cursor-pointer hover:border-[#1E395D]":"border-gray-300 bg-gray-50 cursor-not-allowed"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Start Date"}),s.jsx("span",{className:"text-sm font-medium",children:o?new Date(o).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]}),s.jsx("div",{className:"text-gray-400",children:"to"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"End Date"}),s.jsx("span",{className:"text-sm font-medium",children:c?new Date(c).toLocaleDateString("en-GB"):"DD / MM / YYYY"})]})]}),s.jsx("div",{className:"text-gray-400",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),A&&X&&s.jsx("div",{className:"absolute top-full left-0 z-50 mt-1",children:s.jsx(mx,{startDate:o,endDate:c,onDateRangeChange:K,onClose:I,maxDays:7})}),!X&&s.jsx("button",{onClick:()=>_(Q,`${o} - ${c}`),className:"absolute top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{right:"43.75rem"},children:s.jsx("img",{src:Ps,alt:"Edit",className:"w-4 h-4"})}),X&&s.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex space-x-2",style:{right:"43rem"},children:s.jsx("button",{onClick:T,className:"text-red-600 hover:text-red-800 text-sm font-medium mr-2",children:""})})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:X?"Click on the date field to open calendar":"Select the start and end dates for your event"})]})};return n?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Event Image"})}),s.jsxs("div",{className:"relative inline-block",children:[w?s.jsx("div",{className:"w-[400px] h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(Ar,{size:"large",text:"Uploading..."})}):s.jsx("div",{className:"w-[400px] h-64 bg-gray-200 rounded-lg overflow-hidden",children:s.jsx("img",{src:r||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",alt:n,className:"w-[400px] h-full object-cover"})}),s.jsx("button",{onClick:()=>!w&&le.current?.click(),disabled:w,className:`absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-colors ${w?"bg-gray-300 cursor-not-allowed opacity-50":"hover:bg-gray-300"}`,style:{right:"-1.5rem",bottom:"-0.5rem"},children:s.jsx("img",{src:Ps,alt:"Edit Cover Image",className:"w-4 h-4"})}),s.jsx("input",{ref:le,type:"file",accept:"image/*",onChange:U,disabled:w,className:"hidden"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Event Information"}),s.jsxs("div",{className:"flex flex-col gap-6",children:[be("Event Name","name",n||""),be("Event Description","description",l||"","textarea",4),_e("Date","date"),be("School","school_name",d||"","text",void 0,!1),be("Locality","locality",h||"","text",void 0,!1),be("Seats","number_of_seats",m||""),be("Fees","fees_per_delegate",x||""),s.jsxs("div",{className:"w-[400px] flex justify-between items-center py-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Revenue"}),s.jsxs("div",{className:"text-lg text-gray-800 font-medium",children:["AED ",g||"0"]})]}),be("Website","website",p||""),be("Instagram","instagram",y||"")]}),s.jsx("div",{className:"mt-8 flex justify-start",children:s.jsx("button",{onClick:V,disabled:oe,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:oe?"#bdbdbd":"#C2A46D",cursor:oe?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:oe?"Saving...":"Save"})})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No event selected"}),s.jsx("p",{className:"text-gray-500",children:"Please select an event to view details."})]})},to="http://localhost:1000",eS=async(n,r,l)=>{try{const o=localStorage.getItem("token");return(await Ae.post(`${to}/api/v1/event-leaders/save-leadership-role-by-event`,{eventId:n,userId:r,roleId:l},{headers:{Authorization:`Bearer ${o}`}})).data}catch(o){throw new Error(o.response?.data?.message||"Failed to save leadership role by event id")}},Ll=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${to}/api/v1/event-leaders/get-leadership-roles-by-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch leadership roles by event id")}},tS=async(n,r,l,o)=>{try{const c=localStorage.getItem("token");return(await Ae.patch(`${to}/api/v1/event-leaders/update-leadership-role-by-event/${n}`,{eventId:r,roleId:l,userId:o},{headers:{Authorization:`Bearer ${c}`}})).data}catch(c){throw new Error(c.response?.data?.message||"Failed to update leadership role by event id")}},sS=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${to}/api/v1/event-leaders/delete-leadership-role-by-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete leadership role by event id")}},rS=async(n,r)=>{try{const l=localStorage.getItem("token");return(await Ae.patch(`${to}/api/v1/event-leaders/update-leadership-role-ranking-by-event/${n}`,{direction:r},{headers:{Authorization:`Bearer ${l}`}})).data}catch(l){throw new Error(l.response?.data?.message||"Failed to update leadership role ranking by event id")}},aS=()=>{const{eventId:n}=Yl(),{allLeadershipRoles:r}=Wt(),[l,o]=b.useState([]),[c,d]=b.useState(!0),[h,m]=b.useState(null),[x,g]=b.useState(!1),[p,y]=b.useState(null),[w,E]=b.useState({abbr:"",role:"",username:"",name:"",selectedUserId:""}),[N,A]=b.useState({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""}),_=b.useRef({}),[D,T]=b.useState(!1),[U,K]=b.useState([]),[$,I]=b.useState([]),V=b.useRef(null),[oe,le]=b.useState(!1),[be,_e]=b.useState([]),Ne=b.useRef(null),[Q,X]=b.useState(!1),[ce,j]=b.useState(null),[M,te]=b.useState(new Set),z=fe=>{m(h===fe?null:fe)};b.useEffect(()=>{(async()=>{if(n){d(!0);try{const me=await Ll(n);if(me.success){const G=(me.data||[]).sort((O,ge)=>{const Re=O.ranking??0,Fe=ge.ranking??0;return Re-Fe});o(G)}const Se=await dx(n);Se.success&&I(Se.data)}catch(me){console.error("Error fetching data:",me),L.error("Failed to load leadership roles data")}finally{d(!1)}}})()},[n]);const C=(fe,me)=>{if(fe==="edit"){const Se=l.find($e=>$e.id===me);Se&&(A({abbr:Se.leadership_roles?.abbr||"",role:Se.leadership_roles?.leadership_role||"",username:Se.users?.username||"",name:Se.users?.fullname||"",selectedUserId:Se.users?.id?.toString()||"",id:Se.id.toString()}),y(me))}else fe==="delete"?(j(me),X(!0)):fe==="add_support"&&te(Se=>{const $e=new Set(Se);return $e.has(me)?$e.delete(me):$e.add(me),$e});m(null)},P=async()=>{if(ce)try{if(console.log("roleToDelete",ce),(await sS(ce.toString())).success){L.success("Leadership role deleted successfully");const me=await Ll(n||"");if(me.success){const $e=(me.data||[]).sort((G,O)=>{const ge=G.ranking??0,Re=O.ranking??0;return ge-Re});o($e)}}}catch(fe){L.error(fe.message||"Failed to delete leadership role")}X(!1),j(null)},se=()=>{X(!1),j(null)},k=async(fe,me)=>{try{if((await rS(fe.toString(),me)).success){L.success("Ranking updated successfully");const $e=await Ll(n||"");if($e.success){const O=($e.data||[]).sort((ge,Re)=>{const Fe=ge.ranking??0,ft=Re.ranking??0;return Fe-ft});o(O)}}}catch(Se){L.error(Se.message||"Failed to update ranking")}},J=()=>{g(!0),E({abbr:"",role:"",username:"",name:"",selectedUserId:""})},de=(fe,me)=>{E(Se=>({...Se,[fe]:me})),fe==="role"&&(me.trim()?(T(!0),we(me.trim())):(T(!1),K([]))),fe==="username"&&(me.trim()?(le(!0),xe(me.trim())):(le(!1),_e([]),E(Se=>({...Se,name:"",selectedUserId:""}))))},q=(fe,me)=>{A(Se=>({...Se,[fe]:me})),fe==="role"&&(me.trim()?(T(!0),we(me.trim())):(T(!1),K([]))),fe==="username"&&(me.trim()?(le(!0),xe(me.trim())):(le(!1),_e([]),A(Se=>({...Se,name:"",selectedUserId:""}))))},we=fe=>{if(!r||r.length===0){K([]);return}const me=r.filter(Se=>{const $e=Se.leadership_role||Se.role||"",G=Se.abbr||"";return $e.toLowerCase().includes(fe.toLowerCase())||G.toLowerCase().includes(fe.toLowerCase())});K(me)},xe=fe=>{if(!$||$.length===0){_e([]);return}const me=$.filter(Se=>{const $e=Se.user||Se,G=$e.username||"",O=$e.fullname||"";return G.toLowerCase().includes(fe.toLowerCase())||O.toLowerCase().includes(fe.toLowerCase())});_e(me)},ze=fe=>{p?A(me=>({...me,role:fe.leadership_role||fe.role||"",abbr:fe.abbr||""})):E(me=>({...me,role:fe.leadership_role||fe.role||"",abbr:fe.abbr||""})),T(!1),K([])},Ie=fe=>{const me=fe.user||fe;p?A(Se=>({...Se,username:me.username||"",name:me.fullname||"",selectedUserId:me.id||""})):E(Se=>({...Se,username:me.username||"",name:me.fullname||"",selectedUserId:me.id||""})),le(!1),_e([])},Me=async()=>{try{if(!w.role||!w.username||!w.selectedUserId){L.error("Please fill in all required fields");return}const fe=r.find(me=>(me.leadership_role||me.role)===w.role);if(fe&&w.selectedUserId){const me=await eS(n||"",w.selectedUserId,fe.id.toString());if(me.success){L.success("Leadership role added successfully"),g(!1),E({abbr:"",role:"",username:"",name:"",selectedUserId:""});const Se=await Ll(n||"");if(Se.success){const G=(Se.data||[]).sort((O,ge)=>{const Re=O.ranking??0,Fe=ge.ranking??0;return Re-Fe});o(G)}}else L.error(me.message)}else L.error("Unable to save leadership role. Please try again.")}catch(fe){L.error("Failed to save leadership role: "+fe.message)}},at=async()=>{try{if(!N.role||!N.username||!N.selectedUserId){L.error("Please fill in all required fields");return}const fe=r.find(me=>(me.leadership_role||me.role)===N.role);if(fe&&N.selectedUserId){console.log("eventId",n),console.log("selectedUserId",N.selectedUserId),console.log("roleId",fe.id.toString()),console.log("id",N.id.toString());const me=await tS(N.id.toString(),n||"",fe.id.toString(),N.selectedUserId);if(me.success){L.success("Leadership role updated successfully"),y(null),A({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""});const Se=await Ll(n||"");if(Se.success){const G=(Se.data||[]).sort((O,ge)=>{const Re=O.ranking??0,Fe=ge.ranking??0;return Re-Fe});o(G)}}else L.error(me.message)}else L.error("Unable to update leadership role. Please try again.")}catch(fe){L.error("Failed to update leadership role: "+fe.message)}},nt=()=>{y(null),A({abbr:"",role:"",username:"",name:"",selectedUserId:"",id:""})};return b.useEffect(()=>{const fe=me=>{Object.values(_.current).every($e=>!$e||!$e.contains(me.target))&&m(null),V.current&&!V.current.contains(me.target)&&T(!1),Ne.current&&!Ne.current.contains(me.target)&&le(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),c?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading leadership roles..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-6 ",style:{marginBottom:"16px"},children:s.jsxs("div",{className:"grid grid-cols-[100px_200px_220px_280px_120px] gap-4",children:[s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"ABBR"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Leadership Role"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-4 py-3 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Name"}),s.jsx("div",{}),l.map(fe=>s.jsxs(Ee.Fragment,{children:[p===fe.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:N.abbr,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),s.jsxs("div",{ref:V,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:N.role,onChange:me=>q("role",me.target.value),onFocus:()=>{N.role.trim()&&(T(!0),we(N.role.trim()))},placeholder:"Enter role name",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),D&&U.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:U.map((me,Se)=>s.jsxs("button",{type:"button",onClick:()=>ze(me),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:me.leadership_role||me.role}),me.abbr&&s.jsxs("div",{className:"text-xs text-gray-500",children:["(",me.abbr,")"]})]},me.id||Se))})]}),s.jsxs("div",{ref:Ne,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:N.username,onChange:me=>q("username",me.target.value),onFocus:()=>{N.username.trim()&&(le(!0),xe(N.username.trim()))},placeholder:"Enter username",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),oe&&be.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:be.map((me,Se)=>{const $e=me.user||me;return s.jsxs("button",{type:"button",onClick:()=>Ie(me),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:$e.username}),s.jsx("div",{className:"text-xs text-gray-500",children:$e.fullname})]},$e.id||Se)})})]}),s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:N.name,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center justify-center",children:s.jsx("div",{className:"text-sm text-gray-900 text-center w-full",children:fe.leadership_roles?.abbr||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:fe.leadership_roles?.leadership_role||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:fe.users?.username||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-4 py-3 flex items-center",children:s.jsx("div",{className:"text-sm text-gray-900 w-full",children:fe.users?.fullname||"-"})})]}),s.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative flex items-center justify-center space-x-3",children:[s.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 p-1",title:"Editing Mode",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}),s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("button",{onClick:()=>k(fe.id,-1),disabled:l.findIndex(me=>me.id===fe.id)===0,className:"text-gray-600 hover:text-gray-800 p-1 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M18 15l-6-6-6 6"})})}),s.jsx("button",{onClick:()=>k(fe.id,1),disabled:l.findIndex(me=>me.id===fe.id)===l.length-1,className:"text-gray-600 hover:text-gray-800 p-1 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),M.has(fe.id)&&s.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1",title:"Support Enabled",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:[s.jsx("path",{d:"M3 14v3a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-3"}),s.jsx("path",{d:"M12 2a5 5 0 0 0-5 5v6a5 5 0 0 0 10 0V7a5 5 0 0 0-5-5z"}),s.jsx("path",{d:"M8 12h8",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round"})]})}),s.jsxs("div",{ref:me=>{_.current[fe.id]=me},className:"relative",children:[s.jsx("button",{onClick:()=>z(fe.id),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),h===fe.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>C("edit",fe.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Edit"}),s.jsx("button",{onClick:()=>C("delete",fe.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Delete"}),s.jsx("button",{onClick:J,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:"Add Role"}),s.jsx("button",{onClick:()=>C("add_support",fe.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200",children:M.has(fe.id)?"Remove Support":"Add as Support"})]})})]})]})})]},fe.id)),x&&s.jsxs("div",{className:`col-span-${p!==null?"6":"5"} grid gap-4 ${p!==null?"grid-cols-[100px_200px_220px_280px_80px_80px]":"grid-cols-[100px_200px_220px_280px_80px]"}`,children:[s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:w.abbr,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),s.jsxs("div",{ref:V,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:w.role,onChange:fe=>de("role",fe.target.value),onFocus:()=>{w.role.trim()&&(T(!0),we(w.role.trim()))},placeholder:"Enter role name",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),D&&U.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:U.map((fe,me)=>s.jsxs("button",{type:"button",onClick:()=>ze(fe),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:fe.leadership_role||fe.role}),fe.abbr&&s.jsxs("div",{className:"text-xs text-gray-500",children:["(",fe.abbr,")"]})]},fe.id||me))})]}),s.jsxs("div",{ref:Ne,className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative",children:[s.jsx("input",{type:"text",value:w.username,onChange:fe=>de("username",fe.target.value),onFocus:()=>{w.username.trim()&&(le(!0),xe(w.username.trim()))},placeholder:"Enter username",className:"w-full border-none outline-none text-gray-900",autoComplete:"off"}),oe&&be.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:be.map((fe,me)=>{const Se=fe.user||fe;return s.jsxs("button",{type:"button",onClick:()=>Ie(fe),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:Se.username}),s.jsx("div",{className:"text-xs text-gray-500",children:Se.fullname})]},Se.id||me)})})]}),s.jsx("div",{className:"bg-gray-100 px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:w.name,readOnly:!0,placeholder:"Auto-filled",className:"w-full border-none outline-none text-gray-500 bg-transparent cursor-not-allowed"})}),s.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"relative flex items-center justify-center",children:s.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 p-1",title:"Adding New Role",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})})})}),p!==null&&s.jsx("div",{})]})]})}),s.jsxs("div",{className:"w-[925px] flex justify-between",children:[p!==null?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:nt,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Cancel"}),s.jsx("button",{onClick:at,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#607DA3",cursor:"pointer",border:"none",boxShadow:"none"},children:"Save"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:J,disabled:x,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:x?"#bdbdbd":"#C2A46D",cursor:x?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:"Add Role"}),x&&s.jsx("button",{onClick:Me,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:"#C2A46D",cursor:"pointer",border:"none",boxShadow:"none"},children:"Save"})]}),s.jsx(Tr,{isOpen:Q,onClose:se,onConfirm:P,title:"Confirm Delete",message:"Are you sure you want to delete this leadership role? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})]})},os=[];for(let n=0;n<256;++n)os.push((n+256).toString(16).slice(1));function nS(n,r=0){return(os[n[r+0]]+os[n[r+1]]+os[n[r+2]]+os[n[r+3]]+"-"+os[n[r+4]]+os[n[r+5]]+"-"+os[n[r+6]]+os[n[r+7]]+"-"+os[n[r+8]]+os[n[r+9]]+"-"+os[n[r+10]]+os[n[r+11]]+os[n[r+12]]+os[n[r+13]]+os[n[r+14]]+os[n[r+15]]).toLowerCase()}let pu;const lS=new Uint8Array(16);function oS(){if(!pu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pu=crypto.getRandomValues.bind(crypto)}return pu(lS)}const iS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wg={randomUUID:iS};function cS(n,r,l){n=n||{};const o=n.random??n.rng?.()??oS();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,nS(o)}function dS(n,r,l){return Wg.randomUUID&&!n?Wg.randomUUID():cS(n)}const Pi="http://localhost:1000",Kg=async n=>{try{const r=localStorage.getItem("token");return(await Ae.get(`${Pi}/api/v1/event-committees/get-all-event-committees/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to fetch all event committees")}},uS=async(n,r,l,o,c,d,h,m,x,g)=>{try{const p=localStorage.getItem("token");return(await Ae.post(`${Pi}/api/v1/event-committees/save-event-committees-by-event`,{committeeId:n,eventId:r,category:l,seats:o,chair_username:c,chair_fullname:d,deputy_chair1_username:h,deputy_chair1_fullname:m,deputy_chair2_username:x,deputy_chair2_fullname:g},{headers:{Authorization:`Bearer ${p}`}})).data}catch(p){throw new Error(p.response?.data?.message||"Failed to save event committees by event id")}},hS=async(n,r,l,o,c,d,h,m,x,g,p)=>{try{const y=localStorage.getItem("token");return(await Ae.patch(`${Pi}/api/v1/event-committees/update-event-committees-by-event/${n}`,{committeeId:l,eventId:r,category:o,seats:c,chair_username:d,chair_fullname:h,deputy_chair1_username:m,deputy_chair1_fullname:x,deputy_chair2_username:g,deputy_chair2_fullname:p},{headers:{Authorization:`Bearer ${y}`}})).data}catch(y){throw new Error(y.response?.data?.message||"Failed to update event committees by event id")}},fS=async n=>{try{const r=localStorage.getItem("token");return(await Ae.delete(`${Pi}/api/v1/event-committees/delete-event-committees-by-event/${n}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Failed to delete event committees by event id")}},mS=()=>{const[n,r]=b.useState("country"),[l,o]=b.useState([]),[c,d]=b.useState([]),[h,m]=b.useState(null),[x,g]=b.useState(null),[p,y]=b.useState(""),[w,E]=b.useState(!1),[N,A]=b.useState(!1),[_,D]=b.useState(!1),[T,U]=b.useState(!1),[K,$]=b.useState(!1),[I,V]=b.useState({x:0,y:0}),[oe,le]=b.useState(null),[be,_e]=b.useState(!1),[Ne,Q]=b.useState(!0),X=b.useRef(!1),[ce,j]=b.useState(!1),[M,te]=b.useState([]),[z,C]=b.useState(null),P=b.useRef(null),[se,k]=b.useState(!1),[J,de]=b.useState([]),[q,we]=b.useState(null),[xe,ze]=b.useState(null),Ie=b.useRef(null),Me=b.useRef(null),at=[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}],{eventId:nt}=Yl(),{allCommittees:fe,allRegistrations:me,refreshCommitteesData:Se,refreshRegistrationsData:$e,isLoading:G}=Wt();b.useEffect(()=>{Se()},[]),b.useEffect(()=>{const H=setTimeout(()=>Q(!1),1e3);return()=>clearTimeout(H)},[]),b.useEffect(()=>{G||Q(!1)},[G]),b.useEffect(()=>{nt&&$e(nt)},[nt]),b.useEffect(()=>{X.current=_},[_]),b.useEffect(()=>{if(!_){const H=l.filter(ie=>ie.category===n);d(H)}},[l,n,_]),b.useEffect(()=>{nt&&(async()=>{try{const ie=await Kg(nt);if(!_){const Te=(ie.data||[]).map(Ve=>{const Ge=Ve&&typeof Ve.committee=="object"?Ve.committee:null,st=Ge?Ge.committee??Ge.name??"":typeof Ve.committee=="string"?Ve.committee:"",Dt=Ge?Ge.abbr??Ve.abbr??"":Ve.abbr??"",Os=Ge?Ge.id:Ve.committee_id??Ve.committeeId??void 0,Cs=Ge?Ge.category:Ve.category;return{id:String(Ve.id),committee:st,abbr:Dt,committeeId:Os,seatsTotal:String(Ve.seats??Ve.seatsTotal??""),chairUsername:Ve.chair_username??"",chairName:Ve.chair_name??"",deputyChair1Username:Ve.deputy_chair_1_username??"",deputyChair1Name:Ve.deputy_chair_1_name??"",deputyChair2Username:Ve.deputy_chair_2_username??"",deputyChair2Name:Ve.deputy_chair_2_name??"",isNew:!1,category:Cs||"country"}});o(Array.isArray(Te)?Te:[])}}catch(ie){console.error("Error fetching event committees:",ie),L.error(ie.message||"Failed to fetch event committees")}})()},[nt,n,_]),b.useEffect(()=>{const H=ie=>{P.current&&!P.current.contains(ie.target)&&(j(!1),te([]),C(null)),Ie.current&&!Ie.current.contains(ie.target)&&(k(!1),de([]),we(null),ze(null)),Me.current&&!Me.current.contains(ie.target)&&($(!1),le(null),U(!1))};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const O=H=>{if(r(H),j(!1),te([]),C(null),k(!1),de([]),we(null),ze(null),$(!1),le(null),m(null),g(null),y(""),U(!1),c.some(Be=>Be.isNew))d(Be=>Be.filter(Te=>Te.category===H));else{D(!1);const Be=l.filter(Te=>Te.category===H);d(Be)}},ge=(H,ie,Be)=>{m(H),g(ie),y(Be),ie==="chairUsername"||ie==="deputyChair1Username"||ie==="deputyChair2Username"?(we(H),ze(ie),k(!1),de([])):(k(!1),de([]),we(null),ze(null)),$(!1),le(null)},Re=(H,ie)=>{y(H),x==="committee"&&(H.trim()?(j(!0),C(ie||null),Fe(H.trim())):(j(!1),te([]),C(null))),(x==="chairUsername"||x==="deputyChair1Username"||x==="deputyChair2Username"||x==="chairName"||x==="deputyChair1Name"||x==="deputyChair2Name")&&(H.trim()?(k(!0),we(ie||null),ze(x),ft(H.trim())):(k(!1),de([]),we(null),ze(null)))},Fe=H=>{if(!fe||fe.length===0){te([]);return}const Be=fe.filter(Te=>Te.category===n).filter(Te=>{const Ve=Te.committee||"",Ge=Te.abbr||"";return Ve.toLowerCase().includes(H.toLowerCase())||Ge.toLowerCase().includes(H.toLowerCase())});te(Be)},ft=H=>{if(!me||me.length===0){de([]);return}const ie=me.filter(Be=>{const Te=Be.user||Be,Ve=Te.username||"",Ge=Te.fullname||"";return Ve.toLowerCase().includes(H.toLowerCase())||Ge.toLowerCase().includes(H.toLowerCase())});de(ie)},ve=H=>{if(h&&x==="committee"&&(d(ie=>ie.map(Be=>Be.id===h?{...Be,committee:H.committee||H.name||"",abbr:H.abbr||"Auto",committeeId:H.id}:Be)),D(!0)),j(!1),te([]),C(null),h){const ie=c.find(Be=>Be.id===h);g("seatsTotal"),y(ie?.seatsTotal||"")}},Pe=H=>{const ie=H&&H.user?H.user:H;h&&xe&&(d(Be=>Be.map(Te=>{if(Te.id!==h)return Te;if(xe==="chairUsername"||xe==="deputyChair1Username"||xe==="deputyChair2Username"){const Ve=xe.replace("Username","Name");return{...Te,[xe]:ie?.username||"",[Ve]:ie?.fullname||""}}if(xe==="chairName"||xe==="deputyChair1Name"||xe==="deputyChair2Name"){const Ve=xe.replace("Name","Username");return{...Te,[xe]:ie?.fullname||"",[Ve]:ie?.username||""}}return Te})),D(!0)),k(!1),de([]),we(null),ze(null),y("")},Y=(H,ie)=>{H.preventDefault(),H.stopPropagation();const Be=H.currentTarget.getBoundingClientRect();V({x:Be.left,y:Be.bottom}),le(ie),$(!0)},je=()=>{if(c.some(Te=>Te.isNew))return;const ie=dS(),Be={id:ie,abbr:"Auto",committee:"",committeeId:void 0,seatsTotal:"30",chairUsername:"",chairName:"",deputyChair1Username:"",deputyChair1Name:"",deputyChair2Username:"",deputyChair2Name:"",isNew:!0,category:n};m(null),g(null),y(""),U(!1),D(!0),d(Te=>[...Te,Be]),setTimeout(()=>{m(ie),g("committee"),y(""),j(!1),te([]),C(null),k(!1),de([]),we(null),ze(null),$(!1),le(null)},0)},Ce=async()=>{try{if(!oe)return;const H=c.find(Be=>Be.id===oe);if(!H)return;if(H.isNew){d(Be=>Be.filter(Te=>Te.id!==oe)),$(!1),le(null);return}if(!(await fS(String(oe))).success){L.error("Failed to delete committee");return}try{const Ve=((await Kg(nt)).data||[]).map(Ge=>{const st=Ge&&typeof Ge.committee=="object"?Ge.committee:null,Dt=st?st.committee??st.name??"":typeof Ge.committee=="string"?Ge.committee:"",Os=st?st.abbr??Ge.abbr??"":Ge.abbr??"",Cs=st?st.id:Ge.committee_id??Ge.committeeId??void 0,ps=st?st.category:Ge.category;return{id:String(Ge.id),committee:Dt,abbr:Os,committeeId:Cs,seatsTotal:String(Ge.seats??Ge.seatsTotal??""),chairUsername:Ge.chair_username??"",chairName:Ge.chair_name??"",deputyChair1Username:Ge.deputy_chair_1_username??"",deputyChair1Name:Ge.deputy_chair_1_name??"",deputyChair2Username:Ge.deputy_chair_2_username??"",deputyChair2Name:Ge.deputy_chair_2_name??"",isNew:!1,category:ps||"country"}});o(Array.isArray(Ve)?Ve:[])}catch{d(Te=>Te.filter(Ve=>Ve.id!==oe))}L.success("Committee deleted")}catch(H){console.error("Error deleting committee:",H),L.error(H.message||"Failed to delete committee")}finally{$(!1),le(null)}},ae=()=>{if(oe){const H=c.find(ie=>ie.id===oe);H&&(U(!0),m(oe),g("committee"),y(H.committee||""),D(!0))}$(!1),le(null)},qe=async()=>{try{E(!0);const H=h&&c.find(Te=>Te.id===h)||c.find(Te=>Te.isNew)||null;if(!H){L.error("No row selected to save");return}if(!H.committee||H.committee===""){L.error("Please select a committee before saving");return}const ie=H.committeeId;if(!ie){L.error("Please select a committee from the dropdown before saving");return}if(console.log("[CommitteesPage] Saving committee with identifier:",ie,"target:",H),!(await uS(ie.toString(),nt,n,H.seatsTotal,H.chairUsername,H.chairName,H.deputyChair1Username,H.deputyChair1Name,H.deputyChair2Username,H.deputyChair2Name)).success){L.error(`Failed to save committee: ${H.committee}`);return}d(Te=>Te.map(Ve=>Ve.id===H.id?{...Ve,isNew:!1}:Ve)),L.success("Committees saved successfully"),D(!1)}catch(H){console.error("Error saving committees:",H),L.error(H.message||"Failed to save committees")}finally{E(!1)}},gt=async()=>{try{A(!0);const H=h&&c.find(Te=>Te.id===h);if(!H){L.error("No row selected to update");return}if(!H.committee||H.committee===""){L.error("Please select a committee before updating");return}const ie=H.committeeId;if(!ie){L.error("Please select a committee from the dropdown before updating");return}if(console.log("[CommitteesPage] Updating committee with ID:",H.id,"identifier:",ie),!(await hS(H.id,nt,ie.toString(),n,H.seatsTotal,H.chairUsername,H.chairName,H.deputyChair1Username,H.deputyChair1Name,H.deputyChair2Username,H.deputyChair2Name)).success){L.error(`Failed to update committee: ${H.committee}`);return}L.success("Committee updated successfully"),D(!1),U(!1)}catch(H){console.error("Error updating committees:",H),L.error(H.message||"Failed to update committees")}finally{A(!1)}};return G&&Ne?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading committees..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2",children:at.map(H=>s.jsx("button",{onClick:()=>O(H.id),className:`w-[200px] h-[58px] rounded-[20px] p-[5px] opacity-100 transition-colors text-sm font-medium ${n===H.id?"bg-[#6A8BAF] text-white":"bg-white text-black border border-gray-800"}`,style:{transform:"rotate(0deg)"},children:H.name},H.id))}),c.length===0&&!G&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No committees available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:'Click "Add Committee" to create your first committee.'})]}),c.length>0&&s.jsx("div",{className:"space-y-6 ",style:{marginBottom:"16px"},children:s.jsxs("div",{className:"grid grid-cols-[80px_200px_70px_100px_100px_100px_100px_100px_100px_0px] gap-4",children:[s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"ABBR"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Committee"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Seats Total"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Chair Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Chair Name"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 1 Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 1 Name"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 2 Username"}),s.jsx("div",{className:"bg-[#C6DAF4] text-grey-800 px-3 py-2 rounded-lg text-sm font-medium text-center border border-gray-800",children:"Deputy Chair 2 Name"}),s.jsx("div",{}),c.map(H=>s.jsxs(Ee.Fragment,{children:[s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center justify-center",children:s.jsx("div",{className:"text-sm text-gray-900 text-center w-full",children:H.abbr})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="committee"?s.jsxs("div",{className:" text-sm rounded-md relative w-full",ref:P,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"E.g. United Nations Security Council",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{y(""),j(!1),te([]),C(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ce&&z===H.id&&M.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:M.map((ie,Be)=>s.jsxs("button",{type:"button",onClick:()=>ve(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:ie.committee||ie.name}),ie.abbr&&s.jsxs("div",{className:"text-xs text-gray-500",children:["ABBR: ",ie.abbr]})]},ie.id||Be))})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"committee",H.committee||""):void 0,children:H.committee||"E.g. United Nations Security Council"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="seatsTotal"?s.jsx("div",{className:"text-sm relative w-full",children:s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value),placeholder:"30",className:"w-full border-none outline-none text-gray-900",autoFocus:!0})}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"seatsTotal",H.seatsTotal):void 0,children:H.seatsTotal})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="chairUsername"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ie,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{y(""),k(!1),de([]),we(null),ze(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),se&&q===H.id&&xe==="chairUsername"&&J.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:J.map((ie,Be)=>{const Te=ie&&ie.user?ie.user:ie;return s.jsxs("button",{type:"button",onClick:()=>Pe(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:["@",Te?.username]}),s.jsx("div",{className:"text-xs text-gray-500",children:Te?.fullname})]},Te?.id||Be)})})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"chairUsername",H.chairUsername||""):void 0,children:H.chairUsername||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="chairName"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ie,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"Full name",className:"w-full border-none outline-none text-gray-900",readOnly:!0})]}),se&&q===H.id&&xe==="chairName"&&J.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:J.map((ie,Be)=>{const Te=ie&&ie.user?ie.user:ie;return s.jsxs("button",{type:"button",onClick:()=>Pe(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:Te?.fullname}),s.jsxs("div",{className:"text-xs text-gray-500",children:["@",Te?.username]})]},Te?.id||Be)})})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"chairName",H.chairName||""):void 0,children:H.chairName||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="deputyChair1Username"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ie,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{y(""),k(!1),de([]),we(null),ze(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),se&&q===H.id&&xe==="deputyChair1Username"&&J.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:J.map((ie,Be)=>{const Te=ie&&ie.user?ie.user:ie;return s.jsxs("button",{type:"button",onClick:()=>Pe(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:["@",Te?.username]}),s.jsx("div",{className:"text-xs text-gray-500",children:Te?.fullname})]},Te?.id||Be)})})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"deputyChair1Username",H.deputyChair1Username||""):void 0,children:H.deputyChair1Username||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="deputyChair1Name"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ie,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"Full name",className:"w-full border-none outline-none text-gray-900",readOnly:!0})]}),se&&q===H.id&&xe==="deputyChair1Name"&&J.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:J.map((ie,Be)=>{const Te=ie&&ie.user?ie.user:ie;return s.jsxs("button",{type:"button",onClick:()=>Pe(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:Te?.fullname}),s.jsxs("div",{className:"text-xs text-gray-500",children:["@",Te?.username]})]},Te?.id||Be)})})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"deputyChair1Name",H.deputyChair1Name||""):void 0,children:H.deputyChair1Name||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="deputyChair2Username"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ie,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"@username",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"}),p&&s.jsx("button",{onClick:()=>{y(""),k(!1),de([]),we(null),ze(null)},className:"text-gray-400 hover:text-gray-600 ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),se&&q===H.id&&xe==="deputyChair2Username"&&J.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:J.map((ie,Be)=>{const Te=ie&&ie.user?ie.user:ie;return s.jsxs("button",{type:"button",onClick:()=>Pe(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:["@",Te?.username]}),s.jsx("div",{className:"text-xs text-gray-500",children:Te?.fullname})]},Te?.id||Be)})})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"deputyChair2Username",H.deputyChair2Username||""):void 0,children:H.deputyChair2Username||"-"})}),s.jsx("div",{className:"bg-gray-50 border border-gray-800 rounded-lg px-3 py-2 flex items-center",children:h===H.id&&x==="deputyChair2Name"?s.jsxs("div",{className:"bg-white px-3 py-2 text-sm rounded-md border border-gray-200 relative w-full",ref:Ie,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",value:p,onChange:ie=>Re(ie.target.value,H.id),placeholder:"Full name",className:"w-full border-none outline-none text-gray-900",autoFocus:!0,autoComplete:"off"})]}),se&&q===H.id&&xe==="deputyChair2Name"&&J.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:J.map((ie,Be)=>{const Te=ie&&ie.user?ie.user:ie;return s.jsxs("button",{type:"button",onClick:()=>Pe(ie),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-[#D9C7A1] hover:text-gray-900 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:Te?.fullname}),s.jsxs("div",{className:"text-xs text-gray-500",children:["@",Te?.username]})]},Te?.id||Be)})})]}):s.jsx("div",{className:"text-sm text-gray-900 w-full",onClick:h===H.id?()=>ge(H.id,"deputyChair2Name",H.deputyChair2Name||""):void 0,children:H.deputyChair2Name||"-"})}),s.jsx("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"relative flex items-center justify-center space-x-3",children:!H.isNew&&s.jsx("button",{onClick:ie=>Y(ie,H.id),className:"text-blue-600 hover:text-blue-800 p-1",title:"Actions",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})})]},H.id))]})}),K&&s.jsx("div",{ref:Me,className:"fixed bg-gray-100 border border-black rounded-lg shadow-lg z-50 w-40",style:{left:`${I.x-100}px`,top:`${I.y}px`,minWidth:"150px",marginTop:"0px"},children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:ae,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>{_e(!0),$(!1)},className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Delete"}),s.jsx("button",{onClick:je,className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-yellow-200 transition-colors",children:"Add Committee"})]})}),s.jsx(Tr,{isOpen:be,onClose:()=>_e(!1),onConfirm:async()=>{await Ce(),_e(!1)},title:"Delete committee?",message:"Are you sure you want to delete this committee from this event?",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"}),s.jsxs("div",{className:"w-[925px] flex justify-between",children:[s.jsx("button",{onClick:je,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:w?"#bdbdbd":"#C2A46D",cursor:w?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:"Add"}),s.jsx("button",{onClick:T?gt:qe,className:"text-white font-medium transition-colors",style:{width:"105px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:1,background:w||N?"#bdbdbd":"#607DA3",cursor:w||N?"not-allowed":"pointer",border:"none",boxShadow:"none"},children:T?"Update":"Save"})]})]})},gS=({activeCommitteeType:n,activeCommittee:r,agendas:l,documents:o,editingAgenda:c,editingDocument:d,tempValue:h,isSaving:m,onCommitteeTypeChange:x,onCommitteeChange:g,onAgendaEdit:p,onAgendaChange:y,onAgendaSave:w,onAgendaCancel:E,onAgendaDelete:N,onAddAgenda:A,onDocumentEdit:_,onDocumentChange:D,onDocumentSave:T,onDocumentCancel:U,onDocumentDelete:K,onDocumentUpload:$})=>{const[I,V]=b.useState(null),[oe,le]=b.useState(null),be=[{id:"country",name:"Country Committees"},{id:"role",name:"Role Committees"},{id:"crisis",name:"Crisis Committees"},{id:"open",name:"Open Committees"}],_e=[{id:"UNGA",name:"UNGA"},{id:"UNSC",name:"UNSC"},{id:"UNHRC",name:"UNHRC"},{id:"WHO",name:"WHO"},{id:"UNEP",name:"UNEP"}],Ne=Q=>{const X=Q.target.files?.[0];X&&$(X)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2",children:be.map(Q=>s.jsx("button",{onClick:()=>x(Q.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${n===Q.id?"bg-[#607DA3] text-white":"bg-white text-black border border-gray-800"}`,children:Q.name},Q.id))}),s.jsx("div",{className:"flex space-x-2",children:_e.map(Q=>s.jsx("button",{onClick:()=>g(Q.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${r===Q.id?"bg-[#84B5F3] text-white":"bg-white text-black border border-gray-800"}`,children:Q.name},Q.id))}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Committee Agendas"}),l.map(Q=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:c===Q.id?s.jsx("input",{type:"text",value:h,onChange:X=>y(X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter agenda title",autoFocus:!0}):s.jsx("input",{type:"text",value:Q.title,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>V(I===Q.id?null:Q.id),className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),I===Q.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>{p(Q.id,Q.title),V(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Edit"}),s.jsx("button",{onClick:()=>{N(Q.id),V(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Delete"})]})})]}),c===Q.id&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:w,className:"px-3 py-1 text-green-600 hover:text-green-800 text-sm font-medium",children:""}),s.jsx("button",{onClick:()=>{E(),V(null)},className:"px-3 py-1 text-red-600 hover:text-red-800 text-sm font-medium",children:""})]})]},Q.id)),s.jsx("button",{onClick:A,className:`text-white font-medium transition-colors ${m?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{width:"140px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:m?.5:1,background:m?"#bdbdbd":"#C2A46D",cursor:m?"not-allowed":"pointer",border:"none",boxShadow:"none"},disabled:m,children:"Add Agenda"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Committee Documents"}),o.map(Q=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:d===Q.id?s.jsx("input",{type:"text",value:h,onChange:X=>D(X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E395D] focus:border-transparent",placeholder:"Enter document name",autoFocus:!0}):s.jsx("input",{type:"text",value:Q.name,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm bg-gray-50"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>le(oe===Q.id?null:Q.id),className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),oe===Q.id&&s.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>{_(Q.id,Q.name),le(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Edit"}),s.jsx("button",{onClick:()=>{K(Q.id),le(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Delete"})]})})]}),d===Q.id&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:T,className:"px-3 py-1 text-green-600 hover:text-green-800 text-sm font-medium",children:""}),s.jsx("button",{onClick:()=>{U(),le(null)},className:"px-3 py-1 text-red-600 hover:text-red-800 text-sm font-medium",children:""})]})]},Q.id)),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"file",id:"document-upload",onChange:Ne,className:"hidden",accept:".pdf,.doc,.docx,.txt"}),s.jsx("label",{htmlFor:"document-upload",className:`text-white font-medium transition-colors cursor-pointer ${m?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{width:"160px",height:"44px",borderRadius:"30px",padding:"10px",gap:"10px",opacity:m?.5:1,background:m?"#bdbdbd":"#C2A46D",cursor:m?"not-allowed":"pointer",border:"none",boxShadow:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:"Upload Document"})]})]})]})},pS=({steps:n,activeStep:r,onStepChange:l})=>s.jsx("div",{className:"flex items-center space-x-2",children:n.map(o=>s.jsx("button",{onClick:()=>l(o.id),className:`w-[160px] h-[58px] px-[5px] py-[5px] text-sm font-medium rounded-[20px] transition-colors duration-200 ${r===o.id?"bg-[#395579] text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:o.name},o.id))}),xS=()=>{const n=Bt(),{eventId:r}=Yl(),[l,o]=b.useState("dashboard"),[c,d]=b.useState(""),[h,m]=b.useState(""),[x,g]=b.useState(""),[p,y]=b.useState(""),[w,E]=b.useState(""),[N,A]=b.useState(""),[_,D]=b.useState(""),[T,U]=b.useState(""),[K,$]=b.useState(""),[I,V]=b.useState(""),[oe,le]=b.useState(""),[be,_e]=b.useState(""),[Ne,Q]=b.useState(""),[X,ce]=b.useState(""),[j,M]=b.useState(""),[te,z]=b.useState(""),[C,P]=b.useState(!1),[se,k]=b.useState(!1),[J,de]=b.useState(null),[q,we]=b.useState(""),[xe,ze]=b.useState(!1),[Ie,Me]=b.useState(!1),[at,nt]=b.useState(!1),[fe,me]=b.useState(null),[Se,$e]=b.useState({eventName:"",eventDescription:"",eventStartDate:"",eventEndDate:"",school:"",locality:"",numberOfSeats:"",feesPerDelegate:"",website:"",instagram:"",coverImage:""}),[G,O]=b.useState("country"),[ge,Re]=b.useState("UNGA"),[Fe,ft]=b.useState([{id:1,title:"Climate Change in Africa"}]),[ve,Pe]=b.useState([{id:1,name:"Climate Change Background Guide.pdf"}]),[Y,je]=b.useState(null),[Ce,ae]=b.useState(null);b.useEffect(()=>{(async()=>{try{const ye=await Pp(r||"");if(ye.success){if(ye.data&&ye.data.length>0){const ke=ye.data[0];d(ke.name),m(ke.cover_image),g(ke.description),y(ke.start_date),E(ke.end_date),A(ke.locality.name),D(ke.school.name),U(ke.school.name),$(ke.fees_per_delegate),V(ke.number_of_seats),le(ke.website),_e(ke.instagram),Q(ke.locality.id),ce(ke.school.id),M(ke.school.area_id),$e({eventName:ke.name,eventDescription:ke.description,eventStartDate:ke.start_date,eventEndDate:ke.end_date,school:ke.school.name,locality:ke.locality.name,numberOfSeats:ke.number_of_seats,feesPerDelegate:ke.fees_per_delegate,website:ke.website,instagram:ke.instagram,coverImage:ke.cover_image}),ut(ke.number_of_seats,ke.fees_per_delegate)}}else L.error(ye.message)}catch(ye){console.error("Error fetching events:",ye),L.error(ye.message)}})()},[r,n]);const qe=Ue=>{if(Ie&&l==="event-details"&&Ue!=="event-details"){me(Ue),nt(!0);return}o(Ue)},gt=(Ue,ye)=>{de(Ue),we(ye)},H=(Ue,ye)=>{switch(we(ye),Me(!0),Ue){case"name":d(ye);break;case"description":g(ye);break;case"date":break;case"school_name":D(ye);break;case"locality":A(ye);break;case"number_of_seats":V(ye),ut(ye,K);break;case"fees_per_delegate":$(ye),ut(I,ye);break;case"website":le(ye);break;case"instagram":_e(ye);break}},ie=()=>{if(J)switch(J){case"name":d(c);break;case"description":g(x);break;case"date":break;case"school_name":D(_);break;case"locality":A(N);break;case"number_of_seats":V(I),ut(I,K);break;case"fees_per_delegate":$(K),ut(I,K);break;case"website":le(oe);break;case"instagram":_e(be);break}de(null),we(""),k(!1),Me(!1)},Be=async Ue=>{try{const ye=Ue.target.files;if(ye){P(!0);const ke=await Hp(ye?.[0]);ke.success?(L.success(ke.message),m(ke.imageUrl),Me(!0)):L.error(ke.message)}}catch(ye){L.error(ye.message)}finally{P(!1)}},Te=(Ue,ye)=>{y(Ue),E(ye),Me(!0)},Ve=()=>{k(!se)},Ge=()=>{k(!1)},st=Ue=>{O(Ue)},Dt=Ue=>{Re(Ue)},Os=(Ue,ye)=>{je(Ue),we(ye)},Cs=Ue=>{we(Ue)},ps=()=>{Y&&ft(Ue=>Ue.map(ye=>ye.id===Y?{...ye,title:q}:ye)),je(null),we("")},Rr=()=>{je(null),we("")},Xe=Ue=>{ft(ye=>ye.filter(ke=>ke.id!==Ue))},_t=()=>{const Ue={id:Math.max(...Fe.map(ye=>ye.id))+1,title:""};ft([...Fe,Ue]),je(Ue.id),we("")},Tt=(Ue,ye)=>{ae(Ue),we(ye)},Ft=Ue=>{we(Ue)},qs=()=>{Ce&&Pe(Ue=>Ue.map(ye=>ye.id===Ce?{...ye,name:q}:ye)),ae(null),we("")},Lt=()=>{ae(null),we("")},kt=Ue=>{Pe(ye=>ye.filter(ke=>ke.id!==Ue))},At=Ue=>{const ye={id:Math.max(...ve.map(ke=>ke.id))+1,name:Ue.name,file:Ue};Pe([...ve,ye]),L.success("Document uploaded successfully")},ut=(Ue,ye)=>{const ke=Number(Ue),Yt=Number(ye);!isNaN(ke)&&!isNaN(Yt)&&ke>0&&Yt>0?z((ke*Yt).toString()):z("")},zt=async()=>{try{ze(!0),ut(I,K);const Ue=await Bw(r||"",c,x,p,w,h,Ne,X,j,I,K,te,oe,be);Ue.success?(L.success(Ue.message),Me(!1),$e({eventName:c,eventDescription:x,eventStartDate:p,eventEndDate:w,school:_,locality:N,numberOfSeats:I,feesPerDelegate:K,website:oe,instagram:be,coverImage:h})):L.error(Ue.message)}catch(Ue){L.error("Failed to update event: "+Ue.message)}finally{ze(!1)}},tr=()=>{nt(!1),me(null)},fs=()=>{d(Se.eventName),g(Se.eventDescription),y(Se.eventStartDate),E(Se.eventEndDate),D(Se.school),A(Se.locality),V(Se.numberOfSeats),$(Se.feesPerDelegate),le(Se.website),_e(Se.instagram),m(Se.coverImage),ut(Se.numberOfSeats,Se.feesPerDelegate),de(null),we(""),k(!1),Me(!1),nt(!1),fe&&(o(fe),me(null))},oa=[{id:"dashboard",name:"Dashboard"},{id:"event-details",name:"Event Details"},{id:"leadership-roles",name:"Leadership Roles"},{id:"committees",name:"Committees"},{id:"agendas",name:"Agendas"},{id:"delegates",name:"Delegates"},{id:"general-documents",name:"General Documents"}],Oa=()=>s.jsx(aS,{}),Oe=()=>s.jsx(mS,{}),De=()=>s.jsx(gS,{activeCommitteeType:G,activeCommittee:ge,agendas:Fe,documents:ve,editingAgenda:Y,editingDocument:Ce,tempValue:q,isSaving:xe,onCommitteeTypeChange:st,onCommitteeChange:Dt,onAgendaEdit:Os,onAgendaChange:Cs,onAgendaSave:ps,onAgendaCancel:Rr,onAgendaDelete:Xe,onAddAgenda:_t,onDocumentEdit:Tt,onDocumentChange:Ft,onDocumentSave:qs,onDocumentCancel:Lt,onDocumentDelete:kt,onDocumentUpload:At}),Le=()=>s.jsx(Z4,{eventName:c,eventStartDate:p,eventEndDate:w,locality:N,area:T,feesPerDelegate:K,numberOfSeats:I,totalRevenue:te}),We=()=>s.jsx(J4,{eventName:c,coverImage:h,eventDescription:x,eventStartDate:p,eventEndDate:w,school:_,locality:N,numberOfSeats:I,feesPerDelegate:K,totalRevenue:te,website:oe,instagram:be,isUploadingCoverImage:C,editingField:J,tempValue:q,showDatePicker:se,onFieldEdit:gt,onFieldChange:H,onCancelEdit:ie,onCoverImageUpload:Be,onDateRangeChange:Te,onDatePickerToggle:Ve,onDatePickerClose:Ge,onUpdateEvent:zt,isSaving:xe}),pt=()=>{switch(l){case"dashboard":return Le();case"event-details":return We();case"leadership-roles":return Oa();case"committees":return Oe();case"agendas":return De();case"delegates":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delegates"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Delegates management coming soon..."})]});case"general-documents":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"General Documents"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"General documents management coming soon..."})]});default:return Le()}};return s.jsxs(Ss,{loadingText:"Loading Organiser Dashboard...",children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{maxWidth:"max-w-[88rem]"}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-medium text-[#C2A46D] mb-6",children:["Organiser > ",oa.find(Ue=>Ue.id===l)?.name||"Dashboard"]}),s.jsx(pS,{steps:oa,activeStep:l,onStepChange:qe})]})}),pt()]})]}),s.jsx(c4,{isOpen:at,onKeepEditing:tr,onDiscardChanges:fs})]})},yS=({users:n,onAction:r,isSuperUser:l=!1})=>{const[o,c]=b.useState(null),[d,h]=b.useState(null),[m,x]=b.useState(""),[g,p]=b.useState(!1),[y,w]=b.useState(null),[E,N]=b.useState([]),[A,_]=b.useState(!1),[D,T]=b.useState(""),[U,K]=b.useState(""),{refreshUserData:$,allOrganisers:I}=Wt(),V=b.useRef(null),oe=j=>I.some(M=>M.userid===j),le=j=>{switch(j?.toLowerCase()){case"active":return"text-green-600";case"flagged":return"text-yellow-600";case"blocked":return"text-red-600";case"deleted":return"text-red-600";default:return"text-gray-600"}};b.useEffect(()=>{if(!m.trim())N(n);else{const j=n.filter(M=>{const te=m.toLowerCase(),z=M?.username||"",C=M?.fullname||"",P=M?.school.code||"",se=M?.school?.name||"",k=M?.global_role||"";return z.toLowerCase().includes(te)||C.toLowerCase().includes(te)||P.toLowerCase().includes(te)||se.toLowerCase().includes(te)||k.toLowerCase().includes(te)});N(j)}},[m,n]),b.useEffect(()=>{const j=M=>{V.current&&!V.current.contains(M.target)&&c(null)};return o&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[o]);const be=j=>{c(o===j?null:j)},_e=async()=>{if(y)try{if(l)await X("delete",y.username,y.email);else{h(y.username);const j=await vg(y.username,"delete");j.success?(L.success(j.message),await $(),r("delete",y.username,y.email)):L.error(j.message)}}catch(j){console.error("Error deleting user:",j),L.error("Failed to delete user")}finally{h(null),p(!1),w(null)}},Ne=()=>{p(!1),w(null)},Q=async()=>{if(!D.trim()||!U.trim()){L.error("Please fill in both name and email fields");return}try{const j=await mw(D,U);j.success?(L.success(j.message),await $()):L.error(j.message),T(""),K(""),_(!1)}catch(j){console.error("Error sending invite:",j),L.error("Failed to send invitation")}},X=async(j,M,te)=>{c(null);try{if(j==="delete"){const z=await gw(M,te);z.success?(L.success(z.message),await $()):L.error(z.message)}r(j,M,te)}catch(z){console.error("Error updating user:",z),L.error("Failed to update user")}finally{h(null)}},ce=async(j,M,te)=>{try{if(j==="delete")w({username:M,email:te}),p(!0);else{h(M);const z=await vg(M,j);z.success?(L.success(z.message),await $(),r(j,M,te)):L.error(z.message)}c(null)}catch(z){console.error("Error updating user:",z),L.error("Failed to update user")}finally{h(null)}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search users...",value:m,onChange:j=>x(j.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("div",{className:`grid gap-2 mb-2 ${l?"grid-cols-12":"grid-cols-10"}`,children:(l?[{label:"UserID",span:"col-span-1"},{label:"Username",span:"col-span-1"},{label:"Name",span:"col-span-2"},{label:"Email",span:"col-span-3"},{label:"Global Role",span:"col-span-1"},{label:" ",span:"col-span-1"}]:[{label:"Student ID",span:"col-span-1"},{label:"Username",span:"col-span-1"},{label:"Name",span:"col-span-1"},{label:"Academic Level",span:"col-span-1"},{label:"School",span:"col-span-2"},{label:"MUN Experience",span:"col-span-1"},{label:"Global Role",span:"col-span-1"},{label:"User Status",span:"col-span-1"},{label:" ",span:"col-span-1"}]).map((j,M)=>j.label===" "?s.jsx("div",{className:j.span},j.label):s.jsxs("div",{className:`${j.span} px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md ${M<(l?4:7)?"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center justify-between":"bg-[#C6DAF4] border border-[#4A5F7A] flex items-center"}`,children:[s.jsx("span",{children:j.label}),M<(l?4:7)&&s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]},j.label))}),E.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:m?"No users found matching your search":"No users found"}):E.length>0?E.map(j=>s.jsxs("div",{className:`grid gap-2 mb-2 ${l?"grid-cols-12":"grid-cols-10"}`,children:[l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:j?.id?.split("-")[0]||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.username||"N/A"}),s.jsx("div",{className:"col-span-2 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.fullname||"N/A"}),s.jsx("div",{className:"col-span-3 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.email||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.global_role||"N/A"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:j?.student_id||j?.id?.split("-")[0]||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.username?`@${j.username}`:"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.fullname||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.academic_level||j?.grade||"N/A"}),s.jsx("div",{className:"col-span-2 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.school?.name||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.mun_experience||j?.years_of_experience||"N/A"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:j?.global_role==="superuser"?"Super User":"User"}),s.jsx("div",{className:"col-span-1 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("span",{className:`font-medium ${le(j?.user_status||j?.status||"active")}`,children:j?.user_status||j?.status||"Active"})})]}),s.jsx("div",{className:"col-span-1 px-3 py-2 text-sm font-medium relative",children:s.jsxs("div",{className:"relative flex items-center justify-left",children:[oe(j?.id)&&s.jsx("div",{className:"ml-2",children:s.jsx("img",{src:gx,alt:"Organiser",className:"w-5 h-5",title:"This user is an organizer"})}),s.jsx("button",{onClick:()=>be(j?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),o===j?.id&&s.jsx("div",{ref:V,className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-50 border-2",children:s.jsx("div",{className:"py-1",children:l?s.jsx("button",{onClick:()=>{c(null),w({username:j?.username||"",email:j?.email||""}),p(!0)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Remove Super User"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:async()=>{c(null);const M=await Nw(j?.id);M.success?(L.success(M.message),await $(),r("assign-organiser",j?.id,j?.email),await $()):L.error(M.message)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Assign Organiser"}),(j?.user_status?.toLowerCase()==="flagged"||j?.user_status?.toLowerCase()==="blocked")&&s.jsx("button",{onClick:()=>{c(null),ce("active",j?.id,j?.email)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),j?.user_status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>{c(null),ce("flagged",j?.id,j?.email)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),j?.user_status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>{c(null),ce("blocked",j?.id,j?.email)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),s.jsx("button",{onClick:()=>{c(null),w({username:j?.username||"",email:j?.email||""}),p(!0)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"}),s.jsx("button",{onClick:()=>{c(null),ce("invite",j?.id,j?.email),console.log("Invite non-user:",j?.id)},disabled:d===j?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${d===j?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Invite Non-user"})]})})})]})})]},j?.id||Math.random())):null,l&&s.jsxs("div",{className:"mt-6",children:[s.jsx("button",{onClick:()=>_(!A),className:"px-6 py-3 bg-[#C4A35A] hover:bg-[#B8973F] text-white font-medium rounded-[20px] transition-colors duration-200 shadow-md",children:"Invite a Superuser"}),A&&s.jsxs("div",{className:"mt-6 p-6 max-w-md flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"invite-name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Name"}),s.jsx("input",{id:"invite-name",type:"text",value:D,onChange:j=>T(j.target.value),placeholder:"E.g. Ivy Grace Turner",className:"w-full px-4 py-2 border border-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C4A35A] focus:border-transparent text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"invite-email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),s.jsx("input",{id:"invite-email",type:"email",value:U,onChange:j=>K(j.target.value),placeholder:"E.g. ivy.grace@example.com",className:"w-full px-4 py-2 border border-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C4A35A] focus:border-transparent text-gray-700"})]})]}),s.jsx("div",{children:s.jsx("button",{onClick:Q,className:"w-[150px] px-6 py-3 bg-[#7FB539] hover:bg-[#6FA329] text-white font-semibold rounded-[20px]",children:"Send Invite"})})]})]}),s.jsx(Tr,{isOpen:g,onClose:Ne,onConfirm:_e,title:"Confirm Delete",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},ji=({type:n="students",isSuperUser:r=!1})=>{const[l,o]=b.useState(""),{allUsers:c}=Wt(),d=()=>{if(r){const x=c.filter(g=>g.global_role==="superuser")||[];switch(console.log("allUsers",c),console.log("superUsers",x),n){case"students":return x.filter(g=>g.role==="student")||[];case"teachers":return x.filter(g=>g.role==="teacher")||[];default:return x||[]}}else{const x=c.filter(g=>g.global_role==="user"||!g.global_role)||[];switch(n){case"students":return x.filter(g=>g.role==="student")||[];case"teachers":return x.filter(g=>g.role==="teacher")||[];default:return x||[]}}},h=b.useMemo(()=>{const x=d();if(!x||x.length===0)return[];if(!l.trim())return x;const g=l.toLowerCase();return x.filter(p=>{const y=p?.fullname?.toLowerCase()||"",w=p?.username?.toLowerCase()||"",E=p?.school?.name?.toLowerCase()||p?.school?.toLowerCase()||"",N=p?.id?.toString().toLowerCase()||"",A=p?.role?.toLowerCase()||"",_=p?.school_location?.toLowerCase()||"";return y.includes(g)||w.includes(g)||E.includes(g)||N.includes(g)||A.includes(g)||_.includes(g)})},[n,c,l]),m=x=>{};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:x=>o(x.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),s.jsx(yS,{users:h,onAction:m,userType:n,isSuperUser:r})]})},bS=["school","college","academy","international","private","high","primary","secondary","the","al","of","for","and","dubai"],vS={dubai:"DU","abu dhabi":"AD",sharjah:"SHJ",ajman:"AJM",rak:"RAK",fujairah:"FUJ","umm al quwain":"UAQ","al ain":"AAN"},wS={"al barsha":"ALB","al quoz":"ALQ","nad al sheba":"NAS","jebel ali":"JAL",mirdif:"MRD","umm suqeim":"UQS","al warqa":"ALW","al garhoud":"ALG","oud metha":"OMT"},jS=(n,r,l,o=[])=>{if(!n||!r||!l)return"";const c=r.name.toLowerCase().trim(),d=vS[c]||r.code||c.substring(0,3).toUpperCase(),h=NS(n),m=l.name.toLowerCase().trim(),x=wS[m]||l.code||m.replace(/\s+/g,"").substring(0,3).toUpperCase();let g=`${d}_${h}_${x}`,p=g,y=1;for(;o.includes(p);)p=`${g}_${y.toString().padStart(3,"0")}`,y++;return p},NS=n=>{if(!n)return"";const l=n.toLowerCase().trim().split(/\s+/).filter(c=>!bS.includes(c.replace(/[^\w]/g,"")));if(l.length===0)return n.replace(/[^\w]/g,"").substring(0,3).toUpperCase();let o=l[0].replace(/[^\w]/g,"");if(o.length>=3)return o.substring(0,3).toUpperCase();if(l.length>1){const c=l[1].replace(/[^\w]/g,"");return(o+c).substring(0,3).toUpperCase()}return o.padEnd(3,o[0]||"X").toUpperCase()},SS=({schools:n,onAction:r})=>{const[l,o]=b.useState(null),[c,d]=b.useState(null),[h,m]=b.useState(""),[x,g]=b.useState(!1),[p,y]=b.useState(null),[w,E]=b.useState([]),[N,A]=b.useState(!1),[_,D]=b.useState(!1),[T,U]=b.useState({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"}),[K,$]=b.useState(null),[I,V]=b.useState(null),[oe,le]=b.useState({}),[be,_e]=b.useState([]),[Ne,Q]=b.useState([]),{allSchools:X}=Wt(),[ce,j]=b.useState(!1),[M,te]=b.useState([]),[z,C]=b.useState(null),[P,se]=b.useState([]),[k,J]=b.useState(""),{refreshSchoolsData:de,allLocalities:q,allAreas:we,refreshLocalitiesData:xe,refreshAreasData:ze}=Wt(),Ie=b.useRef(null);b.useEffect(()=>{q.length===0&&xe(),we.length===0&&ze()},[q.length,we.length,xe,ze]),b.useEffect(()=>{if(N&&T.schoolName&&T.locality_id&&T.area_id){const Y=q.find(Ce=>Ce.id===Number(T.locality_id)),je=be.find(Ce=>Ce.id===Number(T.area_id));if(Y&&je){const Ce=X.map(qe=>qe.code).filter(Boolean),ae=jS(T.schoolName,Y,je,Ce);U(qe=>({...qe,schoolCode:ae}))}}},[T.schoolName,T.locality_id,T.area_id,q,be,X,N]);const Me=Y=>{if(!Y){_e([]);return}const je=we.filter(Ce=>Ce.locality_id==Y);_e(je)},at=Y=>{if(!Y){Q([]);return}const je=we.filter(Ce=>Ce.locality_id==Y);Q(je)};b.useEffect(()=>{if(!h.trim())E(n);else{const Y=n.filter(je=>{const Ce=h.toLowerCase(),ae=je?.id?.toString()||"",qe=je?.code||"",gt=je?.name||"",H=je?.locality?.name||"",ie=je?.area?.name||"",Be=je?.status||"";return ae.toLowerCase().includes(Ce)||qe.toLowerCase().includes(Ce)||gt.toLowerCase().includes(Ce)||H.toLowerCase().includes(Ce)||ie.toLowerCase().includes(Ce)||Be.toLowerCase().includes(Ce)});E(Y)}},[h,n]),b.useEffect(()=>{const Y=je=>{Ie.current&&!Ie.current.contains(je.target)&&o(null)};return l&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[l]),b.useEffect(()=>{const Y=je=>{const Ce=je.target;K&&!Ce.closest(".edit-row-container")&&!Ce.closest(".edit-buttons-container")&&Fe()};return K&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[K]);const nt=Y=>{o(l===Y?null:Y)},fe=()=>{p&&(Se("delete",p),g(!1),y(null))},me=()=>{g(!1),y(null)},Se=async(Y,je)=>{try{if(o(null),d(je),Y==="delete"){const Ce=await Aw(je);Ce.success?(L.success(Ce.message||"School deleted successfully"),await de(),r(Y,je)):L.error(Ce.message||"Failed to delete school")}else{const Ce=await kw(je,Y);Ce.success?(L.success(Ce.message||`School ${Y} successfully`),await de(),r(Y,je)):L.error(Ce.message||"Failed to update school")}}catch(Ce){console.error("Error updating school:",Ce),L.error(Ce.message||"Failed to update school")}finally{d(null)}},$e=async()=>{try{if(!T.schoolCode.trim()||!T.schoolName.trim()||!T.locality_id.trim()||!T.area_id.trim()){L.error("Please fill in all required fields");return}const Y=await Tw(T.schoolCode.trim(),T.schoolName.trim(),T.locality_id.trim(),T.area_id.trim());Y.success?(L.success("New school added successfully"),A(!1),D(!1),U({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"}),await de()):L.error(Y.message||"Failed to save new school")}catch(Y){console.error("Error saving new school:",Y),L.error(Y.message||"Failed to save new school")}},G=Y=>{if(!Y)return"text-gray-600";switch(Y.toLowerCase()){case"active":return"text-green-600";case"blocked":return"text-red-600";case"flagged":return"text-yellow-500";case"unlisted":return"text-red-500";default:return"text-gray-600"}},O=()=>{A(!0),D(!0),U({schoolCode:"",schoolName:"",locality:"",locality_id:"",area:"",area_id:"",status:"Active"})},ge=Y=>{$(Y?.id),V({id:Y?.id,code:Y?.code||"",name:Y?.name||"",locality:Y?.locality?.name||"",locality_id:Y?.locality_id||"",area:Y?.area?.name||"",area_id:Y?.area_id||"",status:Y?.status||"Active"}),le({}),o(null),at(Y?.locality_id||"")},Re=async()=>{try{const Y=await Dw(I?.id,I?.code,I?.name,I?.locality_id,I?.area_id);Y.success?(L.success("School updated successfully"),$(null),V(null),le({}),await de()):L.error(Y.message||"Failed to update school")}catch(Y){console.error("Error updating school:",Y),L.error(Y.message||"Failed to update school")}},Fe=()=>{$(null),V(null),le({})},ft=()=>{ce?(j(!1),te([]),C(null),se([]),J("")):(j(!0),te([]),C(null),se([]),J(""))},ve=Y=>{if(P.includes(Y)){J("Unlock to merge"),setTimeout(()=>J(""),3e3);return}if(M.includes(Y))te(je=>je.filter(Ce=>Ce!==Y)),z===Y&&C(null);else{if(M.length>=2){L.warning("Merge happens one pair at a time.");return}te(je=>[...je,Y]),(M.length===0||!z)&&C(Y)}},Pe=async()=>{if(M.length!==2||!z){L.warning("Please select exactly two schools and ensure primary is set.");return}try{const Y=M.find(ae=>ae!==z);let je=await Rw(z||"",Y||"");je.success?L.success("Schools merged successfully"):L.error(je.message||"Failed to merge schools"),te([]),C(null),se([]),J(""),await de(),window.confirm("Merge another duplicate?")||j(!1)}catch(Y){console.error("Error merging schools:",Y),L.error("Failed to merge schools")}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search schools...",value:h,onChange:Y=>m(Y.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"School ID"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"School Code"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"flex-1 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"School Name"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"w-28 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Locality"})}),s.jsx("div",{className:"w-28 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Area"})}),s.jsx("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Status"})}),s.jsx("div",{className:"w-16 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md flex items-center",children:s.jsx("span",{})}),ce&&s.jsx("div",{className:"w-8 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider",children:s.jsx("span",{})})]}),w.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:h?"No schools found matching your search":"No schools found"}):w.length>0?w.map(Y=>{const je=K===Y?.id;return s.jsxs("div",{className:`flex gap-2 mb-2 ${je?"edit-row-container":""}`,children:[s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:Y?.id?String(Y.id).split("-")[0]:"N/A"}),s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:je?s.jsx("div",{children:s.jsx("input",{type:"text",value:I?.code||"",className:"w-full text-sm text-gray-500 focus:outline-none border-0 p-0 bg-transparent cursor-not-allowed",placeholder:"Auto-generated",readOnly:!0,disabled:!0})}):Y?.code||"N/A"}),s.jsx("div",{className:"flex-1 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:je?s.jsxs("div",{children:[s.jsx("input",{type:"text",value:I?.name||"",onChange:Ce=>V({...I,name:Ce.target.value}),className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${oe.name?"border-red-500":""}`,placeholder:"Enter school name"}),oe.name&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:oe.name})]}):Y?.name||"N/A"}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:je?s.jsxs("div",{children:[s.jsxs("select",{value:I?.locality_id||"",onChange:Ce=>{const ae=q.find(qe=>qe.id===Ce.target.value);V({...I,locality_id:Ce.target.value,locality:ae?.locality?.name||ae?.name||"",area_id:"",area:""}),at(Ce.target.value)},className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${oe.locality_id?"border-red-500":""}`,children:[s.jsx("option",{value:"",children:"Select locality"}),q.map(Ce=>s.jsx("option",{value:Ce.id,children:Ce.locality?.name},Ce.id))]}),oe.locality_id&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:oe.locality_id})]}):Y?.locality?.name||"N/A"}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:je?s.jsxs("div",{children:[s.jsxs("select",{value:I?.area_id||"",onChange:Ce=>{const ae=Ne.find(qe=>qe.id===Ce.target.value);V({...I,area_id:Ce.target.value,area:ae?.area?.name||ae?.name||""})},className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${oe.area_id?"border-red-500":""}`,disabled:!I?.locality_id,children:[s.jsx("option",{value:"",children:"Select area"}),Ne.map(Ce=>s.jsx("option",{value:Ce.id,children:Ce.area?.name||Ce.name},Ce.id))]}),oe.area_id&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:oe.area_id})]}):Y?.area?.code||"N/A"}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===Y?.id?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`font-medium ${G(Y.status)}`,children:Y.status})})}),ce&&s.jsx("div",{className:"w-8 px-3 py-2 text-sm font-medium text-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"checkbox",checked:M.includes(Y?.id),onChange:()=>ve(Y?.id),disabled:P.includes(Y?.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:P.includes(Y?.id)?"Unlock to merge":"Select for merge"}),z===Y?.id&&s.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium flex items-center justify-left",children:s.jsxs("div",{className:"relative flex items-center justify-left",children:[je?s.jsxs("div",{className:"flex space-x-1 edit-buttons-container",children:[s.jsx("button",{onClick:Re,className:"text-green-600 hover:text-green-800 focus:outline-none",title:"Save changes",children:s.jsx("img",{src:An})}),s.jsx("button",{onClick:Fe,className:"text-red-600 hover:text-red-800 focus:outline-none",title:"Cancel editing",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):s.jsx("button",{onClick:()=>nt(Y?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===Y?.id&&!je&&s.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-50 border-2",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>ge(Y),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Edit"}),s.jsx("button",{onClick:()=>{o(null),O()},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Add"}),s.jsx("button",{disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,onClick:()=>{Se("active",Y?.id||"")},children:"List"}),s.jsx("button",{onClick:()=>{o(null),ft()},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:ce?"Cancel Merge":"Merge"}),Y?.status?.toLowerCase()!=="active"&&s.jsx("button",{onClick:()=>Se("active",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),Y?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>Se("flagged",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),Y?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>Se("blocked",Y?.id||""),disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),s.jsx("button",{onClick:()=>{y(Y?.id||""),g(!0)},disabled:c===Y?.id,className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===Y?.id?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},Y?.id||Math.random())}):null,N&&s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("div",{className:"w-24 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:X.length+1}),s.jsx("div",{className:"w-32 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:T.schoolCode,readOnly:!0,placeholder:"Auto-generated",className:"w-full text-sm text-gray-500 focus:outline-none bg-transparent"})}),s.jsx("div",{className:"flex-1 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:T.schoolName,onChange:Y=>U({...T,schoolName:Y.target.value}),placeholder:"Enter school name",className:"w-full text-sm text-gray-900 focus:outline-none"})}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsxs("select",{value:T.locality_id||"",onChange:Y=>{const je=q.find(Ce=>Ce.id===Y.target.value);U({...T,locality_id:Y.target.value,locality:je?.locality?.name||je?.name||"",area_id:"",area:""}),Me(Y.target.value)},className:"w-full text-sm text-gray-900 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select locality"}),q.map(Y=>s.jsx("option",{value:Y.id,children:Y.name},Y.id))]})}),s.jsx("div",{className:"w-28 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsxs("select",{value:T.area_id||"",onChange:Y=>{const je=be.find(Ce=>Ce.id===Y.target.value);U({...T,area_id:Y.target.value,area:je?.area?.name||je?.name||""})},className:"w-full text-sm text-gray-900 focus:outline-none",disabled:!T.locality_id,children:[s.jsx("option",{value:"",children:"Select area"}),be.map(Y=>s.jsx("option",{value:Y.id,children:Y.name},Y.id))]})}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:"Active",placeholder:"Enter status",className:"w-full text-sm text-gray-900 focus:outline-none",readOnly:!0})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium",children:s.jsx("span",{})}),ce&&s.jsx("div",{className:"w-8 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200 flex items-center justify-center",children:"-"})]}),ce&&k&&s.jsx("div",{className:"mt-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-yellow-800",children:k}),s.jsxs("div",{className:"flex justify-between items-center mt-6 mr-[110px]",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:O,disabled:_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:$e,disabled:!_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),ce&&s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>ft(),className:"bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 hover:bg-[#9a7849]",children:"Cancel"}),s.jsxs("button",{onClick:Pe,disabled:M.length!==2||!z,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 flex items-center justify-center ${M.length!==2||!z?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Merge"]})]})]}),s.jsx(Tr,{isOpen:x,onClose:me,onConfirm:fe,title:"Confirm Delete",message:"Are you sure you want to delete this school? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},CS=({localities:n,onAction:r})=>{const[l,o]=b.useState(null),[c,d]=b.useState(null),[h,m]=b.useState(""),[x,g]=b.useState(!1),[p,y]=b.useState(null),[w,E]=b.useState([]),[N,A]=b.useState(!1),[_,D]=b.useState(!1),[T,U]=b.useState({localityCode:"",localityName:"",areaCode:"",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"}),[K,$]=b.useState(null),[I,V]=b.useState(null),[oe,le]=b.useState({}),[be,_e]=b.useState(!1),[Ne,Q]=b.useState([]),[X,ce]=b.useState(null),[j,M]=b.useState([]),[te,z]=b.useState(""),{refreshAreasData:C,refreshLocalitiesData:P,refreshSchoolsData:se}=Wt();b.useEffect(()=>{const G=O=>{const ge=O.target;l&&!ge.closest(".dropdown-container")&&o(null)};return l&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[l]),b.useEffect(()=>{const G=O=>{const ge=O.target;K&&!ge.closest(".edit-row-container")&&!ge.closest(".edit-buttons-container")&&nt()};return K&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[K]),b.useEffect(()=>{if(!n||!Array.isArray(n)){E([]);return}if(!h.trim())E(n);else{const G=n.filter(O=>{const ge=h.toLowerCase(),Re=O?.id?.toString()||"",Fe=O.locality?.code||"",ft=O.locality?.name||"",ve=O.area?.code||"",Pe=O.area?.id||"",Y=O.area?.name||"",je=O?.linkedSchoolsCount?.toString()||"",Ce=O?.linkedStudentsCount?.toString()||"",ae=O?.status||"";return Re.toLowerCase().includes(ge)||Fe.toLowerCase().includes(ge)||ft.toLowerCase().includes(ge)||ve.toLowerCase().includes(ge)||Pe.toLowerCase().includes(ge)||Y.toLowerCase().includes(ge)||je.includes(ge)||Ce.includes(ge)||ae.toLowerCase().includes(ge)});E(G)}},[h,n]);const k=G=>{o(l===G?null:G)},J=()=>{if(p){o(null);const G=w.find(O=>(O?.area?.id||O?.id)===p);G&&q("delete",G?.id||"",G?.area?.id||""),g(!1),y(null)}},de=()=>{g(!1),y(null)},q=async(G,O,ge)=>{try{if(o(null),d(ge||O),G==="delete"){const Re=await Uw(ge),Fe=await Ew(O);Re.success&&Fe.success?(L.success(Re.message||"Locality deleted successfully"),await Promise.all([C(),P(),se()]),r(G,O)):L.error(Re.message||Fe.message||"Failed to delete locality")}else{const Re=await Lw(ge,G);Re.success?(L.success(Re.message||`Locality ${G} successfully`),await Promise.all([C(),P(),se()]),r(G,O)):L.error(Re.message||"Failed to update locality")}}catch(Re){console.error("Error updating locality:",Re),L.error(Re.message||"Failed to update locality")}finally{d(null)}},we=()=>{A(!0),D(!0),U({localityCode:"Auto generated",localityName:"",areaCode:"Auto generated",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"})},xe=()=>{we()},ze=(G,O)=>{U(ge=>({...ge,[G]:O}))},Ie=async()=>{try{if(!T.localityName.trim()||!T.areaName.trim()){L.error("Please fill in all required fields");return}L.success("New area added successfully"),A(!1),D(!1),U({localityCode:"",localityName:"",areaCode:"",areaName:"",linkedSchools:"",linkedStudents:"",status:"Active"}),await Promise.all([C(),P(),se()])}catch(G){console.error("Error saving new row:",G),L.error("Failed to save new area")}},Me=()=>{Ie()},at=G=>{$(G?.area?.id||G?.id),V({id:G?.area?.id||G?.id,localityCode:G?.locality?.code||"",localityName:G?.locality?.name||"",areaCode:G?.area?.code||"",areaName:G?.area?.name||"",status:G?.status||"Active"}),le({}),o(null)},nt=()=>{$(null),V(null),le({})},fe=()=>{be?(_e(!1),Q([]),ce(null),M([]),z("")):(_e(!0),Q([]),ce(null),M([]),z(""))},me=G=>{if(j.includes(G)){z("Unlock to merge"),setTimeout(()=>z(""),3e3);return}if(Ne.includes(G))Q(O=>O.filter(ge=>ge!==G)),X===G&&ce(null);else{if(Ne.length>=2){L.warning("Merge happens one pair at a time.");return}Q(O=>[...O,G]),(Ne.length===0||!X)&&ce(G)}},Se=async()=>{if(Ne.length!==2||!X){z("Please select exactly two localities and ensure primary is set."),L.warning("Please select exactly two localities and ensure primary is set.");return}try{const G=Ne.find(Re=>Re!==X);let O=await Cw(X||"",G||"");O.success?L.success("Localities merged successfully"):L.error(O.message||"Failed to merge localities"),Q([]),ce(null),M([]),z(""),await Promise.all([C(),P(),se()]),window.confirm("Merge another duplicate?")||_e(!1)}catch(G){console.error("Error merging localities:",G),L.error("Failed to merge localities")}},$e=G=>{if(!G)return"text-gray-600";switch(G.toLowerCase()){case"active":return"text-green-600";case"blocked":return"text-red-600";case"flagged":return"text-yellow-500";default:return"text-gray-600"}};return s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",style:{display:"none"},children:s.jsx("input",{type:"text",placeholder:"Search localities...",value:h,onChange:G=>m(G.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Locality Code"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-40 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Locality Name"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-32 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Area Code"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-40 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Area Name"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-36 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Linked Schools (Area)"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsxs("div",{className:"w-36 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center justify-between",children:[s.jsx("span",{children:"Linked Students (Area)"}),s.jsx("svg",{className:"w-3 h-3 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"w-24 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md bg-[#F0F7FF] border border-[#4A5F7A] flex items-center",children:s.jsx("span",{children:"Status"})}),s.jsx("div",{className:"w-16 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider rounded-md flex items-center",children:s.jsx("span",{})}),be&&s.jsx("div",{className:"w-8 px-3 py-2 text-xs font-medium text-gray-900 uppercase tracking-wider",children:s.jsx("span",{})})]}),!w||w.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:h?"No localities found matching your search":"No localities found"}):w.length>0?w.map(G=>{const O=K===(G?.area?.id||G?.id);return s.jsxs("div",{className:`flex gap-2 mb-2 ${O?"edit-row-container":""}`,children:[s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm font-medium text-gray-900 rounded-md border border-gray-200",children:G?.locality?.code||"N/A"}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:O?s.jsx("div",{children:s.jsx("input",{type:"text",value:I?.localityName||"",className:"w-full text-sm text-gray-500 focus:outline-none border-0 p-0 bg-transparent cursor-not-allowed",placeholder:"Read-only",readOnly:!0,disabled:!0})}):G?.locality?.name||"N/A"}),s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:G?.area?.code||"N/A"}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:O?s.jsxs("div",{children:[s.jsx("input",{type:"text",value:I?.areaName||"",onChange:ge=>V({...I,areaName:ge.target.value}),className:`w-full text-sm text-gray-900 focus:outline-none border-0 p-0 ${oe.areaName?"border-red-500":""}`,placeholder:"Enter area name"}),oe.areaName&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:oe.areaName})]}):G?.area?.name||"N/A"}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:G?.linkedSchoolsCount||"-"}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-900 rounded-md border border-gray-200",children:G?.linkedStudentsCount||"-"}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:c===(G?.area?.id||G?.id)?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}),s.jsx("span",{className:"text-gray-500",children:"Updating"})]}):s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`font-medium ${$e(G.status)}`,children:G.status})})}),be&&s.jsx("div",{className:"w-8 px-3 py-2 text-sm font-medium text-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("input",{type:"checkbox",checked:Ne.includes(G?.area?.id||G?.id),onChange:()=>me(G?.area?.id||G?.id),disabled:j.includes(G?.area?.id||G?.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:j.includes(G?.area?.id||G?.id)?"Unlock to merge":"Select for merge"}),X===(G?.area?.id||G?.id)&&s.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium flex items-center justify-left",children:s.jsxs("div",{className:"relative flex items-center justify-left dropdown-container",children:[O?s.jsx("div",{className:"flex space-x-1 edit-buttons-container",children:s.jsx("button",{onClick:nt,className:"text-red-600 hover:text-red-800 focus:outline-none",title:"Cancel editing",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}):s.jsx("button",{onClick:()=>k(G?.area?.id||G?.id||""),className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l===(G?.area?.id||G?.id)&&!O&&s.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-[9999] border border-gray-300 dropdown-container",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>at(G),disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Edit"}),s.jsx("button",{disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Add"}),s.jsx("button",{disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"List"}),s.jsx("button",{onClick:()=>{o(null),fe()},disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:be?"Cancel Merge":"Merge"}),G?.status?.toLowerCase()!=="active"&&s.jsx("button",{onClick:()=>q("active",G?.id||"",G?.area?.id||""),disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Active"}),G?.status?.toLowerCase()!=="flagged"&&s.jsx("button",{onClick:()=>q("flagged",G?.id||"",G?.area?.id||""),disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Flag"}),G?.status?.toLowerCase()!=="blocked"&&s.jsx("button",{onClick:()=>q("blocked",G?.id||"",G?.area?.id||""),disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Block"}),s.jsx("button",{onClick:()=>{y(G?.area?.id||G?.id||""),g(!0)},disabled:c===(G?.area?.id||G?.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${c===(G?.area?.id||G?.id)?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-[#C6DAF4] hover:text-gray-900"}`,children:"Delete"})]})})]})})]},G?.id||Math.random())}):null,N&&s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:T.localityCode}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:T.localityName,onChange:G=>ze("localityName",G.target.value),placeholder:"Enter locality name",className:"w-full border-none outline-none text-gray-900"})}),s.jsx("div",{className:"w-32 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:T.areaCode}),s.jsx("div",{className:"w-40 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsx("input",{type:"text",value:T.areaName,onChange:G=>ze("areaName",G.target.value),placeholder:"Add area",className:"w-full border-none outline-none text-gray-900"})}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:"-"}),s.jsx("div",{className:"w-36 bg-white px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200",children:"-"}),s.jsx("div",{className:"w-24 bg-white px-3 py-2 text-sm rounded-md border border-gray-200",children:s.jsxs("select",{value:T.status,onChange:G=>ze("status",G.target.value),className:"w-full border-none outline-none text-gray-900 bg-transparent",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]})}),s.jsx("div",{className:"w-16 px-3 py-2 text-sm font-medium relative",children:s.jsx("div",{className:"relative flex items-center justify-left",children:s.jsx("button",{className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})}),be&&s.jsx("div",{className:"w-8 bg-gray-100 px-3 py-2 text-sm text-gray-500 rounded-md border border-gray-200 flex items-center justify-center",children:"-"})]}),be&&te&&s.jsx("div",{className:"mt-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-yellow-800",children:te}),s.jsxs("div",{className:"flex justify-between items-center mt-6 mr-[110px]",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:xe,disabled:_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:"Add"}),s.jsx("button",{onClick:Me,disabled:!_,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 ${_?"hover:bg-[#b89a6a]":"opacity-50 cursor-not-allowed"}`,children:"Save"})]}),be&&s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:fe,className:"bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 hover:bg-[#9a7849]",children:"Cancel"}),s.jsxs("button",{onClick:Se,disabled:Ne.length!==2||!X,className:`bg-[#C2A46D] text-white font-medium rounded-[30px] w-[105px] h-[44px] px-[10px] py-[10px] transition-colors duration-200 flex items-center justify-center ${Ne.length!==2||!X?"opacity-50 cursor-not-allowed":"hover:bg-[#9a7849]"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Merge"]})]})]}),s.jsx(Tr,{isOpen:x,onClose:de,onConfirm:J,title:"Confirm Delete",message:"Are you sure you want to delete this locality? This action cannot be undone.",confirmText:"Yes",cancelText:"No",confirmButtonColor:"text-red-600"})]})},Qg=({type:n="schools",selectedLocality:r=0})=>{const[l,o]=b.useState(""),{allSchools:c,allLocalities:d,allUsers:h,refreshLocalitiesData:m,refreshAreasData:x}=Wt(),g=["Dubai","Abu Dhabi","Al Ain","Sharjah","Ajman","Ras Al Khaimah","Umm Al Quwain","Other"];b.useEffect(()=>{m(),x()},[m,x]);const p=b.useMemo(()=>{let w=[];if(n==="localities"){if(c&&c.length>0){console.log(c);const _=new Map;c.forEach(D=>{const T=D?.locality?.name||"Unknown",U=D?.area_id||"Unknown",K=D?.area?.name||"Unknown",$=D?.locality?.code||T.substring(0,2).toUpperCase(),I=D?.area?.code||K.substring(0,3).toUpperCase(),V=D?.area?.status||"Active",oe=`${T}-${K}`;_.has(oe)||_.set(oe,{id:oe,locality:{code:$,name:T},area:{code:I,id:U,name:K},linkedSchoolsCount:0,linkedStudentsCount:0,status:V}),_.get(oe).linkedSchoolsCount+=1}),w=Array.from(_.values()),h&&h.length>0&&w.forEach(D=>{const T=D.area.code,U=D.locality.code,K=D.status,$=c.filter(V=>V.area&&V.area.code===T&&V.locality&&V.locality.code===U),I=h.filter(V=>!V.school||typeof V.school!="object"?!1:$.some(oe=>V.school.id===oe.id&&V.school.area_id===oe.area_id&&V.school.locality_id===oe.locality_id)).length;D.linkedStudentsCount=I,D.status=K})}}else{if(!c||c.length===0)return[];w=c}const E=g[r];if(E&&E!=="Other")w=w.filter(_=>{const D=n==="localities"?_?.locality?.name:_?.locality?.name||"";return D&&D.toLowerCase()===E.toLowerCase()});else if(E==="Other"){const _=["Dubai","Abu Dhabi","Al Ain","Sharjah","Ajman","Ras Al Khaimah","Umm Al Quwain"];w=w.filter(D=>{const T=n==="localities"?D?.locality?.name:D?.locality?.name||"";return!_.some(K=>T&&T.toLowerCase()===K.toLowerCase())})}if(!l.trim())return w;const N=l.toLowerCase();return w.filter(_=>{if(n==="localities"){const D=_?.localityCode||_?.code||"",T=_?.localityName||_?.locality?.name||"",U=_?.areaCode||_?.area?.code||"",K=_?.areaName||_?.area?.name||"",$=_?.linkedSchools||_?.schoolsCount||"",I=_?.linkedStudents||_?.studentsCount||"",V=_?.status||"";return D&&D.toLowerCase().includes(N)||T&&T.toLowerCase().includes(N)||U&&U.toLowerCase().includes(N)||K&&K.toLowerCase().includes(N)||$.toString().includes(N)||I.toString().includes(N)||V&&V.toLowerCase().includes(N)}else{const D=_?.id?.toString()||"",T=_?.code||"",U=_?.name||"",K=_?.locality?.name||"",$=_?.area?.name||"",I=_?.status||"";return D&&D.toLowerCase().includes(N)||T&&T.toLowerCase().includes(N)||U&&U.toLowerCase().includes(N)||K&&K.toLowerCase().includes(N)||$&&$.toLowerCase().includes(N)||I&&I.toLowerCase().includes(N)}})},[n,c,d,l,r]),y=w=>{};return s.jsxs("div",{className:"w-[1000px] space-y-6",children:[s.jsx("div",{className:"flex justify-left",children:s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:w=>o(w.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-800 rounded-[10px] leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),n==="localities"?s.jsx(CS,{localities:p,onAction:y,localityType:n}):s.jsx(SS,{schools:p,onAction:y,schoolType:n})]})},ES=()=>{const[n,r]=b.useState("dashboard"),[l,o]=b.useState(!0),[c,d]=b.useState(0),{allUsers:h,allOrganisers:m,allEvents:x,allSchools:g}=Wt(),p=[{title:"Events Upcoming",value:x.filter(A=>A.status==="pending").length.toString()},{title:"Events Completed",value:x.filter(A=>A.status==="completed").length.toString()},{title:"Users",value:h.length.toString()},{title:"Organisers",value:m.filter(A=>A.status==="approved").length.toString()},{title:"Pending Approvals",value:m.filter(A=>A.status==="pending").length.toString()},{title:"Schools",value:g.length.toString()}],y=()=>{if(n==="users"&&l)return"Masterlists > Users Related > Users > Students";if(n==="users"&&!l)return"Masterlists > Users Related > Users > Teachers";if(n==="superusers"&&l)return"Masterlists > Users Related > Superusers > Students";if(n==="superusers"&&!l)return"Masterlists > Users Related > Superusers > Teachers";if(n==="schools"&&c===0)return"Masterlists > Schools Related > Schools > Dubai";if(n==="schools"&&c===1)return"Masterlists > Schools Related > Schools > Abu Dhabi";if(n==="schools"&&c===2)return"Masterlists > Schools Related > Schools > Al Ain";if(n==="schools"&&c===3)return"Masterlists > Schools Related > Schools > Sharjah";if(n==="schools"&&c===4)return"Masterlists > Schools Related > Schools > Ajman";if(n==="schools"&&c===5)return"Masterlists > Schools Related > Schools > Ras Al Khaimah";if(n==="schools"&&c===6)return"Masterlists > Schools Related > Schools > Umm Al Quwain";if(n==="schools"&&c===7)return"Masterlists > Schools Related > Schools > Other";if(n==="localities"&&c===0)return"Masterlists > Schools Related > Localities > Dubai";if(n==="localities"&&c===1)return"Masterlists > Schools Related > Localities > Abu Dhabi";if(n==="localities"&&c===2)return"Masterlists > Schools Related > Localities > Al Ain";if(n==="localities"&&c===3)return"Masterlists > Schools Related > Localities > Sharjah";if(n==="localities"&&c===4)return"Masterlists > Schools Related > Localities > Ajman";if(n==="localities"&&c===5)return"Masterlists > Schools Related > Localities > Ras Al Khaimah";if(n==="localities"&&c===6)return"Masterlists > Schools Related > Localities > Umm Al Quwain";if(n==="localities"&&c===7)return"Masterlists > Schools Related > Localities > Other";switch(n){case"dashboard":return"Dashboard";case"masterlists":return"Masterlists";case"events-related":return"Masterlists > Events Related";case"events":return"Masterlists > Events Related > Events";case"organisers":return"Masterlists > Events Related > Organisers";case"leadership-roles":return"Masterlists > Events Related > Leadership Roles";case"committees":return"Masterlists > Events Related > Committees";case"students":return"Masterlists > Events Related > Organisers > Students";case"teachers":return"Masterlists > Events Related > Organisers > Teachers";case"users-related":return"Masterlists > Users Related";case"users":return"Masterlists > Users Related > Users";case"superusers":return"Masterlists > Users Related > Superusers";case"schools-related":return"Masterlists > Schools Related";case"schools":return"Masterlists > Schools Related > Schools";case"localities":return"Masterlists > Schools Related > Localities";default:return"Dashboard"}},w=()=>s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"grid grid-cols-6 gap-6",children:p.map((A,_)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-[#607DA3] px-4 py-3",children:s.jsx("h3",{className:"text-white font-semibold text-sm text-center",children:A.title})}),s.jsx("div",{className:"bg-white px-4 py-6",children:s.jsx("div",{className:"text-3xl font-bold text-gray-900 text-center",children:A.value})})]},_))})}),E=()=>s.jsxs("div",{className:"space-y-6",children:[n==="events"&&s.jsx(j4,{}),n==="organisers"&&s.jsx(gu,{type:"students"}),n==="students"&&s.jsx(gu,{type:"students"}),n==="teachers"&&s.jsx(gu,{type:"teachers"}),n==="leadership-roles"&&s.jsx(C4,{}),n==="committees"&&s.jsx(_4,{})]}),N=()=>{if(n==="users"&&l)return s.jsx(ji,{type:"students",isSuperUser:!1});if(n==="users"&&!l)return s.jsx(ji,{type:"teachers",isSuperUser:!1});if(n==="superusers"&&l)return s.jsx(ji,{type:"students",isSuperUser:!0});if(n==="superusers"&&!l)return s.jsx(ji,{type:"teachers",isSuperUser:!0});if(n==="schools")return s.jsx(Qg,{type:"schools",selectedLocality:c});if(n==="localities")return s.jsx(Qg,{type:"localities",selectedLocality:c});switch(n){case"dashboard":return w();case"masterlists":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Masterlists"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Select a category to manage..."})]});case"events-related":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events Related"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Select a specific category to manage..."})]});case"users-related":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Users Related"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Users management coming soon..."})]});case"schools-related":return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Schools Related"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Select a specific category to manage..."})]});case"events":case"organisers":case"students":case"teachers":case"leadership-roles":case"committees":return E();default:return w()}};return s.jsx(Ss,{loadingText:"Loading Super User Dashboard...",children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(rs,{maxWidth:"max-w-[88rem]"}),s.jsxs("div",{className:"max-w-[85rem] mx-auto px-6 py-8",style:{paddingLeft:"10.5rem"},children:[s.jsx("div",{className:"text-left mb-8",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:y()})}),s.jsx("div",{className:"flex justify-left mb-8",children:s.jsx(w4,{activeSection:n,onSectionChange:r,usersSubSection:l,setUsersSubSection:o,schoolsSubSection:c,setSchoolsSubSection:d})}),N()]})]})})};function _S(){return s.jsx(QN,{children:s.jsx(s4,{children:s.jsx(Yv,{children:s.jsxs("div",{className:"App",children:[s.jsxs(jv,{children:[s.jsx(Ct,{path:"/",element:s.jsx(op,{to:"/login",replace:!0})}),s.jsx(Ct,{path:"/signup",element:s.jsx(k4,{})}),s.jsx(Ct,{path:"/login",element:s.jsx(D4,{})}),s.jsx(Ct,{path:"/email-verification",element:s.jsx(T4,{})}),s.jsx(Ct,{path:"/home",element:s.jsx(qt,{children:s.jsx(R4,{})})}),s.jsx(Ct,{path:"/dashboard",element:s.jsx(qt,{children:s.jsx(O4,{})})}),s.jsx(Ct,{path:"/request-approval",element:s.jsx(qt,{children:s.jsx(L4,{})})}),s.jsx(Ct,{path:"/request-under-verification",element:s.jsx(qt,{children:s.jsx(U4,{})})}),s.jsx(Ct,{path:"/event-create",element:s.jsx(qt,{children:s.jsx(M4,{})})}),s.jsx(Ct,{path:"/event-create-success",element:s.jsx(qt,{children:s.jsx(B4,{})})}),s.jsx(Ct,{path:"/organiser",element:s.jsx(qt,{children:s.jsx(z4,{})})}),s.jsx(Ct,{path:"/event-dashboard/:eventId",element:s.jsx(qt,{children:s.jsx(xS,{})})}),s.jsx(Ct,{path:"/super-user",element:s.jsx(qt,{children:s.jsx(ES,{})})}),s.jsx(Ct,{path:"/student-profile",element:s.jsx(qt,{children:s.jsx(F4,{})})}),s.jsx(Ct,{path:"/student-profile-page",element:s.jsx(qt,{children:s.jsx(P4,{})})}),s.jsx(Ct,{path:"/student-home",element:s.jsx(qt,{children:s.jsx(Y4,{})})}),s.jsx(Ct,{path:"/student-registration/:eventId",element:s.jsxs(qt,{children:[s.jsx(V4,{})," "]})}),s.jsx(Ct,{path:"/student-registration-success",element:s.jsx(qt,{children:s.jsx(W4,{})})}),s.jsx(Ct,{path:"/student-delegate-page/:eventId",element:s.jsx(qt,{children:s.jsx(K4,{})})}),s.jsx(Ct,{path:"/teacher-profile",element:s.jsx(qt,{children:s.jsx(I4,{})})}),s.jsx(Ct,{path:"/teacher-profile-page",element:s.jsx(qt,{children:s.jsx(q4,{})})}),s.jsx(Ct,{path:"/teacher-home",element:s.jsx(qt,{children:s.jsx(G4,{})})}),s.jsx(Ct,{path:"/teacher-registration/:eventId",element:s.jsx(qt,{children:s.jsx(Q4,{})})}),s.jsx(Ct,{path:"/teacher-registration-success",element:s.jsx(qt,{children:s.jsx(X4,{})})}),s.jsx(Ct,{path:"/profile-page",element:s.jsx(qt,{children:s.jsx(ah,{userType:"student"})})})]}),s.jsx(A2,{position:"bottom-right",richColors:!0})]})})})})}Rb.createRoot(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(_S,{})}));
